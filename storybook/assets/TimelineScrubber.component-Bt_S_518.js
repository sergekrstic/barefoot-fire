import{j as O}from"./jsx-runtime-CLpGMVip.js";import{a as _b,C as xb}from"./CollapsibleTreeNode.component-Cokz7cxH.js";import"./ContextMenu.component-C5rbgKDU.js";import{D as Rc}from"./DatePicker.component-BGinrmpb.js";import{M as Xr,a as ve}from"./DropdownMenu.component-BiHVZO5i.js";import{r as X,c as Hi,g as Tb}from"./index-BBGmM4Ve.js";import{c as tu,f as Ch,h as kh}from"./moment-CGDQJbyj.js";import{F as Sb,M as Mb,E as Nh,D as Oc}from"./Menu.icon-B-AbzxGV.js";import"./Modal.component-Bi2H5BKg.js";import"./Popover.trigger-D7H7D4Fb.js";import{D as Gi,n as $b,b as Eb,d as Ab,i as Cb,e as kb,f as Nb,a as Ib,s as Db,g as Lb,h as Rb,j as Ob,k as Pb,u as Re,p as Pc,l as bt}from"./ScenarioGraph.component-BMugaKV0.js";import{S as Ih,O as Dh}from"./Select.component-D-qpFJd6.js";import"./Tooltip.trigger-Cx9X1lyG.js";import{P as Fb,a as nu,b as Fc}from"./react-resizable-panels.browser.esm-D8Tkf0_w.js";import{t as Jn}from"./colors-CdXc3yLe.js";function cs(){return cs=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},cs.apply(null,arguments)}var Lh=["shift","alt","meta","mod","ctrl"],qb={esc:"escape",return:"enter",".":"period",",":"comma","-":"slash"," ":"space","`":"backquote","#":"backslash","+":"bracketright",ShiftLeft:"shift",ShiftRight:"shift",AltLeft:"alt",AltRight:"alt",MetaLeft:"meta",MetaRight:"meta",OSLeft:"meta",OSRight:"meta",ControlLeft:"ctrl",ControlRight:"ctrl"};function en(e){return(e&&qb[e]||e||"").trim().toLowerCase().replace(/key|digit|numpad|arrow/,"")}function jb(e){return Lh.includes(e)}function ru(e,t){return t===void 0&&(t=","),e.split(t)}function iu(e,t,n){t===void 0&&(t="+");var r=e.toLocaleLowerCase().split(t).map(function(o){return en(o)}),i={alt:r.includes("alt"),ctrl:r.includes("ctrl")||r.includes("control"),shift:r.includes("shift"),meta:r.includes("meta"),mod:r.includes("mod")},a=r.filter(function(o){return!Lh.includes(o)});return cs({},i,{keys:a,description:n,hotkey:e})}(function(){typeof document<"u"&&(document.addEventListener("keydown",function(e){e.key!==void 0&&Rh([en(e.key),en(e.code)])}),document.addEventListener("keyup",function(e){e.key!==void 0&&Oh([en(e.key),en(e.code)])})),typeof window<"u"&&window.addEventListener("blur",function(){tn.clear()})})();var tn=new Set;function pf(e){return Array.isArray(e)}function Bb(e,t){t===void 0&&(t=",");var n=pf(e)?e:e.split(t);return n.every(function(r){return tn.has(r.trim().toLowerCase())})}function Rh(e){var t=Array.isArray(e)?e:[e];tn.has("meta")&&tn.forEach(function(n){return!jb(n)&&tn.delete(n.toLowerCase())}),t.forEach(function(n){return tn.add(n.toLowerCase())})}function Oh(e){var t=Array.isArray(e)?e:[e];e==="meta"?tn.clear():t.forEach(function(n){return tn.delete(n.toLowerCase())})}function zb(e,t,n){(typeof n=="function"&&n(e,t)||n===!0)&&e.preventDefault()}function Ub(e,t,n){return typeof n=="function"?n(e,t):n===!0||n===void 0}function Hb(e){return Ph(e,["input","textarea","select"])}function Ph(e,t){t===void 0&&(t=!1);var n=e.target,r=e.composed,i=null;return Gb(n)&&r?i=e.composedPath()[0]&&e.composedPath()[0].tagName:i=n&&n.tagName,pf(t)?!!(i&&t&&t.some(function(a){var o;return a.toLowerCase()===((o=i)==null?void 0:o.toLowerCase())})):!!(i&&t&&t)}function Gb(e){return!!e.tagName&&!e.tagName.startsWith("-")&&e.tagName.includes("-")}function Yb(e,t){return e.length===0&&t?(console.warn('A hotkey has the "scopes" option set, however no active scopes were found. If you want to use the global scopes feature, you need to wrap your app in a <HotkeysProvider>'),!0):t?e.some(function(n){return t.includes(n)})||e.includes("*"):!0}var Wb=function(t,n,r){r===void 0&&(r=!1);var i=n.alt,a=n.meta,o=n.mod,u=n.shift,s=n.ctrl,f=n.keys,c=t.key,l=t.code,d=t.ctrlKey,h=t.metaKey,p=t.shiftKey,m=t.altKey,g=en(l),b=c.toLowerCase();if(!(f!=null&&f.includes(g))&&!(f!=null&&f.includes(b))&&!["ctrl","control","unknown","meta","alt","shift","os"].includes(g))return!1;if(!r){if(i===!m&&b!=="alt"||u===!p&&b!=="shift")return!1;if(o){if(!h&&!d)return!1}else if(a===!h&&b!=="meta"&&b!=="os"||s===!d&&b!=="ctrl"&&b!=="control")return!1}return f&&f.length===1&&(f.includes(b)||f.includes(g))?!0:f?Bb(f):!f},Vb=X.createContext(void 0),Xb=function(){return X.useContext(Vb)};function Fh(e,t){return e&&t&&typeof e=="object"&&typeof t=="object"?Object.keys(e).length===Object.keys(t).length&&Object.keys(e).reduce(function(n,r){return n&&Fh(e[r],t[r])},!0):e===t}var Kb=X.createContext({hotkeys:[],enabledScopes:[],toggleScope:function(){},enableScope:function(){},disableScope:function(){}}),Zb=function(){return X.useContext(Kb)};function Qb(e){var t=X.useRef(void 0);return Fh(t.current,e)||(t.current=e),t.current}var qc=function(t){t.stopPropagation(),t.preventDefault(),t.stopImmediatePropagation()},Jb=typeof window<"u"?X.useLayoutEffect:X.useEffect;function e2(e,t,n,r){var i=X.useState(null),a=i[0],o=i[1],u=X.useRef(!1),s=n instanceof Array?r instanceof Array?void 0:r:n,f=pf(e)?e.join(s==null?void 0:s.splitKey):e,c=n instanceof Array?n:r instanceof Array?r:void 0,l=X.useCallback(t,c??[]),d=X.useRef(l);c?d.current=l:d.current=t;var h=Qb(s),p=Zb(),m=p.enabledScopes,g=Xb();return Jb(function(){if(!((h==null?void 0:h.enabled)===!1||!Yb(m,h==null?void 0:h.scopes))){var b=function(_,E){var C;if(E===void 0&&(E=!1),!(Hb(_)&&!Ph(_,h==null?void 0:h.enableOnFormTags))){if(a!==null){var k=a.getRootNode();if((k instanceof Document||k instanceof ShadowRoot)&&k.activeElement!==a&&!a.contains(k.activeElement)){qc(_);return}}(C=_.target)!=null&&C.isContentEditable&&!(h!=null&&h.enableOnContentEditable)||ru(f,h==null?void 0:h.splitKey).forEach(function(R){var $,S=iu(R,h==null?void 0:h.combinationKey);if(Wb(_,S,h==null?void 0:h.ignoreModifiers)||($=S.keys)!=null&&$.includes("*")){if(h!=null&&h.ignoreEventWhen!=null&&h.ignoreEventWhen(_)||E&&u.current)return;if(zb(_,S,h==null?void 0:h.preventDefault),!Ub(_,S,h==null?void 0:h.enabled)){qc(_);return}d.current(_,S),E||(u.current=!0)}})}},y=function(_){_.key!==void 0&&(Rh(en(_.code)),((h==null?void 0:h.keydown)===void 0&&(h==null?void 0:h.keyup)!==!0||h!=null&&h.keydown)&&b(_))},v=function(_){_.key!==void 0&&(Oh(en(_.code)),u.current=!1,h!=null&&h.keyup&&b(_,!0))},w=a||(s==null?void 0:s.document)||document;return w.addEventListener("keyup",v),w.addEventListener("keydown",y),g&&ru(f,h==null?void 0:h.splitKey).forEach(function(T){return g.addHotkey(iu(T,h==null?void 0:h.combinationKey,h==null?void 0:h.description))}),function(){w.removeEventListener("keyup",v),w.removeEventListener("keydown",y),g&&ru(f,h==null?void 0:h.splitKey).forEach(function(T){return g.removeHotkey(iu(T,h==null?void 0:h.combinationKey,h==null?void 0:h.description))})}}},[a,f,h,m]),o}function Xn({mode:e,containerClassName:t,textClassName:n,inputClassName:r,value:i,defaultValue:a,onChange:o,onBlur:u,onCancel:s,rightAlign:f=!1}){const c=X.useRef(null),[l,d]=X.useState(!1),h=e==="decimal"?"number":e;return e2(["esc","return"],(p,m)=>{if(c.current)switch(m.hotkey){case"esc":s&&s(),d(!1);break;case"return":u&&u(p.target.value),d(!1);break}},{enableOnFormTags:["input"]},[i,l]),O.jsxs("div",{className:tu("relative",t),children:[l&&O.jsx("input",{ref:c,type:h,autoFocus:!0,className:tu("absolute rounded-md border border-violet-500 bg-slate-800 px-2 py-1 text-slate-300 outline-0",{"-bottom-1 -top-1":!0,"-left-[9px] right-3 text-left":!f,"-right-[9px] left-3 text-right":f,"appearance-none":h==="number"},r),value:i,defaultValue:a,onBlur:p=>{d(!1),u&&u(p.target.value)},onChange:p=>{o&&o(p.target.value)}}),O.jsx("span",{className:tu("cursor-text",n,{"text-transparent":l}),onClick:p=>{p.stopPropagation(),d(!0)},children:l?".":t2(e,i??a)})]})}function t2(e,t){if(t===void 0)return"–";if(typeof t=="number")return e==="decimal"?t.toFixed(2):Ch(t);if(typeof t=="string")return t||"No name";throw new Error("Invalid value type")}Xn.__docgenInfo={description:"",methods:[],displayName:"EditableText",props:{mode:{required:!0,tsType:{name:"union",raw:"'text' | 'number' | 'decimal'",elements:[{name:"literal",value:"'text'"},{name:"literal",value:"'number'"},{name:"literal",value:"'decimal'"}]},description:""},containerClassName:{required:!1,tsType:{name:"string"},description:""},textClassName:{required:!1,tsType:{name:"string"},description:""},inputClassName:{required:!1,tsType:{name:"string"},description:""},rightAlign:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},value:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},defaultValue:{required:!1,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onBlur:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onCancel:{required:!1,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};const ls={new:{version:Gi,scenarioGraph:$b,scenarioMap:Eb,budgetMap:Ab},initial:{version:Gi,scenarioGraph:Cb,scenarioMap:kb,budgetMap:Nb},simple:{version:Gi,scenarioGraph:Ib,scenarioMap:Db,budgetMap:Lb},detailed:{version:Gi,scenarioGraph:Rb,scenarioMap:Ob,budgetMap:Pb}},zS=ls.detailed;function _n(){_n=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(S,x,A){S[x]=A.value},i=typeof Symbol=="function"?Symbol:{},a=i.iterator||"@@iterator",o=i.asyncIterator||"@@asyncIterator",u=i.toStringTag||"@@toStringTag";function s(S,x,A){return Object.defineProperty(S,x,{value:A,enumerable:!0,configurable:!0,writable:!0}),S[x]}try{s({},"")}catch{s=function(x,A,M){return x[A]=M}}function f(S,x,A,M){var N=x&&x.prototype instanceof d?x:d,I=Object.create(N.prototype),z=new k(M||[]);return r(I,"_invoke",{value:T(S,A,z)}),I}function c(S,x,A){try{return{type:"normal",arg:S.call(x,A)}}catch(M){return{type:"throw",arg:M}}}e.wrap=f;var l={};function d(){}function h(){}function p(){}var m={};s(m,a,function(){return this});var g=Object.getPrototypeOf,b=g&&g(g(R([])));b&&b!==t&&n.call(b,a)&&(m=b);var y=p.prototype=d.prototype=Object.create(m);function v(S){["next","throw","return"].forEach(function(x){s(S,x,function(A){return this._invoke(x,A)})})}function w(S,x){function A(N,I,z,H){var P=c(S[N],S,I);if(P.type!=="throw"){var j=P.arg,F=j.value;return F&&typeof F=="object"&&n.call(F,"__await")?x.resolve(F.__await).then(function(q){A("next",q,z,H)},function(q){A("throw",q,z,H)}):x.resolve(F).then(function(q){j.value=q,z(j)},function(q){return A("throw",q,z,H)})}H(P.arg)}var M;r(this,"_invoke",{value:function(N,I){function z(){return new x(function(H,P){A(N,I,H,P)})}return M=M?M.then(z,z):z()}})}function T(S,x,A){var M="suspendedStart";return function(N,I){if(M==="executing")throw new Error("Generator is already running");if(M==="completed"){if(N==="throw")throw I;return $()}for(A.method=N,A.arg=I;;){var z=A.delegate;if(z){var H=_(z,A);if(H){if(H===l)continue;return H}}if(A.method==="next")A.sent=A._sent=A.arg;else if(A.method==="throw"){if(M==="suspendedStart")throw M="completed",A.arg;A.dispatchException(A.arg)}else A.method==="return"&&A.abrupt("return",A.arg);M="executing";var P=c(S,x,A);if(P.type==="normal"){if(M=A.done?"completed":"suspendedYield",P.arg===l)continue;return{value:P.arg,done:A.done}}P.type==="throw"&&(M="completed",A.method="throw",A.arg=P.arg)}}}function _(S,x){var A=x.method,M=S.iterator[A];if(M===void 0)return x.delegate=null,A==="throw"&&S.iterator.return&&(x.method="return",x.arg=void 0,_(S,x),x.method==="throw")||A!=="return"&&(x.method="throw",x.arg=new TypeError("The iterator does not provide a '"+A+"' method")),l;var N=c(M,S.iterator,x.arg);if(N.type==="throw")return x.method="throw",x.arg=N.arg,x.delegate=null,l;var I=N.arg;return I?I.done?(x[S.resultName]=I.value,x.next=S.nextLoc,x.method!=="return"&&(x.method="next",x.arg=void 0),x.delegate=null,l):I:(x.method="throw",x.arg=new TypeError("iterator result is not an object"),x.delegate=null,l)}function E(S){var x={tryLoc:S[0]};1 in S&&(x.catchLoc=S[1]),2 in S&&(x.finallyLoc=S[2],x.afterLoc=S[3]),this.tryEntries.push(x)}function C(S){var x=S.completion||{};x.type="normal",delete x.arg,S.completion=x}function k(S){this.tryEntries=[{tryLoc:"root"}],S.forEach(E,this),this.reset(!0)}function R(S){if(S){var x=S[a];if(x)return x.call(S);if(typeof S.next=="function")return S;if(!isNaN(S.length)){var A=-1,M=function N(){for(;++A<S.length;)if(n.call(S,A))return N.value=S[A],N.done=!1,N;return N.value=void 0,N.done=!0,N};return M.next=M}}return{next:$}}function $(){return{value:void 0,done:!0}}return h.prototype=p,r(y,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=s(p,u,"GeneratorFunction"),e.isGeneratorFunction=function(S){var x=typeof S=="function"&&S.constructor;return!!x&&(x===h||(x.displayName||x.name)==="GeneratorFunction")},e.mark=function(S){return Object.setPrototypeOf?Object.setPrototypeOf(S,p):(S.__proto__=p,s(S,u,"GeneratorFunction")),S.prototype=Object.create(y),S},e.awrap=function(S){return{__await:S}},v(w.prototype),s(w.prototype,o,function(){return this}),e.AsyncIterator=w,e.async=function(S,x,A,M,N){N===void 0&&(N=Promise);var I=new w(f(S,x,A,M),N);return e.isGeneratorFunction(x)?I:I.next().then(function(z){return z.done?z.value:I.next()})},v(y),s(y,u,"Generator"),s(y,a,function(){return this}),s(y,"toString",function(){return"[object Generator]"}),e.keys=function(S){var x=Object(S),A=[];for(var M in x)A.push(M);return A.reverse(),function N(){for(;A.length;){var I=A.pop();if(I in x)return N.value=I,N.done=!1,N}return N.done=!0,N}},e.values=R,k.prototype={constructor:k,reset:function(S){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!S)for(var x in this)x.charAt(0)==="t"&&n.call(this,x)&&!isNaN(+x.slice(1))&&(this[x]=void 0)},stop:function(){this.done=!0;var S=this.tryEntries[0].completion;if(S.type==="throw")throw S.arg;return this.rval},dispatchException:function(S){if(this.done)throw S;var x=this;function A(P,j){return I.type="throw",I.arg=S,x.next=P,j&&(x.method="next",x.arg=void 0),!!j}for(var M=this.tryEntries.length-1;M>=0;--M){var N=this.tryEntries[M],I=N.completion;if(N.tryLoc==="root")return A("end");if(N.tryLoc<=this.prev){var z=n.call(N,"catchLoc"),H=n.call(N,"finallyLoc");if(z&&H){if(this.prev<N.catchLoc)return A(N.catchLoc,!0);if(this.prev<N.finallyLoc)return A(N.finallyLoc)}else if(z){if(this.prev<N.catchLoc)return A(N.catchLoc,!0)}else{if(!H)throw new Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return A(N.finallyLoc)}}}},abrupt:function(S,x){for(var A=this.tryEntries.length-1;A>=0;--A){var M=this.tryEntries[A];if(M.tryLoc<=this.prev&&n.call(M,"finallyLoc")&&this.prev<M.finallyLoc){var N=M;break}}N&&(S==="break"||S==="continue")&&N.tryLoc<=x&&x<=N.finallyLoc&&(N=null);var I=N?N.completion:{};return I.type=S,I.arg=x,N?(this.method="next",this.next=N.finallyLoc,l):this.complete(I)},complete:function(S,x){if(S.type==="throw")throw S.arg;return S.type==="break"||S.type==="continue"?this.next=S.arg:S.type==="return"?(this.rval=this.arg=S.arg,this.method="return",this.next="end"):S.type==="normal"&&x&&(this.next=x),l},finish:function(S){for(var x=this.tryEntries.length-1;x>=0;--x){var A=this.tryEntries[x];if(A.finallyLoc===S)return this.complete(A.completion,A.afterLoc),C(A),l}},catch:function(S){for(var x=this.tryEntries.length-1;x>=0;--x){var A=this.tryEntries[x];if(A.tryLoc===S){var M=A.completion;if(M.type==="throw"){var N=M.arg;C(A)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(S,x,A){return this.delegate={iterator:R(S),resultName:x,nextLoc:A},this.method==="next"&&(this.arg=void 0),l}},e}function jc(e,t,n,r,i,a,o){try{var u=e[a](o),s=u.value}catch(f){n(f);return}u.done?t(s):Promise.resolve(s).then(r,i)}function au(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var a=e.apply(t,n);function o(s){jc(a,r,i,o,u,"next",s)}function u(s){jc(a,r,i,o,u,"throw",s)}o(void 0)})}}function Kr(){return Kr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Kr.apply(this,arguments)}function n2(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function yi(e,t,n,r){function i(a){return a instanceof n?a:new n(function(o){o(a)})}return new(n||(n=Promise))(function(a,o){function u(c){try{f(r.next(c))}catch(l){o(l)}}function s(c){try{f(r.throw(c))}catch(l){o(l)}}function f(c){c.done?a(c.value):i(c.value).then(u,s)}f((r=r.apply(e,t||[])).next())})}function bi(e,t){var n={label:0,sent:function(){if(a[0]&1)throw a[1];return a[1]},trys:[],ops:[]},r,i,a,o=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return o.next=u(0),o.throw=u(1),o.return=u(2),typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function u(f){return function(c){return s([f,c])}}function s(f){if(r)throw new TypeError("Generator is already executing.");for(;o&&(o=0,f[0]&&(n=0)),n;)try{if(r=1,i&&(a=f[0]&2?i.return:f[0]?i.throw||((a=i.return)&&a.call(i),0):i.next)&&!(a=a.call(i,f[1])).done)return a;switch(i=0,a&&(f=[f[0]&2,a.value]),f[0]){case 0:case 1:a=f;break;case 4:return n.label++,{value:f[1],done:!1};case 5:n.label++,i=f[1],f=[0];continue;case 7:f=n.ops.pop(),n.trys.pop();continue;default:if(a=n.trys,!(a=a.length>0&&a[a.length-1])&&(f[0]===6||f[0]===2)){n=0;continue}if(f[0]===3&&(!a||f[1]>a[0]&&f[1]<a[3])){n.label=f[1];break}if(f[0]===6&&n.label<a[1]){n.label=a[1],a=f;break}if(a&&n.label<a[2]){n.label=a[2],n.ops.push(f);break}a[2]&&n.ops.pop(),n.trys.pop();continue}f=t.call(e,n)}catch(c){f=[6,c],i=0}finally{r=a=0}if(f[0]&5)throw f[1];return{value:f[0]?f[1]:void 0,done:!0}}}function r2(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,a=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)a.push(i.value)}catch(u){o={error:u}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return a}function i2(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r2(arguments[t]));return e}var a2=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function po(e,t){var n=o2(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function o2(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),i=a2.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var u2=[".DS_Store","Thumbs.db"];function s2(e){return yi(this,void 0,void 0,function(){return bi(this,function(t){return[2,f2(e)&&e.dataTransfer?d2(e.dataTransfer,e.type):c2(e)]})})}function f2(e){return!!e.dataTransfer}function c2(e){var t=l2(e.target)?e.target.files?ds(e.target.files):[]:[];return t.map(function(n){return po(n)})}function l2(e){return e!==null}function d2(e,t){return yi(this,void 0,void 0,function(){var n,r;return bi(this,function(i){switch(i.label){case 0:return e.items?(n=ds(e.items).filter(function(a){return a.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(h2))]):[3,2];case 1:return r=i.sent(),[2,Bc(qh(r))];case 2:return[2,Bc(ds(e.files).map(function(a){return po(a)}))]}})})}function Bc(e){return e.filter(function(t){return u2.indexOf(t.name)===-1})}function ds(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function h2(e){if(typeof e.webkitGetAsEntry!="function")return zc(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?jh(t):zc(e)}function qh(e){return e.reduce(function(t,n){return i2(t,Array.isArray(n)?qh(n):[n])},[])}function zc(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=po(t);return Promise.resolve(n)}function p2(e){return yi(this,void 0,void 0,function(){return bi(this,function(t){return[2,e.isDirectory?jh(e):m2(e)]})})}function jh(e){var t=e.createReader();return new Promise(function(n,r){var i=[];function a(){var o=this;t.readEntries(function(u){return yi(o,void 0,void 0,function(){var s,f,c;return bi(this,function(l){switch(l.label){case 0:if(u.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return s=l.sent(),n(s),[3,4];case 3:return f=l.sent(),r(f),[3,4];case 4:return[3,6];case 5:c=Promise.all(u.map(p2)),i.push(c),a(),l.label=6;case 6:return[2]}})})},function(u){r(u)})}a()})}function m2(e){return yi(this,void 0,void 0,function(){return bi(this,function(t){return[2,new Promise(function(n,r){e.file(function(i){var a=po(i,e.fullPath);n(a)},function(i){r(i)})})]})})}function g2(e,t,n,r){var i=document.createElement("input");i.style.display="none",document.body.appendChild(i),i.type="file",e!=="*"&&(i.accept=e),i.multiple=t,i.addEventListener("change",function(a){n(a),document.body.removeChild(i)}),r&&r(i),i.dispatchEvent(new MouseEvent("click"))}var y2=function(t){var n=t.onFilesSelected,r=t.onFilesSuccessfullySelected,i=t.onFilesRejected,a=t.onClear,o=t.validators,u=X.useCallback(function(l){n==null||n(l),o==null||o.forEach(function(d){d.onFilesSelected(l)})},[n,o]),s=X.useCallback(function(l){r==null||r(l),o==null||o.forEach(function(d){d.onFilesSuccessfullySelected(l)})},[o,r]),f=X.useCallback(function(l){i==null||i(l),o==null||o.forEach(function(d){d.onFilesRejected(l)})},[o,i]),c=X.useCallback(function(){a==null||a(),o==null||o.forEach(function(l){l.onClear==null||l.onClear()})},[o,a]);return{onFilesSelected:u,onFilesSuccessfullySelected:s,onFilesRejected:f,onClear:c}},b2=[];function w2(e){var t=e.accept,n=t===void 0?"*":t,r=e.multiple,i=r===void 0?!0:r,a=e.readAs,o=a===void 0?"Text":a,u=e.readFilesContent,s=u===void 0?!0:u,f=e.validators,c=f===void 0?b2:f,l=e.initializeWithCustomParameters,d=X.useState([]),h=d[0],p=d[1],m=X.useState([]),g=m[0],b=m[1],y=X.useState([]),v=y[0],w=y[1],T=X.useState(!1),_=T[0],E=T[1],C=y2(e),k=C.onFilesSelected,R=C.onFilesSuccessfullySelected,$=C.onFilesRejected,S=C.onClear,x=X.useCallback(function(){p([]),b([]),w([])},[]),A=X.useCallback(function(){x(),S==null||S()},[x,S]),M=X.useCallback(function(I){return new Promise(function(){var z=au(_n().mark(function H(P,j){var F,q,K;return _n().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:F=new FileReader,q=F["readAs"+o],q.call(F,I),K=function(B){var D=Kr({},(n2(B),B));j(Kr({},D))},F.onload=au(_n().mark(function G(){return _n().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",Promise.all(c.map(function(U){return U.validateAfterParsing(e,I,F).catch(function(Y){return Promise.reject(K(Y))})})).then(function(){return P(Kr({},I,{content:F.result,name:I.name,lastModified:I.lastModified}))}).catch(function(){}));case 1:case"end":return D.stop()}},G)})),F.onerror=function(){K({name:"FileReaderError",readerError:F.error,causedByFile:I})};case 6:case"end":return W.stop()}},H)}));return function(H,P){return z.apply(this,arguments)}}())},[e,o,c]),N=X.useCallback(function(){var I=n instanceof Array?n.join(","):n;g2(I,i,function(){var z=au(_n().mark(function H(P){var j,F,q,K,Z,W;return _n().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return x(),j=P.target,F=j.files?Array.from(j.files):[],E(!0),B.next=6,Promise.all(c.map(function(D){return D.validateBeforeParsing(e,F).catch(function(U){return Array.isArray(U)?U:[U]})}));case 6:if(q=B.sent.flat(1).filter(Boolean),p(F),w(q),!q.length){B.next=15;break}return E(!1),p([]),$==null||$({errors:q}),k==null||k({errors:q}),B.abrupt("return");case 15:if(s){B.next=19;break}return E(!1),k==null||k({plainFiles:F,filesContent:[]}),B.abrupt("return");case 19:return B.next=21,s2(P);case 21:return K=B.sent,Z=[],B.next=25,Promise.all(K.map(function(D){return M(D).catch(function(U){Z.push.apply(Z,Array.isArray(U)?U:[U])})}));case 25:if(W=B.sent,E(!1),!Z.length){B.next=34;break}return p([]),b([]),w(function(D){return[].concat(D,Z)}),$==null||$({errors:Z}),k==null||k({errors:q.concat(Z)}),B.abrupt("return");case 34:b(W),p(F),w([]),R==null||R({filesContent:W,plainFiles:F}),k==null||k({plainFiles:F,filesContent:W});case 39:case"end":return B.stop()}},H)}));return function(H){return z.apply(this,arguments)}}(),l)},[e,n,x,l,i,$,k,R,M,s,c]);return{openFilePicker:N,filesContent:g,errors:v,loading:_,plainFiles:h,clear:A}}function v2(){const e=Re(u=>u.actions),{openFilePicker:t,filesContent:n}=w2({accept:".json",multiple:!1});X.useEffect(()=>{n.length&&e.load(JSON.parse(n[0].content))},[e,n]);const r=X.useCallback(()=>{e.saveAs("barefoot_fire.json")},[e]),i="rounded-md border border-transparent px-2 py-1 text-sm text-violet-400 outline-none hover:border-violet-500 hover:bg-violet-600 hover:text-violet-300 data-[open]:border-violet-400 data-[open]:bg-violet-600 data-[open]:text-violet-200",a="rounded-md border border-slate-300 bg-slate-200 py-1 text-slate-800 outline-none drop-shadow-lg",o="flex w-full min-w-40 items-center justify-between px-4 py-1 text-sm outline-none focus:bg-violet-600 focus:text-slate-100 disabled:text-slate-400";return O.jsxs("div",{className:"flex items-center border-b border-violet-600 bg-violet-900 bg-gradient-to-tr from-violet-900 to-violet-600 px-4 py-2",children:[O.jsx(Sb,{className:"pr-2 text-violet-400 data-[open]:text-violet-200",size:20}),O.jsx("div",{className:"grow text-xl font-semibold tracking-widest text-violet-400",children:"Barefoot FIRE"}),O.jsxs(Xr,{menuButtonClasses:i,menuContainerClasses:a,label:O.jsx(Mb,{className:"text-violet-400",size:20}),children:[O.jsx(ve,{className:o,label:"New",onClick:e.reset}),O.jsx(ve,{className:o,label:"Open",onClick:t}),O.jsx(ve,{className:o,label:"Save",onClick:r}),O.jsxs(Xr,{menuContainerClasses:a,menuItemClasses:o,label:"Export",children:[O.jsx(ve,{className:o,label:"CSV",disabled:!0}),O.jsx(ve,{className:o,label:"JSON",disabled:!0}),O.jsx(ve,{className:o,label:"Excel",disabled:!0})]}),O.jsxs(Xr,{menuContainerClasses:a,menuItemClasses:o,label:"Examples",children:[O.jsx(ve,{className:o,label:"Simple example",onClick:()=>e.load(ls.simple)}),O.jsx(ve,{className:o,label:"Detailed example",onClick:()=>e.load(ls.detailed)}),O.jsx(ve,{className:o,label:"Rent vs Mortgage",disabled:!0}),O.jsx(ve,{className:o,label:"Petrol vs Hybrid vs Electric",disabled:!0}),O.jsx(ve,{className:o,label:"Median vs Professional vs Elite",disabled:!0})]})]})]})}v2.__docgenInfo={description:"",methods:[],displayName:"Header"};var ou,Uc;function Bh(){if(Uc)return ou;Uc=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return ou=e,ou}var uu,Hc;function _2(){if(Hc)return uu;Hc=1;var e=typeof Hi=="object"&&Hi&&Hi.Object===Object&&Hi;return uu=e,uu}var su,Gc;function zh(){if(Gc)return su;Gc=1;var e=_2(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return su=n,su}var fu,Yc;function x2(){if(Yc)return fu;Yc=1;var e=zh(),t=function(){return e.Date.now()};return fu=t,fu}var cu,Wc;function T2(){if(Wc)return cu;Wc=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return cu=t,cu}var lu,Vc;function S2(){if(Vc)return lu;Vc=1;var e=T2(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return lu=n,lu}var du,Xc;function Uh(){if(Xc)return du;Xc=1;var e=zh(),t=e.Symbol;return du=t,du}var hu,Kc;function M2(){if(Kc)return hu;Kc=1;var e=Uh(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function a(o){var u=n.call(o,i),s=o[i];try{o[i]=void 0;var f=!0}catch{}var c=r.call(o);return f&&(u?o[i]=s:delete o[i]),c}return hu=a,hu}var pu,Zc;function $2(){if(Zc)return pu;Zc=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return pu=n,pu}var mu,Qc;function E2(){if(Qc)return mu;Qc=1;var e=Uh(),t=M2(),n=$2(),r="[object Null]",i="[object Undefined]",a=e?e.toStringTag:void 0;function o(u){return u==null?u===void 0?i:r:a&&a in Object(u)?t(u):n(u)}return mu=o,mu}var gu,Jc;function A2(){if(Jc)return gu;Jc=1;function e(t){return t!=null&&typeof t=="object"}return gu=e,gu}var yu,el;function C2(){if(el)return yu;el=1;var e=E2(),t=A2(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return yu=r,yu}var bu,tl;function k2(){if(tl)return bu;tl=1;var e=S2(),t=Bh(),n=C2(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,u=parseInt;function s(f){if(typeof f=="number")return f;if(n(f))return r;if(t(f)){var c=typeof f.valueOf=="function"?f.valueOf():f;f=t(c)?c+"":c}if(typeof f!="string")return f===0?f:+f;f=e(f);var l=a.test(f);return l||o.test(f)?u(f.slice(2),l?2:8):i.test(f)?r:+f}return bu=s,bu}var wu,nl;function N2(){if(nl)return wu;nl=1;var e=Bh(),t=x2(),n=k2(),r="Expected a function",i=Math.max,a=Math.min;function o(u,s,f){var c,l,d,h,p,m,g=0,b=!1,y=!1,v=!0;if(typeof u!="function")throw new TypeError(r);s=n(s)||0,e(f)&&(b=!!f.leading,y="maxWait"in f,d=y?i(n(f.maxWait)||0,s):d,v="trailing"in f?!!f.trailing:v);function w(x){var A=c,M=l;return c=l=void 0,g=x,h=u.apply(M,A),h}function T(x){return g=x,p=setTimeout(C,s),b?w(x):h}function _(x){var A=x-m,M=x-g,N=s-A;return y?a(N,d-M):N}function E(x){var A=x-m,M=x-g;return m===void 0||A>=s||A<0||y&&M>=d}function C(){var x=t();if(E(x))return k(x);p=setTimeout(C,_(x))}function k(x){return p=void 0,v&&c?w(x):(c=l=void 0,h)}function R(){p!==void 0&&clearTimeout(p),g=0,c=m=l=p=void 0}function $(){return p===void 0?h:k(t())}function S(){var x=t(),A=E(x);if(c=arguments,l=this,m=x,A){if(p===void 0)return T(m);if(y)return clearTimeout(p),p=setTimeout(C,s),w(m)}return p===void 0&&(p=setTimeout(C,s)),h}return S.cancel=R,S.flush=$,S}return wu=o,wu}var I2=N2();const D2=Tb(I2),L2=[],rl={width:0,height:0,top:0,left:0};function R2({initialSize:e=rl,debounceTime:t=300,ignoreDimensions:n=L2,enableDebounceLeadingCall:r=!0,resizeObserverPolyfill:i}={}){const a=X.useRef(null),o=X.useRef(0),[u,s]=X.useState({...rl,...e}),f=X.useMemo(()=>{const c=Array.isArray(n)?n:[n];return D2(l=>{s(d=>Object.keys(d).filter(g=>d[g]!==l[g]).every(g=>c.includes(g))?d:l)},t,{leading:r})},[t,r,n]);return X.useEffect(()=>{const c=i||window.ResizeObserver,l=new c(d=>{d.forEach(h=>{const{left:p,top:m,width:g,height:b}=(h==null?void 0:h.contentRect)??{};o.current=window.requestAnimationFrame(()=>{f({width:g,height:b,top:m,left:p})})})});return a.current&&l.observe(a.current),()=>{window.cancelAnimationFrame(o.current),l.disconnect(),f.cancel()}},[f,i]),{parentRef:a,resize:f,...u}}const O2={width:"100%",height:"100%"};function mf({className:e,children:t,debounceTime:n,ignoreDimensions:r,initialSize:i,parentSizeStyles:a=O2,enableDebounceLeadingCall:o=!0,resizeObserverPolyfill:u,...s}){const{parentRef:f,resize:c,...l}=R2({initialSize:i,debounceTime:n,ignoreDimensions:r,enableDebounceLeadingCall:o,resizeObserverPolyfill:u});return O.jsx("div",{style:a,ref:f,className:e,...s,children:t({...l,ref:f.current,resize:c})})}mf.__docgenInfo={description:"",methods:[],displayName:"ResponsiveContainer",props:{className:{required:!1,tsType:{name:"string"},description:"Optional `className` to add to the parent `div` wrapper used for size measurement."},parentSizeStyles:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:"@deprecated - use `style` prop as all other props are passed directly to the parent `div`.\n@TODO remove in the next major version.\nOptional `style` object to apply to the parent `div` wrapper used for size measurement.",defaultValue:{value:"{ width: '100%', height: '100%' }",computed:!1}},children:{required:!0,tsType:{name:"signature",type:"function",raw:"(args: ParentSizeProvidedProps) => React.ReactNode",signature:{arguments:[{type:{name:"intersection",raw:`ParentSizeState & {
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"signature",type:"object",raw:`{
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,signature:{properties:[{key:"ref",value:{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}],required:!0}},{key:"resize",value:{name:"signature",type:"function",raw:"(state: ParentSizeState) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},name:"state"}],return:{name:"void"}},required:!0}}]}}]},name:"args"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Child render function `({ width, height, top, left, ref, resize }) => ReactNode`."},initialSize:{required:!1,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}}],raw:"Partial<ParentSizeState>"},description:"Initial size before measuring the parent."},resizeObserverPolyfill:{required:!1,tsType:{name:"ResizeObserverPolyfill"},description:"Optionally inject a ResizeObserver polyfill, else this *must* be globally available."},ignoreDimensions:{required:!1,tsType:{name:"union",raw:"keyof ParentSizeState | (keyof ParentSizeState)[]",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"Array",elements:[{name:"unknown"}],raw:"(keyof ParentSizeState)[]"}]},description:"Optional dimensions provided won't trigger a state change when changed."},debounceTime:{required:!1,tsType:{name:"number"},description:"Child render updates upon resize are delayed until `debounceTime` milliseconds _after_ the last resize event is observed. Defaults to `300`."},enableDebounceLeadingCall:{required:!1,tsType:{name:"boolean"},description:"Optional flag to toggle leading debounce calls. When set to true this will ensure that the component always renders immediately. Defaults to `true`.",defaultValue:{value:"true",computed:!1}}}};function P2(){const e=Re(o=>o.ui.timeScrubberSelection),t=Re(o=>o.ui.scenarioStartEvents),n=Re(o=>o.ui.highlightedPlotData),r=Re(o=>o.ui.pinnedPlotData),i=Re(o=>o.actions),a=X.useMemo(()=>{const u="month",s=Pc({data:n,interval:u,cumulative:!0}),f=r?Pc({data:r,interval:u,cumulative:!0}):[];return[...s,...f].sort((l,d)=>kh(l.date).diff(d.date))},[n,r]);return O.jsxs(O.Fragment,{children:[O.jsx(lb,{type:r?"difference":"area",data:a,selection:e,onUpdateSelection:i.selectChartRange}),O.jsx(ub,{type:r?"difference":"area",timeseries:a,scenarioEvents:t,selection:e})]})}P2.__docgenInfo={description:"",methods:[],displayName:"ScenarioBrushChart"};function Hh({showDelete:e,onAddBranch:t,onDelete:n,onAddBudget:r}){const i="rounded-sm border border-transparent outline-none hover:border-slate-700 data-[open]:border-slate-600",a="rounded-md border border-slate-300 bg-slate-200 py-1 text-slate-800 outline-none drop-shadow-lg",o="flex w-full min-w-28 items-center justify-between px-4 py-1 text-sm outline-none focus:bg-violet-600 focus:text-slate-100 disabled:text-slate-400",u=s=>{s.stopPropagation()};return O.jsxs(Xr,{menuButtonClasses:i,menuContainerClasses:a,label:O.jsx("div",{onClick:u,children:O.jsx(Nh,{className:"flex h-5 w-5 items-center justify-center text-slate-500",size:14})}),children:[O.jsx(ve,{className:o,label:"Add branch",onClick:t}),e&&O.jsx(ve,{className:o,label:"Delete",onClick:n}),O.jsx(ve,{className:o,label:"Add budget group",onClick:()=>r("","group")}),O.jsx(ve,{className:o,label:"Add budget item",onClick:()=>r("","item")})]})}Hh.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudgetMenu",props:{showDelete:{required:!1,tsType:{name:"boolean"},description:""},onAddBranch:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onDelete:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onAddBudget:{required:!0,tsType:{name:"signature",type:"function",raw:"(parentId: string, type: BudgetType) => void",signature:{arguments:[{type:{name:"string"},name:"parentId"},{type:{name:"BudgetType"},name:"type"}],return:{name:"void"}}},description:""}}};function Gh({type:e,onAddItem:t,onDelete:n}){const r="ml-3 rounded-sm border border-transparent outline-none hover:border-slate-700 data-[open]:border-slate-600",i="rounded-md border border-slate-300 bg-slate-200 py-1 text-slate-800 outline-none drop-shadow-lg",a="flex w-full min-w-28 items-center justify-between px-4 py-1 text-sm outline-none focus:bg-violet-600 focus:text-slate-100 disabled:text-slate-400",o=u=>{u.stopPropagation()};return O.jsxs(Xr,{menuButtonClasses:r,menuContainerClasses:i,label:O.jsx("div",{onClick:o,children:O.jsx(Nh,{className:"flex h-5 w-5 items-center justify-center text-slate-500",size:14})}),children:[e==="group"&&O.jsxs(O.Fragment,{children:[O.jsx(ve,{className:a,label:"Add Item",onClick:()=>t("item")}),O.jsx(ve,{className:a,label:"Add Group",onClick:()=>t("group")})]}),O.jsx(ve,{className:a,label:"Delete",onClick:n})]})}Gh.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudgetItemMenu",props:{type:{required:!0,tsType:{name:"BudgetType"},description:""},onAddItem:{required:!0,tsType:{name:"signature",type:"function",raw:"(type: BudgetType) => void",signature:{arguments:[{type:{name:"BudgetType"},name:"type"}],return:{name:"void"}}},description:""},onDelete:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};function Yh({type:e,depth:t,expanded:n,budget:r,onAddBudget:i,onUpdateBudget:a,onDeleteBudget:o}){const[u,s]=X.useState(!1);return O.jsxs(O.Fragment,{children:[O.jsx(_b,{className:"cursor-pointer px-4 hover:bg-slate-800",type:e,depth:t,expanded:e==="group"?n:u,onClick:()=>s(!u),children:O.jsxs("div",{className:"flex w-full flex-row items-center justify-center py-2",children:[O.jsx("div",{className:"shrink-0 flex-grow",children:O.jsx(Xn,{mode:"text",textClassName:"",defaultValue:r.name,onBlur:f=>a({name:f})})}),O.jsx("div",{className:"relative min-w-14 text-right text-slate-500",children:O.jsx("span",{children:r.rollup!==void 0?Ch(r.rollup):"–"})}),O.jsx("div",{className:"flex items-center justify-center",children:O.jsx(Gh,{type:e,onAddItem:i,onDelete:o})})]})}),e==="item"&&u&&O.jsxs("div",{className:"pr-12 text-slate-500",style:{paddingLeft:`${(t+0)*16+8}px`},children:[O.jsxs("div",{className:"flex border-l border-slate-500 py-2 pl-8",children:[O.jsx("span",{children:"Initial"}),O.jsx(Xn,{mode:"number",containerClassName:"flex grow justify-end text-end",textClassName:"text-slate-200 w-20",defaultValue:r.initialAmount||"–",onBlur:f=>a({initialAmount:Number(f)}),rightAlign:!0})]}),O.jsxs("div",{className:"flex border-l border-slate-500 py-2 pl-8",children:[O.jsx("span",{children:"Amount"}),O.jsx(Xn,{mode:"number",containerClassName:"flex grow justify-end text-end",textClassName:"text-slate-200 w-20",defaultValue:r.amount,onBlur:f=>a({amount:Number(f)}),rightAlign:!0})]}),O.jsxs("div",{className:"flex justify-between border-l border-slate-500 py-2 pl-8",children:[O.jsx("span",{children:"Frequency"}),O.jsx(Ih,{labelClassName:"-mr-2 cursor-pointer px-2 text-slate-200 aria-[expanded=true]:bg-slate-700",listClassName:"rounded-sm border border-slate-700 bg-slate-800",value:r.frequency,onChange:f=>{a({frequency:f})},children:["year","quarter","month","week","day"].map(f=>O.jsx(Dh,{className:"px-2 py-1 text-right text-slate-200 aria-[active=true]:bg-violet-700 aria-[selected=true]:font-semibold aria-[active=true]:text-violet-200 aria-[selected=true]:text-violet-500",label:f},f))})]}),O.jsxs("div",{className:"flex border-l border-slate-500 py-2 pl-8",children:[O.jsx("span",{children:"Rate (%)"}),O.jsx(Xn,{mode:"decimal",containerClassName:"flex grow justify-end text-end",textClassName:"text-slate-200 w-20",defaultValue:r.interestRate===void 0?void 0:r.interestRate*100,onBlur:f=>a({interestRate:f===""?void 0:Number(f)/100}),rightAlign:!0})]})]})]})}Yh.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudgetItem",props:{type:{required:!0,tsType:{name:"BudgetType"},description:""},depth:{required:!0,tsType:{name:"number"},description:""},expanded:{required:!0,tsType:{name:"boolean"},description:""},budget:{required:!0,tsType:{name:"Budget"},description:""},onAddBudget:{required:!0,tsType:{name:"signature",type:"function",raw:"(type: BudgetType) => void",signature:{arguments:[{type:{name:"BudgetType"},name:"type"}],return:{name:"void"}}},description:""},onUpdateBudget:{required:!0,tsType:{name:"signature",type:"function",raw:"(budget: Partial<Budget>) => void",signature:{arguments:[{type:{name:"Partial",elements:[{name:"Budget"}],raw:"Partial<Budget>"},name:"budget"}],return:{name:"void"}}},description:""},onDeleteBudget:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""}}};function hs({id:e,type:t,depth:n,expanded:r}){const i=Re(u=>u.ui.selectedScenarioId),a=Re(u=>u.data.budgetMap[e]),o=Re(u=>u.actions);return O.jsx(Yh,{type:t,depth:n,expanded:r,budget:a,onAddBudget:u=>{o.addBudget(i,a.id,u),o.calculateScenarioBudgetRollup(i),o.refreshChart()},onUpdateBudget:u=>{o.updateBudget(a.id,u),o.calculateScenarioBudgetRollup(i),o.refreshChart()},onDeleteBudget:()=>{o.deleteBudget(i,a.id),o.calculateScenarioBudgetRollup(i),o.refreshChart()}})}hs.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudgetItem",props:{id:{required:!0,tsType:{name:"string"},description:""},type:{required:!0,tsType:{name:"BudgetType"},description:""},depth:{required:!0,tsType:{name:"number"},description:""},expanded:{required:!0,tsType:{name:"boolean"},description:""}}};function Wh({scenario:e,rollupFrequency:t,onSelectRollupFrequency:n,onAddBranch:r,onUpdateScenarioName:i,onUpdateScenarioStartDate:a,onDeleteScenario:o,onAddBudget:u}){const s=new Date("2035-12-31");return O.jsxs("div",{className:"flex h-full w-full select-none flex-col bg-slate-900 text-slate-300",children:[O.jsx("div",{className:"bg-slate-800 px-4 py-1 text-sm font-medium text-slate-500",children:"Scenario Budget"}),e?O.jsxs("div",{className:"flex-grow overflow-y-auto pb-4",children:[O.jsxs("div",{className:"flex px-4 py-4",children:[O.jsx(Rc,{value:new Date(e.startDate),onChange:f=>{!f||Array.isArray(f)||a(f.toISOString().split("T")[0])}}),O.jsx("span",{className:"px-2 text-slate-500",children:"–"}),O.jsx(Rc,{value:s,disabled:!0})]}),O.jsxs("div",{className:"flex items-center justify-between px-4 pb-2",children:[O.jsx(Xn,{mode:"text",containerClassName:"grow",textClassName:"text-lg font-medium",value:e.name,onChange:i}),O.jsx(Ih,{labelClassName:"mr-1 cursor-pointer px-2 aria-[expanded=true]:bg-slate-700",listClassName:"rounded-sm border border-slate-700 bg-slate-800",value:t,onChange:n,children:["monthly","yearly"].map(f=>O.jsx(Dh,{className:"px-2 py-1 text-right text-slate-200 aria-[active=true]:bg-violet-700 aria-[selected=true]:font-semibold aria-[active=true]:text-violet-200 aria-[selected=true]:text-violet-500",label:f},f))}),O.jsx(Hh,{onAddBranch:r,onDelete:o,showDelete:e.id!=="root",onAddBudget:u})]}),O.jsx(xb,{tree:e.budgets,expanded:!0,renderCollapsibleItemContent:(f,c,l)=>O.jsx(hs,{id:f.id,type:"group",depth:c,expanded:l}),renderLeafItemContent:(f,c,l)=>O.jsx(hs,{id:f.id,type:"item",depth:c,expanded:l})},e.id)]}):O.jsx("div",{className:"px-4 pb-2 pt-4 text-lg font-medium text-slate-500",children:"No budget selected"})]})}Wh.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudget",props:{scenario:{required:!0,tsType:{name:"union",raw:"Scenario | null",elements:[{name:"Scenario"},{name:"null"}]},description:""},rollupFrequency:{required:!0,tsType:{name:"RollupFrequency"},description:""},onSelectRollupFrequency:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onAddBranch:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onUpdateScenarioName:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onUpdateScenarioStartDate:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""},onDeleteScenario:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onAddBudget:{required:!0,tsType:{name:"signature",type:"function",raw:"(parentId: string, type: BudgetType) => void",signature:{arguments:[{type:{name:"string"},name:"parentId"},{type:{name:"BudgetType"},name:"type"}],return:{name:"void"}}},description:""}}};function F2(){const e=Re(a=>a.ui.selectedScenarioId),t=Re(a=>a.data.scenarioMap[e]),n=Re(a=>a.ui.highlightedPath),r=Re(a=>a.ui.rollupFrequency),i=Re(a=>a.actions);return O.jsx(Wh,{scenario:t,rollupFrequency:r,onSelectRollupFrequency:a=>{i.selectRollupFrequency(a),i.calculateScenarioBudgetRollup(e)},onAddBranch:()=>{const a=i.addScenario(e);i.selectScenario(a)},onUpdateScenarioName:a=>{i.updateScenarioName(t.id,a)},onUpdateScenarioStartDate:a=>{i.updateScenarioStartDate(t.id,a),i.refreshChart()},onDeleteScenario:()=>{const a=n[n.length-2];i.selectScenario(a),i.deleteScenario(t.id),i.refreshChart()},onAddBudget:(a,o)=>{i.addBudget(e,a,o)}})}F2.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudget"};function Oe(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function wi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function mo(e){let t,n,r;e.length!==2?(t=Oe,n=(u,s)=>Oe(e(u),s),r=(u,s)=>e(u)-s):(t=e===Oe||e===wi?e:q2,n=e,r=e);function i(u,s,f=0,c=u.length){if(f<c){if(t(s,s)!==0)return c;do{const l=f+c>>>1;n(u[l],s)<0?f=l+1:c=l}while(f<c)}return f}function a(u,s,f=0,c=u.length){if(f<c){if(t(s,s)!==0)return c;do{const l=f+c>>>1;n(u[l],s)<=0?f=l+1:c=l}while(f<c)}return f}function o(u,s,f=0,c=u.length){const l=i(u,s,f,c-1);return l>f&&r(u[l-1],s)>-r(u[l],s)?l-1:l}return{left:i,center:o,right:a}}function q2(){return 0}function Vh(e){return e===null?NaN:+e}function*j2(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const B2=mo(Oe),go=B2.right;mo(Vh).center;function gf(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function z2(e){return e.length|0}function U2(e){return!(e>0)}function H2(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function G2(e){return t=>e(...t)}function Y2(...e){const t=typeof e[e.length-1]=="function"&&G2(e.pop());e=e.map(H2);const n=e.map(z2),r=e.length-1,i=new Array(r+1).fill(0),a=[];if(r<0||n.some(U2))return a;for(;;){a.push(i.map((u,s)=>e[s][u]));let o=r;for(;++i[o]===n[o];){if(o===0)return t?a.map(t):a;i[o--]=0}}}function W2(e,t){var n=0;return Float64Array.from(e,r=>n+=+r||0)}function Xh(e,t){let n=0,r,i=0,a=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(r=o-i,i+=r/++n,a+=r*(o-i));else{let o=-1;for(let u of e)(u=t(u,++o,e))!=null&&(u=+u)>=u&&(r=u-i,i+=r/++n,a+=r*(u-i))}if(n>1)return a/(n-1)}function Kh(e,t){const n=Xh(e,t);return n&&Math.sqrt(n)}function Ye(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(n===void 0?a>=a&&(n=r=a):(n>a&&(n=a),r<a&&(r=a)))}return[n,r]}class An{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const a=n[i],o=t+a,u=Math.abs(t)<Math.abs(a)?t-(o-a):a-(o-t);u&&(n[r++]=u),t=o}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,a,o=0;if(n>0){for(o=t[--n];n>0&&(r=o,i=t[--n],o=r+i,a=i-(o-r),!a););n>0&&(a<0&&t[n-1]<0||a>0&&t[n-1]>0)&&(i=a*2,r=o+i,i==r-o&&(o=r))}return o}}class Cn extends Map{constructor(t,n=Jh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(ps(this,t))}has(t){return super.has(ps(this,t))}set(t,n){return super.set(Zh(this,t),n)}delete(t){return super.delete(Qh(this,t))}}class yo extends Set{constructor(t,n=Jh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(ps(this,t))}add(t){return super.add(Zh(this,t))}delete(t){return super.delete(Qh(this,t))}}function ps({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Zh({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Qh({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Jh(e){return e!==null&&typeof e=="object"?e.valueOf():e}function ms(e){return e}function bo(e,...t){return yf(e,ms,ms,t)}function er(e,t,...n){return yf(e,ms,t,n)}function V2(e,t,...n){return yf(e,Array.from,t,n)}function yf(e,t,n,r){return function i(a,o){if(o>=r.length)return n(a);const u=new Cn,s=r[o++];let f=-1;for(const c of a){const l=s(c,++f,a),d=u.get(l);d?d.push(c):u.set(l,[c])}for(const[c,l]of u)u.set(c,i(l,o));return t(u)}(e,0)}function X2(e,t){return Array.from(t,n=>e[n])}function Sa(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,a)=>a);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,a)=>{for(const o of t){const u=Ma(o[i],o[a]);if(u)return u}})):(n=e.map(n),r.sort((i,a)=>Ma(n[i],n[a]))),X2(e,r)}return e.sort(e0(n))}function e0(e=Oe){if(e===Oe)return Ma;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function Ma(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function bf(e,t,n){return(t.length!==2?Sa(er(e,t,n),([r,i],[a,o])=>Oe(i,o)||Oe(r,a)):Sa(bo(e,n),([r,i],[a,o])=>t(i,o)||Oe(r,a))).map(([r])=>r)}const K2=Math.sqrt(50),Z2=Math.sqrt(10),Q2=Math.sqrt(2);function $a(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),a=r/Math.pow(10,i),o=a>=K2?10:a>=Z2?5:a>=Q2?2:1;let u,s,f;return i<0?(f=Math.pow(10,-i)/o,u=Math.round(e*f),s=Math.round(t*f),u/f<e&&++u,s/f>t&&--s,f=-f):(f=Math.pow(10,i)*o,u=Math.round(e/f),s=Math.round(t/f),u*f<e&&++u,s*f>t&&--s),s<u&&.5<=n&&n<2?$a(e,t,n*2):[u,s,f]}function ri(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,a,o]=r?$a(t,e,n):$a(e,t,n);if(!(a>=i))return[];const u=a-i+1,s=new Array(u);if(r)if(o<0)for(let f=0;f<u;++f)s[f]=(a-f)/-o;else for(let f=0;f<u;++f)s[f]=(a-f)*o;else if(o<0)for(let f=0;f<u;++f)s[f]=(i+f)/-o;else for(let f=0;f<u;++f)s[f]=(i+f)*o;return s}function Ea(e,t,n){return t=+t,e=+e,n=+n,$a(e,t,n)[2]}function gs(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Ea(t,e,n):Ea(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function J2(e){return Math.max(1,Math.ceil(Math.log(gf(e))/Math.LN2)+1)}function rt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ew(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n<a||n===void 0&&a>=a)&&(n=a,r=i);return r}function Bt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function tw(e,t){let n,r=-1,i=-1;if(t===void 0)for(const a of e)++i,a!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);else for(let a of e)(a=t(a,++i,e))!=null&&(n>a||n===void 0&&a>=a)&&(n=a,r=i);return r}function t0(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?Ma:e0(i);r>n;){if(r-n>600){const s=r-n+1,f=t-n+1,c=Math.log(s),l=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*l*(s-l)/s)*(f-s/2<0?-1:1),h=Math.max(n,Math.floor(t-f*l/s+d)),p=Math.min(r,Math.floor(t+(s-f)*l/s+d));t0(e,t,h,p,i)}const a=e[t];let o=n,u=r;for(kr(e,n,t),i(e[r],a)>0&&kr(e,n,r);o<u;){for(kr(e,o,u),++o,--u;i(e[o],a)<0;)++o;for(;i(e[u],a)>0;)--u}i(e[n],a)===0?kr(e,n,u):(++u,kr(e,u,r)),u<=t&&(n=u+1),t<=u&&(r=u-1)}return e}function kr(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function n0(e,t=Oe){let n,r=!1;if(t.length===1){let i;for(const a of e){const o=t(a);(r?Oe(o,i)>0:Oe(o,o)===0)&&(n=a,i=o,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function ar(e,t,n){if(e=Float64Array.from(j2(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Bt(e);if(t>=1)return rt(e);var r,i=(r-1)*t,a=Math.floor(i),o=rt(t0(e,a).subarray(0,a+1)),u=Bt(e.subarray(a+1));return o+(u-o)*(i-a)}}function nw(e,t,n=Vh){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,a=Math.floor(i),o=+n(e[a],a,e),u=+n(e[a+1],a+1,e);return o+(u-o)*(i-a)}}function rw(e,t,n){const r=gf(e),i=ar(e,.75)-ar(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function r0(e,t,n){const r=gf(e),i=Kh(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function iw(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let a of e)(a=t(a,++i,e))!=null&&(a=+a)>=a&&(++n,r+=a)}if(n)return r/n}function ys(e,t){return ar(e,.5,t)}function*aw(e){for(const t of e)yield*t}function i0(e){return Array.from(aw(e))}function ow(e,t){const n=new Cn;if(t===void 0)for(let a of e)a!=null&&a>=a&&n.set(a,(n.get(a)||0)+1);else{let a=-1;for(let o of e)(o=t(o,++a,e))!=null&&o>=o&&n.set(o,(n.get(o)||0)+1)}let r,i=0;for(const[a,o]of n)o>i&&(i=o,r=a);return r}function uw(e,t=sw){const n=[];let r,i=!1;for(const a of e)i&&n.push(t(r,a)),r=a,i=!0;return n}function sw(e,t){return[e,t]}function bs(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,a=new Array(i);++r<i;)a[r]=e+r*n;return a}function on(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Aa(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function fw(e){return e}var cw=3,il=1e-6;function lw(e){return"translate("+e+",0)"}function dw(e){return t=>+e(t)}function hw(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function pw(){return!this.__axis}function mw(e,t){var n=[],r=null,i=null,a=6,o=6,u=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,f=1,c="y",l=lw;function d(h){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):fw),g=Math.max(a,0)+u,b=t.range(),y=+b[0]+s,v=+b[b.length-1]+s,w=(t.bandwidth?hw:dw)(t.copy(),s),T=h.selection?h.selection():h,_=T.selectAll(".domain").data([null]),E=T.selectAll(".tick").data(p,t).order(),C=E.exit(),k=E.enter().append("g").attr("class","tick"),R=E.select("line"),$=E.select("text");_=_.merge(_.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),E=E.merge(k),R=R.merge(k.append("line").attr("stroke","currentColor").attr(c+"2",f*a)),$=$.merge(k.append("text").attr("fill","currentColor").attr(c,f*g).attr("dy","0.71em")),h!==T&&(_=_.transition(h),E=E.transition(h),R=R.transition(h),$=$.transition(h),C=C.transition(h).attr("opacity",il).attr("transform",function(S){return isFinite(S=w(S))?l(S+s):this.getAttribute("transform")}),k.attr("opacity",il).attr("transform",function(S){var x=this.parentNode.__axis;return l((x&&isFinite(x=x(S))?x:w(S))+s)})),C.remove(),_.attr("d",o?"M"+y+","+f*o+"V"+s+"H"+v+"V"+f*o:"M"+y+","+s+"H"+v),E.attr("opacity",1).attr("transform",function(S){return l(w(S)+s)}),R.attr(c+"2",f*a),$.attr(c,f*g).text(m),T.filter(pw).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),T.each(function(){this.__axis=w})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(a=o=+h,d):a},d.tickSizeInner=function(h){return arguments.length?(a=+h,d):a},d.tickSizeOuter=function(h){return arguments.length?(o=+h,d):o},d.tickPadding=function(h){return arguments.length?(u=+h,d):u},d.offset=function(h){return arguments.length?(s=+h,d):s},d}function gw(e){return mw(cw,e)}var yw={value:()=>{}};function a0(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new ba(n)}function ba(e){this._=e}function bw(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}ba.prototype=a0.prototype={constructor:ba,on:function(e,t){var n=this._,r=bw(e+"",n),i,a=-1,o=r.length;if(arguments.length<2){for(;++a<o;)if((i=(e=r[a]).type)&&(i=ww(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++a<o;)if(i=(e=r[a]).type)n[i]=al(n[i],e.name,t);else if(t==null)for(i in n)n[i]=al(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new ba(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,a;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(a=this._[e],r=0,i=a.length;r<i;++r)a[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,a=r.length;i<a;++i)r[i].value.apply(t,n)}};function ww(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function al(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=yw,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var ws="http://www.w3.org/1999/xhtml";const or={svg:"http://www.w3.org/2000/svg",xhtml:ws,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function wo(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),or.hasOwnProperty(t)?{space:or[t],local:e}:e}function vw(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===ws&&t.documentElement.namespaceURI===ws?t.createElement(e):t.createElementNS(n,e)}}function _w(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function vo(e){var t=wo(e);return(t.local?_w:vw)(t)}function xw(){}function wf(e){return e==null?xw:function(){return this.querySelector(e)}}function Tw(e){typeof e!="function"&&(e=wf(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,u=r[i]=new Array(o),s,f,c=0;c<o;++c)(s=a[c])&&(f=e.call(s,s.__data__,c,a))&&("__data__"in s&&(f.__data__=s.__data__),u[c]=f);return new Be(r,this._parents)}function Sw(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Mw(){return[]}function o0(e){return e==null?Mw:function(){return this.querySelectorAll(e)}}function $w(e){return function(){return Sw(e.apply(this,arguments))}}function Ew(e){typeof e=="function"?e=$w(e):e=o0(e);for(var t=this._groups,n=t.length,r=[],i=[],a=0;a<n;++a)for(var o=t[a],u=o.length,s,f=0;f<u;++f)(s=o[f])&&(r.push(e.call(s,s.__data__,f,o)),i.push(s));return new Be(r,i)}function u0(e){return function(){return this.matches(e)}}function s0(e){return function(t){return t.matches(e)}}var Aw=Array.prototype.find;function Cw(e){return function(){return Aw.call(this.children,e)}}function kw(){return this.firstElementChild}function Nw(e){return this.select(e==null?kw:Cw(typeof e=="function"?e:s0(e)))}var Iw=Array.prototype.filter;function Dw(){return Array.from(this.children)}function Lw(e){return function(){return Iw.call(this.children,e)}}function Rw(e){return this.selectAll(e==null?Dw:Lw(typeof e=="function"?e:s0(e)))}function Ow(e){typeof e!="function"&&(e=u0(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,u=r[i]=[],s,f=0;f<o;++f)(s=a[f])&&e.call(s,s.__data__,f,a)&&u.push(s);return new Be(r,this._parents)}function f0(e){return new Array(e.length)}function Pw(){return new Be(this._enter||this._groups.map(f0),this._parents)}function Ca(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Ca.prototype={constructor:Ca,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Fw(e){return function(){return e}}function qw(e,t,n,r,i,a){for(var o=0,u,s=t.length,f=a.length;o<f;++o)(u=t[o])?(u.__data__=a[o],r[o]=u):n[o]=new Ca(e,a[o]);for(;o<s;++o)(u=t[o])&&(i[o]=u)}function jw(e,t,n,r,i,a,o){var u,s,f=new Map,c=t.length,l=a.length,d=new Array(c),h;for(u=0;u<c;++u)(s=t[u])&&(d[u]=h=o.call(s,s.__data__,u,t)+"",f.has(h)?i[u]=s:f.set(h,s));for(u=0;u<l;++u)h=o.call(e,a[u],u,a)+"",(s=f.get(h))?(r[u]=s,s.__data__=a[u],f.delete(h)):n[u]=new Ca(e,a[u]);for(u=0;u<c;++u)(s=t[u])&&f.get(d[u])===s&&(i[u]=s)}function Bw(e){return e.__data__}function zw(e,t){if(!arguments.length)return Array.from(this,Bw);var n=t?jw:qw,r=this._parents,i=this._groups;typeof e!="function"&&(e=Fw(e));for(var a=i.length,o=new Array(a),u=new Array(a),s=new Array(a),f=0;f<a;++f){var c=r[f],l=i[f],d=l.length,h=Uw(e.call(c,c&&c.__data__,f,r)),p=h.length,m=u[f]=new Array(p),g=o[f]=new Array(p),b=s[f]=new Array(d);n(c,l,m,g,b,h,t);for(var y=0,v=0,w,T;y<p;++y)if(w=m[y]){for(y>=v&&(v=y+1);!(T=g[v])&&++v<p;);w._next=T||null}}return o=new Be(o,r),o._enter=u,o._exit=s,o}function Uw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Hw(){return new Be(this._exit||this._groups.map(f0),this._parents)}function Gw(e,t,n){var r=this.enter(),i=this,a=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?a.remove():n(a),r&&i?r.merge(i).order():i}function Yw(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,a=r.length,o=Math.min(i,a),u=new Array(i),s=0;s<o;++s)for(var f=n[s],c=r[s],l=f.length,d=u[s]=new Array(l),h,p=0;p<l;++p)(h=f[p]||c[p])&&(d[p]=h);for(;s<i;++s)u[s]=n[s];return new Be(u,this._parents)}function Ww(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,a=r[i],o;--i>=0;)(o=r[i])&&(a&&o.compareDocumentPosition(a)^4&&a.parentNode.insertBefore(o,a),a=o);return this}function Vw(e){e||(e=Xw);function t(l,d){return l&&d?e(l.__data__,d.__data__):!l-!d}for(var n=this._groups,r=n.length,i=new Array(r),a=0;a<r;++a){for(var o=n[a],u=o.length,s=i[a]=new Array(u),f,c=0;c<u;++c)(f=o[c])&&(s[c]=f);s.sort(t)}return new Be(i,this._parents).order()}function Xw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function Kw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Zw(){return Array.from(this)}function Qw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length;i<a;++i){var o=r[i];if(o)return o}return null}function Jw(){let e=0;for(const t of this)++e;return e}function ev(){return!this.node()}function tv(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],a=0,o=i.length,u;a<o;++a)(u=i[a])&&e.call(u,u.__data__,a,i);return this}function nv(e){return function(){this.removeAttribute(e)}}function rv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function iv(e,t){return function(){this.setAttribute(e,t)}}function av(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ov(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function uv(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function sv(e,t){var n=wo(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?rv:nv:typeof t=="function"?n.local?uv:ov:n.local?av:iv)(n,t))}function c0(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function fv(e){return function(){this.style.removeProperty(e)}}function cv(e,t,n){return function(){this.style.setProperty(e,t,n)}}function lv(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function dv(e,t,n){return arguments.length>1?this.each((t==null?fv:typeof t=="function"?lv:cv)(e,t,n??"")):ur(this.node(),e)}function ur(e,t){return e.style.getPropertyValue(t)||c0(e).getComputedStyle(e,null).getPropertyValue(t)}function hv(e){return function(){delete this[e]}}function pv(e,t){return function(){this[e]=t}}function mv(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function gv(e,t){return arguments.length>1?this.each((t==null?hv:typeof t=="function"?mv:pv)(e,t)):this.node()[e]}function l0(e){return e.trim().split(/^|\s+/)}function vf(e){return e.classList||new d0(e)}function d0(e){this._node=e,this._names=l0(e.getAttribute("class")||"")}d0.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function h0(e,t){for(var n=vf(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function p0(e,t){for(var n=vf(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function yv(e){return function(){h0(this,e)}}function bv(e){return function(){p0(this,e)}}function wv(e,t){return function(){(t.apply(this,arguments)?h0:p0)(this,e)}}function vv(e,t){var n=l0(e+"");if(arguments.length<2){for(var r=vf(this.node()),i=-1,a=n.length;++i<a;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?wv:t?yv:bv)(n,t))}function _v(){this.textContent=""}function xv(e){return function(){this.textContent=e}}function Tv(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Sv(e){return arguments.length?this.each(e==null?_v:(typeof e=="function"?Tv:xv)(e)):this.node().textContent}function Mv(){this.innerHTML=""}function $v(e){return function(){this.innerHTML=e}}function Ev(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Av(e){return arguments.length?this.each(e==null?Mv:(typeof e=="function"?Ev:$v)(e)):this.node().innerHTML}function Cv(){this.nextSibling&&this.parentNode.appendChild(this)}function kv(){return this.each(Cv)}function Nv(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Iv(){return this.each(Nv)}function Dv(e){var t=typeof e=="function"?e:vo(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Lv(){return null}function Rv(e,t){var n=typeof e=="function"?e:vo(e),r=t==null?Lv:typeof t=="function"?t:wf(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Ov(){var e=this.parentNode;e&&e.removeChild(this)}function Pv(){return this.each(Ov)}function Fv(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function qv(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function jv(e){return this.select(e?qv:Fv)}function Bv(e){return arguments.length?this.property("__data__",e):this.node().__data__}function zv(e){return function(t){e.call(this,t,this.__data__)}}function Uv(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Hv(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,a;n<i;++n)a=t[n],(!e.type||a.type===e.type)&&a.name===e.name?this.removeEventListener(a.type,a.listener,a.options):t[++r]=a;++r?t.length=r:delete this.__on}}}function Gv(e,t,n){return function(){var r=this.__on,i,a=zv(t);if(r){for(var o=0,u=r.length;o<u;++o)if((i=r[o]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=a,i.options=n),i.value=t;return}}this.addEventListener(e.type,a,n),i={type:e.type,name:e.name,value:t,listener:a,options:n},r?r.push(i):this.__on=[i]}}function Yv(e,t,n){var r=Uv(e+""),i,a=r.length,o;if(arguments.length<2){var u=this.node().__on;if(u){for(var s=0,f=u.length,c;s<f;++s)for(i=0,c=u[s];i<a;++i)if((o=r[i]).type===c.type&&o.name===c.name)return c.value}return}for(u=t?Gv:Hv,i=0;i<a;++i)this.each(u(r[i],t,n));return this}function m0(e,t,n){var r=c0(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function Wv(e,t){return function(){return m0(this,e,t)}}function Vv(e,t){return function(){return m0(this,e,t.apply(this,arguments))}}function Xv(e,t){return this.each((typeof t=="function"?Vv:Wv)(e,t))}function*Kv(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,a=r.length,o;i<a;++i)(o=r[i])&&(yield o)}var g0=[null];function Be(e,t){this._groups=e,this._parents=t}function vi(){return new Be([[document.documentElement]],g0)}function Zv(){return this}Be.prototype=vi.prototype={constructor:Be,select:Tw,selectAll:Ew,selectChild:Nw,selectChildren:Rw,filter:Ow,data:zw,enter:Pw,exit:Hw,join:Gw,merge:Yw,selection:Zv,order:Ww,sort:Vw,call:Kw,nodes:Zw,node:Qw,size:Jw,empty:ev,each:tv,attr:sv,style:dv,property:gv,classed:vv,text:Sv,html:Av,raise:kv,lower:Iv,append:Dv,insert:Rv,remove:Pv,clone:jv,datum:Bv,on:Yv,dispatch:Xv,[Symbol.iterator]:Kv};function tr(e){return typeof e=="string"?new Be([[document.querySelector(e)]],[document.documentElement]):new Be([[e]],g0)}function Qv(e){let t;for(;t=e.sourceEvent;)e=t;return e}function Jv(e,t){if(e=Qv(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function Tr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function _i(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function ln(){}var kn=.7,sr=1/kn,nr="\\s*([+-]?\\d+)\\s*",ii="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",e_=/^#([0-9a-f]{3,8})$/,t_=new RegExp(`^rgb\\(${nr},${nr},${nr}\\)$`),n_=new RegExp(`^rgb\\(${vt},${vt},${vt}\\)$`),r_=new RegExp(`^rgba\\(${nr},${nr},${nr},${ii}\\)$`),i_=new RegExp(`^rgba\\(${vt},${vt},${vt},${ii}\\)$`),a_=new RegExp(`^hsl\\(${ii},${vt},${vt}\\)$`),o_=new RegExp(`^hsla\\(${ii},${vt},${vt},${ii}\\)$`),ol={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Tr(ln,Nn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:ul,formatHex:ul,formatHex8:u_,formatHsl:s_,formatRgb:sl,toString:sl});function ul(){return this.rgb().formatHex()}function u_(){return this.rgb().formatHex8()}function s_(){return y0(this).formatHsl()}function sl(){return this.rgb().formatRgb()}function Nn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=e_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?fl(t):n===3?new _e(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Yi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Yi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=t_.exec(e))?new _e(t[1],t[2],t[3],1):(t=n_.exec(e))?new _e(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=r_.exec(e))?Yi(t[1],t[2],t[3],t[4]):(t=i_.exec(e))?Yi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=a_.exec(e))?dl(t[1],t[2]/100,t[3]/100,1):(t=o_.exec(e))?dl(t[1],t[2]/100,t[3]/100,t[4]):ol.hasOwnProperty(e)?fl(ol[e]):e==="transparent"?new _e(NaN,NaN,NaN,0):null}function fl(e){return new _e(e>>16&255,e>>8&255,e&255,1)}function Yi(e,t,n,r){return r<=0&&(e=t=n=NaN),new _e(e,t,n,r)}function _f(e){return e instanceof ln||(e=Nn(e)),e?(e=e.rgb(),new _e(e.r,e.g,e.b,e.opacity)):new _e}function un(e,t,n,r){return arguments.length===1?_f(e):new _e(e,t,n,r??1)}function _e(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}Tr(_e,un,_i(ln,{brighter(e){return e=e==null?sr:Math.pow(sr,e),new _e(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?kn:Math.pow(kn,e),new _e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _e(Mn(this.r),Mn(this.g),Mn(this.b),ka(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:cl,formatHex:cl,formatHex8:f_,formatRgb:ll,toString:ll}));function cl(){return`#${Sn(this.r)}${Sn(this.g)}${Sn(this.b)}`}function f_(){return`#${Sn(this.r)}${Sn(this.g)}${Sn(this.b)}${Sn((isNaN(this.opacity)?1:this.opacity)*255)}`}function ll(){const e=ka(this.opacity);return`${e===1?"rgb(":"rgba("}${Mn(this.r)}, ${Mn(this.g)}, ${Mn(this.b)}${e===1?")":`, ${e})`}`}function ka(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Mn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Sn(e){return e=Mn(e),(e<16?"0":"")+e.toString(16)}function dl(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tt(e,t,n,r)}function y0(e){if(e instanceof tt)return new tt(e.h,e.s,e.l,e.opacity);if(e instanceof ln||(e=Nn(e)),!e)return new tt;if(e instanceof tt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),a=Math.max(t,n,r),o=NaN,u=a-i,s=(a+i)/2;return u?(t===a?o=(n-r)/u+(n<r)*6:n===a?o=(r-t)/u+2:o=(t-n)/u+4,u/=s<.5?a+i:2-a-i,o*=60):u=s>0&&s<1?0:o,new tt(o,u,s,e.opacity)}function vs(e,t,n,r){return arguments.length===1?y0(e):new tt(e,t,n,r??1)}function tt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Tr(tt,vs,_i(ln,{brighter(e){return e=e==null?sr:Math.pow(sr,e),new tt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kn:Math.pow(kn,e),new tt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new _e(vu(e>=240?e-240:e+120,i,r),vu(e,i,r),vu(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new tt(hl(this.h),Wi(this.s),Wi(this.l),ka(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=ka(this.opacity);return`${e===1?"hsl(":"hsla("}${hl(this.h)}, ${Wi(this.s)*100}%, ${Wi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function hl(e){return e=(e||0)%360,e<0?e+360:e}function Wi(e){return Math.max(0,Math.min(1,e||0))}function vu(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const b0=Math.PI/180,w0=180/Math.PI,Na=18,v0=.96422,_0=1,x0=.82521,T0=4/29,rr=6/29,S0=3*rr*rr,c_=rr*rr*rr;function M0(e){if(e instanceof _t)return new _t(e.l,e.a,e.b,e.opacity);if(e instanceof Ot)return $0(e);e instanceof _e||(e=_f(e));var t=Su(e.r),n=Su(e.g),r=Su(e.b),i=_u((.2225045*t+.7168786*n+.0606169*r)/_0),a,o;return t===n&&n===r?a=o=i:(a=_u((.4360747*t+.3850649*n+.1430804*r)/v0),o=_u((.0139322*t+.0971045*n+.7141733*r)/x0)),new _t(116*i-16,500*(a-i),200*(i-o),e.opacity)}function _s(e,t,n,r){return arguments.length===1?M0(e):new _t(e,t,n,r??1)}function _t(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}Tr(_t,_s,_i(ln,{brighter(e){return new _t(this.l+Na*(e??1),this.a,this.b,this.opacity)},darker(e){return new _t(this.l-Na*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=v0*xu(t),e=_0*xu(e),n=x0*xu(n),new _e(Tu(3.1338561*t-1.6168667*e-.4906146*n),Tu(-.9787684*t+1.9161415*e+.033454*n),Tu(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function _u(e){return e>c_?Math.pow(e,1/3):e/S0+T0}function xu(e){return e>rr?e*e*e:S0*(e-T0)}function Tu(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function Su(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function l_(e){if(e instanceof Ot)return new Ot(e.h,e.c,e.l,e.opacity);if(e instanceof _t||(e=M0(e)),e.a===0&&e.b===0)return new Ot(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*w0;return new Ot(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function xs(e,t,n,r){return arguments.length===1?l_(e):new Ot(e,t,n,r??1)}function Ot(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function $0(e){if(isNaN(e.h))return new _t(e.l,0,0,e.opacity);var t=e.h*b0;return new _t(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Tr(Ot,xs,_i(ln,{brighter(e){return new Ot(this.h,this.c,this.l+Na*(e??1),this.opacity)},darker(e){return new Ot(this.h,this.c,this.l-Na*(e??1),this.opacity)},rgb(){return $0(this).rgb()}}));var E0=-.14861,xf=1.78277,Tf=-.29227,_o=-.90649,ai=1.97294,pl=ai*_o,ml=ai*xf,gl=xf*Tf-_o*E0;function d_(e){if(e instanceof $n)return new $n(e.h,e.s,e.l,e.opacity);e instanceof _e||(e=_f(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(gl*r+pl*t-ml*n)/(gl+pl-ml),a=r-i,o=(ai*(n-i)-Tf*a)/_o,u=Math.sqrt(o*o+a*a)/(ai*i*(1-i)),s=u?Math.atan2(o,a)*w0-120:NaN;return new $n(s<0?s+360:s,u,i,e.opacity)}function xt(e,t,n,r){return arguments.length===1?d_(e):new $n(e,t,n,r??1)}function $n(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}Tr($n,xt,_i(ln,{brighter(e){return e=e==null?sr:Math.pow(sr,e),new $n(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?kn:Math.pow(kn,e),new $n(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*b0,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new _e(255*(t+n*(E0*r+xf*i)),255*(t+n*(Tf*r+_o*i)),255*(t+n*(ai*r)),this.opacity)}}));function h_(e,t,n,r,i){var a=e*e,o=a*e;return((1-3*e+3*a-o)*t+(4-6*a+3*o)*n+(1+3*e+3*a-3*o)*r+o*i)/6}function p_(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],a=e[r+1],o=r>0?e[r-1]:2*i-a,u=r<t-1?e[r+2]:2*a-i;return h_((n-r/t)*t,o,i,a,u)}}const xo=e=>()=>e;function A0(e,t){return function(n){return e+n*t}}function m_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function Sf(e,t){var n=t-e;return n?A0(e,n>180||n<-180?n-360*Math.round(n/360):n):xo(isNaN(e)?t:e)}function g_(e){return(e=+e)==1?Ce:function(t,n){return n-t?m_(t,n,e):xo(isNaN(t)?n:t)}}function Ce(e,t){var n=t-e;return n?A0(e,n):xo(isNaN(e)?t:e)}const In=function e(t){var n=g_(t);function r(i,a){var o=n((i=un(i)).r,(a=un(a)).r),u=n(i.g,a.g),s=n(i.b,a.b),f=Ce(i.opacity,a.opacity);return function(c){return i.r=o(c),i.g=u(c),i.b=s(c),i.opacity=f(c),i+""}}return r.gamma=e,r}(1);function y_(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),a=new Array(n),o,u;for(o=0;o<n;++o)u=un(t[o]),r[o]=u.r||0,i[o]=u.g||0,a[o]=u.b||0;return r=e(r),i=e(i),a=e(a),u.opacity=1,function(s){return u.r=r(s),u.g=i(s),u.b=a(s),u+""}}}var b_=y_(p_);function w_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(a){for(i=0;i<n;++i)r[i]=e[i]*(1-a)+t[i]*a;return r}}function v_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function __(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),a=new Array(n),o;for(o=0;o<r;++o)i[o]=xi(e[o],t[o]);for(;o<n;++o)a[o]=t[o];return function(u){for(o=0;o<r;++o)a[o]=i[o](u);return a}}function x_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function Ee(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function T_(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=xi(e[i],t[i]):r[i]=t[i];return function(a){for(i in n)r[i]=n[i](a);return r}}var Ts=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Mu=new RegExp(Ts.source,"g");function S_(e){return function(){return e}}function M_(e){return function(t){return e(t)+""}}function C0(e,t){var n=Ts.lastIndex=Mu.lastIndex=0,r,i,a,o=-1,u=[],s=[];for(e=e+"",t=t+"";(r=Ts.exec(e))&&(i=Mu.exec(t));)(a=i.index)>n&&(a=t.slice(n,a),u[o]?u[o]+=a:u[++o]=a),(r=r[0])===(i=i[0])?u[o]?u[o]+=i:u[++o]=i:(u[++o]=null,s.push({i:o,x:Ee(r,i)})),n=Mu.lastIndex;return n<t.length&&(a=t.slice(n),u[o]?u[o]+=a:u[++o]=a),u.length<2?s[0]?M_(s[0].x):S_(t):(t=s.length,function(f){for(var c=0,l;c<t;++c)u[(l=s[c]).i]=l.x(f);return u.join("")})}function xi(e,t){var n=typeof t,r;return t==null||n==="boolean"?xo(t):(n==="number"?Ee:n==="string"?(r=Nn(t))?(t=r,In):C0:t instanceof Nn?In:t instanceof Date?x_:v_(t)?w_:Array.isArray(t)?__:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?T_:Ee)(e,t)}function Mf(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var yl=180/Math.PI,Ss={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function k0(e,t,n,r,i,a){var o,u,s;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(u=Math.sqrt(n*n+r*r))&&(n/=u,r/=u,s/=u),e*r<t*n&&(e=-e,t=-t,s=-s,o=-o),{translateX:i,translateY:a,rotate:Math.atan2(t,e)*yl,skewX:Math.atan(s)*yl,scaleX:o,scaleY:u}}var Vi;function $_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Ss:k0(t.a,t.b,t.c,t.d,t.e,t.f)}function E_(e){return e==null||(Vi||(Vi=document.createElementNS("http://www.w3.org/2000/svg","g")),Vi.setAttribute("transform",e),!(e=Vi.transform.baseVal.consolidate()))?Ss:(e=e.matrix,k0(e.a,e.b,e.c,e.d,e.e,e.f))}function N0(e,t,n,r){function i(f){return f.length?f.pop()+" ":""}function a(f,c,l,d,h,p){if(f!==l||c!==d){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:Ee(f,l)},{i:m-2,x:Ee(c,d)})}else(l||d)&&h.push("translate("+l+t+d+n)}function o(f,c,l,d){f!==c?(f-c>180?c+=360:c-f>180&&(f+=360),d.push({i:l.push(i(l)+"rotate(",null,r)-2,x:Ee(f,c)})):c&&l.push(i(l)+"rotate("+c+r)}function u(f,c,l,d){f!==c?d.push({i:l.push(i(l)+"skewX(",null,r)-2,x:Ee(f,c)}):c&&l.push(i(l)+"skewX("+c+r)}function s(f,c,l,d,h,p){if(f!==l||c!==d){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:Ee(f,l)},{i:m-2,x:Ee(c,d)})}else(l!==1||d!==1)&&h.push(i(h)+"scale("+l+","+d+")")}return function(f,c){var l=[],d=[];return f=e(f),c=e(c),a(f.translateX,f.translateY,c.translateX,c.translateY,l,d),o(f.rotate,c.rotate,l,d),u(f.skewX,c.skewX,l,d),s(f.scaleX,f.scaleY,c.scaleX,c.scaleY,l,d),f=c=null,function(h){for(var p=-1,m=d.length,g;++p<m;)l[(g=d[p]).i]=g.x(h);return l.join("")}}}var A_=N0($_,"px, ","px)","deg)"),C_=N0(E_,", ",")",")");function k_(e){return function(t,n){var r=e((t=vs(t)).h,(n=vs(n)).h),i=Ce(t.s,n.s),a=Ce(t.l,n.l),o=Ce(t.opacity,n.opacity);return function(u){return t.h=r(u),t.s=i(u),t.l=a(u),t.opacity=o(u),t+""}}}const N_=k_(Sf);function I_(e,t){var n=Ce((e=_s(e)).l,(t=_s(t)).l),r=Ce(e.a,t.a),i=Ce(e.b,t.b),a=Ce(e.opacity,t.opacity);return function(o){return e.l=n(o),e.a=r(o),e.b=i(o),e.opacity=a(o),e+""}}function D_(e){return function(t,n){var r=e((t=xs(t)).h,(n=xs(n)).h),i=Ce(t.c,n.c),a=Ce(t.l,n.l),o=Ce(t.opacity,n.opacity);return function(u){return t.h=r(u),t.c=i(u),t.l=a(u),t.opacity=o(u),t+""}}}const L_=D_(Sf);function I0(e){return function t(n){n=+n;function r(i,a){var o=e((i=xt(i)).h,(a=xt(a)).h),u=Ce(i.s,a.s),s=Ce(i.l,a.l),f=Ce(i.opacity,a.opacity);return function(c){return i.h=o(c),i.s=u(c),i.l=s(Math.pow(c,n)),i.opacity=f(c),i+""}}return r.gamma=t,r}(1)}I0(Sf);var $f=I0(Ce);function To(e,t){t===void 0&&(t=e,e=xi);for(var n=0,r=t.length-1,i=t[0],a=new Array(r<0?0:r);n<r;)a[n]=e(i,i=t[++n]);return function(o){var u=Math.max(0,Math.min(r-1,Math.floor(o*=r)));return a[u](o-u)}}function at(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var fr=0,Br=0,Nr=0,D0=1e3,Ia,zr,Da=0,Dn=0,So=0,oi=typeof performance=="object"&&performance.now?performance:Date,L0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Ef(){return Dn||(L0(R_),Dn=oi.now()+So)}function R_(){Dn=0}function La(){this._call=this._time=this._next=null}La.prototype=R0.prototype={constructor:La,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?Ef():+n)+(t==null?0:+t),!this._next&&zr!==this&&(zr?zr._next=this:Ia=this,zr=this),this._call=e,this._time=n,Ms()},stop:function(){this._call&&(this._call=null,this._time=1/0,Ms())}};function R0(e,t,n){var r=new La;return r.restart(e,t,n),r}function O_(){Ef(),++fr;for(var e=Ia,t;e;)(t=Dn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--fr}function bl(){Dn=(Da=oi.now())+So,fr=Br=0;try{O_()}finally{fr=0,F_(),Dn=0}}function P_(){var e=oi.now(),t=e-Da;t>D0&&(So-=t,Da=e)}function F_(){for(var e,t=Ia,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Ia=n);zr=e,Ms(r)}function Ms(e){if(!fr){Br&&(Br=clearTimeout(Br));var t=e-Dn;t>24?(e<1/0&&(Br=setTimeout(bl,e-oi.now()-So)),Nr&&(Nr=clearInterval(Nr))):(Nr||(Da=oi.now(),Nr=setInterval(P_,D0)),fr=1,L0(bl))}}function wl(e,t,n){var r=new La;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var q_=a0("start","end","cancel","interrupt"),j_=[],O0=0,vl=1,$s=2,wa=3,_l=4,Es=5,va=6;function Mo(e,t,n,r,i,a){var o=e.__transition;if(!o)e.__transition={};else if(n in o)return;B_(e,n,{name:t,index:r,group:i,on:q_,tween:j_,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:O0})}function Af(e,t){var n=ft(e,t);if(n.state>O0)throw new Error("too late; already scheduled");return n}function Mt(e,t){var n=ft(e,t);if(n.state>wa)throw new Error("too late; already running");return n}function ft(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function B_(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=R0(a,0,n.time);function a(f){n.state=vl,n.timer.restart(o,n.delay,n.time),n.delay<=f&&o(f-n.delay)}function o(f){var c,l,d,h;if(n.state!==vl)return s();for(c in r)if(h=r[c],h.name===n.name){if(h.state===wa)return wl(o);h.state===_l?(h.state=va,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=va,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(wl(function(){n.state===wa&&(n.state=_l,n.timer.restart(u,n.delay,n.time),u(f))}),n.state=$s,n.on.call("start",e,e.__data__,n.index,n.group),n.state===$s){for(n.state=wa,i=new Array(d=n.tween.length),c=0,l=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++l]=h);i.length=l+1}}function u(f){for(var c=f<n.duration?n.ease.call(null,f/n.duration):(n.timer.restart(s),n.state=Es,1),l=-1,d=i.length;++l<d;)i[l].call(e,c);n.state===Es&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=va,n.timer.stop(),delete r[t];for(var f in r)return;delete e.__transition}}function z_(e,t){var n=e.__transition,r,i,a=!0,o;if(n){t=t==null?null:t+"";for(o in n){if((r=n[o]).name!==t){a=!1;continue}i=r.state>$s&&r.state<Es,r.state=va,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[o]}a&&delete e.__transition}}function U_(e){return this.each(function(){z_(this,e)})}function H_(e,t){var n,r;return function(){var i=Mt(this,e),a=i.tween;if(a!==n){r=n=a;for(var o=0,u=r.length;o<u;++o)if(r[o].name===t){r=r.slice(),r.splice(o,1);break}}i.tween=r}}function G_(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var a=Mt(this,e),o=a.tween;if(o!==r){i=(r=o).slice();for(var u={name:t,value:n},s=0,f=i.length;s<f;++s)if(i[s].name===t){i[s]=u;break}s===f&&i.push(u)}a.tween=i}}function Y_(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ft(this.node(),n).tween,i=0,a=r.length,o;i<a;++i)if((o=r[i]).name===e)return o.value;return null}return this.each((t==null?H_:G_)(n,e,t))}function Cf(e,t,n){var r=e._id;return e.each(function(){var i=Mt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ft(i,r).value[t]}}function P0(e,t){var n;return(typeof t=="number"?Ee:t instanceof Nn?In:(n=Nn(t))?(t=n,In):C0)(e,t)}function W_(e){return function(){this.removeAttribute(e)}}function V_(e){return function(){this.removeAttributeNS(e.space,e.local)}}function X_(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttribute(e);return o===i?null:o===r?a:a=t(r=o,n)}}function K_(e,t,n){var r,i=n+"",a;return function(){var o=this.getAttributeNS(e.space,e.local);return o===i?null:o===r?a:a=t(r=o,n)}}function Z_(e,t,n){var r,i,a;return function(){var o,u=n(this),s;return u==null?void this.removeAttribute(e):(o=this.getAttribute(e),s=u+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,u)))}}function Q_(e,t,n){var r,i,a;return function(){var o,u=n(this),s;return u==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),s=u+"",o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,u)))}}function J_(e,t){var n=wo(e),r=n==="transform"?C_:P0;return this.attrTween(e,typeof t=="function"?(n.local?Q_:Z_)(n,r,Cf(this,"attr."+e,t)):t==null?(n.local?V_:W_)(n):(n.local?K_:X_)(n,r,t))}function e6(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function t6(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function n6(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&t6(e,a)),n}return i._value=t,i}function r6(e,t){var n,r;function i(){var a=t.apply(this,arguments);return a!==r&&(n=(r=a)&&e6(e,a)),n}return i._value=t,i}function i6(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=wo(e);return this.tween(n,(r.local?n6:r6)(r,t))}function a6(e,t){return function(){Af(this,e).delay=+t.apply(this,arguments)}}function o6(e,t){return t=+t,function(){Af(this,e).delay=t}}function u6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?a6:o6)(t,e)):ft(this.node(),t).delay}function s6(e,t){return function(){Mt(this,e).duration=+t.apply(this,arguments)}}function f6(e,t){return t=+t,function(){Mt(this,e).duration=t}}function c6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?s6:f6)(t,e)):ft(this.node(),t).duration}function l6(e,t){if(typeof t!="function")throw new Error;return function(){Mt(this,e).ease=t}}function d6(e){var t=this._id;return arguments.length?this.each(l6(t,e)):ft(this.node(),t).ease}function h6(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Mt(this,e).ease=n}}function p6(e){if(typeof e!="function")throw new Error;return this.each(h6(this._id,e))}function m6(e){typeof e!="function"&&(e=u0(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var a=t[i],o=a.length,u=r[i]=[],s,f=0;f<o;++f)(s=a[f])&&e.call(s,s.__data__,f,a)&&u.push(s);return new zt(r,this._parents,this._name,this._id)}function g6(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,a=Math.min(r,i),o=new Array(r),u=0;u<a;++u)for(var s=t[u],f=n[u],c=s.length,l=o[u]=new Array(c),d,h=0;h<c;++h)(d=s[h]||f[h])&&(l[h]=d);for(;u<r;++u)o[u]=t[u];return new zt(o,this._parents,this._name,this._id)}function y6(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function b6(e,t,n){var r,i,a=y6(t)?Af:Mt;return function(){var o=a(this,e),u=o.on;u!==r&&(i=(r=u).copy()).on(t,n),o.on=i}}function w6(e,t){var n=this._id;return arguments.length<2?ft(this.node(),n).on.on(e):this.each(b6(n,e,t))}function v6(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function _6(){return this.on("end.remove",v6(this._id))}function x6(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wf(e));for(var r=this._groups,i=r.length,a=new Array(i),o=0;o<i;++o)for(var u=r[o],s=u.length,f=a[o]=new Array(s),c,l,d=0;d<s;++d)(c=u[d])&&(l=e.call(c,c.__data__,d,u))&&("__data__"in c&&(l.__data__=c.__data__),f[d]=l,Mo(f[d],t,n,d,f,ft(c,n)));return new zt(a,this._parents,t,n)}function T6(e){var t=this._name,n=this._id;typeof e!="function"&&(e=o0(e));for(var r=this._groups,i=r.length,a=[],o=[],u=0;u<i;++u)for(var s=r[u],f=s.length,c,l=0;l<f;++l)if(c=s[l]){for(var d=e.call(c,c.__data__,l,s),h,p=ft(c,n),m=0,g=d.length;m<g;++m)(h=d[m])&&Mo(h,t,n,m,d,p);a.push(d),o.push(c)}return new zt(a,o,t,n)}var S6=vi.prototype.constructor;function M6(){return new S6(this._groups,this._parents)}function $6(e,t){var n,r,i;return function(){var a=ur(this,e),o=(this.style.removeProperty(e),ur(this,e));return a===o?null:a===n&&o===r?i:i=t(n=a,r=o)}}function F0(e){return function(){this.style.removeProperty(e)}}function E6(e,t,n){var r,i=n+"",a;return function(){var o=ur(this,e);return o===i?null:o===r?a:a=t(r=o,n)}}function A6(e,t,n){var r,i,a;return function(){var o=ur(this,e),u=n(this),s=u+"";return u==null&&(s=u=(this.style.removeProperty(e),ur(this,e))),o===s?null:o===r&&s===i?a:(i=s,a=t(r=o,u))}}function C6(e,t){var n,r,i,a="style."+t,o="end."+a,u;return function(){var s=Mt(this,e),f=s.on,c=s.value[a]==null?u||(u=F0(t)):void 0;(f!==n||i!==c)&&(r=(n=f).copy()).on(o,i=c),s.on=r}}function k6(e,t,n){var r=(e+="")=="transform"?A_:P0;return t==null?this.styleTween(e,$6(e,r)).on("end.style."+e,F0(e)):typeof t=="function"?this.styleTween(e,A6(e,r,Cf(this,"style."+e,t))).each(C6(this._id,e)):this.styleTween(e,E6(e,r,t),n).on("end.style."+e,null)}function N6(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function I6(e,t,n){var r,i;function a(){var o=t.apply(this,arguments);return o!==i&&(r=(i=o)&&N6(e,o,n)),r}return a._value=t,a}function D6(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,I6(e,t,n??""))}function L6(e){return function(){this.textContent=e}}function R6(e){return function(){var t=e(this);this.textContent=t??""}}function O6(e){return this.tween("text",typeof e=="function"?R6(Cf(this,"text",e)):L6(e==null?"":e+""))}function P6(e){return function(t){this.textContent=e.call(this,t)}}function F6(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&P6(i)),t}return r._value=e,r}function q6(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,F6(e))}function j6(){for(var e=this._name,t=this._id,n=q0(),r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,s,f=0;f<u;++f)if(s=o[f]){var c=ft(s,t);Mo(s,e,n,f,o,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new zt(r,this._parents,e,n)}function B6(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(a,o){var u={value:o},s={value:function(){--i===0&&a()}};n.each(function(){var f=Mt(this,r),c=f.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(u),t._.interrupt.push(u),t._.end.push(s)),f.on=t}),i===0&&a()})}var z6=0;function zt(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function q0(){return++z6}var At=vi.prototype;zt.prototype={constructor:zt,select:x6,selectAll:T6,selectChild:At.selectChild,selectChildren:At.selectChildren,filter:m6,merge:g6,selection:M6,transition:j6,call:At.call,nodes:At.nodes,node:At.node,size:At.size,empty:At.empty,each:At.each,on:w6,attr:J_,attrTween:i6,style:k6,styleTween:D6,text:O6,textTween:q6,remove:_6,tween:Y_,delay:u6,duration:c6,ease:d6,easeVarying:p6,end:B6,[Symbol.iterator]:At[Symbol.iterator]};function U6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var H6={time:null,delay:0,duration:250,ease:U6};function G6(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function Y6(e){var t,n;e instanceof zt?(t=e._id,e=e._name):(t=q0(),(n=H6).time=Ef(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,a=0;a<i;++a)for(var o=r[a],u=o.length,s,f=0;f<u;++f)(s=o[f])&&Mo(s,e,t,f,o,n||G6(s,t));return new zt(r,this._parents,e,t)}vi.prototype.interrupt=U_;vi.prototype.transition=Y6;const As=Math.PI,Cs=2*As,xn=1e-6,W6=Cs-xn;function j0(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function V6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return j0;const n=10**t;return function(r){this._+=r[0];for(let i=1,a=r.length;i<a;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class B0{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?j0:V6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,a,o){this._append`C${+t},${+n},${+r},${+i},${this._x1=+a},${this._y1=+o}`}arcTo(t,n,r,i,a){if(t=+t,n=+n,r=+r,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let o=this._x1,u=this._y1,s=r-t,f=i-n,c=o-t,l=u-n,d=c*c+l*l;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>xn)if(!(Math.abs(l*s-f*c)>xn)||!a)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-o,p=i-u,m=s*s+f*f,g=h*h+p*p,b=Math.sqrt(m),y=Math.sqrt(d),v=a*Math.tan((As-Math.acos((m+d-g)/(2*b*y)))/2),w=v/y,T=v/b;Math.abs(w-1)>xn&&this._append`L${t+w*c},${n+w*l}`,this._append`A${a},${a},0,0,${+(l*h>c*p)},${this._x1=t+T*s},${this._y1=n+T*f}`}}arc(t,n,r,i,a,o){if(t=+t,n=+n,r=+r,o=!!o,r<0)throw new Error(`negative radius: ${r}`);let u=r*Math.cos(i),s=r*Math.sin(i),f=t+u,c=n+s,l=1^o,d=o?i-a:a-i;this._x1===null?this._append`M${f},${c}`:(Math.abs(this._x1-f)>xn||Math.abs(this._y1-c)>xn)&&this._append`L${f},${c}`,r&&(d<0&&(d=d%Cs+Cs),d>W6?this._append`A${r},${r},0,1,${l},${t-u},${n-s}A${r},${r},0,1,${l},${this._x1=f},${this._y1=c}`:d>xn&&this._append`A${r},${r},0,${+(d>=As)},${l},${this._x1=t+r*Math.cos(a)},${this._y1=n+r*Math.sin(a)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function ks(e=3){return new B0(+e)}function X6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Ra(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function cr(e){return e=Ra(Math.abs(e)),e?e[1]:NaN}function K6(e,t){return function(n,r){for(var i=n.length,a=[],o=0,u=e[0],s=0;i>0&&u>0&&(s+u+1>r&&(u=Math.max(1,r-s)),a.push(n.substring(i-=u,i+u)),!((s+=u+1)>r));)u=e[o=(o+1)%e.length];return a.reverse().join(t)}}function Z6(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var Q6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ui(e){if(!(t=Q6.exec(e)))throw new Error("invalid format: "+e);var t;return new kf({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ui.prototype=kf.prototype;function kf(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}kf.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function J6(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var z0;function ex(e,t){var n=Ra(e,t);if(!n)return e+"";var r=n[0],i=n[1],a=i-(z0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return a===o?r:a>o?r+new Array(a-o+1).join("0"):a>0?r.slice(0,a)+"."+r.slice(a):"0."+new Array(1-a).join("0")+Ra(e,Math.max(0,t+a-1))[0]}function xl(e,t){var n=Ra(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Tl={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:X6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>xl(e*100,t),r:xl,s:ex,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Sl(e){return e}var Ml=Array.prototype.map,$l=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function tx(e){var t=e.grouping===void 0||e.thousands===void 0?Sl:K6(Ml.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",a=e.numerals===void 0?Sl:Z6(Ml.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",u=e.minus===void 0?"−":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function f(l){l=ui(l);var d=l.fill,h=l.align,p=l.sign,m=l.symbol,g=l.zero,b=l.width,y=l.comma,v=l.precision,w=l.trim,T=l.type;T==="n"?(y=!0,T="g"):Tl[T]||(v===void 0&&(v=12),w=!0,T="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var _=m==="$"?n:m==="#"&&/[boxX]/.test(T)?"0"+T.toLowerCase():"",E=m==="$"?r:/[%p]/.test(T)?o:"",C=Tl[T],k=/[defgprs%]/.test(T);v=v===void 0?6:/[gprs]/.test(T)?Math.max(1,Math.min(21,v)):Math.max(0,Math.min(20,v));function R($){var S=_,x=E,A,M,N;if(T==="c")x=C($)+x,$="";else{$=+$;var I=$<0||1/$<0;if($=isNaN($)?s:C(Math.abs($),v),w&&($=J6($)),I&&+$==0&&p!=="+"&&(I=!1),S=(I?p==="("?p:u:p==="-"||p==="("?"":p)+S,x=(T==="s"?$l[8+z0/3]:"")+x+(I&&p==="("?")":""),k){for(A=-1,M=$.length;++A<M;)if(N=$.charCodeAt(A),48>N||N>57){x=(N===46?i+$.slice(A+1):$.slice(A))+x,$=$.slice(0,A);break}}}y&&!g&&($=t($,1/0));var z=S.length+$.length+x.length,H=z<b?new Array(b-z+1).join(d):"";switch(y&&g&&($=t(H+$,H.length?b-x.length:1/0),H=""),h){case"<":$=S+$+x+H;break;case"=":$=S+H+$+x;break;case"^":$=H.slice(0,z=H.length>>1)+S+$+x+H.slice(z);break;default:$=H+S+$+x;break}return a($)}return R.toString=function(){return l+""},R}function c(l,d){var h=f((l=ui(l),l.type="f",l)),p=Math.max(-8,Math.min(8,Math.floor(cr(d)/3)))*3,m=Math.pow(10,-p),g=$l[8+p/3];return function(b){return h(m*b)+g}}return{format:f,formatPrefix:c}}var Xi,Sr,U0;nx({thousands:",",grouping:[3],currency:["$",""]});function nx(e){return Xi=tx(e),Sr=Xi.format,U0=Xi.formatPrefix,Xi}function rx(e){return Math.max(0,-cr(Math.abs(e)))}function ix(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(cr(t)/3)))*3-cr(Math.abs(e)))}function ax(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,cr(t)-cr(e))+1}var te=1e-6,ox=1e-12,re=Math.PI,he=re/2,El=re/4,ze=re*2,Ie=180/re,de=re/180,se=Math.abs,Mr=Math.atan,Ut=Math.atan2,ne=Math.cos,H0=Math.exp,Oa=Math.log,$u=Math.pow,J=Math.sin,We=Math.sign||function(e){return e>0?1:e<0?-1:0},Pe=Math.sqrt,Nf=Math.tan;function G0(e){return e>1?0:e<-1?re:Math.acos(e)}function Ze(e){return e>1?he:e<-1?-he:Math.asin(e)}function Ve(){}function Pa(e,t){e&&Cl.hasOwnProperty(e.type)&&Cl[e.type](e,t)}var Al={Feature:function(e,t){Pa(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Pa(n[r].geometry,t)}},Cl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Ns(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ns(n[r],t,0)},Polygon:function(e,t){kl(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)kl(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Pa(n[r],t)}};function Ns(e,t,n){var r=-1,i=e.length-n,a;for(t.lineStart();++r<i;)a=e[r],t.point(a[0],a[1],a[2]);t.lineEnd()}function kl(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Ns(e[n],t,1);t.polygonEnd()}function Tn(e,t){e&&Al.hasOwnProperty(e.type)?Al[e.type](e,t):Pa(e,t)}function Is(e){return[Ut(e[1],e[0]),Ze(e[2])]}function lr(e){var t=e[0],n=e[1],r=ne(n);return[r*ne(t),r*J(t),J(n)]}function Ki(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Fa(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function Eu(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Zi(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ds(e){var t=Pe(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Ls(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Rs(e,t){return se(e)>re&&(e-=Math.round(e/ze)*ze),[e,t]}Rs.invert=Rs;function Y0(e,t,n){return(e%=ze)?t||n?Ls(Il(e),Dl(t,n)):Il(e):t||n?Dl(t,n):Rs}function Nl(e){return function(t,n){return t+=e,se(t)>re&&(t-=Math.round(t/ze)*ze),[t,n]}}function Il(e){var t=Nl(e);return t.invert=Nl(-e),t}function Dl(e,t){var n=ne(e),r=J(e),i=ne(t),a=J(t);function o(u,s){var f=ne(s),c=ne(u)*f,l=J(u)*f,d=J(s),h=d*n+c*r;return[Ut(l*i-h*a,c*n-d*r),Ze(h*i+l*a)]}return o.invert=function(u,s){var f=ne(s),c=ne(u)*f,l=J(u)*f,d=J(s),h=d*i-l*a;return[Ut(l*i+d*a,c*n+h*r),Ze(h*n-c*r)]},o}function ux(e){e=Y0(e[0]*de,e[1]*de,e.length>2?e[2]*de:0);function t(n){return n=e(n[0]*de,n[1]*de),n[0]*=Ie,n[1]*=Ie,n}return t.invert=function(n){return n=e.invert(n[0]*de,n[1]*de),n[0]*=Ie,n[1]*=Ie,n},t}function sx(e,t,n,r,i,a){if(n){var o=ne(t),u=J(t),s=r*n;i==null?(i=t+r*ze,a=t-s/2):(i=Ll(o,i),a=Ll(o,a),(r>0?i<a:i>a)&&(i+=r*ze));for(var f,c=i;r>0?c>a:c<a;c-=s)f=Is([o,-u*ne(c),-u*J(c)]),e.point(f[0],f[1])}}function Ll(e,t){t=lr(t),t[0]-=e,Ds(t);var n=G0(-t[1]);return((-t[2]<0?-n:n)+ze-te)%ze}function W0(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Ve,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function _a(e,t){return se(e[0]-t[0])<te&&se(e[1]-t[1])<te}function Qi(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function V0(e,t,n,r,i){var a=[],o=[],u,s;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],b=p[m],y;if(_a(g,b)){if(!g[2]&&!b[2]){for(i.lineStart(),u=0;u<m;++u)i.point((g=p[u])[0],g[1]);i.lineEnd();return}b[0]+=2*te}a.push(y=new Qi(g,p,null,!0)),o.push(y.o=new Qi(g,null,y,!1)),a.push(y=new Qi(b,p,null,!1)),o.push(y.o=new Qi(b,null,y,!0))}}),!!a.length){for(o.sort(t),Rl(a),Rl(o),u=0,s=o.length;u<s;++u)o[u].e=n=!n;for(var f=a[0],c,l;;){for(var d=f,h=!0;d.v;)if((d=d.n)===f)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(u=0,s=c.length;u<s;++u)i.point((l=c[u])[0],l[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,u=c.length-1;u>=0;--u)i.point((l=c[u])[0],l[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function Rl(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Au(e){return se(e[0])<=re?e[0]:We(e[0])*((se(e[0])+re)%ze-re)}function fx(e,t){var n=Au(t),r=t[1],i=J(r),a=[J(n),-ne(n),0],o=0,u=0,s=new An;i===1?r=he+te:i===-1&&(r=-he-te);for(var f=0,c=e.length;f<c;++f)if(d=(l=e[f]).length)for(var l,d,h=l[d-1],p=Au(h),m=h[1]/2+El,g=J(m),b=ne(m),y=0;y<d;++y,p=w,g=_,b=E,h=v){var v=l[y],w=Au(v),T=v[1]/2+El,_=J(T),E=ne(T),C=w-p,k=C>=0?1:-1,R=k*C,$=R>re,S=g*_;if(s.add(Ut(S*k*J(R),b*E+S*ne(R))),o+=$?C+k*ze:C,$^p>=n^w>=n){var x=Fa(lr(h),lr(v));Ds(x);var A=Fa(a,x);Ds(A);var M=($^C>=0?-1:1)*Ze(A[2]);(r>M||r===M&&(x[0]||x[1]))&&(u+=$^C>=0?1:-1)}}return(o<-1e-6||o<te&&s<-1e-12)^u&1}function X0(e,t,n,r){return function(i){var a=t(i),o=W0(),u=t(o),s=!1,f,c,l,d={point:h,lineStart:m,lineEnd:g,polygonStart:function(){d.point=b,d.lineStart=y,d.lineEnd=v,c=[],f=[]},polygonEnd:function(){d.point=h,d.lineStart=m,d.lineEnd=g,c=i0(c);var w=fx(f,r);c.length?(s||(i.polygonStart(),s=!0),V0(c,lx,w,n,i)):w&&(s||(i.polygonStart(),s=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),c=f=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(w,T){e(w,T)&&i.point(w,T)}function p(w,T){a.point(w,T)}function m(){d.point=p,a.lineStart()}function g(){d.point=h,a.lineEnd()}function b(w,T){l.push([w,T]),u.point(w,T)}function y(){u.lineStart(),l=[]}function v(){b(l[0][0],l[0][1]),u.lineEnd();var w=u.clean(),T=o.result(),_,E=T.length,C,k,R;if(l.pop(),f.push(l),l=null,!!E){if(w&1){if(k=T[0],(C=k.length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),_=0;_<C;++_)i.point((R=k[_])[0],R[1]);i.lineEnd()}return}E>1&&w&2&&T.push(T.pop().concat(T.shift())),c.push(T.filter(cx))}}return d}}function cx(e){return e.length>1}function lx(e,t){return((e=e.x)[0]<0?e[1]-he-te:he-e[1])-((t=t.x)[0]<0?t[1]-he-te:he-t[1])}const Ol=X0(function(){return!0},dx,px,[-re,-he]);function dx(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(a,o){var u=a>0?re:-re,s=se(a-t);se(s-re)<te?(e.point(t,n=(n+o)/2>0?he:-he),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),e.point(a,n),i=0):r!==u&&s>=re&&(se(t-r)<te&&(t-=r*te),se(a-u)<te&&(a-=u*te),n=hx(t,n,a,o),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(u,n),i=0),e.point(t=a,n=o),r=u},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function hx(e,t,n,r){var i,a,o=J(e-n);return se(o)>te?Mr((J(t)*(a=ne(r))*J(n)-J(r)*(i=ne(t))*J(e))/(i*a*o)):(t+r)/2}function px(e,t,n,r){var i;if(e==null)i=n*he,r.point(-re,i),r.point(0,i),r.point(re,i),r.point(re,0),r.point(re,-i),r.point(0,-i),r.point(-re,-i),r.point(-re,0),r.point(-re,i);else if(se(e[0]-t[0])>te){var a=e[0]<t[0]?re:-re;i=n*a/2,r.point(-a,i),r.point(0,i),r.point(a,i)}else r.point(t[0],t[1])}function mx(e){var t=ne(e),n=2*de,r=t>0,i=se(t)>te;function a(c,l,d,h){sx(h,e,n,d,c,l)}function o(c,l){return ne(c)*ne(l)>t}function u(c){var l,d,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,b){var y=[g,b],v,w=o(g,b),T=r?w?0:f(g,b):w?f(g+(g<0?re:-re),b):0;if(!l&&(p=h=w)&&c.lineStart(),w!==h&&(v=s(l,y),(!v||_a(l,v)||_a(y,v))&&(y[2]=1)),w!==h)m=0,w?(c.lineStart(),v=s(y,l),c.point(v[0],v[1])):(v=s(l,y),c.point(v[0],v[1],2),c.lineEnd()),l=v;else if(i&&l&&r^w){var _;!(T&d)&&(_=s(y,l,!0))&&(m=0,r?(c.lineStart(),c.point(_[0][0],_[0][1]),c.point(_[1][0],_[1][1]),c.lineEnd()):(c.point(_[1][0],_[1][1]),c.lineEnd(),c.lineStart(),c.point(_[0][0],_[0][1],3)))}w&&(!l||!_a(l,y))&&c.point(y[0],y[1]),l=y,h=w,d=T},lineEnd:function(){h&&c.lineEnd(),l=null},clean:function(){return m|(p&&h)<<1}}}function s(c,l,d){var h=lr(c),p=lr(l),m=[1,0,0],g=Fa(h,p),b=Ki(g,g),y=g[0],v=b-y*y;if(!v)return!d&&c;var w=t*b/v,T=-t*y/v,_=Fa(m,g),E=Zi(m,w),C=Zi(g,T);Eu(E,C);var k=_,R=Ki(E,k),$=Ki(k,k),S=R*R-$*(Ki(E,E)-1);if(!(S<0)){var x=Pe(S),A=Zi(k,(-R-x)/$);if(Eu(A,E),A=Is(A),!d)return A;var M=c[0],N=l[0],I=c[1],z=l[1],H;N<M&&(H=M,M=N,N=H);var P=N-M,j=se(P-re)<te,F=j||P<te;if(!j&&z<I&&(H=I,I=z,z=H),F?j?I+z>0^A[1]<(se(A[0]-M)<te?I:z):I<=A[1]&&A[1]<=z:P>re^(M<=A[0]&&A[0]<=N)){var q=Zi(k,(-R+x)/$);return Eu(q,E),[A,Is(q)]}}}function f(c,l){var d=r?e:re-e,h=0;return c<-d?h|=1:c>d&&(h|=2),l<-d?h|=4:l>d&&(h|=8),h}return X0(o,u,a,r?[0,-e]:[-re,e-re])}function gx(e,t,n,r,i,a){var o=e[0],u=e[1],s=t[0],f=t[1],c=0,l=1,d=s-o,h=f-u,p;if(p=n-o,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<l&&(l=p)}else if(d>0){if(p>l)return;p>c&&(c=p)}if(p=i-o,!(!d&&p<0)){if(p/=d,d<0){if(p>l)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<l&&(l=p)}if(p=r-u,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<l&&(l=p)}else if(h>0){if(p>l)return;p>c&&(c=p)}if(p=a-u,!(!h&&p<0)){if(p/=h,h<0){if(p>l)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<l&&(l=p)}return c>0&&(e[0]=o+c*d,e[1]=u+c*h),l<1&&(t[0]=o+l*d,t[1]=u+l*h),!0}}}}}var Ji=1e9,ea=-1e9;function K0(e,t,n,r){function i(f,c){return e<=f&&f<=n&&t<=c&&c<=r}function a(f,c,l,d){var h=0,p=0;if(f==null||(h=o(f,l))!==(p=o(c,l))||s(f,c)<0^l>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+l+4)%4)!==p);else d.point(c[0],c[1])}function o(f,c){return se(f[0]-e)<te?c>0?0:3:se(f[0]-n)<te?c>0?2:1:se(f[1]-t)<te?c>0?1:0:c>0?3:2}function u(f,c){return s(f.x,c.x)}function s(f,c){var l=o(f,1),d=o(c,1);return l!==d?l-d:l===0?c[1]-f[1]:l===1?f[0]-c[0]:l===2?f[1]-c[1]:c[0]-f[0]}return function(f){var c=f,l=W0(),d,h,p,m,g,b,y,v,w,T,_,E={point:C,lineStart:S,lineEnd:x,polygonStart:R,polygonEnd:$};function C(M,N){i(M,N)&&c.point(M,N)}function k(){for(var M=0,N=0,I=h.length;N<I;++N)for(var z=h[N],H=1,P=z.length,j=z[0],F,q,K=j[0],Z=j[1];H<P;++H)F=K,q=Z,j=z[H],K=j[0],Z=j[1],q<=r?Z>r&&(K-F)*(r-q)>(Z-q)*(e-F)&&++M:Z<=r&&(K-F)*(r-q)<(Z-q)*(e-F)&&--M;return M}function R(){c=l,d=[],h=[],_=!0}function $(){var M=k(),N=_&&M,I=(d=i0(d)).length;(N||I)&&(f.polygonStart(),N&&(f.lineStart(),a(null,null,1,f),f.lineEnd()),I&&V0(d,u,M,a,f),f.polygonEnd()),c=f,d=h=p=null}function S(){E.point=A,h&&h.push(p=[]),T=!0,w=!1,y=v=NaN}function x(){d&&(A(m,g),b&&w&&l.rejoin(),d.push(l.result())),E.point=C,w&&c.lineEnd()}function A(M,N){var I=i(M,N);if(h&&p.push([M,N]),T)m=M,g=N,b=I,T=!1,I&&(c.lineStart(),c.point(M,N));else if(I&&w)c.point(M,N);else{var z=[y=Math.max(ea,Math.min(Ji,y)),v=Math.max(ea,Math.min(Ji,v))],H=[M=Math.max(ea,Math.min(Ji,M)),N=Math.max(ea,Math.min(Ji,N))];gx(z,H,e,t,n,r)?(w||(c.lineStart(),c.point(z[0],z[1])),c.point(H[0],H[1]),I||c.lineEnd(),_=!1):I&&(c.lineStart(),c.point(M,N),_=!1)}y=M,v=N,w=I}return E}}const Os=e=>e;var Cu=new An,Ps=new An,Z0,Q0,Fs,qs,Rt={point:Ve,lineStart:Ve,lineEnd:Ve,polygonStart:function(){Rt.lineStart=yx,Rt.lineEnd=wx},polygonEnd:function(){Rt.lineStart=Rt.lineEnd=Rt.point=Ve,Cu.add(se(Ps)),Ps=new An},result:function(){var e=Cu/2;return Cu=new An,e}};function yx(){Rt.point=bx}function bx(e,t){Rt.point=J0,Z0=Fs=e,Q0=qs=t}function J0(e,t){Ps.add(qs*e-Fs*t),Fs=e,qs=t}function wx(){J0(Z0,Q0)}var dr=1/0,qa=dr,si=-dr,ja=si,Ba={point:vx,lineStart:Ve,lineEnd:Ve,polygonStart:Ve,polygonEnd:Ve,result:function(){var e=[[dr,qa],[si,ja]];return si=ja=-(qa=dr=1/0),e}};function vx(e,t){e<dr&&(dr=e),e>si&&(si=e),t<qa&&(qa=t),t>ja&&(ja=t)}var js=0,Bs=0,Ur=0,za=0,Ua=0,Kn=0,zs=0,Us=0,Hr=0,ep,tp,gt,yt,Ge={point:Ln,lineStart:Pl,lineEnd:Fl,polygonStart:function(){Ge.lineStart=Tx,Ge.lineEnd=Sx},polygonEnd:function(){Ge.point=Ln,Ge.lineStart=Pl,Ge.lineEnd=Fl},result:function(){var e=Hr?[zs/Hr,Us/Hr]:Kn?[za/Kn,Ua/Kn]:Ur?[js/Ur,Bs/Ur]:[NaN,NaN];return js=Bs=Ur=za=Ua=Kn=zs=Us=Hr=0,e}};function Ln(e,t){js+=e,Bs+=t,++Ur}function Pl(){Ge.point=_x}function _x(e,t){Ge.point=xx,Ln(gt=e,yt=t)}function xx(e,t){var n=e-gt,r=t-yt,i=Pe(n*n+r*r);za+=i*(gt+e)/2,Ua+=i*(yt+t)/2,Kn+=i,Ln(gt=e,yt=t)}function Fl(){Ge.point=Ln}function Tx(){Ge.point=Mx}function Sx(){np(ep,tp)}function Mx(e,t){Ge.point=np,Ln(ep=gt=e,tp=yt=t)}function np(e,t){var n=e-gt,r=t-yt,i=Pe(n*n+r*r);za+=i*(gt+e)/2,Ua+=i*(yt+t)/2,Kn+=i,i=yt*e-gt*t,zs+=i*(gt+e),Us+=i*(yt+t),Hr+=i*3,Ln(gt=e,yt=t)}function rp(e){this._context=e}rp.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ze);break}}},result:Ve};var Hs=new An,ku,ip,ap,Gr,Yr,fi={point:Ve,lineStart:function(){fi.point=$x},lineEnd:function(){ku&&op(ip,ap),fi.point=Ve},polygonStart:function(){ku=!0},polygonEnd:function(){ku=null},result:function(){var e=+Hs;return Hs=new An,e}};function $x(e,t){fi.point=op,ip=Gr=e,ap=Yr=t}function op(e,t){Gr-=e,Yr-=t,Hs.add(Pe(Gr*Gr+Yr*Yr)),Gr=e,Yr=t}let ql,Ha,jl,Bl;class zl{constructor(t){this._append=t==null?up:Ex(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==jl||this._append!==Ha){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,jl=r,Ha=this._append,Bl=this._,this._=i}this._+=Bl;break}}}result(){const t=this._;return this._="",t.length?t:null}}function up(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function Ex(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return up;if(t!==ql){const n=10**t;ql=t,Ha=function(i){let a=1;this._+=i[0];for(const o=i.length;a<o;++a)this._+=Math.round(arguments[a]*n)/n+i[a]}}return Ha}function $o(e,t){let n=3,r=4.5,i,a;function o(u){return u&&(typeof r=="function"&&a.pointRadius(+r.apply(this,arguments)),Tn(u,i(a))),a.result()}return o.area=function(u){return Tn(u,i(Rt)),Rt.result()},o.measure=function(u){return Tn(u,i(fi)),fi.result()},o.bounds=function(u){return Tn(u,i(Ba)),Ba.result()},o.centroid=function(u){return Tn(u,i(Ge)),Ge.result()},o.projection=function(u){return arguments.length?(i=u==null?(e=null,Os):(e=u).stream,o):e},o.context=function(u){return arguments.length?(a=u==null?(t=null,new zl(n)):new rp(t=u),typeof r!="function"&&a.pointRadius(r),o):t},o.pointRadius=function(u){return arguments.length?(r=typeof u=="function"?u:(a.pointRadius(+u),+u),o):r},o.digits=function(u){if(!arguments.length)return n;if(u==null)n=null;else{const s=Math.floor(u);if(!(s>=0))throw new RangeError(`invalid digits: ${u}`);n=s}return t===null&&(a=new zl(n)),o},o.projection(e).digits(n).context(t)}function Gs(e){return{stream:Eo(e)}}function Eo(e){return function(t){var n=new Ys;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Ys(){}Ys.prototype={constructor:Ys,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function If(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),Tn(n,e.stream(Ba)),t(Ba.result()),r!=null&&e.clipExtent(r),e}function Df(e,t,n){return If(e,function(r){var i=t[1][0]-t[0][0],a=t[1][1]-t[0][1],o=Math.min(i/(r[1][0]-r[0][0]),a/(r[1][1]-r[0][1])),u=+t[0][0]+(i-o*(r[1][0]+r[0][0]))/2,s=+t[0][1]+(a-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([u,s])},n)}function sp(e,t,n){return Df(e,[[0,0],t],n)}function fp(e,t,n){return If(e,function(r){var i=+t,a=i/(r[1][0]-r[0][0]),o=(i-a*(r[1][0]+r[0][0]))/2,u=-a*r[0][1];e.scale(150*a).translate([o,u])},n)}function cp(e,t,n){return If(e,function(r){var i=+t,a=i/(r[1][1]-r[0][1]),o=-a*r[0][0],u=(i-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([o,u])},n)}var Ul=16,Ax=ne(30*de);function Hl(e,t){return+t?kx(e,t):Cx(e)}function Cx(e){return Eo({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function kx(e,t){function n(r,i,a,o,u,s,f,c,l,d,h,p,m,g){var b=f-r,y=c-i,v=b*b+y*y;if(v>4*t&&m--){var w=o+d,T=u+h,_=s+p,E=Pe(w*w+T*T+_*_),C=Ze(_/=E),k=se(se(_)-1)<te||se(a-l)<te?(a+l)/2:Ut(T,w),R=e(k,C),$=R[0],S=R[1],x=$-r,A=S-i,M=y*x-b*A;(M*M/v>t||se((b*x+y*A)/v-.5)>.3||o*d+u*h+s*p<Ax)&&(n(r,i,a,o,u,s,$,S,k,w/=E,T/=E,_,m,g),g.point($,S),n($,S,k,w,T,_,f,c,l,d,h,p,m,g))}}return function(r){var i,a,o,u,s,f,c,l,d,h,p,m,g={point:b,lineStart:y,lineEnd:w,polygonStart:function(){r.polygonStart(),g.lineStart=T},polygonEnd:function(){r.polygonEnd(),g.lineStart=y}};function b(C,k){C=e(C,k),r.point(C[0],C[1])}function y(){l=NaN,g.point=v,r.lineStart()}function v(C,k){var R=lr([C,k]),$=e(C,k);n(l,d,c,h,p,m,l=$[0],d=$[1],c=C,h=R[0],p=R[1],m=R[2],Ul,r),r.point(l,d)}function w(){g.point=b,r.lineEnd()}function T(){y(),g.point=_,g.lineEnd=E}function _(C,k){v(i=C,k),a=l,o=d,u=h,s=p,f=m,g.point=v}function E(){n(l,d,c,h,p,m,a,o,i,u,s,f,Ul,r),g.lineEnd=w,w()}return g}}var Nx=Eo({point:function(e,t){this.stream.point(e*de,t*de)}});function Ix(e){return Eo({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Dx(e,t,n,r,i){function a(o,u){return o*=r,u*=i,[t+e*o,n-e*u]}return a.invert=function(o,u){return[(o-t)/e*r,(n-u)/e*i]},a}function Gl(e,t,n,r,i,a){if(!a)return Dx(e,t,n,r,i);var o=ne(a),u=J(a),s=o*e,f=u*e,c=o/e,l=u/e,d=(u*n-o*t)/e,h=(u*t+o*n)/e;function p(m,g){return m*=r,g*=i,[s*m-f*g+t,n-f*m-s*g]}return p.invert=function(m,g){return[r*(c*m-l*g+d),i*(h-l*m-c*g)]},p}function dn(e){return lp(function(){return e})()}function lp(e){var t,n=150,r=480,i=250,a=0,o=0,u=0,s=0,f=0,c,l=0,d=1,h=1,p=null,m=Ol,g=null,b,y,v,w=Os,T=.5,_,E,C,k,R;function $(M){return C(M[0]*de,M[1]*de)}function S(M){return M=C.invert(M[0],M[1]),M&&[M[0]*Ie,M[1]*Ie]}$.stream=function(M){return k&&R===M?k:k=Nx(Ix(c)(m(_(w(R=M)))))},$.preclip=function(M){return arguments.length?(m=M,p=void 0,A()):m},$.postclip=function(M){return arguments.length?(w=M,g=b=y=v=null,A()):w},$.clipAngle=function(M){return arguments.length?(m=+M?mx(p=M*de):(p=null,Ol),A()):p*Ie},$.clipExtent=function(M){return arguments.length?(w=M==null?(g=b=y=v=null,Os):K0(g=+M[0][0],b=+M[0][1],y=+M[1][0],v=+M[1][1]),A()):g==null?null:[[g,b],[y,v]]},$.scale=function(M){return arguments.length?(n=+M,x()):n},$.translate=function(M){return arguments.length?(r=+M[0],i=+M[1],x()):[r,i]},$.center=function(M){return arguments.length?(a=M[0]%360*de,o=M[1]%360*de,x()):[a*Ie,o*Ie]},$.rotate=function(M){return arguments.length?(u=M[0]%360*de,s=M[1]%360*de,f=M.length>2?M[2]%360*de:0,x()):[u*Ie,s*Ie,f*Ie]},$.angle=function(M){return arguments.length?(l=M%360*de,x()):l*Ie},$.reflectX=function(M){return arguments.length?(d=M?-1:1,x()):d<0},$.reflectY=function(M){return arguments.length?(h=M?-1:1,x()):h<0},$.precision=function(M){return arguments.length?(_=Hl(E,T=M*M),A()):Pe(T)},$.fitExtent=function(M,N){return Df($,M,N)},$.fitSize=function(M,N){return sp($,M,N)},$.fitWidth=function(M,N){return fp($,M,N)},$.fitHeight=function(M,N){return cp($,M,N)};function x(){var M=Gl(n,0,0,d,h,l).apply(null,t(a,o)),N=Gl(n,r-M[0],i-M[1],d,h,l);return c=Y0(u,s,f),E=Ls(t,N),C=Ls(c,E),_=Hl(E,T),A()}function A(){return k=R=null,$}return function(){return t=e.apply(this,arguments),$.invert=t.invert&&S,x()}}function Lf(e){var t=0,n=re/3,r=lp(e),i=r(t,n);return i.parallels=function(a){return arguments.length?r(t=a[0]*de,n=a[1]*de):[t*Ie,n*Ie]},i}function Lx(e){var t=ne(e);function n(r,i){return[r*t,J(i)/t]}return n.invert=function(r,i){return[r/t,Ze(i*t)]},n}function Rx(e,t){var n=J(e),r=(n+J(t))/2;if(se(r)<te)return Lx(e);var i=1+n*(2*r-n),a=Pe(i)/r;function o(u,s){var f=Pe(i-2*r*J(s))/r;return[f*J(u*=r),a-f*ne(u)]}return o.invert=function(u,s){var f=a-s,c=Ut(u,se(f))*We(f);return f*r<0&&(c-=re*We(u)*We(f)),[c/r,Ze((i-(u*u+f*f)*r*r)/(2*r))]},o}function Ga(){return Lf(Rx).scale(155.424).center([0,33.6442])}function dp(){return Ga().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function Ox(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Px(){var e,t,n=dp(),r,i=Ga().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,o=Ga().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,s,f={point:function(d,h){s=[d,h]}};function c(d){var h=d[0],p=d[1];return s=null,r.point(h,p),s||(a.point(h,p),s)||(u.point(h,p),s)}c.invert=function(d){var h=n.scale(),p=n.translate(),m=(d[0]-p[0])/h,g=(d[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?o:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=Ox([n.stream(t=d),i.stream(d),o.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),o.precision(d),l()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),o.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],m=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(f),a=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+te,m+.12*h+te],[p-.214*h-te,m+.234*h-te]]).stream(f),u=o.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+te,m+.166*h+te],[p-.115*h-te,m+.234*h-te]]).stream(f),l()},c.fitExtent=function(d,h){return Df(c,d,h)},c.fitSize=function(d,h){return sp(c,d,h)},c.fitWidth=function(d,h){return fp(c,d,h)},c.fitHeight=function(d,h){return cp(c,d,h)};function l(){return e=t=null,c}return c.scale(1070)}function hp(e){return function(t,n){var r=ne(t),i=ne(n),a=e(r*i);return a===1/0?[2,0]:[a*i*J(t),a*J(n)]}}function Ti(e){return function(t,n){var r=Pe(t*t+n*n),i=e(r),a=J(i),o=ne(i);return[Ut(t*a,r*o),Ze(r&&n*a/r)]}}var pp=hp(function(e){return Pe(2/(1+e))});pp.invert=Ti(function(e){return 2*Ze(e/2)});function Fx(){return dn(pp).scale(124.75).clipAngle(180-.001)}var mp=hp(function(e){return(e=G0(e))&&e/J(e)});mp.invert=Ti(function(e){return e});function qx(){return dn(mp).scale(79.4188).clipAngle(180-.001)}function Ao(e,t){return[e,Oa(Nf((he+t)/2))]}Ao.invert=function(e,t){return[e,2*Mr(H0(t))-he]};function jx(){return gp(Ao).scale(961/ze)}function gp(e){var t=dn(e),n=t.center,r=t.scale,i=t.translate,a=t.clipExtent,o=null,u,s,f;t.scale=function(l){return arguments.length?(r(l),c()):r()},t.translate=function(l){return arguments.length?(i(l),c()):i()},t.center=function(l){return arguments.length?(n(l),c()):n()},t.clipExtent=function(l){return arguments.length?(l==null?o=u=s=f=null:(o=+l[0][0],u=+l[0][1],s=+l[1][0],f=+l[1][1]),c()):o==null?null:[[o,u],[s,f]]};function c(){var l=re*r(),d=t(ux(t.rotate()).invert([0,0]));return a(o==null?[[d[0]-l,d[1]-l],[d[0]+l,d[1]+l]]:e===Ao?[[Math.max(d[0]-l,o),u],[Math.min(d[0]+l,s),f]]:[[o,Math.max(d[1]-l,u)],[s,Math.min(d[1]+l,f)]])}return c()}function ta(e){return Nf((he+e)/2)}function Bx(e,t){var n=ne(e),r=e===t?J(e):Oa(n/ne(t))/Oa(ta(t)/ta(e)),i=n*$u(ta(e),r)/r;if(!r)return Ao;function a(o,u){i>0?u<-he+te&&(u=-he+te):u>he-te&&(u=he-te);var s=i/$u(ta(u),r);return[s*J(r*o),i-s*ne(r*o)]}return a.invert=function(o,u){var s=i-u,f=We(r)*Pe(o*o+s*s),c=Ut(o,se(s))*We(s);return s*r<0&&(c-=re*We(o)*We(s)),[c/r,2*Mr($u(i/f,1/r))-he]},a}function zx(){return Lf(Bx).scale(109.5).parallels([30,30])}function Ya(e,t){return[e,t]}Ya.invert=Ya;function Ux(){return dn(Ya).scale(152.63)}function Hx(e,t){var n=ne(e),r=e===t?J(e):(n-ne(t))/(t-e),i=n/r+e;if(se(r)<te)return Ya;function a(o,u){var s=i-u,f=r*o;return[s*J(f),i-s*ne(f)]}return a.invert=function(o,u){var s=i-u,f=Ut(o,se(s))*We(s);return s*r<0&&(f-=re*We(o)*We(s)),[f/r,i-We(r)*Pe(o*o+s*s)]},a}function Gx(){return Lf(Hx).scale(131.154).center([0,13.9389])}var Zr=1.340264,Qr=-.081106,Jr=893e-6,ei=.003796,Wa=Pe(3)/2,Yx=12;function yp(e,t){var n=Ze(Wa*J(t)),r=n*n,i=r*r*r;return[e*ne(n)/(Wa*(Zr+3*Qr*r+i*(7*Jr+9*ei*r))),n*(Zr+Qr*r+i*(Jr+ei*r))]}yp.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,a=0,o,u,s;a<Yx&&(u=n*(Zr+Qr*r+i*(Jr+ei*r))-t,s=Zr+3*Qr*r+i*(7*Jr+9*ei*r),n-=o=u/s,r=n*n,i=r*r*r,!(se(o)<ox));++a);return[Wa*e*(Zr+3*Qr*r+i*(7*Jr+9*ei*r))/ne(n),Ze(J(n)/Wa)]};function Wx(){return dn(yp).scale(177.158)}function bp(e,t){var n=ne(t),r=ne(e)*n;return[n*J(e)/r,J(t)/r]}bp.invert=Ti(Mr);function Vx(){return dn(bp).scale(144.049).clipAngle(60)}function wp(e,t){return[ne(t)*J(e),J(t)]}wp.invert=Ti(Ze);function Xx(){return dn(wp).scale(249.5).clipAngle(90+te)}function vp(e,t){var n=ne(t),r=1+ne(e)*n;return[n*J(e)/r,J(t)/r]}vp.invert=Ti(function(e){return 2*Mr(e)});function Kx(){return dn(vp).scale(250).clipAngle(142)}function _p(e,t){return[Oa(Nf((he+t)/2)),-e]}_p.invert=function(e,t){return[-t,2*Mr(H0(e))-he]};function Zx(){var e=gp(_p),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function $t(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Co(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Ws=Symbol("implicit");function Rf(){var e=new Cn,t=[],n=[],r=Ws;function i(a){let o=e.get(a);if(o===void 0){if(r!==Ws)return r;e.set(a,o=t.push(a)-1)}return n[o%n.length]}return i.domain=function(a){if(!arguments.length)return t.slice();t=[],e=new Cn;for(const o of a)e.has(o)||e.set(o,t.push(o)-1);return i},i.range=function(a){return arguments.length?(n=Array.from(a),i):n.slice()},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return Rf(t,n).unknown(r)},$t.apply(i,arguments),i}function ko(){var e=Rf().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,a,o,u=!1,s=0,f=0,c=.5;delete e.unknown;function l(){var d=t().length,h=i<r,p=h?i:r,m=h?r:i;a=(m-p)/Math.max(1,d-s+f*2),u&&(a=Math.floor(a)),p+=(m-p-a*(d-s))*c,o=a*(1-s),u&&(p=Math.round(p),o=Math.round(o));var g=bs(d).map(function(b){return p+a*b});return n(h?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),l()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,l()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,u=!0,l()},e.bandwidth=function(){return o},e.step=function(){return a},e.round=function(d){return arguments.length?(u=!!d,l()):u},e.padding=function(d){return arguments.length?(s=Math.min(1,f=+d),l()):s},e.paddingInner=function(d){return arguments.length?(s=Math.min(1,d),l()):s},e.paddingOuter=function(d){return arguments.length?(f=+d,l()):f},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),l()):c},e.copy=function(){return ko(t(),[r,i]).round(u).paddingInner(s).paddingOuter(f).align(c)},$t.apply(l(),arguments)}function xp(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return xp(t())},e}function Qx(){return xp(ko.apply(null,arguments).paddingInner(1))}function Jx(e){return function(){return e}}function Vs(e){return+e}var Yl=[0,1];function Xe(e){return e}function Xs(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:Jx(isNaN(t)?NaN:.5)}function e3(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function t3(e,t,n){var r=e[0],i=e[1],a=t[0],o=t[1];return i<r?(r=Xs(i,r),a=n(o,a)):(r=Xs(r,i),a=n(a,o)),function(u){return a(r(u))}}function n3(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),a=new Array(r),o=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<r;)i[o]=Xs(e[o],e[o+1]),a[o]=n(t[o],t[o+1]);return function(u){var s=go(e,u,1,r)-1;return a[s](i[s](u))}}function Si(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function No(){var e=Yl,t=Yl,n=xi,r,i,a,o=Xe,u,s,f;function c(){var d=Math.min(e.length,t.length);return o!==Xe&&(o=e3(e[0],e[d-1])),u=d>2?n3:t3,s=f=null,l}function l(d){return d==null||isNaN(d=+d)?a:(s||(s=u(e.map(r),t,n)))(r(o(d)))}return l.invert=function(d){return o(i((f||(f=u(t,e.map(r),Ee)))(d)))},l.domain=function(d){return arguments.length?(e=Array.from(d,Vs),c()):e.slice()},l.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},l.rangeRound=function(d){return t=Array.from(d),n=Mf,c()},l.clamp=function(d){return arguments.length?(o=d?!0:Xe,c()):o!==Xe},l.interpolate=function(d){return arguments.length?(n=d,c()):n},l.unknown=function(d){return arguments.length?(a=d,l):a},function(d,h){return r=d,i=h,c()}}function Tp(){return No()(Xe,Xe)}function r3(e,t,n,r){var i=gs(e,t,n),a;switch(r=ui(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(a=ix(i,o))&&(r.precision=a),U0(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(a=ax(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=a-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(a=rx(i))&&(r.precision=a-(r.type==="%")*2);break}}return Sr(r)}function Mi(e){var t=e.domain;return e.ticks=function(n){var r=t();return ri(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return r3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,a=r.length-1,o=r[i],u=r[a],s,f,c=10;for(u<o&&(f=o,o=u,u=f,f=i,i=a,a=f);c-- >0;){if(f=Ea(o,u,n),f===s)return r[i]=o,r[a]=u,t(r);if(f>0)o=Math.floor(o/f)*f,u=Math.ceil(u/f)*f;else if(f<0)o=Math.ceil(o*f)/f,u=Math.floor(u*f)/f;else break;s=f}return e},e}function Of(){var e=Tp();return e.copy=function(){return Si(e,Of())},$t.apply(e,arguments),Mi(e)}function Sp(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Vs),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return Sp(e).unknown(t)},e=arguments.length?Array.from(e,Vs):[0,1],Mi(n)}function Mp(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],a=e[r],o;return a<i&&(o=n,n=r,r=o,o=i,i=a,a=o),e[n]=t.floor(i),e[r]=t.ceil(a),e}function Wl(e){return Math.log(e)}function Vl(e){return Math.exp(e)}function i3(e){return-Math.log(-e)}function a3(e){return-Math.exp(-e)}function o3(e){return isFinite(e)?+("1e"+e):e<0?0:e}function u3(e){return e===10?o3:e===Math.E?Math.exp:t=>Math.pow(e,t)}function s3(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Xl(e){return(t,n)=>-e(-t,n)}function $p(e){const t=e(Wl,Vl),n=t.domain;let r=10,i,a;function o(){return i=s3(r),a=u3(r),n()[0]<0?(i=Xl(i),a=Xl(a),e(i3,a3)):e(Wl,Vl),t}return t.base=function(u){return arguments.length?(r=+u,o()):r},t.domain=function(u){return arguments.length?(n(u),o()):n()},t.ticks=u=>{const s=n();let f=s[0],c=s[s.length-1];const l=c<f;l&&([f,c]=[c,f]);let d=i(f),h=i(c),p,m;const g=u==null?10:+u;let b=[];if(!(r%1)&&h-d<g){if(d=Math.floor(d),h=Math.ceil(h),f>0){for(;d<=h;++d)for(p=1;p<r;++p)if(m=d<0?p/a(-d):p*a(d),!(m<f)){if(m>c)break;b.push(m)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(m=d>0?p/a(-d):p*a(d),!(m<f)){if(m>c)break;b.push(m)}b.length*2<g&&(b=ri(f,c,g))}else b=ri(d,h,Math.min(h-d,g)).map(a);return l?b.reverse():b},t.tickFormat=(u,s)=>{if(u==null&&(u=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=ui(s)).precision==null&&(s.trim=!0),s=Sr(s)),u===1/0)return s;const f=Math.max(1,r*u/t.ticks().length);return c=>{let l=c/a(Math.round(i(c)));return l*r<r-.5&&(l*=r),l<=f?s(c):""}},t.nice=()=>n(Mp(n(),{floor:u=>a(Math.floor(i(u))),ceil:u=>a(Math.ceil(i(u)))})),t}function Ep(){const e=$p(No()).domain([1,10]);return e.copy=()=>Si(e,Ep()).base(e.base()),$t.apply(e,arguments),e}function Kl(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Zl(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Ap(e){var t=1,n=e(Kl(t),Zl(t));return n.constant=function(r){return arguments.length?e(Kl(t=+r),Zl(t)):t},Mi(n)}function Cp(){var e=Ap(No());return e.copy=function(){return Si(e,Cp()).constant(e.constant())},$t.apply(e,arguments)}function Ql(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function f3(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function c3(e){return e<0?-e*e:e*e}function kp(e){var t=e(Xe,Xe),n=1;function r(){return n===1?e(Xe,Xe):n===.5?e(f3,c3):e(Ql(n),Ql(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},Mi(t)}function Np(){var e=kp(No());return e.copy=function(){return Si(e,Np()).exponent(e.exponent())},$t.apply(e,arguments),e}function Ip(){var e=[],t=[],n=[],r;function i(){var o=0,u=Math.max(1,t.length);for(n=new Array(u-1);++o<u;)n[o-1]=nw(e,o/u);return a}function a(o){return o==null||isNaN(o=+o)?r:t[go(n,o)]}return a.invertExtent=function(o){var u=t.indexOf(o);return u<0?[NaN,NaN]:[u>0?n[u-1]:e[0],u<n.length?n[u]:e[e.length-1]]},a.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let u of o)u!=null&&!isNaN(u=+u)&&e.push(u);return e.sort(Oe),i()},a.range=function(o){return arguments.length?(t=Array.from(o),i()):t.slice()},a.unknown=function(o){return arguments.length?(r=o,a):r},a.quantiles=function(){return n.slice()},a.copy=function(){return Ip().domain(e).range(t).unknown(r)},$t.apply(a,arguments)}function Dp(){var e=[.5],t=[0,1],n,r=1;function i(a){return a!=null&&a<=a?t[go(e,a,0,r)]:n}return i.domain=function(a){return arguments.length?(e=Array.from(a),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(a){return arguments.length?(t=Array.from(a),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(a){var o=t.indexOf(a);return[e[o-1],e[o]]},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Dp().domain(e).range(t).unknown(n)},$t.apply(i,arguments)}const Nu=new Date,Iu=new Date;function ge(e,t,n,r){function i(a){return e(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(e(a=new Date(+a)),a),i.ceil=a=>(e(a=new Date(a-1)),t(a,1),e(a),a),i.round=a=>{const o=i(a),u=i.ceil(a);return a-o<u-a?o:u},i.offset=(a,o)=>(t(a=new Date(+a),o==null?1:Math.floor(o)),a),i.range=(a,o,u)=>{const s=[];if(a=i.ceil(a),u=u==null?1:Math.floor(u),!(a<o)||!(u>0))return s;let f;do s.push(f=new Date(+a)),t(a,u),e(a);while(f<a&&a<o);return s},i.filter=a=>ge(o=>{if(o>=o)for(;e(o),!a(o);)o.setTime(o-1)},(o,u)=>{if(o>=o)if(u<0)for(;++u<=0;)for(;t(o,-1),!a(o););else for(;--u>=0;)for(;t(o,1),!a(o););}),n&&(i.count=(a,o)=>(Nu.setTime(+a),Iu.setTime(+o),e(Nu),e(Iu),Math.floor(n(Nu,Iu))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(r?o=>r(o)%a===0:o=>i.count(0,o)%a===0):i)),i}const Va=ge(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Va.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ge(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Va);Va.range;const Pt=1e3,Ke=Pt*60,Ft=Ke*60,Ht=Ft*24,Pf=Ht*7,Jl=Ht*30,Du=Ht*365,nt=ge(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pt)},(e,t)=>(t-e)/Pt,e=>e.getUTCSeconds());nt.range;const $i=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pt)},(e,t)=>{e.setTime(+e+t*Ke)},(e,t)=>(t-e)/Ke,e=>e.getMinutes());$i.range;const Ei=ge(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ke)},(e,t)=>(t-e)/Ke,e=>e.getUTCMinutes());Ei.range;const Ai=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pt-e.getMinutes()*Ke)},(e,t)=>{e.setTime(+e+t*Ft)},(e,t)=>(t-e)/Ft,e=>e.getHours());Ai.range;const Ci=ge(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ft)},(e,t)=>(t-e)/Ft,e=>e.getUTCHours());Ci.range;const Fn=ge(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ke)/Ht,e=>e.getDate()-1);Fn.range;const Io=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ht,e=>e.getUTCDate()-1);Io.range;const Do=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Ht,e=>Math.floor(e/Ht));Do.range;function qn(e){return ge(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ke)/Pf)}const hr=qn(0),ci=qn(1),Lp=qn(2),Rp=qn(3),Rn=qn(4),Op=qn(5),Pp=qn(6);hr.range;ci.range;Lp.range;Rp.range;Rn.range;Op.range;Pp.range;function jn(e){return ge(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Pf)}const pr=jn(0),li=jn(1),Fp=jn(2),qp=jn(3),On=jn(4),jp=jn(5),Bp=jn(6);pr.range;li.range;Fp.range;qp.range;On.range;jp.range;Bp.range;const ki=ge(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());ki.range;const Ni=ge(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ni.range;const ot=ge(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ot.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ot.range;const ut=ge(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ut.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ut.range;function zp(e,t,n,r,i,a){const o=[[nt,1,Pt],[nt,5,5*Pt],[nt,15,15*Pt],[nt,30,30*Pt],[a,1,Ke],[a,5,5*Ke],[a,15,15*Ke],[a,30,30*Ke],[i,1,Ft],[i,3,3*Ft],[i,6,6*Ft],[i,12,12*Ft],[r,1,Ht],[r,2,2*Ht],[n,1,Pf],[t,1,Jl],[t,3,3*Jl],[e,1,Du]];function u(f,c,l){const d=c<f;d&&([f,c]=[c,f]);const h=l&&typeof l.range=="function"?l:s(f,c,l),p=h?h.range(f,+c+1):[];return d?p.reverse():p}function s(f,c,l){const d=Math.abs(c-f)/l,h=mo(([,,g])=>g).right(o,d);if(h===o.length)return e.every(gs(f/Du,c/Du,l));if(h===0)return Va.every(Math.max(gs(f,c,l),1));const[p,m]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return p.every(m)}return[u,s]}const[l3,Up]=zp(ut,Ni,pr,Do,Ci,Ei),[d3,h3]=zp(ot,ki,hr,Fn,Ai,$i);function Lu(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Ru(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ir(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function p3(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,a=e.days,o=e.shortDays,u=e.months,s=e.shortMonths,f=Dr(i),c=Lr(i),l=Dr(a),d=Lr(a),h=Dr(o),p=Lr(o),m=Dr(u),g=Lr(u),b=Dr(s),y=Lr(s),v={a:I,A:z,b:H,B:P,c:null,d:ad,e:ad,f:P3,g:W3,G:X3,H:L3,I:R3,j:O3,L:Hp,m:F3,M:q3,p:j,q:F,Q:sd,s:fd,S:j3,u:B3,U:z3,V:U3,w:H3,W:G3,x:null,X:null,y:Y3,Y:V3,Z:K3,"%":ud},w={a:q,A:K,b:Z,B:W,c:null,d:od,e:od,f:e5,g:c5,G:d5,H:Z3,I:Q3,j:J3,L:Yp,m:t5,M:n5,p:G,q:B,Q:sd,s:fd,S:r5,u:i5,U:a5,V:o5,w:u5,W:s5,x:null,X:null,y:f5,Y:l5,Z:h5,"%":ud},T={a:R,A:$,b:S,B:x,c:A,d:rd,e:rd,f:k3,g:nd,G:td,H:id,I:id,j:$3,L:C3,m:M3,M:E3,p:k,q:S3,Q:I3,s:D3,S:A3,u:w3,U:v3,V:_3,w:b3,W:x3,x:M,X:N,y:nd,Y:td,Z:T3,"%":N3};v.x=_(n,v),v.X=_(r,v),v.c=_(t,v),w.x=_(n,w),w.X=_(r,w),w.c=_(t,w);function _(D,U){return function(Y){var L=[],ie=-1,V=0,ae=D.length,oe,ce,lt;for(Y instanceof Date||(Y=new Date(+Y));++ie<ae;)D.charCodeAt(ie)===37&&(L.push(D.slice(V,ie)),(ce=ed[oe=D.charAt(++ie)])!=null?oe=D.charAt(++ie):ce=oe==="e"?" ":"0",(lt=U[oe])&&(oe=lt(Y,ce)),L.push(oe),V=ie+1);return L.push(D.slice(V,ie)),L.join("")}}function E(D,U){return function(Y){var L=Ir(1900,void 0,1),ie=C(L,D,Y+="",0),V,ae;if(ie!=Y.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(U&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(V=Ru(Ir(L.y,0,1)),ae=V.getUTCDay(),V=ae>4||ae===0?li.ceil(V):li(V),V=Io.offset(V,(L.V-1)*7),L.y=V.getUTCFullYear(),L.m=V.getUTCMonth(),L.d=V.getUTCDate()+(L.w+6)%7):(V=Lu(Ir(L.y,0,1)),ae=V.getDay(),V=ae>4||ae===0?ci.ceil(V):ci(V),V=Fn.offset(V,(L.V-1)*7),L.y=V.getFullYear(),L.m=V.getMonth(),L.d=V.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),ae="Z"in L?Ru(Ir(L.y,0,1)).getUTCDay():Lu(Ir(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(ae+5)%7:L.w+L.U*7-(ae+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Ru(L)):Lu(L)}}function C(D,U,Y,L){for(var ie=0,V=U.length,ae=Y.length,oe,ce;ie<V;){if(L>=ae)return-1;if(oe=U.charCodeAt(ie++),oe===37){if(oe=U.charAt(ie++),ce=T[oe in ed?U.charAt(ie++):oe],!ce||(L=ce(D,Y,L))<0)return-1}else if(oe!=Y.charCodeAt(L++))return-1}return L}function k(D,U,Y){var L=f.exec(U.slice(Y));return L?(D.p=c.get(L[0].toLowerCase()),Y+L[0].length):-1}function R(D,U,Y){var L=h.exec(U.slice(Y));return L?(D.w=p.get(L[0].toLowerCase()),Y+L[0].length):-1}function $(D,U,Y){var L=l.exec(U.slice(Y));return L?(D.w=d.get(L[0].toLowerCase()),Y+L[0].length):-1}function S(D,U,Y){var L=b.exec(U.slice(Y));return L?(D.m=y.get(L[0].toLowerCase()),Y+L[0].length):-1}function x(D,U,Y){var L=m.exec(U.slice(Y));return L?(D.m=g.get(L[0].toLowerCase()),Y+L[0].length):-1}function A(D,U,Y){return C(D,t,U,Y)}function M(D,U,Y){return C(D,n,U,Y)}function N(D,U,Y){return C(D,r,U,Y)}function I(D){return o[D.getDay()]}function z(D){return a[D.getDay()]}function H(D){return s[D.getMonth()]}function P(D){return u[D.getMonth()]}function j(D){return i[+(D.getHours()>=12)]}function F(D){return 1+~~(D.getMonth()/3)}function q(D){return o[D.getUTCDay()]}function K(D){return a[D.getUTCDay()]}function Z(D){return s[D.getUTCMonth()]}function W(D){return u[D.getUTCMonth()]}function G(D){return i[+(D.getUTCHours()>=12)]}function B(D){return 1+~~(D.getUTCMonth()/3)}return{format:function(D){var U=_(D+="",v);return U.toString=function(){return D},U},parse:function(D){var U=E(D+="",!1);return U.toString=function(){return D},U},utcFormat:function(D){var U=_(D+="",w);return U.toString=function(){return D},U},utcParse:function(D){var U=E(D+="",!0);return U.toString=function(){return D},U}}}var ed={"-":"",_:" ",0:"0"},xe=/^\s*\d+/,m3=/^%/,g3=/[\\^$*+?|[\]().{}]/g;function ue(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",a=i.length;return r+(a<n?new Array(n-a+1).join(t)+i:i)}function y3(e){return e.replace(g3,"\\$&")}function Dr(e){return new RegExp("^(?:"+e.map(y3).join("|")+")","i")}function Lr(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function b3(e,t,n){var r=xe.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function w3(e,t,n){var r=xe.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function v3(e,t,n){var r=xe.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function _3(e,t,n){var r=xe.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function x3(e,t,n){var r=xe.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function td(e,t,n){var r=xe.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function nd(e,t,n){var r=xe.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function T3(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function S3(e,t,n){var r=xe.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function M3(e,t,n){var r=xe.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function rd(e,t,n){var r=xe.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function $3(e,t,n){var r=xe.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function id(e,t,n){var r=xe.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function E3(e,t,n){var r=xe.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function A3(e,t,n){var r=xe.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function C3(e,t,n){var r=xe.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function k3(e,t,n){var r=xe.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function N3(e,t,n){var r=m3.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function I3(e,t,n){var r=xe.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function D3(e,t,n){var r=xe.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function ad(e,t){return ue(e.getDate(),t,2)}function L3(e,t){return ue(e.getHours(),t,2)}function R3(e,t){return ue(e.getHours()%12||12,t,2)}function O3(e,t){return ue(1+Fn.count(ot(e),e),t,3)}function Hp(e,t){return ue(e.getMilliseconds(),t,3)}function P3(e,t){return Hp(e,t)+"000"}function F3(e,t){return ue(e.getMonth()+1,t,2)}function q3(e,t){return ue(e.getMinutes(),t,2)}function j3(e,t){return ue(e.getSeconds(),t,2)}function B3(e){var t=e.getDay();return t===0?7:t}function z3(e,t){return ue(hr.count(ot(e)-1,e),t,2)}function Gp(e){var t=e.getDay();return t>=4||t===0?Rn(e):Rn.ceil(e)}function U3(e,t){return e=Gp(e),ue(Rn.count(ot(e),e)+(ot(e).getDay()===4),t,2)}function H3(e){return e.getDay()}function G3(e,t){return ue(ci.count(ot(e)-1,e),t,2)}function Y3(e,t){return ue(e.getFullYear()%100,t,2)}function W3(e,t){return e=Gp(e),ue(e.getFullYear()%100,t,2)}function V3(e,t){return ue(e.getFullYear()%1e4,t,4)}function X3(e,t){var n=e.getDay();return e=n>=4||n===0?Rn(e):Rn.ceil(e),ue(e.getFullYear()%1e4,t,4)}function K3(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ue(t/60|0,"0",2)+ue(t%60,"0",2)}function od(e,t){return ue(e.getUTCDate(),t,2)}function Z3(e,t){return ue(e.getUTCHours(),t,2)}function Q3(e,t){return ue(e.getUTCHours()%12||12,t,2)}function J3(e,t){return ue(1+Io.count(ut(e),e),t,3)}function Yp(e,t){return ue(e.getUTCMilliseconds(),t,3)}function e5(e,t){return Yp(e,t)+"000"}function t5(e,t){return ue(e.getUTCMonth()+1,t,2)}function n5(e,t){return ue(e.getUTCMinutes(),t,2)}function r5(e,t){return ue(e.getUTCSeconds(),t,2)}function i5(e){var t=e.getUTCDay();return t===0?7:t}function a5(e,t){return ue(pr.count(ut(e)-1,e),t,2)}function Wp(e){var t=e.getUTCDay();return t>=4||t===0?On(e):On.ceil(e)}function o5(e,t){return e=Wp(e),ue(On.count(ut(e),e)+(ut(e).getUTCDay()===4),t,2)}function u5(e){return e.getUTCDay()}function s5(e,t){return ue(li.count(ut(e)-1,e),t,2)}function f5(e,t){return ue(e.getUTCFullYear()%100,t,2)}function c5(e,t){return e=Wp(e),ue(e.getUTCFullYear()%100,t,2)}function l5(e,t){return ue(e.getUTCFullYear()%1e4,t,4)}function d5(e,t){var n=e.getUTCDay();return e=n>=4||n===0?On(e):On.ceil(e),ue(e.getUTCFullYear()%1e4,t,4)}function h5(){return"+0000"}function ud(){return"%"}function sd(e){return+e}function fd(e){return Math.floor(+e/1e3)}var Gn,Ff,Ii;p5({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function p5(e){return Gn=p3(e),Ff=Gn.format,Gn.parse,Ii=Gn.utcFormat,Gn.utcParse,Gn}function m5(e){return new Date(e)}function g5(e){return e instanceof Date?+e:+new Date(+e)}function qf(e,t,n,r,i,a,o,u,s,f){var c=Tp(),l=c.invert,d=c.domain,h=f(".%L"),p=f(":%S"),m=f("%I:%M"),g=f("%I %p"),b=f("%a %d"),y=f("%b %d"),v=f("%B"),w=f("%Y");function T(_){return(s(_)<_?h:u(_)<_?p:o(_)<_?m:a(_)<_?g:r(_)<_?i(_)<_?b:y:n(_)<_?v:w)(_)}return c.invert=function(_){return new Date(l(_))},c.domain=function(_){return arguments.length?d(Array.from(_,g5)):d().map(m5)},c.ticks=function(_){var E=d();return e(E[0],E[E.length-1],_??10)},c.tickFormat=function(_,E){return E==null?T:f(E)},c.nice=function(_){var E=d();return(!_||typeof _.range!="function")&&(_=t(E[0],E[E.length-1],_??10)),_?d(Mp(E,_)):c},c.copy=function(){return Si(c,qf(e,t,n,r,i,a,o,u,s,f))},c}function y5(){return $t.apply(qf(d3,h3,ot,ki,hr,Fn,Ai,$i,nt,Ff).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function b5(){return $t.apply(qf(l3,Up,ut,Ni,pr,Io,Ci,Ei,nt,Ii).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Lo(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ro(){var e=0,t=.5,n=1,r=1,i,a,o,u,s,f=Xe,c,l=!1,d;function h(m){return isNaN(m=+m)?d:(m=.5+((m=+c(m))-a)*(r*m<r*a?u:s),f(l?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),a=c(t=+t),o=c(n=+n),u=i===a?0:.5/(a-i),s=a===o?0:.5/(o-a),r=a<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(l=!!m,h):l},h.interpolator=function(m){return arguments.length?(f=m,h):f};function p(m){return function(g){var b,y,v;return arguments.length?([b,y,v]=g,f=To(m,[b,y,v]),h):[f(0),f(.5),f(1)]}}return h.range=p(xi),h.rangeRound=p(Mf),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return c=m,i=m(e),a=m(t),o=m(n),u=i===a?0:.5/(a-i),s=a===o?0:.5/(o-a),r=a<i?-1:1,h}}function Vp(){var e=Mi(Ro()(Xe));return e.copy=function(){return Lo(e,Vp())},Co.apply(e,arguments)}function Xp(){var e=$p(Ro()).domain([.1,1,10]);return e.copy=function(){return Lo(e,Xp()).base(e.base())},Co.apply(e,arguments)}function Kp(){var e=Ap(Ro());return e.copy=function(){return Lo(e,Kp()).constant(e.constant())},Co.apply(e,arguments)}function Zp(){var e=kp(Ro());return e.copy=function(){return Lo(e,Zp()).exponent(e.exponent())},Co.apply(e,arguments)}function ee(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const w5=ee("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),v5=ee("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),_5=ee("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),x5=ee("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),T5=ee("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),S5=ee("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),M5=ee("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),$5=ee("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),E5=ee("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),A5=ee("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),C5=ee("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),fe=e=>b_(e[e.length-1]);var Qp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(ee);const Jp=fe(Qp);var em=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(ee);const tm=fe(em);var nm=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(ee);const rm=fe(nm);var im=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(ee);const am=fe(im);var Ks=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(ee);const Xa=fe(Ks);var om=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(ee);const um=fe(om);var Zs=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(ee);const Ka=fe(Zs);var sm=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(ee);const fm=fe(sm);var cm=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(ee);const lm=fe(cm);var dm=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(ee);const hm=fe(dm);var pm=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(ee);const mm=fe(pm);var gm=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(ee);const ym=fe(gm);var bm=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(ee);const wm=fe(bm);var vm=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(ee);const _m=fe(vm);var xm=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(ee);const Tm=fe(xm);var Sm=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(ee);const Mm=fe(Sm);var $m=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(ee);const Em=fe($m);var Am=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(ee);const Cm=fe(Am);var km=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(ee);const Nm=fe(km);var Im=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(ee);const Dm=fe(Im);var Lm=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(ee);const Rm=fe(Lm);var Om=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(ee);const Pm=fe(Om);var Fm=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(ee);const qm=fe(Fm);var jm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(ee);const Bm=fe(jm);var zm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(ee);const Um=fe(zm);var Hm=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(ee);const Gm=fe(Hm);var Ym=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(ee);const Wm=fe(Ym);function Vm(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Xm=$f(xt(300,.5,0),xt(-240,.5,1));var Km=$f(xt(-100,.75,.35),xt(80,1.5,.8)),Zm=$f(xt(260,.75,.35),xt(80,1.5,.8)),na=xt();function Qm(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return na.h=360*e-100,na.s=1.5-1.5*t,na.l=.8-.9*t,na+""}var ra=un(),k5=Math.PI/3,N5=Math.PI*2/3;function Jm(e){var t;return e=(.5-e)*Math.PI,ra.r=255*(t=Math.sin(e))*t,ra.g=255*(t=Math.sin(e+k5))*t,ra.b=255*(t=Math.sin(e+N5))*t,ra+""}function eg(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Oo(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const tg=Oo(ee("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var ng=Oo(ee("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),rg=Oo(ee("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),ig=Oo(ee("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function we(e){return function(){return e}}const ag=Math.cos,jf=Math.min,Za=Math.sin,ye=Math.sqrt,cd=1e-12,Qa=Math.PI,Po=2*Qa;function og(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new B0(t)}function ug(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function sg(e){this._context=e}sg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Di(e){return new sg(e)}function fg(e){return e[0]}function cg(e){return e[1]}function lg(e,t){var n=we(!0),r=null,i=Di,a=null,o=og(u);e=typeof e=="function"?e:e===void 0?fg:we(e),t=typeof t=="function"?t:t===void 0?cg:we(t);function u(s){var f,c=(s=ug(s)).length,l,d=!1,h;for(r==null&&(a=i(h=o())),f=0;f<=c;++f)!(f<c&&n(l=s[f],f,s))===d&&((d=!d)?a.lineStart():a.lineEnd()),d&&a.point(+e(l,f,s),+t(l,f,s));if(h)return a=null,h+""||null}return u.x=function(s){return arguments.length?(e=typeof s=="function"?s:we(+s),u):e},u.y=function(s){return arguments.length?(t=typeof s=="function"?s:we(+s),u):t},u.defined=function(s){return arguments.length?(n=typeof s=="function"?s:we(!!s),u):n},u.curve=function(s){return arguments.length?(i=s,r!=null&&(a=i(r)),u):i},u.context=function(s){return arguments.length?(s==null?r=a=null:a=i(r=s),u):r},u}function I5(e,t,n){var r=null,i=we(!0),a=null,o=Di,u=null,s=og(f);e=typeof e=="function"?e:e===void 0?fg:we(+e),t=typeof t=="function"?t:we(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?cg:we(+n);function f(l){var d,h,p,m=(l=ug(l)).length,g,b=!1,y,v=new Array(m),w=new Array(m);for(a==null&&(u=o(y=s())),d=0;d<=m;++d){if(!(d<m&&i(g=l[d],d,l))===b)if(b=!b)h=d,u.areaStart(),u.lineStart();else{for(u.lineEnd(),u.lineStart(),p=d-1;p>=h;--p)u.point(v[p],w[p]);u.lineEnd(),u.areaEnd()}b&&(v[d]=+e(g,d,l),w[d]=+t(g,d,l),u.point(r?+r(g,d,l):v[d],n?+n(g,d,l):w[d]))}if(y)return u=null,y+""||null}function c(){return lg().defined(i).curve(o).context(a)}return f.x=function(l){return arguments.length?(e=typeof l=="function"?l:we(+l),r=null,f):e},f.x0=function(l){return arguments.length?(e=typeof l=="function"?l:we(+l),f):e},f.x1=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:we(+l),f):r},f.y=function(l){return arguments.length?(t=typeof l=="function"?l:we(+l),n=null,f):t},f.y0=function(l){return arguments.length?(t=typeof l=="function"?l:we(+l),f):t},f.y1=function(l){return arguments.length?(n=l==null?null:typeof l=="function"?l:we(+l),f):n},f.lineX0=f.lineY0=function(){return c().x(e).y(t)},f.lineY1=function(){return c().x(e).y(n)},f.lineX1=function(){return c().x(r).y(t)},f.defined=function(l){return arguments.length?(i=typeof l=="function"?l:we(!!l),f):i},f.curve=function(l){return arguments.length?(o=l,a!=null&&(u=o(a)),f):o},f.context=function(l){return arguments.length?(l==null?a=u=null:u=o(a=l),f):a},f}class dg{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function D5(e){return new dg(e,!0)}function L5(e){return new dg(e,!1)}const R5=ye(3),hg={draw(e,t){const n=ye(t+jf(t/28,.75))*.59436,r=n/2,i=r*R5;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Bf={draw(e,t){const n=ye(t/Qa);e.moveTo(n,0),e.arc(0,0,n,0,Po)}},pg={draw(e,t){const n=ye(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},mg=ye(1/3),O5=mg*2,gg={draw(e,t){const n=ye(t/O5),r=n*mg;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},yg={draw(e,t){const n=ye(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},bg={draw(e,t){const n=ye(t-jf(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},wg={draw(e,t){const n=ye(t),r=-n/2;e.rect(r,r,n,n)}},vg={draw(e,t){const n=ye(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},P5=.8908130915292852,_g=Za(Qa/10)/Za(7*Qa/10),F5=Za(Po/10)*_g,q5=-ag(Po/10)*_g,xg={draw(e,t){const n=ye(t*P5),r=F5*n,i=q5*n;e.moveTo(0,-n),e.lineTo(r,i);for(let a=1;a<5;++a){const o=Po*a/5,u=ag(o),s=Za(o);e.lineTo(s*n,-u*n),e.lineTo(u*r-s*i,s*r+u*i)}e.closePath()}},Ou=ye(3),Tg={draw(e,t){const n=-ye(t/(Ou*3));e.moveTo(0,n*2),e.lineTo(-Ou*n,-n),e.lineTo(Ou*n,-n),e.closePath()}},j5=ye(3),Sg={draw(e,t){const n=ye(t)*.6824,r=n/2,i=n*j5/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Ue=-.5,He=ye(3)/2,Qs=1/ye(12),B5=(Qs/2+1)*3,Mg={draw(e,t){const n=ye(t/B5),r=n/2,i=n*Qs,a=r,o=n*Qs+n,u=-a,s=o;e.moveTo(r,i),e.lineTo(a,o),e.lineTo(u,s),e.lineTo(Ue*r-He*i,He*r+Ue*i),e.lineTo(Ue*a-He*o,He*a+Ue*o),e.lineTo(Ue*u-He*s,He*u+Ue*s),e.lineTo(Ue*r+He*i,Ue*i-He*r),e.lineTo(Ue*a+He*o,Ue*o-He*a),e.lineTo(Ue*u+He*s,Ue*s-He*u),e.closePath()}},$g={draw(e,t){const n=ye(t-jf(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},z5=[Bf,pg,gg,wg,xg,Tg,Mg],U5=[Bf,bg,$g,Sg,hg,vg,yg];function sn(){}function Ja(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Fo(e){this._context=e}Fo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ja(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ja(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function H5(e){return new Fo(e)}function Eg(e){this._context=e}Eg.prototype={areaStart:sn,areaEnd:sn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ja(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function G5(e){return new Eg(e)}function Ag(e){this._context=e}Ag.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ja(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Y5(e){return new Ag(e)}function Cg(e,t){this._basis=new Fo(e),this._beta=t}Cg.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],a=e[n]-r,o=t[n]-i,u=-1,s;++u<=n;)s=u/n,this._basis.point(this._beta*e[u]+(1-this._beta)*(r+s*a),this._beta*t[u]+(1-this._beta)*(i+s*o));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const W5=function e(t){function n(r){return t===1?new Fo(r):new Cg(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function eo(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function zf(e,t){this._context=e,this._k=(1-t)/6}zf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:eo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:eo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const V5=function e(t){function n(r){return new zf(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Uf(e,t){this._context=e,this._k=(1-t)/6}Uf.prototype={areaStart:sn,areaEnd:sn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:eo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const X5=function e(t){function n(r){return new Uf(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Hf(e,t){this._context=e,this._k=(1-t)/6}Hf.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:eo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const K5=function e(t){function n(r){return new Hf(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Gf(e,t,n){var r=e._x1,i=e._y1,a=e._x2,o=e._y2;if(e._l01_a>cd){var u=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*u-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,i=(i*u-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>cd){var f=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);a=(a*f+e._x1*e._l23_2a-t*e._l12_2a)/c,o=(o*f+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,a,o,e._x2,e._y2)}function kg(e,t){this._context=e,this._alpha=t}kg.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Gf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Z5=function e(t){function n(r){return t?new kg(r,t):new zf(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Ng(e,t){this._context=e,this._alpha=t}Ng.prototype={areaStart:sn,areaEnd:sn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Gf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const Q5=function e(t){function n(r){return t?new Ng(r,t):new Uf(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Ig(e,t){this._context=e,this._alpha=t}Ig.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Gf(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const J5=function e(t){function n(r){return t?new Ig(r,t):new Hf(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Dg(e){this._context=e}Dg.prototype={areaStart:sn,areaEnd:sn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function e8(e){return new Dg(e)}function ld(e){return e<0?-1:1}function dd(e,t,n){var r=e._x1-e._x0,i=t-e._x1,a=(e._y1-e._y0)/(r||i<0&&-0),o=(n-e._y1)/(i||r<0&&-0),u=(a*i+o*r)/(r+i);return(ld(a)+ld(o))*Math.min(Math.abs(a),Math.abs(o),.5*Math.abs(u))||0}function hd(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Pu(e,t,n){var r=e._x0,i=e._y0,a=e._x1,o=e._y1,u=(a-r)/3;e._context.bezierCurveTo(r+u,i+u*t,a-u,o-u*n,a,o)}function to(e){this._context=e}to.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Pu(this,this._t0,hd(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Pu(this,hd(this,n=dd(this,e,t)),n);break;default:Pu(this,this._t0,n=dd(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function Lg(e){this._context=new Rg(e)}(Lg.prototype=Object.create(to.prototype)).point=function(e,t){to.prototype.point.call(this,t,e)};function Rg(e){this._context=e}Rg.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,a){this._context.bezierCurveTo(t,e,r,n,a,i)}};function t8(e){return new to(e)}function n8(e){return new Lg(e)}function Og(e){this._context=e}Og.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=pd(e),i=pd(t),a=0,o=1;o<n;++a,++o)this._context.bezierCurveTo(r[0][a],i[0][a],r[1][a],i[1][a],e[o],t[o]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function pd(e){var t,n=e.length-1,r,i=new Array(n),a=new Array(n),o=new Array(n);for(i[0]=0,a[0]=2,o[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,a[t]=4,o[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,a[n-1]=7,o[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/a[t-1],a[t]-=r,o[t]-=r*o[t-1];for(i[n-1]=o[n-1]/a[n-1],t=n-2;t>=0;--t)i[t]=(o[t]-i[t+1])/a[t];for(a[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)a[t]=2*e[t+1]-i[t+1];return[i,a]}function r8(e){return new Og(e)}function qo(e,t){this._context=e,this._t=t}qo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function i8(e){return new qo(e,.5)}function a8(e){return new qo(e,0)}function o8(e){return new qo(e,1)}function Wr(e,t,n){this.k=e,this.x=t,this.y=n}Wr.prototype={constructor:Wr,scale:function(e){return e===1?this:new Wr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Wr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Wr.prototype;function fn(e){return e!=null&&!Number.isNaN(e)}function st(e,t){return+fn(t)-+fn(e)||Oe(e,t)}function no(e,t){return+fn(t)-+fn(e)||wi(e,t)}function Yf(e){return e!=null&&`${e}`!=""}function Pg(e){return isFinite(e)?e:NaN}function Wf(e){return e>0&&isFinite(e)?e:NaN}function Fg(e){return e<0&&isFinite(e)?e:NaN}function u8(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),a=e.getUTCMilliseconds();return`${s8(e.getUTCFullYear())}-${Lt(e.getUTCMonth()+1,2)}-${Lt(e.getUTCDate(),2)}${n||r||i||a?`T${Lt(n,2)}:${Lt(r,2)}${i||a?`:${Lt(i,2)}${a?`.${Lt(a,3)}`:""}`:""}Z`:""}`}function s8(e){return e<0?`-${Lt(-e,6)}`:e>9999?`+${Lt(e,6)}`:Lt(e,4)}function Lt(e,t){return`${e}`.padStart(t,"0")}const f8=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function qg(e,t){return f8.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function mr(e){if(e==null)return;const t=e[0],n=e[e.length-1];return wi(t,n)}const Zn=1e3,nn=Zn*60,rn=nn*60,Tt=rn*24,mt=Tt*7,En=Tt*30,Qt=Tt*365,Fu=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Zn],["5 seconds",5*Zn],["15 seconds",15*Zn],["30 seconds",30*Zn],["minute",nn],["5 minutes",5*nn],["15 minutes",15*nn],["30 minutes",30*nn],["hour",rn],["3 hours",3*rn],["6 hours",6*rn],["12 hours",12*rn],["day",Tt],["2 days",2*Tt],["week",mt],["2 weeks",2*mt],["month",En],["3 months",3*En],["6 months",6*En],["year",Qt],["2 years",2*Qt],["5 years",5*Qt],["10 years",10*Qt],["20 years",20*Qt],["50 years",50*Qt],["100 years",100*Qt]],Vf=new Map([["second",Zn],["minute",nn],["hour",rn],["day",Tt],["monday",mt],["tuesday",mt],["wednesday",mt],["thursday",mt],["friday",mt],["saturday",mt],["sunday",mt],["week",mt],["month",En],["year",Qt]]),jg=new Map([["second",nt],["minute",$i],["hour",Ai],["day",Fn],["monday",ci],["tuesday",Lp],["wednesday",Rp],["thursday",Rn],["friday",Op],["saturday",Pp],["sunday",hr],["week",hr],["month",ki],["year",ot]]),Xf=new Map([["second",nt],["minute",Ei],["hour",Ci],["day",Do],["monday",li],["tuesday",Fp],["wednesday",qp],["thursday",On],["friday",jp],["saturday",Bp],["sunday",pr],["week",pr],["month",Ni],["year",ut]]),Li=Symbol("intervalDuration"),jo=Symbol("intervalType");for(const[e,t]of jg)t[Li]=Vf.get(e),t[jo]="time";for(const[e,t]of Xf)t[Li]=Vf.get(e),t[jo]="utc";const Vr=[["year",ut,"utc"],["month",Ni,"utc"],["day",Do,"utc",6*En],["hour",Ci,"utc",3*Tt],["minute",Ei,"utc",6*rn],["second",nt,"utc",30*nn]],xa=[["year",ot,"time"],["month",ki,"time"],["day",Fn,"time",6*En],["hour",Ai,"time",3*Tt],["minute",$i,"time",6*rn],["second",nt,"time",30*nn]],c8=[Vr[0],xa[0],Vr[1],xa[1],Vr[2],xa[2],...Vr.slice(3)];function Bg(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(t);switch(r&&(t=t.slice(r[0].length),n=+r[1]),t){case"quarter":t="month",n*=3;break;case"half":t="month",n*=6;break}let i=Xf.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,n]}function zg(e){return Ug(Bg(e),"time")}function Kf(e){return Ug(Bg(e),"utc")}function Ug([e,t],n){let r=(n==="time"?jg:Xf).get(e);return t>1&&(r=r.every(t),r[Li]=Vf.get(e)*t,r[jo]=n),r}function md(e,t){if(!(t>1))return;const n=e[Li];if(!Fu.some(([,i])=>i===n)||n%Tt===0&&Tt<n&&n<En)return;const[r]=Fu[mo(([,i])=>Math.log(i)).center(Fu,Math.log(n*t))];return(e[jo]==="time"?zg:Kf)(r)}function gd(e,t,n){const r=t==="time"?Ff:Ii;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=l8(n);switch(e){case"millisecond":return Yn(r(".%L"),r(":%M:%S"),i);case"second":return Yn(r(":%S"),r("%-I:%M"),i);case"minute":return Yn(r("%-I:%M"),r("%p"),i);case"hour":return Yn(r("%-I %p"),r("%b %-d"),i);case"day":return Yn(r("%-d"),r("%b"),i);case"month":return Yn(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function l8(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function d8(e){return e==="time"?xa:e==="utc"?Vr:c8}function h8(e,t,n){const r=rt(uw(t,(i,a)=>Math.abs(a-i)));if(r<1e3)return gd("millisecond","utc",n);for(const[i,a,o,u]of d8(e)){if(r>u||i==="hour"&&!r)break;if(t.every(s=>a.floor(s)>=s))return gd(i,o,n)}}function Yn(e,t,n){return(r,i,a)=>{const o=e(r,i),u=t(r,i),s=i-mr(a);return i!==s&&a[s]!==void 0&&u===t(a[s],s)?o:n(o,u)}}const Zf=Object.getPrototypeOf(Uint8Array),p8=Object.prototype.toString;function hn(e){return e instanceof Array||e instanceof Zf}function Hg(e){return e instanceof Zf&&!m8(e)}function Gg(e){return(e==null?void 0:e.prototype)instanceof Zf&&!g8(e)}function m8(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function g8(e){return e===BigInt64Array||e===BigUint64Array}const Yg=Symbol("reindex");function le(e,t,n){const r=typeof t;return r==="string"?n1(e)?Qf(e.getChild(t),n):yd(e,Wg(t),n):r==="function"?yd(e,t,n):r==="number"||t instanceof Date||r==="boolean"?me(e,qt(t),n):typeof(t==null?void 0:t.transform)=="function"?Js(t.transform(e),n):y8(Js(t,n),e==null?void 0:e[Yg])}function y8(e,t){return e!=null&&t?rc(e,t):e}function yd(e,t,n){return me(e,Gg(n)?(r,i)=>ec(t(r,i)):t,n)}function Js(e,t){return t===void 0?cn(e):r1(e)?Qf(e,t):e instanceof t?e:t.from(e,Gg(t)&&!Hg(e)?ec:void 0)}function Qf(e,t){return e==null?e:(t===void 0||t===Array)&&F8(e.type)?Vg(e.toArray()):Js(e.toArray(),t)}const Ta=[null],Wg=e=>t=>{var r;const n=t[e];return n===void 0&&t.type==="Feature"?(r=t.properties)==null?void 0:r[e]:n},Ri={transform:Gt},Te={transform:e=>e},b8=()=>1,w8=()=>!0,De=e=>e==null?e:`${e}`,ke=e=>e==null?e:+e,Jf=e=>e?e[0]:void 0,ro=e=>e?e[1]:void 0,qt=e=>()=>e;function v8(e){const t=+`${e}`.slice(1)/100;return(n,r)=>ar(n,t,r)}function gr(e){return Hg(e)?e:me(e,ec,Float64Array)}function ec(e){return e==null?NaN:Number(e)}function Vg(e){return me(e,Xg)}function Xg(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?qg(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function Qe(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:zo(e)?[void 0,e]:[e,void 0]}function qe(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function Kg(e,t,n){if(e!=null)return ct(e,t,n)}function ct(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function yr(e){return n1(e)?e:cn(e)}function cn(e){if(e==null||hn(e))return e;if(r1(e))return Qf(e);switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[e]}return Array.from(e)}function me(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function di(e,t=Array){return e instanceof t?e.slice():t.from(e)}function _8({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function Zg({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function x8(e){return _8(e)||Zg(e)||e.interval!==void 0}function pn(e){return(e==null?void 0:e.toString)===p8}function ef(e){return pn(e)&&(e.type!==void 0||e.domain!==void 0)}function Bo(e){return pn(e)&&typeof e.transform!="function"}function br(e){return Bo(e)&&e.value===void 0&&e.channel===void 0}function T8(e,t,n,r=Te){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function tc(e,t){return e===void 0&&t===void 0?[Jf,ro]:[e,t]}function nc({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Qe(t)),e===void 0&&([e]=Qe(n)),e}function hi(e){return hn(e)?e.length:e==null?void 0:e.numRows}function Gt(e){const t=hi(e),n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function rc(e,t){return hn(e)?me(t,n=>e[n],e.constructor):me(t,n=>e.at(n))}function S8(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function jt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function M8(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function io(e){let t;return[{transform:()=>t,label:mn(e)},n=>t=n]}function Le(e){return e==null?[e]:io(e)}function mn(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function tf(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Fe(r)||Fe(i)?me(r,(a,o)=>new Date((+r[o]+ +i[o])/2)):me(r,(a,o)=>(+r[o]+ +i[o])/2,Float64Array)},label:e.label}}function ao(e,t){const n=Qg(t==null?void 0:t.interval,t==null?void 0:t.type);return n?me(e,n):e}function Qg(e,t){const n=ic(e,t);return n&&(r=>fn(r)?n.floor(r):r)}function ic(e,t){if(e!=null){if(typeof e=="number")return $8(e);if(typeof e=="string")return(t==="time"?zg:Kf)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function $8(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:n=>Math.floor(n*t)/t,offset:(n,r=1)=>(n*t+Math.floor(r))/t,range:(n,r)=>bs(Math.ceil(n*t),r*t).map(i=>i/t)}:{floor:n=>Math.floor(n/t)*t,offset:(n,r=1)=>n+t*Math.floor(r),range:(n,r)=>bs(Math.ceil(n/t),r/t).map(i=>i*t)}}function $r(e,t){if(e=ic(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function E8(e,t){if(e=$r(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function A8(e){return Qn(e)&&typeof(e==null?void 0:e.floor)=="function"&&e.floor()instanceof Date}function Qn(e){return typeof(e==null?void 0:e.range)=="function"}function Er(e){return e===void 0||Bo(e)?e:{value:e}}function C8(e){return e==null?null:{transform:t=>le(t,e,Float64Array),label:mn(e)}}function gn(e){return e&&typeof e[Symbol.iterator]=="function"}function Jg(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function bd(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Fe(e){for(const t of e)if(t!=null)return t instanceof Date}function k8(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&qg(t)}function N8(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function I8(e){for(const t of e)if(t!=null)return typeof t=="number"}function qu(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}const D8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function zo(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||D8.has(e))}function L8(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Ae(e){return e==null||pi(e)}function pi(e){return/^\s*none\s*$/i.test(e)}function R8(e){return/^\s*round\s*$/i.test(e)}function nf(e,t){return Kg(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function ac(e="middle"){return nf(e,"frameAnchor")}function O8(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const a=r[i];n===e?n={...n,[i]:a}:n[i]=a}return n}function P8(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function e1(e){return gn(e)?P8(e):e}function t1(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=ct(e,"clip",["frame","sphere"])),e}function n1(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function r1(e){return e&&typeof e.toArray=="function"&&e.type}function F8(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}const wt=Symbol("position"),Yt=Symbol("color"),Oi=Symbol("radius"),Pi=Symbol("length"),Fi=Symbol("opacity"),Uo=Symbol("symbol"),i1=Symbol("projection"),pe=new Map([["x",wt],["y",wt],["fx",wt],["fy",wt],["r",Oi],["color",Yt],["opacity",Fi],["symbol",Uo],["length",Pi],["projection",i1]]);function q8(e){return e===wt||e===i1}function j8(e){return e===wt||e===Oi||e===Pi||e===Fi}const B8=Math.sqrt(3),z8=2/B8,U8={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*z8,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},oc=new Map([["asterisk",hg],["circle",Bf],["cross",pg],["diamond",gg],["diamond2",yg],["hexagon",U8],["plus",bg],["square",wg],["square2",vg],["star",xg],["times",$g],["triangle",Tg],["triangle2",Sg],["wye",Mg]]);function uc(e){return e&&typeof e.draw=="function"}function H8(e){return uc(e)?!0:typeof e!="string"?!1:oc.has(e.toLowerCase())}function sc(e){if(e==null||uc(e))return e;const t=oc.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function US(e){if(e==null||uc(e))return[void 0,e];if(typeof e=="string"){const t=oc.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function qi({filter:e,sort:t,reverse:n,transform:r,initializer:i,...a}={},o){if(r===void 0&&(e!=null&&(r=a1(e)),t!=null&&!br(t)&&(r=ju(r,fc(t))),n&&(r=ju(r,o1))),o!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...a,...(t===null||br(t))&&{sort:t},transform:ju(r,o)}}function wr({filter:e,sort:t,reverse:n,initializer:r,...i}={},a){return r===void 0&&(e!=null&&(r=a1(e)),t!=null&&!br(t)&&(r=Bu(r,fc(t))),n&&(r=Bu(r,o1))),{...i,...(t===null||br(t))&&{sort:t},initializer:Bu(r,a)}}function ju(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,yr(n),r,i)}}function Bu(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...a){let o,u,s,f,c,l;return{data:u=n,facets:s=r,channels:o}=e.call(this,n,r,i,...a),{data:c=u,facets:l=s,channels:f}=t.call(this,u,s,{...i,...o},...a),{data:c,facets:l,channels:{...o,...f}}}}function G8(e,t){return(e.initializer!=null?wr:qi)(e,t)}function a1(e){return(t,n)=>{const r=le(t,e);return{data:t,facets:n.map(i=>i.filter(a=>r[a]))}}}function o1(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function HS(e,{sort:t,...n}={}){return{...(Bo(e)&&e.channel!==void 0?wr:G8)(n,fc(e)),sort:br(t)?t:null}}function fc(e){return(typeof e=="function"&&e.length!==1?Y8:W8)(e)}function Y8(e){return(t,n)=>{const r=hn(t)?(i,a)=>e(t[i],t[a]):(i,a)=>e(t.get(i),t.get(a));return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function W8(e){let t,n;({channel:t,value:e,order:n}={...Er(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?no:st),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=st;break;case"descending":n=no;break;default:throw new Error(`invalid order: ${n}`)}return(i,a,o)=>{let u;if(t===void 0)u=le(i,e);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(u=o[t],!u)return{};u=u.value}const s=(f,c)=>n(u[f],u[c]);return{data:i,facets:a.map(f=>f.slice().sort(s))}}}function u1(e={y:"count"},t={}){const{x:n=Te}=t;if(n==null)throw new Error("missing channel: x");return V8(n,null,e,t)}function V8(e,t,{data:n=dc,filter:r,sort:i,reverse:a,...o}={},u={}){o=Z8(o,u),n=l1(n,Te),i=i==null?void 0:f1("sort",i,u),r=r==null?void 0:c1("filter",r,u);const[s,f]=Le(e),[c,l]=Le(t),{z:d,fill:h,stroke:p,x1:m,x2:g,y1:b,y2:y,...v}=u,[w,T]=Le(d),[_]=Qe(h),[E]=Qe(p),[C,k]=Le(_),[R,$]=Le(E);return{..."z"in u&&{z:w||d},..."fill"in u&&{fill:C||h},..."stroke"in u&&{stroke:R||p},...qi(v,(S,x,A)=>{const M=ao(le(S,e),A==null?void 0:A.x),N=ao(le(S,t),A==null?void 0:A.y),I=le(S,d),z=le(S,_),H=le(S,E),P=d1(o,{z:I,fill:z,stroke:H}),j=[],F=[],q=M&&f([]),K=N&&l([]),Z=I&&T([]),W=z&&k([]),G=H&&$([]);let B=0;for(const D of o)D.initialize(S);i&&i.initialize(S),r&&r.initialize(S);for(const D of x){const U=[];for(const Y of o)Y.scope("facet",D);i&&i.scope("facet",D),r&&r.scope("facet",D);for(const[Y,L]of ni(D,P))for(const[ie,V]of ni(L,N))for(const[ae,oe]of ni(V,M)){const ce={data:S};if(M&&(ce.x=ae),N&&(ce.y=ie),P&&(ce.z=Y),!(r&&!r.reduce(oe,ce))){U.push(B++),F.push(n.reduceIndex(oe,S,ce)),M&&q.push(ae),N&&K.push(ie),I&&Z.push(P===I?Y:I[oe[0]]),z&&W.push(P===z?Y:z[oe[0]]),H&&G.push(P===H?Y:H[oe[0]]);for(const lt of o)lt.reduce(oe,ce);i&&i.reduce(oe,ce)}}j.push(U)}return h1(j,i,a),{data:F,facets:j}}),...!ti(o,"x")&&(s?{x:s}:{x1:m,x2:g}),...!ti(o,"y")&&(c?{y:c}:{y1:b,y2:y}),...Object.fromEntries(o.map(({name:S,output:x})=>[S,x]))}}function ti(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function s1(e,t,n=cc){const r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",t4]),t.href!=null&&e.href===void 0&&r.push(["href",hc]),r.filter(([,i])=>i!==void 0).map(([i,a])=>a===null?X8(i):n(i,a,t))}function cc(e,t,n,r=lc){let i;pn(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);const a=r(e,t,n),[o,u]=io(a.label);let s;return{name:e,output:i===void 0?o:{value:o,scale:i},initialize(f){a.initialize(f),s=u([])},scope(f,c){a.scope(f,c)},reduce(f,c){s.push(a.reduce(f,c))}}}function X8(e){return{name:e,initialize(){},scope(){},reduce(){}}}function lc(e,t,n,r=Ho){const i=M8(e,n),a=r(t,i);let o,u;return{label:mn(a===oo?null:i,a.label),initialize(s){o=i===void 0?s:le(s,i),a.scope==="data"&&(u=a.reduceIndex(Gt(s),o))},scope(s,f){a.scope===s&&(u=a.reduceIndex(f,o))},reduce(s,f){return a.scope==null?a.reduceIndex(s,o,f):a.reduceIndex(s,o,u,f)}}}function ni(e,t){return t?bo(e,n=>t[n]):[[,e]]}function Ho(e,t,n=K8){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&pn(e))return J8(e);if(typeof e=="function")return e4(e);if(/^p\d{2}$/i.test(e))return Dt(v8(e));switch(`${e}`.toLowerCase()){case"first":return hc;case"last":return n4;case"identity":return dc;case"count":return oo;case"distinct":return r4;case"sum":return t==null?oo:i4;case"proportion":return vd(t,"data");case"proportion-facet":return vd(t,"facet");case"deviation":return Dt(Kh);case"min":return Dt(Bt);case"min-index":return Dt(tw);case"max":return Dt(rt);case"max-index":return Dt(ew);case"mean":return wd(iw);case"median":return wd(ys);case"variance":return Dt(Xh);case"mode":return Dt(ow)}return n(e)}function K8(e){throw new Error(`invalid reduce: ${e}`)}function Z8(e,t){return s1(e,t,f1)}function f1(e,t,n){return cc(e,t,n,c1)}function c1(e,t,n){return lc(e,t,n,l1)}function l1(e,t){return Ho(e,t,Q8)}function Q8(e){switch(`${e}`.toLowerCase()){case"x":return a4;case"y":return o4;case"z":return p1}throw new Error(`invalid group reduce: ${e}`)}function d1(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function h1(e,t,n){if(t){const r=t.output.transform(),i=(a,o)=>st(r[a],r[o]);e.forEach(a=>a.sort(i))}n&&e.forEach(r=>r.reverse())}function J8(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function e4(e){return{reduceIndex(t,n,r){return e(rc(n,t),r)}}}function Dt(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function wd(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Fe(n)?new Date(r):r}}}const dc={reduceIndex(e,t){return rc(t,e)}},hc={reduceIndex(e,t){return t[e[0]]}},t4={reduceIndex(e,t){const r=Sa(er(e,a=>a.length,a=>t[a]),ro),i=r.slice(-5).reverse();if(i.length<r.length){const a=r.slice(0,-4);i[4]=[`… ${a.length.toLocaleString("en-US")} more`,on(a,ro)]}return i.map(([a,o])=>`${a} (${o.toLocaleString("en-US")})`).join(`
`)}},n4={reduceIndex(e,t){return t[e[e.length-1]]}},oo={label:"Frequency",reduceIndex(e){return e.length}},r4={label:"Distinct",reduceIndex(e,t){const n=new yo;for(const r of e)n.add(t[r]);return n.size}},i4=Dt(on);function vd(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>on(n,a=>r[a])/i}}const a4={reduceIndex(e,t,{x:n}){return n}},o4={reduceIndex(e,t,{y:n}){return n}},p1={reduceIndex(e,t,{z:n}){return n}};function uo(e){if(typeof e!="function")throw new Error(`invalid test function: ${e}`);return{reduceIndex(t,n,{data:r}){return n[t.find(hn(r)?i=>e(r[i],i,r):i=>e(r.get(i),i,r))]}}}function mi(e,{scale:t,type:n,value:r,filter:i,hint:a,label:o=mn(r)},u){return a===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(a=r.hint),m1(u,{scale:t,type:n,value:le(e,r),label:o,filter:i,hint:a})}function u4(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,mi(t,r,n)]))}function s4(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:a}])=>{const o=i==null?null:t[i];return[r,o==null?a:me(a,o)]}));return n.channels=e,n}function m1(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&qu(r,zo)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&qu(r,L8)?null:"opacity",t.defaultScale="opacity";break;case"symbol":n!==!0&&qu(r,H8)?(t.scale=null,t.value=me(r,sc)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=pe.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!pe.has(n))throw new Error(`unknown scale: ${n}`);return t}function f4(e,t,n,r,i){const{order:a,reverse:o,reduce:u=!0,limit:s}=i;for(const f in i){if(!pe.has(f))continue;let{value:c,order:l=a,reverse:d=o,reduce:h=u,limit:p=s}=Er(i[f]);const m=c==null?void 0:c.startsWith("-");if(m&&(c=c.slice(1)),l=l===void 0?m!==(c==="width"||c==="height")?y1:g1:d4(l),h==null||h===!1)continue;const g=f==="fx"||f==="fy"?l4(t,r[f]):c4(n,f);if(!g)throw new Error(`missing channel for scale: ${f}`);const b=g.value,[y=0,v=1/0]=gn(p)?p:p<0?[p]:[0,p];if(c==null)g.domain=()=>{let w=Array.from(new yo(b));return d&&(w=w.reverse()),(y!==0||v!==1/0)&&(w=w.slice(y,v)),w};else{const w=c==="data"?e:c==="height"?_d(n,"y1","y2"):c==="width"?_d(n,"x1","x2"):rf(n,c,c==="y"?"y2":c==="x"?"x2":void 0),T=Ho(h===!0?"max":h,w);g.domain=()=>{let _=V2(Gt(b),E=>T.reduceIndex(E,w),E=>b[E]);return l&&_.sort(l),d&&_.reverse(),(y!==0||v!==1/0)&&(_=_.slice(y,v)),_.map(Jf)}}}}function c4(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function l4(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let a=0;a<n.length;++a){const o=r[n[a][0]];for(const u of e[a])i[u]=o}return t}function _d(e,t,n){const r=rf(e,t),i=rf(e,n);return me(i,(a,o)=>Math.abs(a-r[o]),Float64Array)}function rf(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function d4(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return g1;case"descending":return y1}throw new Error(`invalid order: ${e}`)}function g1([e,t],[n,r]){return st(t,r)||st(e,n)}function y1([e,t],[n,r]){return no(t,r)||st(e,n)}function xd(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const b1=new Map([["accent",v5],["category10",w5],["dark2",_5],["observable10",x5],["paired",T5],["pastel1",S5],["pastel2",M5],["set1",$5],["set2",E5],["set3",A5],["tableau10",C5]]);function h4(e){return e!=null&&b1.has(`${e}`.toLowerCase())}const Td=new Map([...b1,["brbg",Ct(Qp,Jp)],["prgn",Ct(em,tm)],["piyg",Ct(nm,rm)],["puor",Ct(im,am)],["rdbu",Ct(Ks,Xa)],["rdgy",Ct(om,um)],["rdylbu",Ct(Zs,Ka)],["rdylgn",Ct(sm,fm)],["spectral",Ct(cm,lm)],["burd",Sd(Ks,Xa)],["buylrd",Sd(Zs,Ka)],["blues",be(Om,Pm)],["greens",be(Fm,qm)],["greys",be(jm,Bm)],["oranges",be(Ym,Wm)],["purples",be(zm,Um)],["reds",be(Hm,Gm)],["turbo",kt(eg)],["viridis",kt(tg)],["magma",kt(ng)],["inferno",kt(rg)],["plasma",kt(ig)],["cividis",kt(Vm)],["cubehelix",kt(Xm)],["warm",kt(Km)],["cool",kt(Zm)],["bugn",be(dm,hm)],["bupu",be(pm,mm)],["gnbu",be(gm,ym)],["orrd",be(bm,wm)],["pubu",be(xm,Tm)],["pubugn",be(vm,_m)],["purd",be(Sm,Mm)],["rdpu",be($m,Em)],["ylgn",be(km,Nm)],["ylgnbu",be(Am,Cm)],["ylorbr",be(Im,Dm)],["ylorrd",be(Lm,Rm)],["rainbow",Md(Qm)],["sinebow",Md(Jm)]]);function be(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?at(t,n):e[n])}function Ct(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?at(t,n):e[n])}function Sd(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?at(r=>t(1-r),n):e[n].slice().reverse())}function kt(e){return({length:t})=>at(e,Math.max(2,Math.floor(t)))}function Md(e){return({length:t})=>at(e,Math.floor(t)+1).slice(0,-1)}function w1(e){const t=`${e}`.toLowerCase();if(!Td.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Td.get(t)}function Go(e,t){const n=w1(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function p4(e,t="greys"){const n=new Set,[r,i]=Go(t,2);for(const a of e)if(a!=null)if(a===!0)n.add(i);else if(a===!1)n.add(r);else return;return[...n]}const $d=new Map([["brbg",Jp],["prgn",tm],["piyg",rm],["puor",am],["rdbu",Xa],["rdgy",um],["rdylbu",Ka],["rdylgn",fm],["spectral",lm],["burd",e=>Xa(1-e)],["buylrd",e=>Ka(1-e)],["blues",Pm],["greens",qm],["greys",Bm],["purples",Um],["reds",Gm],["oranges",Wm],["turbo",eg],["viridis",tg],["magma",ng],["inferno",rg],["plasma",ig],["cividis",Vm],["cubehelix",Xm],["warm",Km],["cool",Zm],["bugn",hm],["bupu",mm],["gnbu",ym],["orrd",wm],["pubugn",_m],["pubu",Tm],["purd",Mm],["rdpu",Em],["ylgnbu",Cm],["ylgn",Nm],["ylorbr",Dm],["ylorrd",Rm],["rainbow",Qm],["sinebow",Jm]]);function pc(e){const t=`${e}`.toLowerCase();if(!$d.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return $d.get(t)}const m4=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function g4(e){return e!=null&&m4.has(`${e}`.toLowerCase())}const v1=e=>t=>e(1-t),zu=[0,1],Ed=new Map([["number",Ee],["rgb",In],["hsl",N_],["hcl",L_],["lab",I_]]);function _1(e){const t=`${e}`.toLowerCase();if(!Ed.has(t))throw new Error(`unknown interpolator: ${t}`);return Ed.get(t)}function ji(e,t,n,{type:r,nice:i,clamp:a,zero:o,domain:u=T1(e,n),unknown:s,round:f,scheme:c,interval:l,range:d=pe.get(e)===Oi?E4(n,u):pe.get(e)===Pi?A4(n,u):pe.get(e)===Fi?zu:void 0,interpolate:h=pe.get(e)===Yt?c==null&&d!==void 0?In:pc(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):f?Mf:Ee,reverse:p}){if(l=$r(l,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=_1(h)),p=!!p,d!==void 0){const m=(u=cn(u)).length,g=(d=cn(d)).length;if(m!==g){if(h.length===1)throw new Error("invalid piecewise interpolator");h=To(h,d),d=void 0}}if(h.length===1?(p&&(h=v1(h),p=!1),d===void 0&&(d=Float64Array.from(u,(m,g)=>g/(u.length-1)),d.length===2&&(d=zu)),t.interpolate((d===zu?qt:gc)(h))):t.interpolate(h),o){const[m,g]=Ye(u);(m>0||g<0)&&(u=di(u),(mr(u)||1)===Math.sign(m)?u[0]=0:u[u.length-1]=0)}return p&&(u=Aa(u)),t.domain(u).unknown(s),i&&(t.nice(y4(i,r)),u=t.domain()),d!==void 0&&t.range(d),a&&t.clamp(a),{type:r,domain:u,range:d,scale:t,interpolate:h,interval:l}}function y4(e,t){return e===!0?void 0:typeof e=="number"?e:E8(e,t)}function b4(e,t,n){return ji(e,Of(),t,n)}function w4(e,t,n){return x1(e,t,{...n,exponent:.5})}function x1(e,t,{exponent:n=1,...r}){return ji(e,Np().exponent(n),t,{...r,type:"pow"})}function v4(e,t,{base:n=10,domain:r=C4(t),...i}){return ji(e,Ep().base(n),t,{...i,domain:r})}function _4(e,t,{constant:n=1,...r}){return ji(e,Cp().constant(n),t,r)}function x4(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:a="rdylbu",domain:o=k4(t),unknown:u,interpolate:s,reverse:f}){return n===void 0&&(n=s!==void 0?at(s,i):pe.get(e)===Yt?Go(a,i):void 0),o.length>0&&(o=Ip(o,n===void 0?{length:i}:n).quantiles()),mc(e,t,{domain:o,range:n,reverse:f,unknown:u})}function T4(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:a=T1(e,t),unknown:o,interpolate:u,reverse:s}){const[f,c]=Ye(a);let l;return n===void 0?(l=ri(f,c,r),l[0]<=f&&l.splice(0,1),l[l.length-1]>=c&&l.pop(),r=l.length+1,n=u!==void 0?at(u,r):pe.get(e)===Yt?Go(i,r):void 0):(l=at(Ee(f,c),r+1).slice(1,-1),f instanceof Date&&(l=l.map(d=>new Date(d)))),mr(cn(a))<0&&l.reverse(),mc(e,t,{domain:l,range:n,reverse:s,unknown:o})}function mc(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:a,range:o=a!==void 0?at(a,n.length+1):pe.get(e)===Yt?Go(i,n.length+1):void 0,reverse:u}){n=cn(n);const s=mr(n);if(!isNaN(s)&&!S4(n,s))throw new Error(`the ${e} scale has a non-monotonic domain`);return u&&(o=Aa(o)),{type:"threshold",scale:Dp(s<0?Aa(n):n,o===void 0?[]:o).unknown(r),domain:n,range:o}}function S4(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const a=wi(i,i=e[n]);if(a!==0&&a!==t)return!1}return!0}function M4(e){return{type:"identity",scale:j8(pe.get(e))?Sp():t=>t}}function gi(e,t=Pg){return e.length?[Bt(e,({value:n})=>n===void 0?n:Bt(n,t)),rt(e,({value:n})=>n===void 0?n:rt(n,t))]:[0,1]}function T1(e,t){const n=pe.get(e);return(n===Oi||n===Fi||n===Pi?$4:gi)(t)}function $4(e){return[0,e.length?rt(e,({value:t})=>t===void 0?t:rt(t,Pg)):1]}function E4(e,t){const n=e.find(({radius:o})=>o!==void 0);if(n!==void 0)return[0,n.radius];const r=ar(e,.5,({value:o})=>o===void 0?NaN:ar(o,.25,Wf)),i=t.map(o=>3*Math.sqrt(o/r)),a=30/rt(i);return a<1?i.map(o=>o*a):i}function A4(e,t){const n=ys(e,({value:a})=>a===void 0?NaN:ys(a,Math.abs)),r=t.map(a=>12*a/n),i=60/rt(r);return i<1?r.map(a=>a*i):r}function C4(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return gi(e,Wf);if(n<0)return gi(e,Fg)}return[1,10]}function k4(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function gc(e){return(t,n)=>r=>e(t+r*(n-t))}let af=0,of;function N4(){const e=af;return af=0,of=void 0,e}function an(e){e!==of&&(of=e,console.warn(e),++af)}function Yo(e,t,n,r,{type:i,nice:a,clamp:o,domain:u=gi(r),unknown:s,pivot:f=0,scheme:c,range:l,symmetric:d=!0,interpolate:h=pe.get(e)===Yt?c==null&&l!==void 0?In:pc(c!==void 0?c:"rdbu"):Ee,reverse:p}){f=+f,u=cn(u);let[m,g]=u;if(u.length>2&&an(`Warning: the diverging ${e} scale domain contains extra elements.`),wi(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,f),g=Math.max(g,f),typeof h!="function"&&(h=_1(h)),l!==void 0&&(h=h.length===1?gc(h)(...l):To(h,l)),p&&(h=v1(h)),d){const b=n.apply(f),y=b-n.apply(m),v=n.apply(g)-b;y<v?m=n.invert(b-v):y>v&&(g=n.invert(b+y))}return t.domain([m,f,g]).unknown(s).interpolator(h),o&&t.clamp(o),a&&t.nice(a),{type:i,domain:[m,g],pivot:f,interpolate:h,scale:t}}function I4(e,t,n){return Yo(e,Vp(),O4,t,n)}function D4(e,t,n){return S1(e,t,{...n,exponent:.5})}function S1(e,t,{exponent:n=1,...r}){return Yo(e,Zp().exponent(n=+n),q4(n),t,{...r,type:"diverging-pow"})}function L4(e,t,{base:n=10,pivot:r=1,domain:i=gi(t,r<0?Fg:Wf),...a}){return Yo(e,Xp().base(n=+n),P4,t,{domain:i,pivot:r,...a})}function R4(e,t,{constant:n=1,...r}){return Yo(e,Kp().constant(n=+n),j4(n),t,r)}const O4={apply(e){return e},invert(e){return e}},P4={apply:Math.log,invert:Math.exp},F4={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function q4(e){return e===.5?F4:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function j4(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function M1(e,t,n,r){return ji(e,t,n,r)}function B4(e,t,n){return M1(e,y5(),t,n)}function z4(e,t,n){return M1(e,b5(),t,n)}const Bi=Symbol("ordinal");function $1(e,t,n,{type:r,interval:i,domain:a,range:o,reverse:u,hint:s}){return i=$r(i,r),a===void 0&&(a=A1(n,i,e)),(r==="categorical"||r===Bi)&&(r="ordinal"),u&&(a=Aa(a)),a=t.domain(a).domain(),o!==void 0&&(typeof o=="function"&&(o=o(a)),t.range(o)),{type:r,domain:a,range:o,scale:t,hint:s,interval:i}}function U4(e,t,{type:n,interval:r,domain:i,range:a,scheme:o,unknown:u,...s}){r=$r(r,n),i===void 0&&(i=A1(t,r,e));let f;if(pe.get(e)===Uo)f=Y4(t),a=a===void 0?W4(f):me(a,sc);else if(pe.get(e)===Yt&&(a===void 0&&(n==="ordinal"||n===Bi)&&(a=p4(i,o),a!==void 0&&(o=void 0)),o===void 0&&a===void 0&&(o=n==="ordinal"?"turbo":"observable10"),o!==void 0))if(a!==void 0){const c=pc(o),l=a[0],d=a[1]-a[0];a=({length:h})=>at(p=>c(l+d*p),h)}else a=w1(o);if(u===Ws)throw new Error(`implicit unknown on ${e} scale is not supported`);return $1(e,Rf().unknown(u),t,{...s,type:n,domain:i,range:a,hint:f})}function H4(e,t,{align:n=.5,padding:r=.5,...i}){return E1(Qx().align(n).padding(r),t,i,e)}function G4(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:a=e==="fx"||e==="fy"?0:r,...o}){return E1(ko().align(n).paddingInner(i).paddingOuter(a),t,o,e)}function E1(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=$1(r,e,t,n),e.round=i,e}function A1(e,t,n){const r=new yo;for(const{value:i,domain:a}of e){if(a!==void 0)return a();if(i!==void 0)for(const o of i)r.add(o)}if(t!==void 0){const[i,a]=Ye(r).map(t.floor,t);return t.range(i,t.offset(a))}if(r.size>1e4&&pe.get(n)===wt)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return Sa(r,st)}function Ad(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function Y4(e){return{fill:Ad(e,"fill"),stroke:Ad(e,"stroke")}}function W4(e){return Ae(e.fill)?U5:z5}function uf(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:a=n,insetLeft:o=n,round:u,nice:s,clamp:f,zero:c,align:l,padding:d,projection:h,facet:{label:p=t}={},...m}={}){const g={};for(const[b,y]of e){const v=m[b],w=Z4(b,y,{round:pe.get(b)===wt?u:void 0,nice:s,clamp:f,zero:c,align:l,padding:d,projection:h,...v});if(w){let{label:T=b==="fx"||b==="fy"?p:t,percent:_,transform:E,inset:C,insetTop:k=C!==void 0?C:b==="y"?r:0,insetRight:R=C!==void 0?C:b==="x"?i:0,insetBottom:$=C!==void 0?C:b==="y"?a:0,insetLeft:S=C!==void 0?C:b==="x"?o:0}=v||{};if(E==null)E=void 0;else if(typeof E!="function")throw new Error("invalid scale transform; not a function");w.percent=!!_,w.label=T===void 0?X4(y,w):T,w.transform=E,b==="x"||b==="fx"?(w.insetLeft=+S,w.insetRight=+R):(b==="y"||b==="fy")&&(w.insetTop=+k,w.insetBottom=+$),g[b]=w}}return g}function Cd(e){const t={},n={scales:t};for(const[r,i]of Object.entries(e)){const{scale:a,type:o,interval:u,label:s}=i;t[r]=n7(i),n[r]=a,a.type=o,u!=null&&(a.interval=u),s!=null&&(a.label=s)}return n}function V4(e,t){const{x:n,y:r,fx:i,fy:a}=e,o=i||a?yc(t):t;i&&kd(i,o),a&&Nd(a,o);const u=i||a?k1(e,t):t;n&&kd(n,u),r&&Nd(r,u)}function X4(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Bn(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function C1(e){return Math.sign(mr(e.domain()))*Math.sign(mr(e.range()))}function yc(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:a,height:o,facet:{marginTop:u,marginRight:s,marginBottom:f,marginLeft:c}}=e;return{marginTop:Math.max(t,u),marginRight:Math.max(n,s),marginBottom:Math.max(r,f),marginLeft:Math.max(i,c),width:a,height:o}}function k1({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:u,height:s}=yc(n);return{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:e?e.scale.bandwidth()+o+i:u,height:t?t.scale.bandwidth()+r+a:s,facet:{width:u,height:s}}}function kd(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:a=0,marginRight:o=0}=t,u=a+n,s=i-o-r;e.range=[u,Math.max(u,s)],Bn(e)||(e.range=I1(e)),e.scale.range(e.range)}N1(e)}function Nd(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:a=0,marginBottom:o=0}=t,u=a+n,s=i-o-r;e.range=[Math.max(u,s),u],Bn(e)?e.range.reverse():e.range=I1(e),e.scale.range(e.range)}N1(e)}function N1(e){e.round===void 0&&J4(e)&&K4(e)<=30&&e.scale.round(!0)}function K4({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,a=e.paddingOuter?e.paddingOuter():e.padding(),o=t-i,u=Math.abs(r-n)/Math.max(1,o+a*2);return(u-Math.floor(u))*o}function I1(e){const t=e.scale.domain().length+D1(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,a)=>n+a/(t-1)*(r-n))}function Z4(e,t=[],n={}){const r=Q4(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Bn({type:r})){const i=t.map(({value:a})=>a).filter(a=>a!==void 0);i.some(Fe)?an(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Wn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Wn(r)}".`):i.some(k8)?an(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Wn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Wn(r)}".`):i.some(N8)&&an(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Wn(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Wn(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=ia(t,n,gr);break;case"identity":switch(pe.get(e)){case wt:n=ia(t,n,gr);break;case Uo:n=ia(t,n,e7);break}break;case"utc":case"time":n=ia(t,n,Vg);break}switch(r){case"diverging":return I4(e,t,n);case"diverging-sqrt":return D4(e,t,n);case"diverging-pow":return S1(e,t,n);case"diverging-log":return L4(e,t,n);case"diverging-symlog":return R4(e,t,n);case"categorical":case"ordinal":case Bi:return U4(e,t,n);case"cyclical":case"sequential":case"linear":return b4(e,t,n);case"sqrt":return w4(e,t,n);case"threshold":return mc(e,t,n);case"quantile":return x4(e,t,n);case"quantize":return T4(e,t,n);case"pow":return x1(e,t,n);case"log":return v4(e,t,n);case"symlog":return _4(e,t,n);case"utc":return z4(e,t,n);case"time":return B4(e,t,n);case"point":return H4(e,t,n);case"band":return G4(e,t,n);case"identity":return M4(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Wn(e){return typeof e=="symbol"?e.description:e}function Id(e){return typeof e=="string"?`${e}`.toLowerCase():e}const Dd={toString:()=>"projection"};function Q4(e,t,{type:n,domain:r,range:i,scheme:a,pivot:o,projection:u}){if(n=Id(n),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&u!=null&&(n=Dd);for(const f of t){const c=Id(f.type);if(c!==void 0){if(n===void 0)n=c;else if(n!==c)throw new Error(`scale incompatible with channel: ${n} !== ${c}`)}}if(n===Dd)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:f})=>f!==void 0))return;const s=pe.get(e);if(s===Oi)return"sqrt";if(s===Fi||s===Pi)return"linear";if(s===Uo)return"ordinal";if((r||i||[]).length>2)return Uu(s);if(r!==void 0){if(bd(r))return Uu(s);if(Fe(r))return"utc"}else{const f=t.map(({value:c})=>c).filter(c=>c!==void 0);if(f.some(bd))return Uu(s);if(f.some(Fe))return"utc"}if(s===Yt){if(o!=null||g4(a))return"diverging";if(h4(a))return"categorical"}return"linear"}function Uu(e){switch(e){case wt:return"point";case Yt:return Bi;default:return"ordinal"}}function Bn({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Bi}function D1({type:e}){return e==="threshold"}function J4({type:e}){return e==="point"||e==="band"}function vr(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function ia(e,{domain:t,...n},r){var i;for(const a of e)a.value!==void 0&&(t===void 0&&(t=(i=a.value)==null?void 0:i.domain),a.value=r(a.value));return{domain:t===void 0?t:r(t),...n}}function e7(e){return me(e,sc)}function t7(e){return t=>{if(!pe.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function n7({scale:e,type:t,domain:n,range:r,interpolate:i,interval:a,transform:o,percent:u,pivot:s}){if(t==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const f=e.unknown?e.unknown():void 0;return{type:t,domain:di(n),...r!==void 0&&{range:di(r)},...o!==void 0&&{transform:o},...u&&{percent:u},...f!==void 0&&{unknown:f},...a!==void 0&&{interval:a},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...s!==void 0&&{pivot:s,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:c=>e(c),...e.invert&&{invert:c=>e.invert(c)}}}function r7(e,t){const{fx:n,fy:r}=uf(e,t),i=n==null?void 0:n.scale.domain(),a=r==null?void 0:r.scale.domain();return i&&a?Y2(i,a).map(([o,u],s)=>({x:o,y:u,i:s})):i?i.map((o,u)=>({x:o,i:u})):a?a.map((o,u)=>({y:o,i:u})):void 0}function i7(e,{x:t,y:n}){return t&&(t=sf(t)),n&&(n=sf(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function bc(e,{fx:t,fy:n}){const r=Gt(e),i=t==null?void 0:t.value,a=n==null?void 0:n.value;return t&&n?er(r,o=>(o.fx=i[o[0]],o.fy=a[o[0]],o),o=>i[o],o=>a[o]):t?er(r,o=>(o.fx=i[o[0]],o),o=>i[o]):er(r,o=>(o.fy=a[o[0]],o),o=>a[o])}function a7(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:a})=>`translate(${e(i)-r},${t(a)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function o7(e){const t=[],n=new Uint32Array(on(e,r=>r.length));for(const r of e){let i=0;for(const a of e)r!==a&&(n.set(a,i),i+=a.length);t.push(n.slice(0,i))}return t}const u7=new Map([["top",Hu],["right",Wu],["bottom",Gu],["left",Yu],["top-left",aa(Hu,Yu)],["top-right",aa(Hu,Wu)],["bottom-left",aa(Gu,Yu)],["bottom-right",aa(Gu,Wu)],["top-empty",c7],["right-empty",h7],["bottom-empty",l7],["left-empty",d7],["empty",p7]]);function s7(e){if(e==null)return null;const t=u7.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const Ld=new WeakMap;function sf(e){let t=Ld.get(e);return t||Ld.set(e,t=new Cn(me(e,(n,r)=>[n,r]))),t}function yn(e,t){return sf(e).get(t)}function f7(e,t,n){return t=jt(t),n=jt(n),e.find(r=>Object.is(jt(r.x),t)&&Object.is(jt(r.y),n))}function Wo(e,t,n){var r;return(r=f7(e,t,n))==null?void 0:r.empty}function Hu(e,{y:t},{y:n}){return t?yn(t,n)===0:!0}function Gu(e,{y:t},{y:n}){return t?yn(t,n)===t.length-1:!0}function Yu(e,{x:t},{x:n}){return t?yn(t,n)===0:!0}function Wu(e,{x:t},{x:n}){return t?yn(t,n)===t.length-1:!0}function c7(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=yn(t,r);if(a>0)return Wo(e,n,t[a-1])}function l7(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=yn(t,r);if(a<t.length-1)return Wo(e,n,t[a+1])}function d7(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=yn(t,n);if(a>0)return Wo(e,t[a-1],r)}function h7(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const a=yn(t,n);if(a<t.length-1)return Wo(e,t[a+1],r)}function p7(e,t,{empty:n}){return n}function aa(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function Vu(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:a})=>{var o;return((o=r.get(i))==null?void 0:o.get(a))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}const L1=Math.PI,Nt=2*L1,Xu=.618;function m7({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={},o){if(e==null)return;if(typeof e.stream=="function")return e;let u,s,f="frame";if(pn(e)){let T;if({type:e,domain:s,inset:T,insetTop:n=T!==void 0?T:n,insetRight:r=T!==void 0?T:r,insetBottom:i=T!==void 0?T:i,insetLeft:a=T!==void 0?T:a,clip:f=f,...u}=e,e==null)return}typeof e!="function"&&({type:e}=ff(e));const{width:c,height:l,marginLeft:d,marginRight:h,marginTop:p,marginBottom:m}=o,g=c-d-h-a-r,b=l-p-m-n-i;if(e=e==null?void 0:e({width:g,height:b,clip:f,...u}),e==null)return;f=g7(f,d,p,c-h,l-m);let y=d+a,v=p+n,w;if(s!=null){const[[T,_],[E,C]]=$o(e).bounds(s),k=Math.min(g/(E-T),b/(C-_));k>0?(y-=(k*(T+E)-g)/2,v-=(k*(_+C)-b)/2,w=Gs({point(R,$){this.stream.point(R*k+y,$*k+v)}})):an("Warning: the projection could not be fit to the specified domain; using the default scale.")}return w??(w=y===0&&v===0?R1():Gs({point(T,_){this.stream.point(T+y,_+v)}})),{stream:T=>e.stream(w.stream(f(T)))}}function ff(e){switch(`${e}`.toLowerCase()){case"albers-usa":return et(Px,.7463,.4673);case"albers":return oa(dp,.7463,.4673);case"azimuthal-equal-area":return et(Fx,4,4);case"azimuthal-equidistant":return et(qx,Nt,Nt);case"conic-conformal":return oa(zx,Nt,Nt);case"conic-equal-area":return oa(Ga,6.1702,2.9781);case"conic-equidistant":return oa(Gx,7.312,3.6282);case"equal-earth":return et(Wx,5.4133,2.6347);case"equirectangular":return et(Ux,Nt,L1);case"gnomonic":return et(Vx,3.4641,3.4641);case"identity":return{type:R1};case"reflect-y":return{type:y7};case"mercator":return et(jx,Nt,Nt);case"orthographic":return et(Xx,2,2);case"stereographic":return et(Kx,2,2);case"transverse-mercator":return et(Zx,Nt,Nt);default:throw new Error(`unknown projection type: ${e}`)}}function g7(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return a=>a;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return K0(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function et(e,t,n){return{type:({width:r,height:i,rotate:a,precision:o=.15,clip:u})=>{var f,c,l;const s=e();return o!=null&&((f=s.precision)==null||f.call(s,o)),a!=null&&((c=s.rotate)==null||c.call(s,a)),typeof u=="number"&&((l=s.clipAngle)==null||l.call(s,u)),r!=null&&(s.scale(Math.min(r/t,i/n)),s.translate([r/2,i/2])),s},aspectRatio:n/t}}function oa(e,t,n){const{type:r,aspectRatio:i}=et(e,t,n);return{type:a=>{const{parallels:o,domain:u,width:s,height:f}=a,c=r(a);return o!=null&&(c.parallels(o),u===void 0&&s!=null&&c.fitSize([s,f],{type:"Sphere"})),c},aspectRatio:i}}const R1=qt({stream:e=>e}),y7=qt(Gs({point(e,t){this.stream.point(e,-t)}}));function b7(e,t,n,r){const i=n[e],a=n[t],o=i.length,u=n[e]=new Float64Array(o).fill(NaN),s=n[t]=new Float64Array(o).fill(NaN);let f;const c=r.stream({point(l,d){u[f]=l,s[f]=d}});for(f=0;f<o;++f)c.point(i[f],a[f])}function w7({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(pn(e)&&(e=e.type),e!=null)}function v7(e){if(typeof(e==null?void 0:e.stream)=="function")return Xu;if(pn(e)){let t,n;if({domain:t,type:e,...n}=e,t!=null&&e!=null){const r=typeof e=="string"?ff(e).type:e,[[i,a],[o,u]]=$o(r({...n,width:100,height:100})).bounds(t),s=(u-a)/(o-i);return s&&isFinite(s)?s<.2?.2:s>5?5:s:Xu}}if(e!=null){if(typeof e!="function"){const{aspectRatio:t}=ff(e);if(t)return t}return Xu}}function _7(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},a={point(o,u){t.push(o),n.push(u)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of e.value)Tn(o,a);return[r,i]}function wc(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:t1(n)}}function Se(e,{document:t}){return tr(vo(e).call(t.documentElement))}const cf=Symbol("unset");function vc(e){return(e.length===1?x7:T7)(e)}function x7(e){let t,n=cf;return r=>(Object.is(n,r)||(n=r,t=e(r)),t)}function T7(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,a)=>!Object.is(i,r[a])))&&(n=r,t=e(...r)),t)}const S7=vc(e=>new Intl.NumberFormat(e));vc((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{month:t}}));vc((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{weekday:t}}));function M7(e="en-US"){const t=S7(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function $7(e){return u8(e,"Invalid Date")}function E7(e="en-US"){const t=M7(e);return n=>(n instanceof Date?$7:typeof n=="number"?t:De)(n)}const _r=E7(),je=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let A7=0;function O1(){return`plot-clip-${++A7}`}function C7(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:a,target:o,fill:u,fillOpacity:s,stroke:f,strokeWidth:c,strokeOpacity:l,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:b,mixBlendMode:y,imageFilter:v,paintOrder:w,pointerEvents:T,shapeRendering:_,channels:E},{ariaLabel:C,fill:k="currentColor",fillOpacity:R,stroke:$="none",strokeOpacity:S,strokeWidth:x,strokeLinecap:A,strokeLinejoin:M,strokeMiterlimit:N,paintOrder:I}){k===null&&(u=null,s=null),$===null&&(f=null,l=null),Ae(k)?!Ae($)&&(!Ae(u)||E!=null&&E.fill)&&($="none"):Ae($)&&(!Ae(f)||E!=null&&E.stroke)&&(k="none");const[z,H]=Qe(u,k),[P,j]=qe(s,R),[F,q]=Qe(f,$),[K,Z]=qe(l,S),[W,G]=qe(b);pi(q)||(c===void 0&&(c=x),h===void 0&&(h=A),d===void 0&&(d=M),p===void 0&&!R8(d)&&(p=N),!pi(H)&&w===void 0&&(w=I));const[B,D]=qe(c);return k!==null&&(e.fill=$e(H,"currentColor"),e.fillOpacity=Rr(j,1)),$!==null&&(e.stroke=$e(q,"none"),e.strokeWidth=Rr(D,1),e.strokeOpacity=Rr(Z,1),e.strokeLinejoin=$e(d,"miter"),e.strokeLinecap=$e(h,"butt"),e.strokeMiterlimit=Rr(p,4),e.strokeDasharray=$e(m,"none"),e.strokeDashoffset=$e(g,"0")),e.target=De(o),e.ariaLabel=De(C),e.ariaDescription=De(i),e.ariaHidden=De(a),e.opacity=Rr(G,1),e.mixBlendMode=$e(y,"normal"),e.imageFilter=$e(v,"none"),e.paintOrder=$e(w,"normal"),e.pointerEvents=$e(T,"auto"),e.shapeRendering=$e(_,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:z,scale:"auto",optional:!0},fillOpacity:{value:P,scale:"auto",optional:!0},stroke:{value:F,scale:"auto",optional:!0},strokeOpacity:{value:K,scale:"auto",optional:!0},strokeWidth:{value:B,optional:!0},opacity:{value:W,scale:"auto",optional:!0}}}function k7(e,t){t&&e.filter(n=>Yf(t[n])).append("title").call(I7,t)}function N7(e,t){t&&e.filter(([n])=>Yf(t[n])).append("title").call(D7,t)}function I7(e,t){t&&e.text(n=>_r(t[n]))}function D7(e,t){t&&e.text(([n])=>_r(t[n]))}function Pn(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:u,strokeOpacity:s,strokeWidth:f,opacity:c,href:l}){r&&Q(e,"aria-label",d=>r[d]),a&&Q(e,"fill",d=>a[d]),o&&Q(e,"fill-opacity",d=>o[d]),u&&Q(e,"stroke",d=>u[d]),s&&Q(e,"stroke-opacity",d=>s[d]),f&&Q(e,"stroke-width",d=>f[d]),c&&Q(e,"opacity",d=>c[d]),l&&j1(e,d=>l[d],t),n||k7(e,i)}function P1(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:a,fillOpacity:o,stroke:u,strokeOpacity:s,strokeWidth:f,opacity:c,href:l}){r&&Q(e,"aria-label",([d])=>r[d]),a&&Q(e,"fill",([d])=>a[d]),o&&Q(e,"fill-opacity",([d])=>o[d]),u&&Q(e,"stroke",([d])=>u[d]),s&&Q(e,"stroke-opacity",([d])=>s[d]),f&&Q(e,"stroke-width",([d])=>f[d]),c&&Q(e,"opacity",([d])=>c[d]),l&&j1(e,([d])=>l[d],t),n||N7(e,i)}function L7({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:a,strokeWidth:o,opacity:u,href:s},{tip:f}){return[e,f?void 0:t,n,r,i,a,o,u,s].filter(c=>c!==void 0)}function R7(e,t,n){const r=bo(e,i=>t[i]);return n===void 0&&r.size>1+e.length>>1&&an("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*F1(e,t,n,r){const{z:i}=n,{z:a}=r,o=L7(r,n),u=[...t,...o];for(const s of a?R7(e,a,i):[e]){let f,c;e:for(const l of s){for(const d of u)if(!fn(d[l])){c&&c.push(-1);continue e}if(f===void 0){c&&(yield c),f=o.map(d=>jt(d[l])),c=[l];continue}c.push(l);for(let d=0;d<o.length;++d)if(jt(o[d][l])!==f[d]){yield c,f=o.map(p=>jt(p[l])),c=[l];continue e}}c&&(yield c)}}function O7(e,t,n,r){let i;const{clip:a=r.clip}=t;switch(a){case"frame":{e=Se("svg:g",r).each(function(){this.appendChild(e.node()),e.node=()=>this}),i=P7(r,n);break}case"sphere":{i=F7(r);break}}Q(e,"aria-label",t.ariaLabel),Q(e,"aria-description",t.ariaDescription),Q(e,"aria-hidden",t.ariaHidden),Q(e,"clip-path",i)}function q1(e){const t=new WeakMap;return(n,r)=>{let i=t.get(n);if(!i){const a=O1();tr(n.ownerSVGElement).append("clipPath").attr("id",a).call(e,n,r),t.set(n,i=`url(#${a})`)}return i}}const P7=q1((e,t,n)=>{const{width:r,height:i,marginLeft:a,marginRight:o,marginTop:u,marginBottom:s}=n;e.append("rect").attr("x",a).attr("y",u).attr("width",r-o-a).attr("height",i-u-s)}),F7=q1((e,t)=>{const{projection:n}=t;if(!n)throw new Error('the "sphere" clip option requires a projection');e.append("path").attr("d",$o(n)({type:"Sphere"}))});function Wt(e,t,n,r){O7(e,t,n,r),Q(e,"class",t.className),Q(e,"fill",t.fill),Q(e,"fill-opacity",t.fillOpacity),Q(e,"stroke",t.stroke),Q(e,"stroke-width",t.strokeWidth),Q(e,"stroke-opacity",t.strokeOpacity),Q(e,"stroke-linejoin",t.strokeLinejoin),Q(e,"stroke-linecap",t.strokeLinecap),Q(e,"stroke-miterlimit",t.strokeMiterlimit),Q(e,"stroke-dasharray",t.strokeDasharray),Q(e,"stroke-dashoffset",t.strokeDashoffset),Q(e,"shape-rendering",t.shapeRendering),Q(e,"filter",t.imageFilter),Q(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;Q(e,"pointer-events",i)}function St(e,t){q7(e,"mix-blend-mode",t.mixBlendMode),Q(e,"opacity",t.opacity)}function j1(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const a=this.ownerDocument.createElementNS(or.svg,"a");a.setAttribute("fill","inherit"),a.setAttributeNS(or.xlink,"href",i),n!=null&&a.setAttribute("target",n),this.parentNode.insertBefore(a,this).appendChild(this)}})}function Q(e,t,n){n!=null&&e.attr(t,n)}function q7(e,t,n){n!=null&&e.style(t,n)}function Vt(e,t,{x:n,y:r},i=je,a=je){i+=t.dx,a+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),(i||a)&&e.attr("transform",`translate(${i},${a})`)}function $e(e,t){if((e=De(e))!==t)return e}function Rr(e,t){if((e=ke(e))!==t)return e}const j7=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Vo(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!j7.test(e))throw new Error(`invalid class name: ${e}`);return e}function _c(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Xo({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:a,marginLeft:o}){return[/left$/.test(e)?o:/right$/.test(e)?t-i:(o+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-a:(r+n-a)/2]}class Je{constructor(t,n={},r={},i){const{facet:a="auto",facetAnchor:o,fx:u,fy:s,sort:f,dx:c=0,dy:l=0,margin:d=0,marginTop:h=d,marginRight:p=d,marginBottom:m=d,marginLeft:g=d,className:b,clip:y=i==null?void 0:i.clip,channels:v,tip:w,render:T}=r;if(this.data=t,this.sort=br(f)?f:null,this.initializer=wr(r).initializer,this.transform=this.initializer?r.transform:qi(r).transform,a===null||a===!1?this.facet=null:(this.facet=ct(a===!0?"include":a,"facet",["auto","include","exclude","super"]),this.fx=t===Ta&&typeof u=="string"?[u]:u,this.fy=t===Ta&&typeof s=="string"?[s]:s),this.facetAnchor=s7(o),n=e1(n),v!==void 0&&(n={...B7(v),...n}),i!==void 0&&(n={...C7(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([_,E])=>{if(Bo(E.value)){const{value:C,label:k=E.label,scale:R=E.scale}=E.value;E={...E,label:k,scale:R,value:C}}if(t===Ta&&typeof E.value=="string"){const{value:C}=E;E={...E,value:[C]}}return[_,E]}).filter(([_,{value:E,optional:C}])=>{if(E!=null)return!0;if(C)return!1;throw new Error(`missing channel value: ${_}`)})),this.dx=+c,this.dy=+l,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+g,this.clip=t1(y),this.tip=z7(w),this.className=b?Vo(b):null,this.facet==="super"){if(u||s)throw new Error("super-faceting cannot use fx or fy");for(const _ in this.channels){const{scale:E}=n[_];if(!(E!=="x"&&E!=="y"))throw new Error("super-faceting cannot use x or y")}}T!=null&&(this.render=so(T,this.render))}initialize(t,n,r){let i=yr(this.data);t===void 0&&i!=null&&(t=[Gt(i)]);const a=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=yr(i)),t!==void 0&&(t.original=a);const o=u4(this.channels,i);return this.sort!=null&&f4(i,t,o,n,this.sort),{data:i,facets:t,channels:o}}filter(t,n,r){for(const i in n){const{filter:a=fn}=n[i];if(a!==null){const o=r[i];t=t.filter(u=>a(o[u]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const a=i.replace(/^x|x$/,"y");a in t&&t[a].scale==="y"&&b7(i,a,n,r.projection)}}scale(t,n,r){const i=s4(t,n);return r.projection&&this.project(t,i,r),i}}function zn(...e){return e.plot=Je.prototype.plot,e}function so(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,a,o,u){return e.call(this,n,r,i,a,o,(s,f,c,l,d)=>t.call(this,s,f,c,l,d,u))}}function B7(e){return Object.fromEntries(Object.entries(e1(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:Er(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function z7(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?ct(e,"tip",["x","y","xy"]):e}function zi(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:pn(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function U7(e,t,n={}){let r=.5-je,i=.5+je,a=.5+je,o=.5-je;for(const{marginTop:m,marginRight:g,marginBottom:b,marginLeft:y}of t)m>r&&(r=m),g>i&&(i=g),b>a&&(a=b),y>o&&(o=y);let{margin:u,marginTop:s=u!==void 0?u:r,marginRight:f=u!==void 0?u:i,marginBottom:c=u!==void 0?u:a,marginLeft:l=u!==void 0?u:o}=n;s=+s,f=+f,c=+c,l=+l;let{width:d=640,height:h=H7(e,n,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:a,marginLeftDefault:o})+Math.max(0,s-r+c-a)}=n;d=+d,h=+h;const p={width:d,height:h,marginTop:s,marginRight:f,marginBottom:c,marginLeft:l};if(e.fx||e.fy){let{margin:m,marginTop:g=m!==void 0?m:s,marginRight:b=m!==void 0?m:f,marginBottom:y=m!==void 0?m:c,marginLeft:v=m!==void 0?m:l}=n.facet??{};g=+g,b=+b,y=+y,v=+v,p.facet={marginTop:g,marginRight:b,marginBottom:y,marginLeft:v}}return p}function H7({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:a},{width:o,marginTopDefault:u,marginRightDefault:s,marginBottomDefault:f,marginLeftDefault:c}){const l=n&&n.scale.domain().length||1,d=v7(i);if(d){const p=r?r.scale.domain().length:1,m=(1.1*l-.1)/(1.1*p-.1)*d,g=Math.max(.1,Math.min(10,m));return Math.round((o-c-s)*g+u+f)}const h=t?Bn(t)?t.scale.domain().length||1:Math.max(7,17/l):1;if(a!=null){if(a=+a,!(isFinite(a)&&a>0))throw new Error(`invalid aspectRatio: ${a}`);const p=Rd("y",t)/(Rd("x",e)*a),m=r?r.scale.bandwidth():1,g=n?n.scale.bandwidth():1,b=m*(o-c-s)-e.insetLeft-e.insetRight;return(p*b+t.insetTop+t.insetBottom)/g+u+f}return!!(t||n)*Math.max(1,Math.min(60,h*l))*20+!!r*30+60}function Rd(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const u=t.scale.exponent();i=s=>Math.pow(s,u);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[a,o]=Ye(r);return Math.abs(i(o)-i(a))}const Od=new WeakMap;function xc(e,t,{x:n,y:r,px:i,py:a,maxRadius:o=40,channels:u,render:s,...f}={}){return o=+o,i!=null&&(n??(n=null),u={...u,px:{value:i,scale:"x"}}),a!=null&&(r??(r=null),u={...u,py:{value:a,scale:"y"}}),{x:n,y:r,channels:u,...f,render:so(function(c,l,d,h,p,m){p={...p,pointerSticky:!1};const g=p.ownerSVGElement,{data:b}=p.getMarkState(this);let y=Od.get(g);y||Od.set(g,y={sticky:!1,roots:[],renders:[]});let v=y.renders.push(q)-1;const{x:w,y:T,fx:_,fy:E}=l;let C=_?_(c.fx)-h.marginLeft:0,k=E?E(c.fy)-h.marginTop:0;w!=null&&w.bandwidth&&(C+=w.bandwidth()/2),T!=null&&T.bandwidth&&(k+=T.bandwidth()/2);const R=c.fi!=null;let $;if(R){let G=y.facetStates;G||(y.facetStates=G=new Map),$=G.get(this),$||G.set(this,$=new Map)}const[S,x]=Xo(this,h),{px:A,py:M}=d,N=A?G=>A[G]:B1(d,S),I=M?G=>M[G]:z1(d,x);let z,H,P,j;function F(G,B){if(R)if(j&&(j=cancelAnimationFrame(j)),G==null)$.delete(c.fi);else{$.set(c.fi,B),j=requestAnimationFrame(()=>{j=null;for(const[D,U]of $)if(U<B||U===B&&D<c.fi){G=null;break}q(G)});return}q(G)}function q(G){if(z===G&&P===y.sticky)return;z=G,P=p.pointerSticky=y.sticky;const B=z==null?[]:[z];R&&(B.fx=c.fx,B.fy=c.fy,B.fi=c.fi);const D=m(B,l,d,h,p);if(H){if(R){const U=H.parentNode,Y=H.getAttribute("transform"),L=D.getAttribute("transform");Y?D.setAttribute("transform",Y):D.removeAttribute("transform"),L?U.setAttribute("transform",L):U.removeAttribute("transform"),D.removeAttribute("aria-label"),D.removeAttribute("aria-description"),D.removeAttribute("aria-hidden")}H.replaceWith(D)}if(y.roots[v]=H=D,!(z==null&&($==null?void 0:$.size)>1)){const U=z==null?null:hn(b)?b[z]:b.get(z);p.dispatchValue(U)}return D}function K(G){if(y.sticky||G.pointerType==="mouse"&&G.buttons===1)return;let[B,D]=Jv(G);B-=C,D-=k;const U=B<h.marginLeft||B>h.width-h.marginRight?1:e,Y=D<h.marginTop||D>h.height-h.marginBottom?1:t;let L=null,ie=o*o;for(const V of c){const ae=U*(N(V)-B),oe=Y*(I(V)-D),ce=ae*ae+oe*oe;ce<=ie&&(L=V,ie=ce)}if(L!=null&&(e!==1||t!==1)){const V=N(L)-B,ae=I(L)-D;ie=V*V+ae*ae}F(L,ie)}function Z(G){G.pointerType==="mouse"&&z!=null&&(y.sticky&&y.roots.some(B=>B==null?void 0:B.contains(G.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(B=>B(null))):(y.sticky=!0,q(z)),G.stopImmediatePropagation()))}function W(G){G.pointerType==="mouse"&&(y.sticky||F(null))}return g.addEventListener("pointerenter",K),g.addEventListener("pointermove",K),g.addEventListener("pointerdown",Z),g.addEventListener("pointerleave",W),q(null)},s)}}function G7(e){return xc(1,1,e)}function Y7(e){return xc(1,.01,e)}function Pd(e){return xc(.01,1,e)}function B1({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function z1({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function U1(e){return Bn(e)&&e.interval===void 0?void 0:"tabular-nums"}function W7(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:a=44+r,marginTop:o=18,marginRight:u=0,marginBottom:s=16+r,marginLeft:f=0,style:c,ticks:l=(i-f-u)/64,tickFormat:d,fontVariant:h=U1(e),round:p=!0,opacity:m,className:g}=t;const b=wc(t);g=Vo(g),m=qe(m)[1],d===null&&(d=()=>null);const y=Se("svg",b).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",a).attr("viewBox",`0 0 ${i} ${a}`).call(S=>S.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(_c,c);let v=S=>S.selectAll(".tick line").attr("y1",o+s-a),w;const T=p?(S,x)=>S.rangeRound(x):(S,x)=>S.range(x),{type:_,domain:E,range:C,interpolate:k,scale:R,pivot:$}=e;if(k){const S=C===void 0?k:To(k.length===1?gc(k):k,C);w=T(R.copy(),at(Ee(f,i-u),Math.min(E.length+($!==void 0),C===void 0?1/0:C.length)));const x=256,A=b.document.createElement("canvas");A.width=x,A.height=1;const M=A.getContext("2d");for(let N=0,I=x-1;N<x;++N)M.fillStyle=S(N/I),M.fillRect(N,0,1,1);y.append("image").attr("opacity",m).attr("x",f).attr("y",o).attr("width",i-f-u).attr("height",a-o-s).attr("preserveAspectRatio","none").attr("xlink:href",A.toDataURL())}else if(_==="threshold"){const S=E,x=d===void 0?A=>A:typeof d=="string"?Sr(d):d;w=T(Of().domain([-1,C.length-1]),[f,i-u]),y.append("g").attr("fill-opacity",m).selectAll().data(C).enter().append("rect").attr("x",(A,M)=>w(M-1)).attr("y",o).attr("width",(A,M)=>w(M)-w(M-1)).attr("height",a-o-s).attr("fill",A=>A),l=me(S,(A,M)=>M),d=A=>x(S[A],A)}else w=T(ko().domain(E),[f,i-u]),y.append("g").attr("fill-opacity",m).selectAll().data(E).enter().append("rect").attr("x",w).attr("y",o).attr("width",Math.max(0,w.bandwidth()-1)).attr("height",a-o-s).attr("fill",R),v=()=>{};return y.append("g").attr("transform",`translate(0,${a-s})`).call(gw(w).ticks(Array.isArray(l)?null:l,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(r).tickValues(Array.isArray(l)?l:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",$e(h,"normal")).call(v).call(S=>S.select(".domain").remove()),n!==void 0&&y.append("text").attr("x",f).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(n),y.node()}const H1=Math.PI/180;function Tc(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=Ku(n),e.markerMid=Ku(r),e.markerEnd=Ku(i)}function Ku(e){if(e==null||e===!1)return null;if(e===!0)return qd;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return Fd("auto");case"arrow-reverse":return Fd("auto-start-reverse");case"dot":return V7;case"circle":case"circle-fill":return qd;case"circle-stroke":return X7;case"tick":return Zu("auto");case"tick-x":return Zu(90);case"tick-y":return Zu(0)}throw new Error(`invalid marker: ${e}`)}function Fd(e){return(t,n)=>Se("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function V7(e,t){return Se("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function qd(e,t){return Se("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function X7(e,t){return Se("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Zu(e){return(t,n)=>Se("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let K7=0;function G1(e,t,{stroke:n},r){return W1(e,t,n&&(i=>n[i]),null,r)}function Z7(e,t,{stroke:n,z:r},i){return W1(e,t,n&&(([a])=>n[a]),r,i)}const lf=1,Y1=2;function Q7(e,t){const n=new Uint8Array(t.length),r=e.data().filter(a=>a.length>1),i=r.length;for(let a=0,o=cf;a<i;++a){const u=r[a];if(u.length>1){const s=u[0];o!==(o=jt(t[s]))&&(n[s]|=lf)}}for(let a=i-1,o=cf;a>=0;--a){const u=r[a];if(u.length>1){const s=u[0];o!==(o=jt(t[s]))&&(n[s]|=Y1)}}return([a])=>n[a]}function W1(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},a=()=>i,o,u){if(!t&&!n&&!r)return;const s=new Map,f=o&&Q7(e,o);function c(l,d,h){return function(p){if(h&&!h(p))return;const m=a(p);let g=s.get(d);g||s.set(d,g=new Map);let b=g.get(m);if(!b){const y=this.parentNode.insertBefore(d(m,u),this),v=`plot-marker-${++K7}`;y.setAttribute("id",v),g.set(m,b=`url(#${v})`)}this.setAttribute(l,b)}}t&&e.each(c("marker-start",t,f&&(l=>f(l)&lf))),n&&f&&e.each(c("marker-start",n,l=>!(f(l)&lf))),n&&e.each(c("marker-mid",n)),r&&e.each(c("marker-end",r,f&&(l=>f(l)&Y1)))}function Ko({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=X1(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function V1({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=X1(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function X1(e,t,n){return e===void 0&&t===void 0&&n===void 0?je?[1,0]:[.5,.5]:[t,n]}function K1(e,{interval:t}){return e={...Er(e)},e.interval=ic(e.interval===void 0?t:e.interval),e}function Sc(e,t,n,r){const{[e]:i,[`${e}1`]:a,[`${e}2`]:o}=n,{value:u,interval:s}=K1(i,n);if(u==null||s==null&&!r)return n;const f=mn(i);if(s==null){let h;const p={transform:m=>h||(h=le(m,u)),label:f};return{...n,[e]:void 0,[`${e}1`]:a===void 0?p:a,[`${e}2`]:o===void 0&&!(a===o&&r)?p:o}}let c,l;function d(h){return l!==void 0&&h===c?l:l=me(le(c=h,u),p=>s.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:a===void 0?{transform:d,label:f}:a,[`${e}2`]:o===void 0?{transform:h=>d(h).map(p=>s.offset(p)),label:f}:o})}function Z1(e,t,n){const{[e]:r}=n,{value:i,interval:a}=K1(r,n);return i==null||a==null?n:t({...n,[e]:{label:mn(r),transform:o=>{const u=me(le(o,i),f=>a.floor(f)),s=u.map(f=>a.offset(f));return u.map(Fe(u)?(f,c)=>f==null||isNaN(f=+f)||(c=s[c],c==null)||isNaN(c=+c)?void 0:new Date((f+c)/2):(f,c)=>f==null||(c=s[c],c==null)?NaN:(+f+ +c)/2)}}})}function J7(e={}){return Sc("x",Ko,e,!0)}function e9(e={}){return Sc("x",Ko,e)}function t9(e={}){return Sc("y",V1,e)}function n9(e={}){return Z1("x",Ko,e)}function r9(e={}){return Z1("y",V1,e)}const Q1={ariaLabel:"rule",fill:null,stroke:"currentColor"};class i9 extends Je{constructor(t,n={}){const{x:r,y1:i,y2:a,inset:o=0,insetTop:u=o,insetBottom:s=o}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:a,scale:"y",optional:!0}},zi(n,"x"),Q1),this.insetTop=ke(u),this.insetBottom=ke(s),Tc(this,n)}render(t,n,r,i,a){const{x:o,y:u}=n,{x:s,y1:f,y2:c}=r,{width:l,height:d,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetTop:b,insetBottom:y}=this;return Se("svg:g",a).call(Wt,this,i,a).call(Vt,this,{x:s&&o},je,0).call(v=>v.selectAll().data(t).enter().append("line").call(St,this).attr("x1",s?w=>s[w]:(m+l-p)/2).attr("x2",s?w=>s[w]:(m+l-p)/2).attr("y1",f&&!vr(u)?w=>f[w]+b:h+b).attr("y2",c&&!vr(u)?u.bandwidth?w=>c[w]+u.bandwidth()-y:w=>c[w]-y:d-g-y).call(Pn,this,r).call(G1,this,r,a)).node()}}class a9 extends Je{constructor(t,n={}){const{x1:r,x2:i,y:a,inset:o=0,insetRight:u=o,insetLeft:s=o}=n;super(t,{y:{value:a,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},zi(n,"y"),Q1),this.insetRight=ke(u),this.insetLeft=ke(s),Tc(this,n)}render(t,n,r,i,a){const{x:o,y:u}=n,{y:s,x1:f,x2:c}=r,{width:l,height:d,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetLeft:b,insetRight:y}=this;return Se("svg:g",a).call(Wt,this,i,a).call(Vt,this,{y:s&&u},0,je).call(v=>v.selectAll().data(t).enter().append("line").call(St,this).attr("x1",f&&!vr(o)?w=>f[w]+b:m+b).attr("x2",c&&!vr(o)?o.bandwidth?w=>c[w]+o.bandwidth()-y:w=>c[w]-y:l-p-y).attr("y1",s?w=>s[w]:(h+d-g)/2).attr("y2",s?w=>s[w]:(h+d-g)/2).call(Pn,this,r).call(G1,this,r,a)).node()}}function J1(e,t){let{x:n=Te,y:r,y1:i,y2:a,...o}=t9(t);return[i,a]=ey(r,i,a),new i9(e,{...o,x:n,y1:i,y2:a})}function Zo(e,t){let{y:n=Te,x:r,x1:i,x2:a,...o}=e9(t);return[i,a]=ey(r,i,a),new a9(e,{...o,y:n,x1:i,x2:a})}function ey(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function ty(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let a=0;a<n;++a)i+=t[a](r)+e[a+1];return i}}const o9={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},ny="­";class Mc extends Je{constructor(t,n={}){const{x:r,y:i,text:a=gn(t)&&Jg(t)?Te:Ri,frameAnchor:o,textAnchor:u=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:s=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:f=1,lineWidth:c=1/0,textOverflow:l,monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:b,rotate:y}=n,[v,w]=qe(y,0),[T,_]=l9(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:T,optional:!0},rotate:{value:C8(v),optional:!0},text:{value:a,filter:Yf,optional:!0}},n,o9),this.rotate=w,this.textAnchor=$e(u,"middle"),this.lineAnchor=ct(s,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+f,this.lineWidth=+c,this.textOverflow=ry(l),this.monospace=!!d,this.fontFamily=De(h),this.fontSize=_,this.fontStyle=De(m),this.fontVariant=De(g),this.fontWeight=De(b),this.frameAnchor=ac(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=uy(this),this.clipLine=sy(this)}render(t,n,r,i,a){const{x:o,y:u}=n,{x:s,y:f,rotate:c,text:l,title:d,fontSize:h}=r,{rotate:p}=this,[m,g]=Xo(this,i);return Se("svg:g",a).call(Wt,this,i,a).call(oy,this,l,i).call(Vt,this,{x:s&&o,y:f&&u}).call(b=>b.selectAll().data(t).enter().append("text").call(St,this).call(u9,this,l,d).attr("transform",ty`translate(${s?y=>s[y]:m},${f?y=>f[y]:g})${c?y=>` rotate(${c[y]})`:p?` rotate(${p})`:""}`).call(Q,"font-size",h&&(y=>h[y])).call(Pn,this,r)).node()}}function ry(e){return e==null?null:ct(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function u9(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:a,textOverflow:o,splitLines:u,clipLine:s}=t;e.each(function(f){const c=u(_r(n[f])??"").map(s),l=c.length,d=i==="top"?.71:i==="bottom"?1-l:(164-l*100)/200;if(l>1){let h=0;for(let p=0;p<l;++p){if(++h,!c[p])continue;const m=this.ownerDocument.createElementNS(or.svg,"tspan");m.setAttribute("x",0),p===h-1?m.setAttribute("y",`${(d+p)*a}em`):m.setAttribute("dy",`${h*a}em`),m.textContent=c[p],this.appendChild(m),h=0}}else d&&this.setAttribute("y",`${d*a}em`),this.textContent=c[0];if(o&&!r&&c[0]!==n[f]){const h=this.ownerDocument.createElementNS(or.svg,"title");h.textContent=n[f],this.appendChild(h)}})}function iy(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=tc(t,n)),new Mc(e,{...r,x:t,y:n})}function ay(e,{x:t=Te,...n}={}){return new Mc(e,r9({...n,x:t}))}function s9(e,{y:t=Te,...n}={}){return new Mc(e,n9({...n,y:t}))}function oy(e,t,n){Q(e,"text-anchor",t.textAnchor),Q(e,"font-family",t.fontFamily),Q(e,"font-size",t.fontSize),Q(e,"font-style",t.fontStyle),Q(e,"font-variant",t.fontVariant===void 0?f9(n):t.fontVariant),Q(e,"font-weight",t.fontWeight)}function f9(e){return e&&(I8(e)||Fe(e))?"tabular-nums":void 0}const c9=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function l9(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),c9.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function d9(e,t,n){const r=[];let i,a=0;for(const[o,u,s]of h9(e)){if(i===void 0&&(i=o),a>i&&n(e,i,u)>t&&(r.push(e.slice(i,a)+(e[a-1]===ny?"-":"")),i=o),s){r.push(e.slice(i,u)),i=void 0;continue}a=u}return r}function*h9(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case ny:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const jd={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function $c(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Ar(e,i))r+=jd[e[i]]??(cy(e,i)?120:jd.e);return r}function Ec(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Ar(e,i))r+=cy(e,i)?126:63;return r}function uy({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return a=>a.split(/\r\n?|\n/g);const r=e?Ec:$c,i=t*100;return a=>d9(a,i,r)}function sy({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return a=>a;const r=e?Ec:$c,i=t*100;switch(n){case"clip-start":return a=>zd(a,i,r,"");case"clip-end":return a=>Bd(a,i,r,"");case"ellipsis-start":return a=>zd(a,i,r,ir);case"ellipsis-middle":return a=>p9(a,i,r,ir);case"ellipsis-end":return a=>Bd(a,i,r,ir)}}const ir="…";function xr(e,t,n,r){const i=[];let a=0;for(let o=0,u=0,s=e.length;o<s;o=u){u=Ar(e,o);const f=n(e,o,u);if(a+f>t){for(a+=r;a>t&&o>0;)u=o,o=i.pop(),a-=n(e,o,u);return[o,t-a]}a+=f,i.push(o)}return[-1,0]}function Bd(e,t,n,r){e=e.trim();const i=n(r),[a]=xr(e,t,n,i);return a<0?e:e.slice(0,a).trimEnd()+r}function p9(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r)/2,[o,u]=xr(e,t/2,n,a),[s]=xr(e,i-t/2-u+a,n,-a);return s<0?r:e.slice(0,o).trimEnd()+r+e.slice(Ar(e,s)).trimStart()}function zd(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const a=n(r),[o]=xr(e,i-t+a,n,-a);return o<0?r:r+e.slice(Ar(e,o)).trimStart()}const df=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Ud=new RegExp("\\p{Extended_Pictographic}","uy");function Ar(e,t){return t+=m9(e,t)?2:1,y9(e,t)&&(t=df.lastIndex),g9(e,t)?Ar(e,t+1):t}function fy(e,t){return e.charCodeAt(t)<128}function m9(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function g9(e,t){return e.charCodeAt(t)===8205}function y9(e,t){return fy(e,t)?!1:(df.lastIndex=t,df.test(e))}function cy(e,t){return fy(e,t)?!1:(Ud.lastIndex=t,Ud.test(e))}const b9={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},ly=3.5,w9=ly*5,dy={draw(e,t,n){const r=t*n/w9;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},v9={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},_9=new Map([["arrow",dy],["spike",v9]]);function x9(e){return e&&typeof e.draw=="function"}function T9(e){if(x9(e))return e;const t=_9.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class hy extends Je{constructor(t,n={}){const{x:r,y:i,r:a=ly,length:o,rotate:u,shape:s=dy,anchor:f="middle",frameAnchor:c}=n,[l,d]=qe(o,12),[h,p]=qe(u,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:l,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,b9),this.r=+a,this.length=d,this.rotate=p,this.shape=T9(s),this.anchor=ct(f,"anchor",["start","middle","end"]),this.frameAnchor=ac(c)}render(t,n,r,i,a){const{x:o,y:u}=n,{x:s,y:f,length:c,rotate:l}=r,{length:d,rotate:h,anchor:p,shape:m,r:g}=this,[b,y]=Xo(this,i);return Se("svg:g",a).call(Wt,this,i,a).call(Vt,this,{x:s&&o,y:f&&u}).call(v=>v.selectAll().data(t).enter().append("path").call(St,this).attr("transform",ty`translate(${s?w=>s[w]:b},${f?w=>f[w]:y})${l?w=>` rotate(${l[w]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?c?w=>` translate(0,${c[w]})`:` translate(0,${d})`:c?w=>` translate(0,${c[w]/2})`:` translate(0,${d/2})`}`).attr("d",c?w=>{const T=ks();return m.draw(T,c[w],g),T}:(()=>{const w=ks();return m.draw(w,d,g),w})()).call(Pn,this,r)).node()}}function S9(e,t={}){const{x:n=Te,...r}=t;return new hy(e,{...r,x:n})}function M9(e,t={}){const{y:n=Te,...r}=t;return new hy(e,{...r,y:n})}function bn(e,t){return arguments.length<2&&!gn(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function Qo({anchor:e}={},t){return e===void 0?t[0]:ct(e,"anchor",t)}function py(e){return Qo(e,["left","right"])}function my(e){return Qo(e,["right","left"])}function gy(e){return Qo(e,["bottom","top"])}function yy(e){return Qo(e,["top","bottom"])}function by(){const[e,t]=bn(...arguments);return vy("y",py(t),e,t)}function $9(){const[e,t]=bn(...arguments);return vy("fy",my(t),e,t)}function wy(){const[e,t]=bn(...arguments);return _y("x",gy(t),e,t)}function E9(){const[e,t]=bn(...arguments);return _y("fx",yy(t),e,t)}function vy(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:u=1,fill:s=r,fillOpacity:f=i,textAnchor:c,textStroke:l,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="y"?6:0,tickPadding:m,tickRotate:g,x:b,margin:y,marginTop:v=y===void 0?20:y,marginRight:w=y===void 0?t==="right"?40:0:y,marginBottom:T=y===void 0?20:y,marginLeft:_=y===void 0?t==="left"?40:0:y,label:E,labelAnchor:C,labelArrow:k,labelOffset:R,...$}){return p=ke(p),m=ke(m),g=ke(g),C!==void 0&&(C=ct(C,"labelAnchor",["center","top","bottom"])),k=Cy(k),zn(p&&!Ae(a)?A9(e,t,n,{stroke:a,strokeOpacity:o,strokeWidth:u,tickSize:p,tickPadding:m,tickRotate:g,x:b,...$}):null,Ae(s)?null:k9(e,t,n,{fill:s,fillOpacity:f,stroke:l,strokeOpacity:d,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:g,x:b,marginTop:v,marginRight:w,marginBottom:T,marginLeft:_,...$}),!Ae(s)&&E!==null?iy([],My({fill:s,fillOpacity:f,...$},function(S,x,A,M,N){const I=M[e],{marginTop:z,marginRight:H,marginBottom:P,marginLeft:j}=e==="y"&&N.inset||N,F=C??(I.bandwidth?"center":"top"),q=R??(t==="right"?H:j)-3;return F==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=F,this.frameAnchor=`${F}-${t}`,this.rotate=0),this.dy=F==="top"?3-z:F==="bottom"?P-3:0,this.dx=t==="right"?q:-q,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Ay(e,I,{anchor:t,label:E,labelAnchor:F,labelArrow:k})]}}}})):null)}function _y(e,t,n,{color:r="currentColor",opacity:i=1,stroke:a=r,strokeOpacity:o=i,strokeWidth:u=1,fill:s=r,fillOpacity:f=i,textAnchor:c,textStroke:l,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="x"?6:0,tickPadding:m,tickRotate:g,y:b,margin:y,marginTop:v=y===void 0?t==="top"?30:0:y,marginRight:w=y===void 0?20:y,marginBottom:T=y===void 0?t==="bottom"?30:0:y,marginLeft:_=y===void 0?20:y,label:E,labelAnchor:C,labelArrow:k,labelOffset:R,...$}){return p=ke(p),m=ke(m),g=ke(g),C!==void 0&&(C=ct(C,"labelAnchor",["center","left","right"])),k=Cy(k),zn(p&&!Ae(a)?C9(e,t,n,{stroke:a,strokeOpacity:o,strokeWidth:u,tickSize:p,tickPadding:m,tickRotate:g,y:b,...$}):null,Ae(s)?null:N9(e,t,n,{fill:s,fillOpacity:f,stroke:l,strokeOpacity:d,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:g,y:b,marginTop:v,marginRight:w,marginBottom:T,marginLeft:_,...$}),!Ae(s)&&E!==null?iy([],My({fill:s,fillOpacity:f,...$},function(S,x,A,M,N){const I=M[e],{marginTop:z,marginRight:H,marginBottom:P,marginLeft:j}=e==="x"&&N.inset||N,F=C??(I.bandwidth?"center":"right"),q=R??(t==="top"?z:P)-3;return F==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${F}`,this.textAnchor=F==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-q:q,this.dx=F==="right"?H-3:F==="left"?3-j:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Ay(e,I,{anchor:t,label:E,labelAnchor:F,labelArrow:k})]}}}})):null)}function A9(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=t+(e==="y"?"-empty":""),frameAnchor:u=t,tickSize:s,inset:f=0,insetLeft:c=f,insetRight:l=f,dx:d=0,y:h=e==="y"?void 0:null,...p}){return Cr(M9,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:a,facetAnchor:o,frameAnchor:u,y:h,...p,dx:t==="left"?+d-je+ +c:+d+je-l,anchor:"start",length:s,shape:t==="left"?q9:j9})}function C9(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:a=null,facetAnchor:o=t+(e==="x"?"-empty":""),frameAnchor:u=t,tickSize:s,inset:f=0,insetTop:c=f,insetBottom:l=f,dy:d=0,x:h=e==="x"?void 0:null,...p}){return Cr(S9,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:a,strokeLinecap:i,facetAnchor:o,frameAnchor:u,x:h,...p,dy:t==="bottom"?+d-je-l:+d+je+ +c,anchor:"start",length:s,shape:t==="bottom"?P9:F9})}function k9(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:o=0,tickPadding:u=Math.max(3,9-a)+(Math.abs(o)>60?4*Math.cos(o*H1):0),text:s,textAnchor:f=Math.abs(o)>60?"middle":t==="left"?"end":"start",lineAnchor:c=o>60?"top":o<-60?"bottom":"middle",fontVariant:l,inset:d=0,insetLeft:h=d,insetRight:p=d,dx:m=0,y:g=e==="y"?void 0:null,...b}){return Cr(s9,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:s,textAnchor:f,lineAnchor:c,fontVariant:l,rotate:o,y:g,...b,dx:t==="left"?+m-a-u+ +h:+m+ +a+ +u-p},function(y,v,w,T,_){l===void 0&&(this.fontVariant=Ey(y)),s===void 0&&(_.text=$y(y,v,w,T,t))})}function N9(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:a,tickRotate:o=0,tickPadding:u=Math.max(3,9-a)+(Math.abs(o)>=10?4*Math.cos(o*H1):0),text:s,textAnchor:f=Math.abs(o)>=10?o<0^t==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(o)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:l,inset:d=0,insetTop:h=d,insetBottom:p=d,dy:m=0,x:g=e==="x"?void 0:null,...b}){return Cr(ay,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:s===void 0?null:s,textAnchor:f,lineAnchor:c,fontVariant:l,rotate:o,x:g,...b,dy:t==="bottom"?+m+ +a+ +u-p:+m-a-u+ +h},function(y,v,w,T,_){l===void 0&&(this.fontVariant=Ey(y)),s===void 0&&(_.text=$y(y,v,w,T,t))})}function I9(){const[e,t]=bn(...arguments);return xy("y",py(t),e,t)}function D9(){const[e,t]=bn(...arguments);return xy("fy",my(t),e,t)}function L9(){const[e,t]=bn(...arguments);return Ty("x",gy(t),e,t)}function R9(){const[e,t]=bn(...arguments);return Ty("fx",yy(t),e,t)}function xy(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:a=t==="left"?i:null,x2:o=t==="right"?i:null,...u}){return Cr(Zo,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:r,x1:a,x2:o,...Sy(u)})}function Ty(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:a=t==="top"?i:null,y2:o=t==="bottom"?i:null,...u}){return Cr(J1,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:r,y1:a,y2:o,...Sy(u)})}function Sy({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...a}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...a}}function My({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:u,pointerEvents:s,shapeRendering:f,clip:c=!1},l){return[,e]=Qe(e),[,t]=qe(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:a,fontWeight:o,monospace:u,pointerEvents:s,shapeRendering:f,clip:c,initializer:l}}function Cr(e,t,n,r,i,a){let o;function u(c,l,d,h,p,m){const g=c==null&&(t==="fx"||t==="fy"),{[t]:b}=h;if(!b)throw new Error(`missing scale: ${t}`);const y=b.domain();let{interval:v,ticks:w,tickFormat:T,tickSpacing:_=t==="x"?80:35}=i;if(typeof w=="string"&&ky(b)&&(v=w,w=void 0),w===void 0&&(w=$r(v,b.type)??O9(b,_)),c==null){if(gn(w))c=cn(w);else if(Qn(w))c=Qu(w,...Ye(y));else if(b.interval){let C=b.interval;if(b.ticks){const[k,R]=Ye(y),$=(R-k)/C[Li];C=md(C,$/w)??C,c=Qu(C,k,R)}else{c=y;const k=c.length;C=md(C,k/w)??C,C!==b.interval&&(c=Qu(C,...Ye(c)))}if(C===b.interval){const k=Math.round(c.length/w);k>1&&(c=c.filter((R,$)=>$%k===0))}}else b.ticks?c=b.ticks(w):c=y;if(!b.ticks&&c.length&&c!==y){const C=new yo(y);c=c.filter(k=>C.has(k)),c.length||an(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?l=[Gt(c)]:o[t]={scale:t,value:Te}}a==null||a.call(this,b,c,w,T,o);const E=Object.fromEntries(Object.entries(o).map(([C,k])=>[C,{...k,value:le(c,k.value)}]));return g&&(l=m.filterFacets(c,E)),{data:c,facets:l,channels:E}}const s=wr(i).initializer,f=e(n,wr({...i,initializer:u},s));return n==null?(o=f.channels,f.channels={}):o={},r!==void 0&&Object.assign(f,r),f.clip===void 0&&(f.clip=!1),f}function O9(e,t){const[n,r]=Ye(e.range());return(r-n)/t}function $y(e,t,n,r,i){return{value:Ac(e,t,n,r,i)}}function Ac(e,t,n,r,i){return typeof r=="function"&&!(e.type==="log"&&e.tickFormat)?r:r===void 0&&t&&Fe(t)?h8(e.type,t,i)??_r:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):r===void 0?_r:typeof r=="string"?(Fe(e.domain())?Ii:Sr)(r):qt(r)}function Qu(e,t,n){return e.range(t,e.offset(e.floor(n)))}const P9={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},F9={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},q9={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},j9={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function Ey(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function Ay(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:a}={}){if(!(r==null||r.inferred&&ky(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),a==="auto"&&(a=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!a)return r;if(a===!0){const o=C1(t);o&&(a=/x$/.test(e)||i==="center"?/x$/.test(e)===o<0?"left":"right":o<0?"up":"down")}switch(a){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function Cy(e="auto"){return Ae(e)?!1:typeof e=="boolean"?e:ct(e,"labelArrow",["auto","up","right","down","left"])}function ky(e){return Fe(e.domain())}function Hd(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function B9(e,{opacity:t,...n}={}){if(!Bn(e)&&!D1(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Ny(e,n,(r,i,a,o)=>r.append("svg").attr("width",a).attr("height",o).attr("fill",i.scale).attr("fill-opacity",qe(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function z9(e,{fill:t=(f=>(f=e.hint)==null?void 0:f.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(c=>(c=e.hint)==null?void 0:c.stroke)()!==void 0?e.hint.stroke:Ae(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:a=1.5,r:o=4.5,...u}={},s){const[l,d]=Qe(t),[h,p]=Qe(r),m=Hd(s,l),g=Hd(s,h),b=o*o*Math.PI;return n=qe(n)[1],i=qe(i)[1],a=qe(a)[1],Ny(e,u,(y,v,w,T)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",w).attr("height",T).attr("fill",l==="color"?_=>m.scale(_):d).attr("fill-opacity",n).attr("stroke",h==="color"?_=>g.scale(_):p).attr("stroke-opacity",i).attr("stroke-width",a).append("path").attr("d",_=>{const E=ks();return e.scale(_).draw(E,b),E}))}function Ny(e,t={},n){let{columns:r,tickFormat:i,fontVariant:a=U1(e),swatchSize:o=15,swatchWidth:u=o,swatchHeight:s=o,marginLeft:f=0,className:c,style:l,width:d}=t;const h=wc(t);c=Vo(c),i=Ac(e.scale,e.domain,void 0,i);const p=Se("div",h).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${c}-swatches-columns .${c}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${c}-swatches-columns .${c}-swatch::before) {
  flex-shrink: 0;
}
:where(.${c}-swatches-columns .${c}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,e,u,s).call(g=>g.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${c}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${c}-swatches-wrap .${c}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(e.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,e,u,s).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(g=>g.insert("style","*").text(`:where(.${c}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${c}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",f?`${+f}px`:null).style("width",d===void 0?null:`${+d}px`).style("font-variant",$e(a,"normal")).call(_c,l).node()}const hf=new Map([["symbol",z9],["color",Dy],["opacity",H9]]);function U9(e,t,n={}){return(r,i)=>{if(!hf.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return hf.get(r)(e[r],Iy(t,n[r],i),a=>e[a])}}function Iy({className:e,...t},{label:n,ticks:r,tickFormat:i}={},a){return O8(a,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function Dy(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return B9(e,n);case"ramp":return W7(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function H9({type:e,interpolate:t,...n},{legend:r=!0,color:i=un(0,0,0),...a}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Dy({type:e,...n,interpolate:G9(i)},{legend:r,...a})}function G9(e){const{r:t,g:n,b:r}=un(e)||un(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function Y9(e,t,n){const r=[];for(const[i,a]of hf){const o=n[i];if(o!=null&&o.legend&&i in e){const u=a(e[i],Iy(t,e[i],o),s=>e[s]);u!=null&&r.push(u)}}return r}function Ly(e={}){return Zg(e)?e:{...e,y:Te}}function W9(e,t){if(t.length===1)return{data:e,facets:t};const n=hi(e),r=new Uint8Array(n);let i=0;for(const u of t)for(const s of u)r[s]&&++i,r[s]=1;if(i===0)return{data:e,facets:t};e=di(e);const a=e[Yg]=new Uint32Array(n+i);t=t.map(u=>di(u,Uint32Array));let o=n;r.fill(0);for(const u of t)for(let s=0,f=u.length;s<f;++s){const c=u[s];r[c]?(u[s]=o,e[o]=e[c],a[o]=c,++o):a[c]=c,r[c]=1}return{data:e,facets:t}}function V9(e={},t={}){arguments.length===1&&([e,t]=X9(e));const{x1:n,x:r=n,y:i,...a}=t,[o,u,s,f]=Z9(r,i,"x","y",e,a);return{...o,x1:n,x:u,y1:s,y2:f,y:tf(s,f)}}function Ry({y:e,y1:t,y2:n,...r}={}){return r=zi(r,"x"),t===void 0&&n===void 0?V9({y:e,...r}):([t,n]=T8(e,t,n),{...r,y1:t,y2:n})}function X9(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const K9={length:!0};function Z9(e,t=b8,n,r,{offset:i,order:a,reverse:o},u){if(t===null)throw new Error(`stack requires ${r}`);const s=nc(u),[f,c]=Le(e),[l,d]=io(t),[h,p]=io(t);return l.hint=h.hint=K9,i=Q9(i),a=tT(a,i,r),[qi(u,(m,g,b)=>{({data:m,facets:g}=W9(m,g));const y=e==null?void 0:c(ao(le(m,e),b==null?void 0:b[n])),v=le(m,t,Float64Array),w=le(m,s),T=a&&a(m,y,v,w),_=hi(m),E=d(new Float64Array(_)),C=p(new Float64Array(_)),k=[];for(const R of g){const $=y?Array.from(bo(R,S=>y[S]).values()):[R];if(T)for(const S of $)S.sort(T);for(const S of $){let x=0,A=0;o&&S.reverse();for(const M of S){const N=v[M];N<0?x=C[M]=(E[M]=x)+N:N>0?A=C[M]=(E[M]=A)+N:C[M]=E[M]=A}}k.push($)}return i&&i(k,E,C,w),{data:m,facets:g}}),f,l,h]}function Q9(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return J9;case"center":case"silhouette":return eT;case"wiggle":return Py}throw new Error(`unknown offset: ${e}`)}}function Oy(e,t){let n=0,r=0;for(const i of e){const a=t[i];a<n&&(n=a),a>r&&(r=a)}return[n,r]}function J9(e,t,n){for(const r of e)for(const i of r){const[a,o]=Oy(i,n);for(const u of i){const s=1/(o-a||1);t[u]=s*(t[u]-a),n[u]=s*(n[u]-a)}}}function eT(e,t,n){for(const r of e){for(const i of r){const[a,o]=Oy(i,n);for(const u of i){const s=(o+a)/2;t[u]-=s,n[u]-=s}}Fy(r,t,n)}qy(e,t,n)}function Py(e,t,n,r){for(const i of e){const a=new Cn;let o=0;for(const u of i){let s=-1;const f=u.map(h=>Math.abs(n[h]-t[h])),c=u.map(h=>{s=r?r[h]:++s;const p=n[h]-t[h],m=a.has(s)?p-a.get(s):0;return a.set(s,p),m}),l=[0,...W2(c)];for(const h of u)t[h]+=o,n[h]+=o;const d=on(f);d&&(o-=on(f,(h,p)=>(c[p]/2+l[p])*h)/d)}Fy(i,t,n)}qy(e,t,n)}function Fy(e,t,n){const r=Bt(e,i=>Bt(i,a=>t[a]));for(const i of e)for(const a of i)t[a]-=r,n[a]-=r}function qy(e,t,n){const r=e.length;if(r===1)return;const i=e.map(u=>u.flat()),a=i.map(u=>(Bt(u,s=>t[s])+rt(u,s=>n[s]))/2),o=Bt(a);for(let u=0;u<r;u++){const s=o-a[u];for(const f of i[u])t[f]+=s,n[f]+=s}}function tT(e,t,n){if(e===void 0&&t===Py)return Gd(st);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?no:st;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return nT(i);case"z":return rT(i);case"sum":return iT(i);case"appearance":return aT(i);case"inside-out":return Gd(i)}return Yd(Wg(e))}if(typeof e=="function")return(e.length===1?Yd:oT)(e);if(hn(e))return uT(e);throw new Error(`invalid order: ${e}`)}}function nT(e){return(t,n,r)=>(i,a)=>e(r[i],r[a])}function rT(e){return(t,n,r,i)=>(a,o)=>e(i[a],i[o])}function iT(e){return Jo(e,(t,n,r,i)=>bf(Gt(t),a=>on(a,o=>r[o]),a=>i[a]))}function aT(e){return Jo(e,(t,n,r,i)=>bf(Gt(t),a=>n[n0(a,o=>r[o])],a=>i[a]))}function Gd(e){return Jo(e,(t,n,r,i)=>{const a=Gt(t),o=bf(a,l=>n[n0(l,d=>r[d])],l=>i[l]),u=er(a,l=>on(l,d=>r[d]),l=>i[l]),s=[],f=[];let c=0;for(const l of o)c<0?(c+=u.get(l),s.push(l)):(c-=u.get(l),f.push(l));return f.reverse().concat(s)})}function Yd(e){return t=>{const n=le(t,e);return(r,i)=>st(n[r],n[i])}}function oT(e){return t=>hn(t)?(n,r)=>e(t[n],t[r]):(n,r)=>e(t.get(n),t.get(r))}function uT(e){return Jo(st,()=>e)}function Jo(e,t){return(n,r,i,a)=>{if(!a)throw new Error("missing channel: z");const o=new Cn(t(n,r,i,a).map((u,s)=>[u,s]));return(u,s)=>e(o.get(a[u]),o.get(a[s]))}}const sT={ariaLabel:"rect"};class fT extends Je{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:o}=n;super(t,{x1:{value:r,scale:"x",type:r!=null&&a==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&o==null?"band":void 0,optional:!0},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},n,sT),jy(this,n),By(this,n)}render(t,n,r,i,a){const{x:o,y:u}=n;let{x1:s,y1:f,x2:c,y2:l}=r;const{marginTop:d,marginRight:h,marginBottom:p,marginLeft:m,width:g,height:b}=i,{projection:y}=a,{insetTop:v,insetRight:w,insetBottom:T,insetLeft:_}=this,{rx:E,ry:C,rx1y1:k,rx1y2:R,rx2y1:$,rx2y2:S}=this;(s||c)&&!y&&vr(o)&&(s=c=null),(f||l)&&!y&&vr(u)&&(f=l=null);const x=o!=null&&o.bandwidth?o.bandwidth():0,A=u!=null&&u.bandwidth?u.bandwidth():0;return Se("svg:g",a).call(Wt,this,i,a).call(Vt,this,{},0,0).call(M=>M.selectAll().data(t).enter().call(k||R||$||S?N=>N.append("path").call(St,this).call(zy,s&&c?I=>s[I]+(c[I]<s[I]?-w:_):s?I=>s[I]+_:m+_,f&&l?I=>f[I]+(l[I]<f[I]?-T:v):f?I=>f[I]+v:d+v,s&&c?I=>c[I]-(c[I]<s[I]?-_:w):s?I=>s[I]+x-w:g-h-w,f&&l?I=>l[I]-(l[I]<f[I]?-v:T):f?I=>f[I]+A-T:b-p-T,this).call(Pn,this,r):N=>N.append("rect").call(St,this).attr("x",s?c?I=>Math.min(s[I],c[I])+_:I=>s[I]+_:m+_).attr("y",f?l?I=>Math.min(f[I],l[I])+v:I=>f[I]+v:d+v).attr("width",s?c?I=>Math.max(0,Math.abs(c[I]-s[I])+x-_-w):x-_-w:g-h-m-w-_).attr("height",f?l?I=>Math.max(0,Math.abs(f[I]-l[I])+A-v-T):A-v-T:b-d-p-v-T).call(Q,"rx",E).call(Q,"ry",C).call(Pn,this,r))).node()}}function jy(e,{inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:a=t}={}){e.insetTop=ke(n),e.insetRight=ke(r),e.insetBottom=ke(i),e.insetLeft=ke(a)}function By(e,{r:t,rx:n,ry:r,rx1:i=t,ry1:a=t,rx2:o=t,ry2:u=t,rx1y1:s=i!==void 0?+i:a!==void 0?+a:0,rx1y2:f=i!==void 0?+i:u!==void 0?+u:0,rx2y1:c=o!==void 0?+o:a!==void 0?+a:0,rx2y2:l=o!==void 0?+o:u!==void 0?+u:0}={}){s||f||c||l?(e.rx1y1=s,e.rx1y2=f,e.rx2y1=c,e.rx2y2=l):(e.rx=$e(n,"auto"),e.ry=$e(r,"auto"))}function zy(e,t,n,r,i,a){const{rx1y1:o,rx1y2:u,rx2y1:s,rx2y2:f}=a;typeof t!="function"&&(t=qt(t)),typeof n!="function"&&(n=qt(n)),typeof r!="function"&&(r=qt(r)),typeof i!="function"&&(i=qt(i));const c=Math.max(Math.abs(o+s),Math.abs(u+f)),l=Math.max(Math.abs(o+u),Math.abs(s+f));e.attr("d",d=>{const h=t(d),p=n(d),m=r(d),g=i(d),b=h>m,y=p>g,v=b?m:h,w=b?h:m,T=y?g:p,_=y?p:g,E=Math.min(1,(w-v)/c,(_-T)/l),C=E*(b?y?f:s:y?u:o),k=E*(b?y?u:o:y?f:s),R=E*(b?y?o:u:y?s:f),$=E*(b?y?s:f:y?o:u);return`M${v},${T+sa(C,$)}A${C},${C} 0 0 ${C<0?0:1} ${v+ua(C,$)},${T}H${w-ua(k,R)}A${k},${k} 0 0 ${k<0?0:1} ${w},${T+sa(k,R)}V${_-sa(R,k)}A${R},${R} 0 0 ${R<0?0:1} ${w-ua(R,k)},${_}H${v+ua($,C)}A${$},${$} 0 0 ${$<0?0:1} ${v},${_-sa($,C)}Z`})}function ua(e,t){return t<0?e:Math.abs(e)}function sa(e,t){return t<0?Math.abs(e):e}function GS(e,t={}){return x8(t)||(t={...t,x:Ri,y2:Te,interval:1}),new fT(e,Ry(J7(Ly(t))))}const cT={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},lT={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class dT extends Je{constructor(t={}){const{anchor:n=null}=t;super(Ta,void 0,t,n==null?cT:lT),this.anchor=Kg(n,"anchor",["top","right","bottom","left"]),jy(this,t),n||By(this,t)}render(t,n,r,i,a){const{marginTop:o,marginRight:u,marginBottom:s,marginLeft:f,width:c,height:l}=i,{anchor:d,insetTop:h,insetRight:p,insetBottom:m,insetLeft:g}=this,{rx:b,ry:y,rx1y1:v,rx1y2:w,rx2y1:T,rx2y2:_}=this,E=f+g,C=c-u-p,k=o+h,R=l-s-m;return Se(d?"svg:line":v||w||T||_?"svg:path":"svg:rect",a).datum(0).call(Wt,this,i,a).call(St,this).call(Pn,this,r).call(Vt,this,{}).call(d==="left"?$=>$.attr("x1",E).attr("x2",E).attr("y1",k).attr("y2",R):d==="right"?$=>$.attr("x1",C).attr("x2",C).attr("y1",k).attr("y2",R):d==="top"?$=>$.attr("x1",E).attr("x2",C).attr("y1",k).attr("y2",k):d==="bottom"?$=>$.attr("x1",E).attr("x2",C).attr("y1",R).attr("y2",R):v||w||T||_?$=>$.call(zy,E,k,C,R,this):$=>$.attr("x",E).attr("y",k).attr("width",C-E).attr("height",R-k).attr("rx",b).attr("ry",y)).node()}}function hT(e){return new dT(e)}const Ju={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},pT=new Set(["geometry","href","src","ariaLabel","scales"]);class mT extends Je{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&gn(t)&&Jg(t)&&(n={...n,title:Te});const{x:r,y:i,x1:a,x2:o,y1:u,y2:s,anchor:f,preferredAnchor:c="bottom",monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:m,fontWeight:g,lineHeight:b=1,lineWidth:y=20,frameAnchor:v,format:w,textAnchor:T="start",textOverflow:_,textPadding:E=8,title:C,pointerSize:k=12,pathFilter:R="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:a!=null&&o!=null?null:r,scale:"x",optional:!0},y:{value:u!=null&&s!=null?null:i,scale:"y",optional:!0},x1:{value:a,scale:"x",optional:o==null},y1:{value:u,scale:"y",optional:s==null},x2:{value:o,scale:"x",optional:a==null},y2:{value:s,scale:"y",optional:u==null},title:{value:C,optional:!0}},n,Ju),this.anchor=nf(f,"anchor"),this.preferredAnchor=nf(c,"preferredAnchor"),this.frameAnchor=ac(v),this.textAnchor=$e(T,"middle"),this.textPadding=+E,this.pointerSize=+k,this.pathFilter=De(R),this.lineHeight=+b,this.lineWidth=+y,this.textOverflow=ry(_),this.monospace=!!l,this.fontFamily=De(d),this.fontSize=ke(h),this.fontStyle=De(p),this.fontVariant=De(m),this.fontWeight=De(g);for(const $ in Ju)$ in this.channels&&(this[$]=Ju[$]);this.splitLines=uy(this),this.clipLine=sy(this),this.format=typeof w=="string"||typeof w=="function"?{title:w}:{...w}}render(t,n,r,i,a){const o=this,{x:u,y:s,fx:f,fy:c}=n,{ownerSVGElement:l,document:d}=a,{anchor:h,monospace:p,lineHeight:m,lineWidth:g}=this,{textPadding:b,pointerSize:y,pathFilter:v}=this,{marginTop:w,marginLeft:T}=i,{x1:_,y1:E,x2:C,y2:k,x:R=_??C,y:$=E??k}=r,S=f?f(t.fx)-T:0,x=c?c(t.fy)-w:0,[A,M]=Xo(this,i),N=B1(r,A),I=z1(r,M),z=p?Ec:$c,H=z(ir);let P,j;"title"in r?(P=Wd.call(this,{title:r.channels.title},n),j=vT):(P=Wd.call(this,r.channels,n),j=_T);const F=Se("svg:g",a).call(Wt,this,i,a).call(oy,this).call(Vt,this,{x:R&&u,y:$&&s}).call(Z=>Z.selectAll().data(t).enter().append("g").attr("transform",W=>`translate(${Math.round(N(W))},${Math.round(I(W))})`).call(St,this).call(W=>W.append("path").attr("filter",v)).call(W=>W.append("text").each(function(G){const B=tr(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const D=j.call(o,G,t,P,n,r);if(typeof D=="string")for(const U of o.splitLines(D))q(B,{value:o.clipLine(U)});else{const U=new Set;for(const Y of D){const{label:L=""}=Y;L&&U.has(L)||(U.add(L),q(B,Y))}}})));function q(Z,{label:W,value:G,color:B,opacity:D}){W??(W=""),G??(G="");const U=B!=null||D!=null;let Y,L=g*100;const[ie]=xr(W,L,z,H);if(ie>=0)W=W.slice(0,ie).trimEnd()+ir,Y=G.trim(),G="";else{(W||!G&&!U)&&(G=" "+G);const[ae]=xr(G,L-z(W),z,H);ae>=0&&(Y=G.trim(),G=G.slice(0,ae).trimEnd()+ir)}const V=Z.append("tspan").attr("x",0).attr("dy",`${m}em`).text("​");W&&V.append("tspan").attr("font-weight","bold").text(W),G&&V.append(()=>d.createTextNode(G)),U&&V.append("tspan").text(" ■").attr("fill",B).attr("fill-opacity",D).style("user-select","none"),Y&&V.append("title").text(Y)}function K(){const{width:Z,height:W}=i.facet??i;F.selectChildren().each(function(G){let{x:B,width:D,height:U}=this.getBBox();D=Math.round(D),U=Math.round(U);let Y=h;if(Y===void 0){const V=N(G)+S,ae=I(G)+x,oe=V+D+y+b*2<Z,ce=V-D-y-b*2>0,lt=ae+U+y+b*2<W,wn=ae-U-y-b*2>0;Y=oe&&ce?lt&&wn?o.preferredAnchor:wn?"bottom":"top":lt&&wn?oe?"left":"right":(oe||ce)&&(lt||wn)?`${wn?"bottom":"top"}-${oe?"left":"right"}`:o.preferredAnchor}const L=this.firstChild,ie=this.lastChild;if(L.setAttribute("d",wT(Y,y,b,D,U)),B)for(const V of ie.childNodes)V.setAttribute("x",-B);ie.setAttribute("y",`${+yT(Y,ie.childNodes.length,m).toFixed(6)}em`),ie.setAttribute("transform",`translate(${bT(Y,y,b,D,U)})`)}),F.attr("visibility",null)}return t.length&&(F.attr("visibility","hidden"),l.isConnected?Promise.resolve().then(K):typeof requestAnimationFrame<"u"&&requestAnimationFrame(K)),F.node()}}function gT(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=tc(t,n)),new mT(e,{...r,x:t,y:n})}function yT(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function bT(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function wT(e,t,n,r,i){const a=r+n*2,o=i+n*2;switch(e){case"middle":return`M${-a/2},${-o/2}h${a}v${o}h${-a}z`;case"top-left":return`M0,0l${t},${t}h${a-t}v${o}h${-a}z`;case"top":return`M0,0l${t/2},${t/2}h${(a-t)/2}v${o}h${-a}v${-o}h${(a-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-a}v${o}h${a}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-o/2}h${-a}v${o}h${a}v${t/2-o/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${a-t}v${-o}h${-a}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(a-t)/2}v${-o}h${-a}v${o}h${(a-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-a}v${-o}h${a}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-o/2}h${a}v${o}h${-a}v${t/2-o/2}z`}}function Wd(e,t){var i,a;const n={};let r=this.format;r=Vd(r,e,"x"),r=Vd(r,e,"y"),this.format=r;for(const o in r){const u=r[o];if(!(u===null||u===!1))if(o==="fx"||o==="fy")n[o]=!0;else{const s=xd(e,o);s&&(n[o]=s)}}for(const o in e){if(o in n||o in r||pT.has(o)||(o==="x"||o==="y")&&e.geometry)continue;const u=xd(e,o);if(u){if(u.scale==null&&u.defaultScale==="color")continue;n[o]=u}}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(const o in n){const u=this.format[o];if(typeof u=="string"){const s=((i=n[o])==null?void 0:i.value)??((a=t[o])==null?void 0:a.domain())??[];this.format[o]=(Fe(s)?Ii:Sr)(u)}else if(u===void 0||u===!0){const s=t[o];this.format[o]=s!=null&&s.bandwidth?Ac(s,s.domain()):_r}}return n}function Vd(e,t,n){if(!(n in e))return e;const r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;const a=Object.entries(e),o=e[n];return a.splice(a.findIndex(([u])=>u===n)+1,0,[r,o],[i,o]),Object.fromEntries(a)}function vT(e,t,{title:n}){return this.format.title(n.value[e],e)}function*_T(e,t,n,r,i){for(const a in n){if(a==="fx"||a==="fy"){yield{label:fo(r,n,a),value:this.format[a](t[a],e)};continue}if(a==="x1"&&"x2"in n||a==="y1"&&"y2"in n)continue;const o=n[a];if(a==="x2"&&"x1"in n)yield{label:Kd(r,n,"x"),value:Xd(this.format.x2,n.x1,o,e)};else if(a==="y2"&&"y1"in n)yield{label:Kd(r,n,"y"),value:Xd(this.format.y2,n.y1,o,e)};else{const u=o.value[e],s=o.scale;if(!fn(u)&&s==null)continue;yield{label:fo(r,n,a),value:this.format[a](u,e),color:s==="color"?i[a][e]:null,opacity:s==="opacity"?i[a][e]:null}}}}function Xd(e,t,n,r){var i;return(i=n.hint)!=null&&i.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}–${e(n.value[r],r)}`}function Kd(e,t,n){const r=fo(e,t,`${n}1`,n),i=fo(e,t,`${n}2`,n);return r===i?r:`${r}–${i}`}function fo(e,t,n,r=n){const i=t[n],a=e[(i==null?void 0:i.scale)??n];return String((a==null?void 0:a.label)??(i==null?void 0:i.label)??r)}function xT(e={}){var H;const{facet:t,style:n,title:r,subtitle:i,caption:a,ariaLabel:o,ariaDescription:u}=e,s=Vo(e.className),f=e.marks===void 0?[]:Qd(e.marks);f.push(...CT(f));const c=ET(t,e),l=new Map;for(const P of f){const j=Jd(P,c,e);j&&l.set(P,j)}const d=new Map;c&&Or(d,[c],e),Or(d,l,e);const h=Qd(kT(f,d,e));for(const P of h){const j=Jd(P,c,e);j&&l.set(P,j)}f.unshift(...h);let p=r7(d,e);if(p!==void 0){const P=c?Vu(p,c):void 0;for(const F of f){if(F.facet===null||F.facet==="super")continue;const q=l.get(F);q!==void 0&&(q.facetsIndex=F.fx!=null||F.fy!=null?Vu(p,q):P)}const j=new Set;for(const{facetsIndex:F}of l.values())F==null||F.forEach((q,K)=>{(q==null?void 0:q.length)>0&&j.add(K)});p.forEach(0<j.size&&j.size<p.length?(F,q)=>F.empty=!j.has(q):F=>F.empty=!1);for(const F of f)if(F.facet==="exclude"){const q=l.get(F);q!==void 0&&(q.facetsIndex=o7(q.facetsIndex))}}for(const P of pe.keys())ef(e[P])&&P!=="fx"&&P!=="fy"&&d.set(P,[]);const m=new Map;for(const P of f){if(m.has(P))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:j,channels:F}=l.get(P)??{},{data:q,facets:K,channels:Z}=P.initialize(j,F,e);Cc(Z,e),m.set(P,{data:q,facets:K,channels:Z})}const g=uf(Or(d,m,e),e),b=U7(g,f,e);V4(g,b);const y=Cd(g),{fx:v,fy:w}=y,T=v||w?k1(g,b):b,_=v||w?PT(y,b):b,E=wc(e),C=E.document,k=vo("svg").call(C.documentElement);let R=k;E.ownerSVGElement=k,E.className=s,E.projection=m7(e,T),E.filterFacets=(P,j)=>Vu(p,{channels:j,groups:bc(P,j)}),E.getMarkState=P=>{const j=m.get(P),F=l.get(P);return{...j,channels:{...j.channels,...F==null?void 0:F.channels}}},E.dispatchValue=P=>{R.value!==P&&(R.value=P,R.dispatchEvent(new Event("input",{bubbles:!0})))};const $=new Set;for(const[P,j]of m)if(P.initializer!=null){const F=P.facet==="super"?_:T,q=P.initializer(j.data,j.facets,j.channels,y,F,E);if(q.data!==void 0&&(j.data=q.data),q.facets!==void 0&&(j.facets=q.facets),q.channels!==void 0){const{fx:K,fy:Z,...W}=q.channels;$T(W),Object.assign(j.channels,W);for(const G of Object.values(W)){const{scale:B}=G;B!=null&&!q8(pe.get(B))&&(Uy(G,e),$.add(B))}(K!=null||Z!=null)&&l.set(P,!0)}}if($.size){const P=new Map;Or(P,m,e,K=>$.has(K)),Or(d,m,e,K=>$.has(K));const j=OT(uf(P,e),g),{scales:F,...q}=Cd(j);Object.assign(g,j),Object.assign(y,q),Object.assign(y.scales,F)}let S,x;p!==void 0&&(S={x:v==null?void 0:v.domain(),y:w==null?void 0:w.domain()},p=i7(p,S),x=a7(v,w,b));for(const[P,j]of m)j.values=P.scale(j.channels,y,E);const{width:A,height:M}=b;tr(k).attr("class",s).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",A).attr("height",M).attr("viewBox",`0 0 ${A} ${M}`).attr("aria-label",o).attr("aria-description",u).call(P=>P.append("style").text(`:where(.${s}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${s} text),
:where(.${s} tspan) {
  white-space: pre;
}`)).call(_c,n);for(const P of f){const{channels:j,values:F,facets:q}=m.get(P);if(p===void 0||P.facet==="super"){let K=null;if(q&&(K=q[0],K=P.filter(K,j,F),K.length===0))continue;const Z=P.render(K,y,F,_,E);if(Z==null)continue;k.appendChild(Z)}else{let K;for(const Z of p){if(!(((H=P.facetAnchor)==null?void 0:H.call(P,p,S,Z))??!Z.empty))continue;let W=null;if(q){const B=l.has(P);if(W=q[B?Z.i:0],W=P.filter(W,j,F),W.length===0)continue;!B&&W===q[0]&&(W=S8(W)),W.fx=Z.x,W.fy=Z.y,W.fi=Z.i}const G=P.render(W,y,F,T,E);if(G!=null){(K??(K=tr(k).append("g"))).append(()=>G).datum(Z);for(const B of["aria-label","aria-description","aria-hidden","transform"])G.hasAttribute(B)&&(K.attr(B,G.getAttribute(B)),G.removeAttribute(B))}}K==null||K.selectChildren().attr("transform",x)}}const N=Y9(g,E,e),{figure:I=r!=null||i!=null||a!=null||N.length>0}=e;I&&(R=C.createElement("figure"),R.className=`${s}-figure`,R.style.maxWidth="initial",r!=null&&R.append(Zd(C,r,"h2")),i!=null&&R.append(Zd(C,i,"h3")),R.append(...N,k),a!=null&&R.append(TT(C,a)),"value"in k&&(R.value=k.value,delete k.value)),R.scale=t7(y.scales),R.legend=U9(g,E,e);const z=N4();return z>0&&tr(k).append("text").attr("x",A).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${z.toLocaleString("en-US")} warning${z===1?"":"s"}. Please check the console.`),R}function Zd(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(t),r}function TT(e,t){const n=e.createElement("figcaption");return n.append(t),n}function Qd(e){return e.flat(1/0).filter(t=>t!=null).map(ST)}function ST(e){return typeof e.render=="function"?e:new MT(e)}class MT extends Je{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Cc(e,t){for(const n in e)Uy(e[n],t);return e}function Uy(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:a,interval:o,transform:u=a?s=>s==null?NaN:s*100:Qg(o,i)}=t[n]??{};u!=null&&(e.value=me(e.value,u),e.transform=!1)}function $T(e){for(const t in e)m1(t,e[t])}function Or(e,t,n,r=w8){var i,a;for(const{channels:o}of t.values())for(const u in o){const s=o[u],{scale:f}=s;if(f!=null&&r(f))if(f==="projection"){if(!w7(n)){const c=((i=n.x)==null?void 0:i.domain)===void 0,l=((a=n.y)==null?void 0:a.domain)===void 0;if(c||l){const[d,h]=_7(s);c&&es(e,"x",d),l&&es(e,"y",h)}}}else es(e,f,s)}return e}function es(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function ET(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=yr(e.data);if(i==null)throw new Error("missing facet data");const a={};n!=null&&(a.fx=mi(i,{value:n,scale:"fx"})),r!=null&&(a.fy=mi(i,{value:r,scale:"fy"})),Cc(a,t);const o=bc(i,a);return{channels:a,groups:o,data:e.data}}function Jd(e,t,n){if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const s=yr(e.data??r??i);if(s===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(s===null)return;const f={};return r!=null&&(f.fx=mi(s,{value:r,scale:"fx"})),i!=null&&(f.fy=mi(s,{value:i,scale:"fy"})),Cc(f,n),{channels:f,groups:bc(s,f)}}if(t===void 0)return;const{channels:a,groups:o,data:u}=t;if(e.facet!=="auto"||e.data===u)return{channels:a,groups:o};u.length>0&&(o.size>1||o.size===1&&a.fx&&a.fy&&[...o][0][1].size>1)&&hi(yr(e.data))===hi(u)&&an(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function AT(e,t={}){return wr({...t,x:null,y:null},(n,r,i,a,o,u)=>u.getMarkState(e))}function CT(e){const t=[];for(const n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:a}=r;i=/^x$/i.test(i)?Y7:/^y$/i.test(i)?Pd:G7,r=i(AT(n,r)),r.title=null,a===void 0&&(r.preferredAnchor=i===Pd?"left":"bottom");const o=gT(n.data,r);o.facet=n.facet,o.facetAnchor=n.facetAnchor,t.push(o)}}return t}function kT(e,t,n){let{projection:r,x:i={},y:a={},fx:o={},fy:u={},axis:s,grid:f,facet:c={},facet:{axis:l=s,grid:d}=c,x:{axis:h=s,grid:p=h===null?null:f}=i,y:{axis:m=s,grid:g=m===null?null:f}=a,fx:{axis:b=l,grid:y=b===null?null:d}=o,fy:{axis:v=l,grid:w=v===null?null:d}=u}=n;(r||!ef(i)&&!eh("x",e))&&(h=p=null),(r||!ef(a)&&!eh("y",e))&&(m=g=null),t.has("fx")||(b=y=null),t.has("fy")||(v=w=null),h===void 0&&(h=!la(e,"x")),m===void 0&&(m=!la(e,"y")),b===void 0&&(b=!la(e,"fx")),v===void 0&&(v=!la(e,"fy")),h===!0&&(h="bottom"),m===!0&&(m="left"),b===!0&&(b=h==="top"||h===null?"bottom":"top"),v===!0&&(v=m==="right"||m===null?"left":"right");const T=[];return ca(T,w,D9,u),fa(T,v,$9,"right","left",c,u),ca(T,y,R9,o),fa(T,b,E9,"top","bottom",c,o),ca(T,g,I9,a),fa(T,m,by,"left","right",n,a),ca(T,p,L9,i),fa(T,h,wy,"bottom","top",n,i),T}function fa(e,t,n,r,i,a,o){if(!t)return;const u=NT(t);o=IT(u?r:t,a,o);const{line:s}=o;(n===by||n===wy)&&s&&!pi(s)&&e.push(hT(DT(o))),e.push(n(o)),u&&e.push(n({...o,anchor:i,label:null}))}function ca(e,t,n,r){!t||pi(t)||e.push(n(LT(t,r)))}function NT(e){return/^\s*both\s*$/i.test(e)}function IT(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:u,tickRotate:s,fontVariant:f,ariaLabel:c,ariaDescription:l,label:d=t.label,labelAnchor:h,labelArrow:p=t.labelArrow,labelOffset:m}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:a,tickPadding:o,tickFormat:u,tickRotate:s,fontVariant:f,ariaLabel:c,ariaDescription:l,label:d,labelAnchor:h,labelArrow:p,labelOffset:m}}function DT(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function LT(e,{stroke:t=zo(e)?e:void 0,ticks:n=RT(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:a}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:a}}function RT(e){switch(typeof e){case"number":return!0;case"string":return!zo(e)}return gn(e)||typeof(e==null?void 0:e.range)=="function"}function la(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function eh(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function OT(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function PT({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:a,marginLeft:o,width:u,height:s}=yc(n),f=e&&th(e),c=t&&th(t);return{marginTop:t?c[0]:r,marginRight:e?u-f[1]:i,marginBottom:t?s-c[1]:a,marginLeft:e?f[0]:o,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:u,height:s}}function th(e){const t=e.domain();if(t.length===0)return[0,e.bandwidth()];let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const FT=new Map([["basis",H5],["basis-closed",G5],["basis-open",Y5],["bundle",W5],["bump-x",D5],["bump-y",L5],["cardinal",V5],["cardinal-closed",X5],["cardinal-open",K5],["catmull-rom",Z5],["catmull-rom-closed",Q5],["catmull-rom-open",J5],["linear",Di],["linear-closed",e8],["monotone-x",t8],["monotone-y",n8],["natural",r8],["step",i8],["step-after",o8],["step-before",a8]]);function Hy(e=Di,t){if(typeof e=="function")return e;const n=FT.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function qT(e=co,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?co:Hy(e,t)}function co(e){return Di(e)}function jT(e={y:"count"},t={}){[e,t]=UT(e,t);const{x:n,y:r}=t;return zT(HT(n,t,Te),null,null,r,e,Ko(t))}function BT(e,t,n={}){if((n==null?void 0:n.interval)==null)return n;const{reduce:r=hc}=n,i={filter:null};return n[t]!=null&&(i[t]=r),n[`${t}1`]!=null&&(i[`${t}1`]=r),n[`${t}2`]!=null&&(i[`${t}2`]=r),e(i,n)}function Gy(e={}){return BT(jT,"y",zi(e,"x"))}function zT(e,t,n,r,{data:i=dc,filter:a=oo,sort:o,reverse:u,...s}={},f={}){e=nh(e),t=nh(t),s=YT(s,f),i=Vy(i,Te),o=o==null?void 0:Yy("sort",o,f),a=a==null?void 0:Wy("filter",a,f),r!=null&&ti(s,"y","y1","y2")&&(r=null);const[c,l]=Le(e),[d,h]=Le(e),[p,m]=Le(t),[g,b]=Le(t),[y,v]=r!=null?[r,"y"]:[],[w,T]=Le(y),{x:_,y:E,z:C,fill:k,stroke:R,x1:$,x2:S,y1:x,y2:A,domain:M,cumulative:N,thresholds:I,interval:z,...H}=f,[P,j]=Le(C),[F]=Qe(k),[q]=Qe(R),[K,Z]=Le(F),[W,G]=Le(q);return{..."z"in f&&{z:P||C},..."fill"in f&&{fill:K||k},..."stroke"in f&&{stroke:W||R},...qi(H,(B,D,U)=>{const Y=ao(le(B,y),U==null?void 0:U[v]),L=le(B,C),ie=le(B,F),V=le(B,q),ae=d1(s,{z:L,fill:ie,stroke:V}),oe=[],ce=[],lt=Y&&T([]),wn=L&&j([]),db=ie&&Z([]),hb=V&&G([]),Ic=e&&l([]),pb=e&&h([]),Dc=t&&m([]),mb=t&&b([]),gb=XT(e,t,B);let yb=0;for(const Un of s)Un.initialize(B);o&&o.initialize(B),a&&a.initialize(B);for(const Un of D){const Lc=[];for(const Hn of s)Hn.scope("facet",Un);o&&o.scope("facet",Un),a&&a.scope("facet",Un);for(const[Hn,bb]of ni(Un,ae))for(const[wb,Ui]of ni(bb,Y))for(const[dt,Et]of gb(Ui))if(ae&&(Et.z=Hn),!(a&&!a.reduce(dt,Et))){Lc.push(yb++),ce.push(i.reduceIndex(dt,B,Et)),Y&&lt.push(wb),L&&wn.push(ae===L?Hn:L[(dt.length>0?dt:Ui)[0]]),ie&&db.push(ae===ie?Hn:ie[(dt.length>0?dt:Ui)[0]]),V&&hb.push(ae===V?Hn:V[(dt.length>0?dt:Ui)[0]]),Ic&&(Ic.push(Et.x1),pb.push(Et.x2)),Dc&&(Dc.push(Et.y1),mb.push(Et.y2));for(const vb of s)vb.reduce(dt,Et);o&&o.reduce(dt,Et)}oe.push(Lc)}return h1(oe,o,u),{data:ce,facets:oe}}),...!ti(s,"x")&&(c?{x1:c,x2:d,x:tf(c,d)}:{x:_,x1:$,x2:S}),...!ti(s,"y")&&(p?{y1:p,y2:g,y:tf(p,g)}:{y:E,y1:x,y2:A}),...w&&{[v]:w},...Object.fromEntries(s.map(({name:B,output:D})=>[B,D]))}}function UT({cumulative:e,domain:t,thresholds:n,interval:r,...i},a){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...a}]}function HT(e,{cumulative:t,domain:n,thresholds:r,interval:i},a){return e={...Er(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=a),e.thresholds=GT(e.thresholds,e.interval),e}function nh(e){if(e==null)return;const{value:t,cumulative:n,domain:r=Ye,thresholds:i}=e,a=o=>{let u=le(o,t),s;if(Fe(u)||VT(i)){u=me(u,Xg,Float64Array);let[c,l]=typeof r=="function"?r(u):r,d=typeof i=="function"&&!Qn(i)?i(u,c,l):i;typeof d=="number"&&(d=Up(c,l,d)),Qn(d)&&(r===Ye&&(c=d.floor(c),l=d.offset(d.floor(l))),d=d.range(c,d.offset(l))),s=d}else{u=gr(u);let[c,l]=typeof r=="function"?r(u):r,d=typeof i=="function"&&!Qn(i)?i(u,c,l):i;if(typeof d=="number")if(r===Ye){let h=Ea(c,l,d);if(isFinite(h))if(h>0){let p=Math.round(c/h),m=Math.round(l/h);p*h<=c||--p,m*h>l||++m;let g=m-p+1;d=new Float64Array(g);for(let b=0;b<g;++b)d[b]=(p+b)*h}else if(h<0){h=-h;let p=Math.round(c*h),m=Math.round(l*h);p/h<=c||--p,m/h>l||++m;let g=m-p+1;d=new Float64Array(g);for(let b=0;b<g;++b)d[b]=(p+b)/h}else d=[c];else d=[c]}else d=ri(c,l,d);else Qn(d)&&(r===Ye&&(c=d.floor(c),l=d.offset(d.floor(l))),d=d.range(c,d.offset(l)));s=d}const f=[];if(s.length===1)f.push([s[0],s[0]]);else for(let c=1;c<s.length;++c)f.push([s[c-1],s[c]]);return f.bin=(n<0?ZT:n>0?KT:kc)(f,s,u),f};return a.label=mn(t),a}function GT(e,t,n=rh){if(e===void 0)return t===void 0?n:$r(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return rw;case"scott":return r0;case"sturges":return J2;case"auto":return rh}return Kf(e)}return e}function YT(e,t){return s1(e,t,Yy)}function Yy(e,t,n){return cc(e,t,n,Wy)}function Wy(e,t,n){return lc(e,t,n,Vy)}function Vy(e,t){return Ho(e,t,WT)}function WT(e){switch(`${e}`.toLowerCase()){case"x":return QT;case"x1":return eS;case"x2":return tS;case"y":return JT;case"y1":return nS;case"y2":return rS;case"z":return p1}throw new Error(`invalid bin reduce: ${e}`)}function rh(e,t,n){return Math.min(200,r0(e,t,n))}function VT(e){return A8(e)||gn(e)&&Fe(e)}function XT(e,t,n){const r=e==null?void 0:e(n),i=t==null?void 0:t(n);return r&&i?function*(a){const o=r.bin(a);for(const[u,[s,f]]of r.entries()){const c=i.bin(o[u]);for(const[l,[d,h]]of i.entries())yield[c[l],{data:n,x1:s,y1:d,x2:f,y2:h}]}}:r?function*(a){const o=r.bin(a);for(const[u,[s,f]]of r.entries())yield[o[u],{data:n,x1:s,x2:f}]}:function*(a){const o=i.bin(a);for(const[u,[s,f]]of i.entries())yield[o[u],{data:n,y1:s,y2:f}]}}function kc(e,t,n){return t=gr(t),r=>{var a;const i=e.map(()=>[]);for(const o of r)(a=i[go(t,n[o])-1])==null||a.push(o);return i}}function KT(e,t,n){const r=kc(e,t,n);return i=>{const a=r(i);for(let o=1,u=a.length;o<u;++o){const s=a[o-1],f=a[o];for(const c of s)f.push(c)}return a}}function ZT(e,t,n){const r=kc(e,t,n);return i=>{const a=r(i);for(let o=a.length-2;o>=0;--o){const u=a[o+1],s=a[o];for(const f of u)s.push(f)}return a}}function Xy(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const QT={reduceIndex(e,t,{x1:n,x2:r}){return Xy(n,r)}},JT={reduceIndex(e,t,{y1:n,y2:r}){return Xy(n,r)}},eS={reduceIndex(e,t,{x1:n}){return n}},tS={reduceIndex(e,t,{x2:n}){return n}},nS={reduceIndex(e,t,{y1:n}){return n}},rS={reduceIndex(e,t,{y2:n}){return n}},iS={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Ky extends Je{constructor(t,n={}){const{x1:r,y1:i,x2:a,y2:o,z:u,curve:s,tension:f}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:a,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0},z:{value:nc(n),optional:!0}},n,iS),this.z=u,this.curve=Hy(s,f)}filter(t){return t}render(t,n,r,i,a){const{x1:o,y1:u,x2:s=o,y2:f=u}=r;return Se("svg:g",a).call(Wt,this,i,a).call(Vt,this,n,0,0).call(c=>c.selectAll().data(F1(t,[o,u,s,f],this,r)).enter().append("path").call(St,this).call(P1,this,r).attr("d",I5().curve(this.curve).defined(l=>l>=0).x0(l=>o[l]).y0(l=>u[l]).x1(l=>s[l]).y1(l=>f[l]))).node()}}function ih(e,t){return t===void 0?Nc(e,{x:Jf,y:ro}):new Ky(e,t)}function Nc(e,t){const{x:n=Ri,...r}=Gy(t);return new Ky(e,Ry(Ly({...r,x1:n,x2:void 0})))}const aS={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Zy extends Je{constructor(t,n={}){const{x:r,y:i,z:a,curve:o,tension:u}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:nc(n),optional:!0}},n,aS),this.z=a,this.curve=qT(o,u),Tc(this,n)}filter(t){return t}project(t,n,r){this.curve!==co&&super.project(t,n,r)}render(t,n,r,i,a){const{x:o,y:u}=r,{curve:s}=this;return Se("svg:g",a).call(Wt,this,i,a).call(Vt,this,n).call(f=>f.selectAll().data(F1(t,[o,u],this,r)).enter().append("path").call(St,this).call(P1,this,r).call(Z7,this,r,a).attr("d",s===co&&a.projection?oS(a.projection,o,u):lg().curve(s).defined(c=>c>=0).x(c=>o[c]).y(c=>u[c]))).node()}}function oS(e,t,n){const r=$o(e);return t=gr(t),n=gr(n),i=>{let a=[];const o=[a];for(const u of i)u===-1?(a=[],o.push(a)):a.push([t[u],n[u]]);return r({type:"MultiLineString",coordinates:o})}}function uS(e,{x:t,y:n,...r}={}){return[t,n]=tc(t,n),new Zy(e,{...r,x:t,y:n})}function eu(e,{x:t=Ri,y:n=Te,...r}={}){return new Zy(e,Gy({...r,x:t,y:n}))}function Qy(e,t){return sS("y",e,t)}function sS(e,t,{x1:n,x2:r,y1:i,y2:a,x:o=n===void 0&&r===void 0?Ri:void 0,y:u=i===void 0&&a===void 0?Te:void 0,fill:s,positiveFill:f="#3ca951",negativeFill:c="#4269d0",fillOpacity:l=1,positiveFillOpacity:d=l,negativeFillOpacity:h=l,stroke:p,strokeOpacity:m,z:g=Qe(p)[0],clip:b,tip:y,render:v,...w}={}){return[n,r]=ah(o,n,r),[i,a]=ah(u,i,a),n===r&&i===a&&(i=Jt(0)),{tip:y}=zi({tip:y},"x"),zn(Ae(f)?null:Object.assign(ih(t,{x1:n,x2:r,y1:i,y2:a,z:g,fill:f,fillOpacity:d,render:so(v,oh(e,!0)),clip:b,...w}),{ariaLabel:"positive difference"}),Ae(c)?null:Object.assign(ih(t,{x1:n,x2:r,y1:i,y2:a,z:g,fill:c,fillOpacity:h,render:so(v,oh(e,!1)),clip:b,...w}),{ariaLabel:"negative difference"}),uS(t,{x:r,y:a,z:g,stroke:p,strokeOpacity:m,tip:y,clip:!0,...w}))}function ah(e,t,n){return t===void 0&&n===void 0?t=n=Jt(e):t===void 0?(n=Jt(n),t=e===void 0?n:Jt(e)):n===void 0?(t=Jt(t),n=e===void 0?t:Jt(e)):(t=Jt(t),n=Jt(n)),[t,n]}function Jt(e){let t;const{value:n,label:r=mn(n)}=Er(e);return{transform:i=>t||(t=le(i,n)),label:r}}function oh(e,t){const n="x",r=`${n}1`,i=`${n}2`,a=`${e}1`,o=`${e}2`;return(u,s,f,c,l,d)=>{const{[r]:h,[i]:p}=f,m=new Float32Array(h.length),g=new Float32Array(p.length),b=c.height;(t===C1(s[e])<0?m:g).fill(b);const y=d(u,s,{...f,[i]:h,[o]:g},c,l),v=d(u,s,{...f,[r]:p,[a]:m},c,l),w=y.querySelector("g")??y,T=v.querySelector("g")??v;for(let _=0;w.firstChild;_+=2){const E=O1(),C=Se("svg:clipPath",l).attr("id",E).node();C.appendChild(w.firstChild),T.childNodes[_].setAttribute("clip-path",`url(#${E})`),T.insertBefore(C,T.childNodes[_])}return v}}Je.prototype.plot=function({marks:e=[],...t}={}){return xT({...t,marks:[...e,this]})};function uh(e){const t=document.createElement("template");return t.innerHTML=e,document.importNode(t.content,!0)}function sh(e){const t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e,t}Object.assign(ho(uh,e=>{if(e.firstChild===null)return null;if(e.firstChild===e.lastChild)return e.removeChild(e.firstChild);const t=document.createElement("span");return t.appendChild(e),t}),{fragment:ho(uh,e=>e)});const fS=Object.assign(ho(sh,e=>e.firstChild===null?null:e.firstChild===e.lastChild?e.removeChild(e.firstChild):e),{fragment:ho(sh,e=>{const t=document.createDocumentFragment();for(;e.firstChild;)t.appendChild(e.firstChild);return t})}),cS=9,lS=10,dS=12,hS=13,pS=32,mS=65,gS=90,yS=97,bS=122,da=60,Ne=62,Xt=47,ht=45,ts=33,ns=61,fh=34,ch=39,wS=63,Me=1,lh=2,dh=3,rs=4,ha=5,Kt=6,is=7,pa=8,ma=9,as=10,os=11,ga=12,us=13,Pr=14,hh=15,ph=16,It=17,mh=18,gh=19,yh=20,bh=21,ss=22,Fr=23,wh=24,vh=25,pt=26,_h=27,xh=28,Th=29,vS=128,Sh=1,_S=8,xS=1,Jy="http://www.w3.org/2000/svg",vn="http://www.w3.org/1999/xlink",Mh="http://www.w3.org/XML/1998/namespace",$h="http://www.w3.org/2000/xmlns/",eb=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),lo=new Map([["xlink:actuate",vn],["xlink:arcrole",vn],["xlink:href",vn],["xlink:role",vn],["xlink:show",vn],["xlink:title",vn],["xlink:type",vn],["xml:lang",Mh],["xml:space",Mh],["xmlns",$h],["xmlns:xlink",$h]]);function ho(e,t){return function({raw:n}){let r=Me,i="",a,o,u,s,f=0;for(let h=0,p=arguments.length;h<p;++h){const m=n[h];if(h>0){const g=arguments[h];switch(r){case pt:{if(g!=null){const b=`${g}`;if(tb(o))i+=b.replace(/[<]/g,Vn);else{if(new RegExp(`</${o}[\\s>/]`,"i").test(i.slice(-o.length-2)+b))throw new Error("unsafe raw text");i+=b}}break}case Me:{g==null||(g instanceof Node||typeof g!="string"&&g[Symbol.iterator]||/(?:^|>)$/.test(n[h-1])&&/^(?:<|$)/.test(m)?(i+="<!--::"+h+"-->",f|=vS):i+=`${g}`.replace(/[<&]/g,Vn));break}case ma:{r=ga;let b;if(/^[\s>]/.test(m)){if(g==null||g===!1){i=i.slice(0,u-n[h-1].length);break}if(g===!0||(b=`${g}`)==""){i+="''";break}if(n[h-1].slice(u,s)==="style"&&fs(g)||typeof g=="function"){i+="::"+h,f|=Sh;break}}if(b===void 0&&(b=`${g}`),b==="")throw new Error("unsafe unquoted empty string");i+=b.replace(/^['"]|[\s>&]/g,Vn);break}case ga:{i+=`${g}`.replace(/[\s>&]/g,Vn);break}case os:{i+=`${g}`.replace(/['&]/g,Vn);break}case as:{i+=`${g}`.replace(/["&]/g,Vn);break}case Kt:{if(fs(g)){i+="::"+h+"=''",f|=Sh;break}throw new Error("invalid binding")}case It:break;default:throw new Error("invalid binding")}}for(let g=0,b=m.length;g<b;++g){const y=m.charCodeAt(g);switch(r){case Me:{y===da&&(r=lh);break}case lh:{y===ts?r=vh:y===Xt?r=dh:ya(y)?(a=g,o=void 0,r=rs,--g):y===wS?(r=ha,--g):(r=Me,--g);break}case dh:{ya(y)?(r=rs,--g):y===Ne?r=Me:(r=ha,--g);break}case rs:{Zt(y)?(r=Kt,o=jr(m,a,g)):y===Xt?r=Pr:y===Ne&&(o=jr(m,a,g),r=qr(o)?pt:Me);break}case Kt:{Zt(y)||(y===Xt||y===Ne?(r=is,--g):y===ns?(r=pa,u=g+1,s=void 0):(r=pa,--g,u=g+1,s=void 0));break}case pa:{Zt(y)||y===Xt||y===Ne?(r=is,--g,s=g):y===ns&&(r=ma,s=g);break}case is:{Zt(y)||(y===Xt?r=Pr:y===ns?r=ma:y===Ne?r=qr(o)?pt:Me:(r=pa,--g,u=g+1,s=void 0));break}case ma:{Zt(y)||(y===fh?r=as:y===ch?r=os:y===Ne?r=qr(o)?pt:Me:(r=ga,--g));break}case as:{y===fh&&(r=us);break}case os:{y===ch&&(r=us);break}case ga:{Zt(y)?r=Kt:y===Ne&&(r=qr(o)?pt:Me);break}case us:{Zt(y)?r=Kt:y===Xt?r=Pr:y===Ne?r=qr(o)?pt:Me:(r=Kt,--g);break}case Pr:{y===Ne?r=Me:(r=Kt,--g);break}case ha:{y===Ne&&(r=Me);break}case hh:{y===ht?r=ph:y===Ne?r=Me:(r=It,--g);break}case ph:{y===ht?r=Fr:y===Ne?r=Me:(r=It,--g);break}case It:{y===da?r=mh:y===ht&&(r=ss);break}case mh:{y===ts?r=gh:y!==da&&(r=It,--g);break}case gh:{y===ht?r=yh:(r=It,--g);break}case yh:{y===ht?r=bh:(r=Fr,--g);break}case bh:{r=Fr,--g;break}case ss:{y===ht?r=Fr:(r=It,--g);break}case Fr:{y===Ne?r=Me:y===ts?r=wh:y!==ht&&(r=It,--g);break}case wh:{y===ht?r=ss:y===Ne?r=Me:(r=It,--g);break}case vh:{y===ht&&m.charCodeAt(g+1)===ht?(r=hh,++g):(r=ha,--g);break}case pt:{y===da&&(r=_h);break}case _h:{y===Xt?r=xh:(r=pt,--g);break}case xh:{ya(y)?(a=g,r=Th,--g):(r=pt,--g);break}case Th:{Zt(y)&&o===jr(m,a,g)?r=Kt:y===Xt&&o===jr(m,a,g)?r=Pr:y===Ne&&o===jr(m,a,g)?r=Me:ya(y)||(r=pt,--g);break}default:{r=void 0;break}}}i+=m}const c=e(i),l=document.createTreeWalker(c,f,null,!1),d=[];for(;l.nextNode();){const h=l.currentNode;switch(h.nodeType){case xS:{const p=h.attributes;for(let m=0,g=p.length;m<g;++m){const{name:b,value:y}=p[m];if(/^::/.test(b)){const v=arguments[+b.slice(2)];Eh(h,b),--m,--g;for(const w in v){const T=v[w];T==null||T===!1||(typeof T=="function"?h[w]=T:w==="style"&&fs(T)?Ah(h[w],T):TS(h,w,T===!0?"":T))}}else if(/^::/.test(y)){const v=arguments[+y.slice(2)];Eh(h,b),--m,--g,typeof v=="function"?h[b]=v:Ah(h[b],v)}}break}case _S:{if(/^::/.test(h.data)){const p=h.parentNode,m=arguments[+h.data.slice(2)];if(m instanceof Node)p.insertBefore(m,h);else if(typeof m!="string"&&m[Symbol.iterator])if(m instanceof NodeList||m instanceof HTMLCollection)for(let g=m.length-1,b=h;g>=0;--g)b=p.insertBefore(m[g],b);else for(const g of m)g!=null&&p.insertBefore(g instanceof Node?g:document.createTextNode(g),h);else p.insertBefore(document.createTextNode(m),h);d.push(h)}break}}}for(const h of d)h.parentNode.removeChild(h);return t(c)}}function Vn(e){return`&#${e.charCodeAt(0).toString()};`}function ya(e){return mS<=e&&e<=gS||yS<=e&&e<=bS}function Zt(e){return e===cS||e===lS||e===dS||e===pS||e===hS}function fs(e){return e&&e.toString===Object.prototype.toString}function qr(e){return e==="script"||e==="style"||tb(e)}function tb(e){return e==="textarea"||e==="title"}function jr(e,t,n){return e.slice(t,n).toLowerCase()}function TS(e,t,n){if(e.namespaceURI===Jy&&(t=t.toLowerCase(),t=eb.get(t)||t,lo.has(t))){e.setAttributeNS(lo.get(t),t,n);return}e.setAttribute(t,n)}function Eh(e,t){if(e.namespaceURI===Jy&&(t=t.toLowerCase(),t=eb.get(t)||t,lo.has(t))){e.removeAttributeNS(lo.get(t),t);return}e.removeAttribute(t)}function Ah(e,t){for(const n in t){const r=t[n];n.startsWith("--")?e.setProperty(n,r):e[n]=r}}function nb(e){return[Zo([0]),J1(e,{x:t=>new Date(t.date),stroke:Jn.slate[500],opacity:.3}),ay(e,{x:t=>new Date(t.date),text:t=>t.name,frameAnchor:"top",textAnchor:"start",fill:Jn.slate[500],stroke:Jn.slate[950],strokeWidth:5,dx:1,dy:-17})]}const rb={stroke:Jn.slate[700],fill:Jn.slate[800],fillOpacity:.9,format:{x:!1,y:!1,z:!1,amount:e=>e.toLocaleString("en-AU",{style:"currency",currency:"AUD"}),date:e=>kh(e).format("D MMMM, YYYY")}},ib={marginTop:20,marginBottom:30,marginLeft:60,marginRight:20,x:{grid:!1},y:{grid:!0,transform:e=>e/1e3,label:"AUD (K)",labelArrow:"none",labelOffset:47}};function ab({width:e,height:t,timeseries:n,scenarioEvents:r,color:i=Jn.violet[700],opacity:a=.5}){const o=X.useRef(null);return X.useEffect(()=>{var s;const u=zn([()=>fS`<defs>
        <linearGradient id="gradient" gradientTransform="rotate(90)">
          <stop offset="20%" stop-color="${i}" stop-opacity="0.5" />
          <stop offset="100%" stop-color="${i}" stop-opacity="0" />
        </linearGradient>
      </defs>`,...nb(r),Nc(n,{x:f=>new Date(f.date),y:"amount",fill:"url(#gradient)",opacity:a}),eu(n,{x:f=>new Date(f.date),y:"amount",stroke:i,marker:"dot",channels:{amount:{label:"",value:"amount"},date:{label:"",value:"date"}},tip:rb})]).plot({...ib,width:e,height:t});return(s=o.current)==null||s.append(u),()=>u.remove()},[i,n,t,a,r,e]),O.jsx("div",{ref:o,className:"h-full w-full"})}ab.__docgenInfo={description:"",methods:[],displayName:"AreaChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},scenarioEvents:{required:!0,tsType:{name:"ScenarioStartEvents"},description:""},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"twColors.violet[700]",computed:!0}},opacity:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}}}};function ob({width:e,height:t,timeseries:n,scenarioEvents:r}){const i=X.useRef(null);return X.useEffect(()=>{var o;const a=zn([...nb(r),Qy(n,u1({y1:uo(u=>u.name==="highlighted"),y2:uo(u=>u.name==="pinned")},{x:u=>new Date(u.date),y:"amount",positiveFill:bt.secondary,negativeFill:bt.primary,fillOpacity:.2})),eu(n,{x:u=>new Date(u.date),y:"amount",stroke:u=>u.name==="highlighted"?bt.primaryLight:bt.secondary,marker:"dot",channels:{amount:{label:"",value:"amount"},date:{label:"",value:"date"}},tip:rb})]).plot({...ib,width:e,height:t});return(o=i.current)==null||o.append(a),()=>a.remove()},[n,t,e,r]),O.jsx("div",{ref:i,className:"h-full w-full"})}ob.__docgenInfo={description:"",methods:[],displayName:"DifferenceChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},scenarioEvents:{required:!0,tsType:{name:"ScenarioStartEvents"},description:""}}};function SS(e,t){if(e.length<=2)return e;const[n,r]=t;let i=Math.floor((e.length-1)*(n/100)),a=Math.floor((e.length-1)*(r/100));if(a-i===0)if(a+1<e.length)a+=1;else if(i-1>=0)i-=1;else throw new Error("Invalid selection (should have at least two data points)");const o=e[i].date,u=e[a].date;return e.filter(s=>s.date>=o&&s.date<=u)}function MS(e,t){if(t.length<2)return[];const n=t[0].date,r=t[t.length-1].date;return e.filter(i=>i.date>=n&&i.date<=r)}function ub({type:e,timeseries:t,scenarioEvents:n,selection:r}){const i=X.useMemo(()=>SS(t,r),[t,r]),a=X.useMemo(()=>MS(n,i),[n,i]);if(i.length<2){const o=i.length===0?"No data":"Insufficient data";return O.jsx("div",{className:"flex h-full items-center justify-center text-lg font-medium text-slate-600",children:o})}return O.jsx("div",{className:"h-full pt-1",children:O.jsx(mf,{children:({width:o,height:u})=>e==="area"?O.jsx(ab,{width:o,height:u,timeseries:i,scenarioEvents:a}):O.jsx(ob,{width:o,height:u,timeseries:i,scenarioEvents:a})})})}ub.__docgenInfo={description:"",methods:[],displayName:"ScenarioChart",props:{type:{required:!0,tsType:{name:"union",raw:"'area' | 'difference'",elements:[{name:"literal",value:"'area'"},{name:"literal",value:"'difference'"}]},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},scenarioEvents:{required:!0,tsType:{name:"ScenarioStartEvents"},description:""},selection:{required:!0,tsType:{name:"TimeScrubberSelection"},description:""}}};function sb({width:e,height:t,data:n}){const r=X.useRef(null);return X.useEffect(()=>{var a;const i=zn([Zo([0]),Nc(n,{x:o=>new Date(o.date),y:"amount",fill:bt.primary,opacity:.5}),eu(n,{x:o=>new Date(o.date),y:"amount",stroke:bt.primary})]).plot({width:e,height:t,marginLeft:0,marginRight:0,marginTop:16,y:{axis:null}});return(a=r.current)==null||a.append(i),()=>i.remove()},[n,t,e]),O.jsx("div",{ref:r,className:"h-full w-full"})}sb.__docgenInfo={description:"",methods:[],displayName:"TimelineAreaChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""}}};function fb({width:e,height:t,data:n}){const r=X.useRef(null);return X.useEffect(()=>{var a;const i=zn([Zo([0]),Qy(n,u1({y1:uo(o=>o.name==="highlighted"),y2:uo(o=>o.name==="pinned")},{x:o=>new Date(o.date),y:"amount",positiveFill:bt.secondary,negativeFill:bt.primary,fillOpacity:.2})),eu(n,{x:o=>new Date(o.date),y:"amount",stroke:o=>o.name==="highlighted"?bt.primaryLight:bt.secondary})]).plot({width:e,height:t,marginLeft:0,marginRight:0,marginTop:16,y:{axis:null}});return(a=r.current)==null||a.append(i),()=>i.remove()},[n,t,e]),O.jsx("div",{ref:r,className:"h-full w-full"})}fb.__docgenInfo={description:"",methods:[],displayName:"TimelineDifferenceChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""}}};function $S({disabled:e=!1,leftPanelRef:t,rightPanelRef:n,selection:r,onUpdateSelection:i}){const[a,o]=r,u=X.useCallback(c=>{i&&i([c,o])},[i,o]),s=X.useCallback(c=>{i&&i([a,100-c])},[i,a]),f=X.useCallback(()=>{var l,d;o-a!==100&&((l=t.current)==null||l.resize(0),(d=n.current)==null||d.resize(0),i&&i([0,100]))},[a,o,t,n,i]);return X.useEffect(()=>{var c,l;e&&((c=t.current)==null||c.resize(a),(l=n.current)==null||l.resize(100-o))},[e,o,t,n,a]),{start:a,end:o,updateStart:u,updateEnd:s,maximize:f}}function cb({disabled:e=!1,selection:t,onUpdateSelection:n}){const r=X.useRef(null),i=X.useRef(null),{start:a,end:o,updateStart:u,updateEnd:s,maximize:f}=$S({leftPanelRef:r,rightPanelRef:i,selection:t,onUpdateSelection:n,disabled:e}),c=o-a===999;return O.jsxs(Fb,{direction:"horizontal",onDoubleClick:f,children:[O.jsx(nu,{className:"bg-gradient-to-tr from-slate-600/5 to-slate-600/20 backdrop-blur-[1px]",ref:r,defaultSize:a,onResize:u}),O.jsx(Fc,{className:"flex w-[5px] flex-col items-center justify-center bg-slate-700",disabled:e,children:O.jsx(Oc,{className:"text-slate-950",size:16})}),O.jsx(nu,{className:`border-b border-t border-slate-700 ${c&&"cursor-grab"}`}),O.jsx(Fc,{className:"flex w-[5px] flex-col items-center justify-center bg-slate-700",disabled:e,children:O.jsx(Oc,{className:"text-slate-950",size:16})}),O.jsx(nu,{className:"border-t-slate-50/5x border-b border-b-slate-800 bg-gradient-to-tr from-slate-600/5 to-slate-600/20 backdrop-blur-[1px]",ref:i,defaultSize:100-o,onResize:s})]})}cb.__docgenInfo={description:"",methods:[],displayName:"TimelineSelector",props:{disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},selection:{required:!0,tsType:{name:"TimeScrubberSelection"},description:""},onUpdateSelection:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection: TimeScrubberSelection) => void",signature:{arguments:[{type:{name:"TimeScrubberSelection"},name:"selection"}],return:{name:"void"}}},description:""}}};function lb({data:e,type:t,selection:n,onUpdateSelection:r}){const i=e&&Array.from(e).length<2;return O.jsxs("div",{className:"relative h-20 bg-slate-900",children:[!i&&O.jsx(mf,{children:({width:a,height:o})=>t==="area"?O.jsx(sb,{width:a,height:o,data:e}):O.jsx(fb,{width:a,height:o,data:e})}),O.jsx("div",{className:"absolute bottom-0 left-0 right-0 top-0",children:O.jsx(cb,{selection:n,onUpdateSelection:r,disabled:i})})]})}lb.__docgenInfo={description:"",methods:[],displayName:"TimelineScrubber",props:{type:{required:!0,tsType:{name:"union",raw:"'area' | 'difference'",elements:[{name:"literal",value:"'area'"},{name:"literal",value:"'difference'"}]},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""},selection:{required:!0,tsType:{name:"TimeScrubberSelection"},description:""},onUpdateSelection:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection: TimeScrubberSelection) => void",signature:{arguments:[{type:{name:"TimeScrubberSelection"},name:"selection"}],return:{name:"void"}}},description:""}}};export{J1 as A,iy as B,wr as C,G7 as D,xd as E,Nc as F,Qy as G,v2 as H,eu as I,u1 as J,uo as K,ay as L,Je as M,V9 as N,fS as O,mf as R,Wh as S,lb as T,Yh as a,ub as b,zS as c,P2 as d,F2 as e,GS as f,jT as g,n9 as h,Te as i,US as j,ac as k,Se as l,zn as m,Wt as n,Vt as o,Wf as p,St as q,Zo as r,ks as s,ty as t,Pn as u,HS as v,Bf as w,qe as x,Xo as y,Fg as z};
