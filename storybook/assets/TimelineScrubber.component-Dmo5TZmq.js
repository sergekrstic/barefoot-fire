import{j as at}from"./jsx-runtime-D_zvdyIk.js";import{C as ob}from"./CollapsibleTree.component-DSHTWi39.js";import"./Header.component-BGqI9wSV.js";import{c as Ei,g as ab,r as Tt}from"./index-PahMPgEy.js";import{h as fb}from"./ScenarioGraph.component-CFO1VuCQ.js";import{t as qr}from"./colors-Cuw9ST8W.js";import{D as es}from"./Fire.icon-Di-S4vvp.js";import{P as ub,a as Da,b as ns}from"./react-resizable-panels.browser.esm-zIh8wNIw.js";var Ra,rs;function Ud(){if(rs)return Ra;rs=1;function t(e){var n=typeof e;return e!=null&&(n=="object"||n=="function")}return Ra=t,Ra}var Ia,is;function cb(){if(is)return Ia;is=1;var t=typeof Ei=="object"&&Ei&&Ei.Object===Object&&Ei;return Ia=t,Ia}var La,os;function Bd(){if(os)return La;os=1;var t=cb(),e=typeof self=="object"&&self&&self.Object===Object&&self,n=t||e||Function("return this")();return La=n,La}var Oa,as;function sb(){if(as)return Oa;as=1;var t=Bd(),e=function(){return t.Date.now()};return Oa=e,Oa}var Pa,fs;function lb(){if(fs)return Pa;fs=1;var t=/\s/;function e(n){for(var r=n.length;r--&&t.test(n.charAt(r)););return r}return Pa=e,Pa}var Fa,us;function db(){if(us)return Fa;us=1;var t=lb(),e=/^\s+/;function n(r){return r&&r.slice(0,t(r)+1).replace(e,"")}return Fa=n,Fa}var qa,cs;function Hd(){if(cs)return qa;cs=1;var t=Bd(),e=t.Symbol;return qa=e,qa}var za,ss;function hb(){if(ss)return za;ss=1;var t=Hd(),e=Object.prototype,n=e.hasOwnProperty,r=e.toString,i=t?t.toStringTag:void 0;function o(a){var f=n.call(a,i),u=a[i];try{a[i]=void 0;var c=!0}catch{}var s=r.call(a);return c&&(f?a[i]=u:delete a[i]),s}return za=o,za}var Ua,ls;function pb(){if(ls)return Ua;ls=1;var t=Object.prototype,e=t.toString;function n(r){return e.call(r)}return Ua=n,Ua}var Ba,ds;function mb(){if(ds)return Ba;ds=1;var t=Hd(),e=hb(),n=pb(),r="[object Null]",i="[object Undefined]",o=t?t.toStringTag:void 0;function a(f){return f==null?f===void 0?i:r:o&&o in Object(f)?e(f):n(f)}return Ba=a,Ba}var Ha,hs;function gb(){if(hs)return Ha;hs=1;function t(e){return e!=null&&typeof e=="object"}return Ha=t,Ha}var Ya,ps;function bb(){if(ps)return Ya;ps=1;var t=mb(),e=gb(),n="[object Symbol]";function r(i){return typeof i=="symbol"||e(i)&&t(i)==n}return Ya=r,Ya}var Wa,ms;function yb(){if(ms)return Wa;ms=1;var t=db(),e=Ud(),n=bb(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,f=parseInt;function u(c){if(typeof c=="number")return c;if(n(c))return r;if(e(c)){var s=typeof c.valueOf=="function"?c.valueOf():c;c=e(s)?s+"":s}if(typeof c!="string")return c===0?c:+c;c=t(c);var d=o.test(c);return d||a.test(c)?f(c.slice(2),d?2:8):i.test(c)?r:+c}return Wa=u,Wa}var ja,gs;function _b(){if(gs)return ja;gs=1;var t=Ud(),e=sb(),n=yb(),r="Expected a function",i=Math.max,o=Math.min;function a(f,u,c){var s,d,l,h,p,m,g=0,y=!1,b=!1,w=!0;if(typeof f!="function")throw new TypeError(r);u=n(u)||0,t(c)&&(y=!!c.leading,b="maxWait"in c,l=b?i(n(c.maxWait)||0,u):l,w="trailing"in c?!!c.trailing:w);function _(k){var R=s,$=d;return s=d=void 0,g=k,h=f.apply($,R),h}function v(k){return g=k,p=setTimeout(S,u),y?_(k):h}function x(k){var R=k-m,$=k-g,L=u-R;return b?o(L,l-$):L}function M(k){var R=k-m,$=k-g;return m===void 0||R>=u||R<0||b&&$>=l}function S(){var k=e();if(M(k))return E(k);p=setTimeout(S,x(k))}function E(k){return p=void 0,w&&s?_(k):(s=d=void 0,h)}function C(){p!==void 0&&clearTimeout(p),g=0,s=m=d=p=void 0}function T(){return p===void 0?h:E(e())}function I(){var k=e(),R=M(k);if(s=arguments,d=this,m=k,R){if(p===void 0)return v(m);if(b)return clearTimeout(p),p=setTimeout(S,u),_(m)}return p===void 0&&(p=setTimeout(S,u)),h}return I.cancel=C,I.flush=T,I}return ja=a,ja}var wb=_b();const vb=ab(wb),xb=[],bs={width:0,height:0,top:0,left:0};function Tb({initialSize:t=bs,debounceTime:e=300,ignoreDimensions:n=xb,enableDebounceLeadingCall:r=!0,resizeObserverPolyfill:i}={}){const o=Tt.useRef(null),a=Tt.useRef(0),[f,u]=Tt.useState({...bs,...t}),c=Tt.useMemo(()=>{const s=Array.isArray(n)?n:[n];return vb(d=>{u(l=>Object.keys(l).filter(g=>l[g]!==d[g]).every(g=>s.includes(g))?l:d)},e,{leading:r})},[e,r,n]);return Tt.useEffect(()=>{const s=i||window.ResizeObserver,d=new s(l=>{l.forEach(h=>{const{left:p,top:m,width:g,height:y}=(h==null?void 0:h.contentRect)??{};a.current=window.requestAnimationFrame(()=>{c({width:g,height:y,top:m,left:p})})})});return o.current&&d.observe(o.current),()=>{window.cancelAnimationFrame(a.current),d.disconnect(),c.cancel()}},[c,i]),{parentRef:o,resize:c,...f}}const Mb={width:"100%",height:"100%"};function qu({className:t,children:e,debounceTime:n,ignoreDimensions:r,initialSize:i,parentSizeStyles:o=Mb,enableDebounceLeadingCall:a=!0,resizeObserverPolyfill:f,...u}){const{parentRef:c,resize:s,...d}=Tb({initialSize:i,debounceTime:n,ignoreDimensions:r,enableDebounceLeadingCall:a,resizeObserverPolyfill:f});return at.jsx("div",{style:o,ref:c,className:t,...u,children:e({...d,ref:c.current,resize:s})})}qu.__docgenInfo={description:"",methods:[],displayName:"ResponsiveContainer",props:{className:{required:!1,tsType:{name:"string"},description:"Optional `className` to add to the parent `div` wrapper used for size measurement."},parentSizeStyles:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:"@deprecated - use `style` prop as all other props are passed directly to the parent `div`.\n@TODO remove in the next major version.\nOptional `style` object to apply to the parent `div` wrapper used for size measurement.",defaultValue:{value:"{ width: '100%', height: '100%' }",computed:!1}},children:{required:!0,tsType:{name:"signature",type:"function",raw:"(args: ParentSizeProvidedProps) => React.ReactNode",signature:{arguments:[{type:{name:"intersection",raw:`ParentSizeState & {
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"signature",type:"object",raw:`{
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,signature:{properties:[{key:"ref",value:{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}],required:!0}},{key:"resize",value:{name:"signature",type:"function",raw:"(state: ParentSizeState) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},name:"state"}],return:{name:"void"}},required:!0}}]}}]},name:"args"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Child render function `({ width, height, top, left, ref, resize }) => ReactNode`."},initialSize:{required:!1,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}}],raw:"Partial<ParentSizeState>"},description:"Initial size before measuring the parent."},resizeObserverPolyfill:{required:!1,tsType:{name:"ResizeObserverPolyfill"},description:"Optionally inject a ResizeObserver polyfill, else this *must* be globally available."},ignoreDimensions:{required:!1,tsType:{name:"union",raw:"keyof ParentSizeState | (keyof ParentSizeState)[]",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"Array",elements:[{name:"unknown"}],raw:"(keyof ParentSizeState)[]"}]},description:"Optional dimensions provided won't trigger a state change when changed."},debounceTime:{required:!1,tsType:{name:"number"},description:"Child render updates upon resize are delayed until `debounceTime` milliseconds _after_ the last resize event is observed. Defaults to `300`."},enableDebounceLeadingCall:{required:!1,tsType:{name:"boolean"},description:"Optional flag to toggle leading debounce calls. When set to true this will ensure that the component always renders immediately. Defaults to `true`.",defaultValue:{value:"true",computed:!1}}}};function Sb({budget:t}){return at.jsxs("div",{className:"flex h-full w-full select-none flex-col bg-slate-900 text-slate-300",children:[at.jsx("div",{className:"bg-slate-800 px-4 py-1 text-sm font-medium text-slate-500",children:"Budget Details"}),t?at.jsxs("div",{className:"flex-grow overflow-y-auto pb-4",children:[at.jsx("div",{className:"px-4 pb-2 pt-4 text-lg font-medium",children:t.name}),at.jsx(ob,{tree:t.categories,parentContainerClasses:"cursor-pointer hover:bg-slate-800 px-4",childContainerClasses:"cursor-default px-4",renderCollapsibleItemContent:e=>at.jsxs("div",{className:"flex flex-row py-2",children:[at.jsx("div",{className:"grow",children:e.name}),at.jsx("div",{className:"text-gray-500",children:e.value})]}),renderLeafItemContent:e=>at.jsxs("div",{className:"flex flex-row py-2",children:[at.jsx("div",{className:"grow",children:e.name}),at.jsx("div",{children:$b(e.value)})]})},t.name)]}):at.jsx("div",{className:"px-4 pb-2 pt-4 text-lg font-medium text-slate-600",children:"No budget selected"})]})}function $b(t){return t>=0?t.toFixed(0).toString():`(${Math.abs(t).toFixed(0)})`}Sb.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudget",props:{budget:{required:!0,tsType:{name:"union",raw:"BudgetCategories | null",elements:[{name:"BudgetCategories"},{name:"null"}]},description:""}}};function It(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ii(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Wo(t){let e,n,r;t.length!==2?(e=It,n=(f,u)=>It(t(f),u),r=(f,u)=>t(f)-u):(e=t===It||t===ii?t:Eb,n=t,r=t);function i(f,u,c=0,s=f.length){if(c<s){if(e(u,u)!==0)return s;do{const d=c+s>>>1;n(f[d],u)<0?c=d+1:s=d}while(c<s)}return c}function o(f,u,c=0,s=f.length){if(c<s){if(e(u,u)!==0)return s;do{const d=c+s>>>1;n(f[d],u)<=0?c=d+1:s=d}while(c<s)}return c}function a(f,u,c=0,s=f.length){const d=i(f,u,c,s-1);return d>c&&r(f[d-1],u)>-r(f[d],u)?d-1:d}return{left:i,center:a,right:o}}function Eb(){return 0}function Yd(t){return t===null?NaN:+t}function*Ab(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const Cb=Wo(It),jo=Cb.right;Wo(Yd).center;function zu(t,e){let n=0;for(let r of t)r!=null&&(r=+r)>=r&&++n;return n}function Nb(t){return t.length|0}function kb(t){return!(t>0)}function Db(t){return typeof t!="object"||"length"in t?t:Array.from(t)}function Rb(t){return e=>t(...e)}function Ib(...t){const e=typeof t[t.length-1]=="function"&&Rb(t.pop());t=t.map(Db);const n=t.map(Nb),r=t.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(kb))return o;for(;;){o.push(i.map((f,u)=>t[u][f]));let a=r;for(;++i[a]===n[a];){if(a===0)return e?o.map(e):o;i[a--]=0}}}function Lb(t,e){var n=0;return Float64Array.from(t,r=>n+=+r||0)}function Wd(t,e){let n=0,r,i=0,o=0;if(e===void 0)for(let a of t)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let f of t)(f=e(f,++a,t))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,o+=r*(f-i))}if(n>1)return o/(n-1)}function jd(t,e){const n=Wd(t,e);return n&&Math.sqrt(n)}function Yt(t,e){let n,r;if(e===void 0)for(const i of t)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class _n{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=e+o,f=Math.abs(e)<Math.abs(o)?e-(a-o):o-(a-e);f&&(n[r++]=f),e=a}return n[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=e[--n];n>0&&(r=a,i=e[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&e[n-1]<0||o>0&&e[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class wn extends Map{constructor(e,n=Vd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(qf(this,e))}has(e){return super.has(qf(this,e))}set(e,n){return super.set(Gd(this,e),n)}delete(e){return super.delete(Xd(this,e))}}class Go extends Set{constructor(e,n=Vd){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const r of e)this.add(r)}has(e){return super.has(qf(this,e))}add(e){return super.add(Gd(this,e))}delete(e){return super.delete(Xd(this,e))}}function qf({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function Gd({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function Xd({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function Vd(t){return t!==null&&typeof t=="object"?t.valueOf():t}function zf(t){return t}function Xo(t,...e){return Uu(t,zf,zf,e)}function Yn(t,e,...n){return Uu(t,zf,e,n)}function Ob(t,e,...n){return Uu(t,Array.from,e,n)}function Uu(t,e,n,r){return function i(o,a){if(a>=r.length)return n(o);const f=new wn,u=r[a++];let c=-1;for(const s of o){const d=u(s,++c,o),l=f.get(d);l?l.push(s):f.set(d,[s])}for(const[s,d]of f)f.set(s,i(d,a));return e(f)}(t,0)}function Pb(t,e){return Array.from(e,n=>t[n])}function oo(t,...e){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");t=Array.from(t);let[n]=e;if(n&&n.length!==2||e.length>1){const r=Uint32Array.from(t,(i,o)=>o);return e.length>1?(e=e.map(i=>t.map(i)),r.sort((i,o)=>{for(const a of e){const f=ao(a[i],a[o]);if(f)return f}})):(n=t.map(n),r.sort((i,o)=>ao(n[i],n[o]))),Pb(t,r)}return t.sort(Zd(n))}function Zd(t=It){if(t===It)return ao;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function ao(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}function Bu(t,e,n){return(e.length!==2?oo(Yn(t,e,n),([r,i],[o,a])=>It(i,a)||It(r,o)):oo(Xo(t,n),([r,i],[o,a])=>e(i,a)||It(r,o))).map(([r])=>r)}const Fb=Math.sqrt(50),qb=Math.sqrt(10),zb=Math.sqrt(2);function fo(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=Fb?10:o>=qb?5:o>=zb?2:1;let f,u,c;return i<0?(c=Math.pow(10,-i)/a,f=Math.round(t*c),u=Math.round(e*c),f/c<t&&++f,u/c>e&&--u,c=-c):(c=Math.pow(10,i)*a,f=Math.round(t/c),u=Math.round(e/c),f*c<t&&++f,u*c>e&&--u),u<f&&.5<=n&&n<2?fo(t,e,n*2):[f,u,c]}function Yr(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,o,a]=r?fo(e,t,n):fo(t,e,n);if(!(o>=i))return[];const f=o-i+1,u=new Array(f);if(r)if(a<0)for(let c=0;c<f;++c)u[c]=(o-c)/-a;else for(let c=0;c<f;++c)u[c]=(o-c)*a;else if(a<0)for(let c=0;c<f;++c)u[c]=(i+c)/-a;else for(let c=0;c<f;++c)u[c]=(i+c)*a;return u}function uo(t,e,n){return e=+e,t=+t,n=+n,fo(t,e,n)[2]}function Uf(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?uo(e,t,n):uo(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function Ub(t){return Math.max(1,Math.ceil(Math.log(zu(t))/Math.LN2)+1)}function te(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function Bb(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Oe(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function Hb(t,e){let n,r=-1,i=-1;if(e===void 0)for(const o of t)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of t)(o=e(o,++i,t))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Kd(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?ao:Zd(i);r>n;){if(r-n>600){const u=r-n+1,c=e-n+1,s=Math.log(u),d=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*d*(u-d)/u)*(c-u/2<0?-1:1),h=Math.max(n,Math.floor(e-c*d/u+l)),p=Math.min(r,Math.floor(e+(u-c)*d/u+l));Kd(t,e,h,p,i)}const o=t[e];let a=n,f=r;for(_r(t,n,e),i(t[r],o)>0&&_r(t,n,r);a<f;){for(_r(t,a,f),++a,--f;i(t[a],o)<0;)++a;for(;i(t[f],o)>0;)--f}i(t[n],o)===0?_r(t,n,f):(++f,_r(t,f,r)),f<=e&&(n=f+1),e<=f&&(r=f-1)}return t}function _r(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function Qd(t,e=It){let n,r=!1;if(e.length===1){let i;for(const o of t){const a=e(o);(r?It(a,i)>0:It(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of t)(r?e(i,n)>0:e(i,i)===0)&&(n=i,r=!0);return n}function Vn(t,e,n){if(t=Float64Array.from(Ab(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return Oe(t);if(e>=1)return te(t);var r,i=(r-1)*e,o=Math.floor(i),a=te(Kd(t,o).subarray(0,o+1)),f=Oe(t.subarray(o+1));return a+(f-a)*(i-o)}}function Yb(t,e,n=Yd){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,o=Math.floor(i),a=+n(t[o],o,t),f=+n(t[o+1],o+1,t);return a+(f-a)*(i-o)}}function Wb(t,e,n){const r=zu(t),i=Vn(t,.75)-Vn(t,.25);return r&&i?Math.ceil((n-e)/(2*i*Math.pow(r,-1/3))):1}function Jd(t,e,n){const r=zu(t),i=jd(t);return r&&i?Math.ceil((n-e)*Math.cbrt(r)/(3.49*i)):1}function jb(t,e){let n=0,r=0;if(e===void 0)for(let i of t)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of t)(o=e(o,++i,t))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Bf(t,e){return Vn(t,.5,e)}function*Gb(t){for(const e of t)yield*e}function th(t){return Array.from(Gb(t))}function Xb(t,e){const n=new wn;if(e===void 0)for(let o of t)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of t)(a=e(a,++o,t))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function Vb(t,e=Zb){const n=[];let r,i=!1;for(const o of t)i&&n.push(e(r,o)),r=o,i=!0;return n}function Zb(t,e){return[t,e]}function Hf(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,o=new Array(i);++r<i;)o[r]=t+r*n;return o}function Je(t,e){let n=0;if(e===void 0)for(let r of t)(r=+r)&&(n+=r);else{let r=-1;for(let i of t)(i=+e(i,++r,t))&&(n+=i)}return n}function co(t){if(typeof t[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(t).reverse()}function Kb(t){return t}var Qb=3,ys=1e-6;function Jb(t){return"translate("+t+",0)"}function ty(t){return e=>+t(e)}function ey(t,e){return e=Math.max(0,t.bandwidth()-e*2)/2,t.round()&&(e=Math.round(e)),n=>+t(n)+e}function ny(){return!this.__axis}function ry(t,e){var n=[],r=null,i=null,o=6,a=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,s="y",d=Jb;function l(h){var p=r??(e.ticks?e.ticks.apply(e,n):e.domain()),m=i??(e.tickFormat?e.tickFormat.apply(e,n):Kb),g=Math.max(o,0)+f,y=e.range(),b=+y[0]+u,w=+y[y.length-1]+u,_=(e.bandwidth?ey:ty)(e.copy(),u),v=h.selection?h.selection():h,x=v.selectAll(".domain").data([null]),M=v.selectAll(".tick").data(p,e).order(),S=M.exit(),E=M.enter().append("g").attr("class","tick"),C=M.select("line"),T=M.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(E),C=C.merge(E.append("line").attr("stroke","currentColor").attr(s+"2",c*o)),T=T.merge(E.append("text").attr("fill","currentColor").attr(s,c*g).attr("dy","0.71em")),h!==v&&(x=x.transition(h),M=M.transition(h),C=C.transition(h),T=T.transition(h),S=S.transition(h).attr("opacity",ys).attr("transform",function(I){return isFinite(I=_(I))?d(I+u):this.getAttribute("transform")}),E.attr("opacity",ys).attr("transform",function(I){var k=this.parentNode.__axis;return d((k&&isFinite(k=k(I))?k:_(I))+u)})),S.remove(),x.attr("d",a?"M"+b+","+c*a+"V"+u+"H"+w+"V"+c*a:"M"+b+","+u+"H"+w),M.attr("opacity",1).attr("transform",function(I){return d(_(I)+u)}),C.attr(s+"2",c*o),T.attr(s,c*g).text(m),v.filter(ny).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),v.each(function(){this.__axis=_})}return l.scale=function(h){return arguments.length?(e=h,l):e},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),l):n.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(o=a=+h,l):o},l.tickSizeInner=function(h){return arguments.length?(o=+h,l):o},l.tickSizeOuter=function(h){return arguments.length?(a=+h,l):a},l.tickPadding=function(h){return arguments.length?(f=+h,l):f},l.offset=function(h){return arguments.length?(u=+h,l):u},l}function iy(t){return ry(Qb,t)}var oy={value:()=>{}};function eh(){for(var t=0,e=arguments.length,n={},r;t<e;++t){if(!(r=arguments[t]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new Ji(n)}function Ji(t){this._=t}function ay(t,e){return t.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!e.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}Ji.prototype=eh.prototype={constructor:Ji,on:function(t,e){var n=this._,r=ay(t+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(t=r[o]).type)&&(i=fy(n[i],t.name)))return i;return}if(e!=null&&typeof e!="function")throw new Error("invalid callback: "+e);for(;++o<a;)if(i=(t=r[o]).type)n[i]=_s(n[i],t.name,e);else if(e==null)for(i in n)n[i]=_s(n[i],t.name,null);return this},copy:function(){var t={},e=this._;for(var n in e)t[n]=e[n].slice();return new Ji(t)},call:function(t,e){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(o=this._[t],r=0,i=o.length;r<i;++r)o[r].value.apply(e,n)},apply:function(t,e,n){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var r=this._[t],i=0,o=r.length;i<o;++i)r[i].value.apply(e,n)}};function fy(t,e){for(var n=0,r=t.length,i;n<r;++n)if((i=t[n]).name===e)return i.value}function _s(t,e,n){for(var r=0,i=t.length;r<i;++r)if(t[r].name===e){t[r]=oy,t=t.slice(0,r).concat(t.slice(r+1));break}return n!=null&&t.push({name:e,value:n}),t}var Yf="http://www.w3.org/1999/xhtml";const Zn={svg:"http://www.w3.org/2000/svg",xhtml:Yf,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Vo(t){var e=t+="",n=e.indexOf(":");return n>=0&&(e=t.slice(0,n))!=="xmlns"&&(t=t.slice(n+1)),Zn.hasOwnProperty(e)?{space:Zn[e],local:t}:t}function uy(t){return function(){var e=this.ownerDocument,n=this.namespaceURI;return n===Yf&&e.documentElement.namespaceURI===Yf?e.createElement(t):e.createElementNS(n,t)}}function cy(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function Zo(t){var e=Vo(t);return(e.local?cy:uy)(e)}function sy(){}function Hu(t){return t==null?sy:function(){return this.querySelector(t)}}function ly(t){typeof t!="function"&&(t=Hu(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,f=r[i]=new Array(a),u,c,s=0;s<a;++s)(u=o[s])&&(c=t.call(u,u.__data__,s,o))&&("__data__"in u&&(c.__data__=u.__data__),f[s]=c);return new qt(r,this._parents)}function dy(t){return t==null?[]:Array.isArray(t)?t:Array.from(t)}function hy(){return[]}function nh(t){return t==null?hy:function(){return this.querySelectorAll(t)}}function py(t){return function(){return dy(t.apply(this,arguments))}}function my(t){typeof t=="function"?t=py(t):t=nh(t);for(var e=this._groups,n=e.length,r=[],i=[],o=0;o<n;++o)for(var a=e[o],f=a.length,u,c=0;c<f;++c)(u=a[c])&&(r.push(t.call(u,u.__data__,c,a)),i.push(u));return new qt(r,i)}function rh(t){return function(){return this.matches(t)}}function ih(t){return function(e){return e.matches(t)}}var gy=Array.prototype.find;function by(t){return function(){return gy.call(this.children,t)}}function yy(){return this.firstElementChild}function _y(t){return this.select(t==null?yy:by(typeof t=="function"?t:ih(t)))}var wy=Array.prototype.filter;function vy(){return Array.from(this.children)}function xy(t){return function(){return wy.call(this.children,t)}}function Ty(t){return this.selectAll(t==null?vy:xy(typeof t=="function"?t:ih(t)))}function My(t){typeof t!="function"&&(t=rh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,f=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&f.push(u);return new qt(r,this._parents)}function oh(t){return new Array(t.length)}function Sy(){return new qt(this._enter||this._groups.map(oh),this._parents)}function so(t,e){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=e}so.prototype={constructor:so,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,e){return this._parent.insertBefore(t,e)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};function $y(t){return function(){return t}}function Ey(t,e,n,r,i,o){for(var a=0,f,u=e.length,c=o.length;a<c;++a)(f=e[a])?(f.__data__=o[a],r[a]=f):n[a]=new so(t,o[a]);for(;a<u;++a)(f=e[a])&&(i[a]=f)}function Ay(t,e,n,r,i,o,a){var f,u,c=new Map,s=e.length,d=o.length,l=new Array(s),h;for(f=0;f<s;++f)(u=e[f])&&(l[f]=h=a.call(u,u.__data__,f,e)+"",c.has(h)?i[f]=u:c.set(h,u));for(f=0;f<d;++f)h=a.call(t,o[f],f,o)+"",(u=c.get(h))?(r[f]=u,u.__data__=o[f],c.delete(h)):n[f]=new so(t,o[f]);for(f=0;f<s;++f)(u=e[f])&&c.get(l[f])===u&&(i[f]=u)}function Cy(t){return t.__data__}function Ny(t,e){if(!arguments.length)return Array.from(this,Cy);var n=e?Ay:Ey,r=this._parents,i=this._groups;typeof t!="function"&&(t=$y(t));for(var o=i.length,a=new Array(o),f=new Array(o),u=new Array(o),c=0;c<o;++c){var s=r[c],d=i[c],l=d.length,h=ky(t.call(s,s&&s.__data__,c,r)),p=h.length,m=f[c]=new Array(p),g=a[c]=new Array(p),y=u[c]=new Array(l);n(s,d,m,g,y,h,e);for(var b=0,w=0,_,v;b<p;++b)if(_=m[b]){for(b>=w&&(w=b+1);!(v=g[w])&&++w<p;);_._next=v||null}}return a=new qt(a,r),a._enter=f,a._exit=u,a}function ky(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Dy(){return new qt(this._exit||this._groups.map(oh),this._parents)}function Ry(t,e,n){var r=this.enter(),i=this,o=this.exit();return typeof t=="function"?(r=t(r),r&&(r=r.selection())):r=r.append(t+""),e!=null&&(i=e(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function Iy(t){for(var e=t.selection?t.selection():t,n=this._groups,r=e._groups,i=n.length,o=r.length,a=Math.min(i,o),f=new Array(i),u=0;u<a;++u)for(var c=n[u],s=r[u],d=c.length,l=f[u]=new Array(d),h,p=0;p<d;++p)(h=c[p]||s[p])&&(l[p]=h);for(;u<i;++u)f[u]=n[u];return new qt(f,this._parents)}function Ly(){for(var t=this._groups,e=-1,n=t.length;++e<n;)for(var r=t[e],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function Oy(t){t||(t=Py);function e(d,l){return d&&l?t(d.__data__,l.__data__):!d-!l}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],f=a.length,u=i[o]=new Array(f),c,s=0;s<f;++s)(c=a[s])&&(u[s]=c);u.sort(e)}return new qt(i,this._parents).order()}function Py(t,e){return t<e?-1:t>e?1:t>=e?0:NaN}function Fy(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this}function qy(){return Array.from(this)}function zy(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function Uy(){let t=0;for(const e of this)++t;return t}function By(){return!this.node()}function Hy(t){for(var e=this._groups,n=0,r=e.length;n<r;++n)for(var i=e[n],o=0,a=i.length,f;o<a;++o)(f=i[o])&&t.call(f,f.__data__,o,i);return this}function Yy(t){return function(){this.removeAttribute(t)}}function Wy(t){return function(){this.removeAttributeNS(t.space,t.local)}}function jy(t,e){return function(){this.setAttribute(t,e)}}function Gy(t,e){return function(){this.setAttributeNS(t.space,t.local,e)}}function Xy(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttribute(t):this.setAttribute(t,n)}}function Vy(t,e){return function(){var n=e.apply(this,arguments);n==null?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,n)}}function Zy(t,e){var n=Vo(t);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((e==null?n.local?Wy:Yy:typeof e=="function"?n.local?Vy:Xy:n.local?Gy:jy)(n,e))}function ah(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ky(t){return function(){this.style.removeProperty(t)}}function Qy(t,e,n){return function(){this.style.setProperty(t,e,n)}}function Jy(t,e,n){return function(){var r=e.apply(this,arguments);r==null?this.style.removeProperty(t):this.style.setProperty(t,r,n)}}function t2(t,e,n){return arguments.length>1?this.each((e==null?Ky:typeof e=="function"?Jy:Qy)(t,e,n??"")):Kn(this.node(),t)}function Kn(t,e){return t.style.getPropertyValue(e)||ah(t).getComputedStyle(t,null).getPropertyValue(e)}function e2(t){return function(){delete this[t]}}function n2(t,e){return function(){this[t]=e}}function r2(t,e){return function(){var n=e.apply(this,arguments);n==null?delete this[t]:this[t]=n}}function i2(t,e){return arguments.length>1?this.each((e==null?e2:typeof e=="function"?r2:n2)(t,e)):this.node()[t]}function fh(t){return t.trim().split(/^|\s+/)}function Yu(t){return t.classList||new uh(t)}function uh(t){this._node=t,this._names=fh(t.getAttribute("class")||"")}uh.prototype={add:function(t){var e=this._names.indexOf(t);e<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var e=this._names.indexOf(t);e>=0&&(this._names.splice(e,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};function ch(t,e){for(var n=Yu(t),r=-1,i=e.length;++r<i;)n.add(e[r])}function sh(t,e){for(var n=Yu(t),r=-1,i=e.length;++r<i;)n.remove(e[r])}function o2(t){return function(){ch(this,t)}}function a2(t){return function(){sh(this,t)}}function f2(t,e){return function(){(e.apply(this,arguments)?ch:sh)(this,t)}}function u2(t,e){var n=fh(t+"");if(arguments.length<2){for(var r=Yu(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof e=="function"?f2:e?o2:a2)(n,e))}function c2(){this.textContent=""}function s2(t){return function(){this.textContent=t}}function l2(t){return function(){var e=t.apply(this,arguments);this.textContent=e??""}}function d2(t){return arguments.length?this.each(t==null?c2:(typeof t=="function"?l2:s2)(t)):this.node().textContent}function h2(){this.innerHTML=""}function p2(t){return function(){this.innerHTML=t}}function m2(t){return function(){var e=t.apply(this,arguments);this.innerHTML=e??""}}function g2(t){return arguments.length?this.each(t==null?h2:(typeof t=="function"?m2:p2)(t)):this.node().innerHTML}function b2(){this.nextSibling&&this.parentNode.appendChild(this)}function y2(){return this.each(b2)}function _2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function w2(){return this.each(_2)}function v2(t){var e=typeof t=="function"?t:Zo(t);return this.select(function(){return this.appendChild(e.apply(this,arguments))})}function x2(){return null}function T2(t,e){var n=typeof t=="function"?t:Zo(t),r=e==null?x2:typeof e=="function"?e:Hu(e);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function M2(){var t=this.parentNode;t&&t.removeChild(this)}function S2(){return this.each(M2)}function $2(){var t=this.cloneNode(!1),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function E2(){var t=this.cloneNode(!0),e=this.parentNode;return e?e.insertBefore(t,this.nextSibling):t}function A2(t){return this.select(t?E2:$2)}function C2(t){return arguments.length?this.property("__data__",t):this.node().__data__}function N2(t){return function(e){t.call(this,e,this.__data__)}}function k2(t){return t.trim().split(/^|\s+/).map(function(e){var n="",r=e.indexOf(".");return r>=0&&(n=e.slice(r+1),e=e.slice(0,r)),{type:e,name:n}})}function D2(t){return function(){var e=this.__on;if(e){for(var n=0,r=-1,i=e.length,o;n<i;++n)o=e[n],(!t.type||o.type===t.type)&&o.name===t.name?this.removeEventListener(o.type,o.listener,o.options):e[++r]=o;++r?e.length=r:delete this.__on}}}function R2(t,e,n){return function(){var r=this.__on,i,o=N2(e);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===t.type&&i.name===t.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=e;return}}this.addEventListener(t.type,o,n),i={type:t.type,name:t.name,value:e,listener:o,options:n},r?r.push(i):this.__on=[i]}}function I2(t,e,n){var r=k2(t+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,c=f.length,s;u<c;++u)for(i=0,s=f[u];i<o;++i)if((a=r[i]).type===s.type&&a.name===s.name)return s.value}return}for(f=e?R2:D2,i=0;i<o;++i)this.each(f(r[i],e,n));return this}function lh(t,e,n){var r=ah(t),i=r.CustomEvent;typeof i=="function"?i=new i(e,n):(i=r.document.createEvent("Event"),n?(i.initEvent(e,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(e,!1,!1)),t.dispatchEvent(i)}function L2(t,e){return function(){return lh(this,t,e)}}function O2(t,e){return function(){return lh(this,t,e.apply(this,arguments))}}function P2(t,e){return this.each((typeof e=="function"?O2:L2)(t,e))}function*F2(){for(var t=this._groups,e=0,n=t.length;e<n;++e)for(var r=t[e],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var dh=[null];function qt(t,e){this._groups=t,this._parents=e}function oi(){return new qt([[document.documentElement]],dh)}function q2(){return this}qt.prototype=oi.prototype={constructor:qt,select:ly,selectAll:my,selectChild:_y,selectChildren:Ty,filter:My,data:Ny,enter:Sy,exit:Dy,join:Ry,merge:Iy,selection:q2,order:Ly,sort:Oy,call:Fy,nodes:qy,node:zy,size:Uy,empty:By,each:Hy,attr:Zy,style:t2,property:i2,classed:u2,text:d2,html:g2,raise:y2,lower:w2,append:v2,insert:T2,remove:S2,clone:A2,datum:C2,on:I2,dispatch:P2,[Symbol.iterator]:F2};function Wn(t){return typeof t=="string"?new qt([[document.querySelector(t)]],[document.documentElement]):new qt([[t]],dh)}function z2(t){let e;for(;e=t.sourceEvent;)t=e;return t}function U2(t,e){if(t=z2(t),e===void 0&&(e=t.currentTarget),e){var n=e.ownerSVGElement||e;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=t.clientX,r.y=t.clientY,r=r.matrixTransform(e.getScreenCTM().inverse()),[r.x,r.y]}if(e.getBoundingClientRect){var i=e.getBoundingClientRect();return[t.clientX-i.left-e.clientLeft,t.clientY-i.top-e.clientTop]}}return[t.pageX,t.pageY]}function hr(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function ai(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function on(){}var vn=.7,Qn=1/vn,jn="\\s*([+-]?\\d+)\\s*",Wr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pe="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",B2=/^#([0-9a-f]{3,8})$/,H2=new RegExp(`^rgb\\(${jn},${jn},${jn}\\)$`),Y2=new RegExp(`^rgb\\(${pe},${pe},${pe}\\)$`),W2=new RegExp(`^rgba\\(${jn},${jn},${jn},${Wr}\\)$`),j2=new RegExp(`^rgba\\(${pe},${pe},${pe},${Wr}\\)$`),G2=new RegExp(`^hsl\\(${Wr},${pe},${pe}\\)$`),X2=new RegExp(`^hsla\\(${Wr},${pe},${pe},${Wr}\\)$`),ws={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};hr(on,xn,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:vs,formatHex:vs,formatHex8:V2,formatHsl:Z2,formatRgb:xs,toString:xs});function vs(){return this.rgb().formatHex()}function V2(){return this.rgb().formatHex8()}function Z2(){return hh(this).formatHsl()}function xs(){return this.rgb().formatRgb()}function xn(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=B2.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?Ts(e):n===3?new yt(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?Ai(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?Ai(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=H2.exec(t))?new yt(e[1],e[2],e[3],1):(e=Y2.exec(t))?new yt(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=W2.exec(t))?Ai(e[1],e[2],e[3],e[4]):(e=j2.exec(t))?Ai(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=G2.exec(t))?$s(e[1],e[2]/100,e[3]/100,1):(e=X2.exec(t))?$s(e[1],e[2]/100,e[3]/100,e[4]):ws.hasOwnProperty(t)?Ts(ws[t]):t==="transparent"?new yt(NaN,NaN,NaN,0):null}function Ts(t){return new yt(t>>16&255,t>>8&255,t&255,1)}function Ai(t,e,n,r){return r<=0&&(t=e=n=NaN),new yt(t,e,n,r)}function Wu(t){return t instanceof on||(t=xn(t)),t?(t=t.rgb(),new yt(t.r,t.g,t.b,t.opacity)):new yt}function tn(t,e,n,r){return arguments.length===1?Wu(t):new yt(t,e,n,r??1)}function yt(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}hr(yt,tn,ai(on,{brighter(t){return t=t==null?Qn:Math.pow(Qn,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?vn:Math.pow(vn,t),new yt(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new yt(gn(this.r),gn(this.g),gn(this.b),lo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Ms,formatHex:Ms,formatHex8:K2,formatRgb:Ss,toString:Ss}));function Ms(){return`#${mn(this.r)}${mn(this.g)}${mn(this.b)}`}function K2(){return`#${mn(this.r)}${mn(this.g)}${mn(this.b)}${mn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Ss(){const t=lo(this.opacity);return`${t===1?"rgb(":"rgba("}${gn(this.r)}, ${gn(this.g)}, ${gn(this.b)}${t===1?")":`, ${t})`}`}function lo(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function gn(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function mn(t){return t=gn(t),(t<16?"0":"")+t.toString(16)}function $s(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Qt(t,e,n,r)}function hh(t){if(t instanceof Qt)return new Qt(t.h,t.s,t.l,t.opacity);if(t instanceof on||(t=xn(t)),!t)return new Qt;if(t instanceof Qt)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),o=Math.max(e,n,r),a=NaN,f=o-i,u=(o+i)/2;return f?(e===o?a=(n-r)/f+(n<r)*6:n===o?a=(r-e)/f+2:a=(e-n)/f+4,f/=u<.5?o+i:2-o-i,a*=60):f=u>0&&u<1?0:a,new Qt(a,f,u,t.opacity)}function Wf(t,e,n,r){return arguments.length===1?hh(t):new Qt(t,e,n,r??1)}function Qt(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}hr(Qt,Wf,ai(on,{brighter(t){return t=t==null?Qn:Math.pow(Qn,t),new Qt(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vn:Math.pow(vn,t),new Qt(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new yt(Ga(t>=240?t-240:t+120,i,r),Ga(t,i,r),Ga(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Qt(Es(this.h),Ci(this.s),Ci(this.l),lo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=lo(this.opacity);return`${t===1?"hsl(":"hsla("}${Es(this.h)}, ${Ci(this.s)*100}%, ${Ci(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Es(t){return t=(t||0)%360,t<0?t+360:t}function Ci(t){return Math.max(0,Math.min(1,t||0))}function Ga(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const ph=Math.PI/180,mh=180/Math.PI,ho=18,gh=.96422,bh=1,yh=.82521,_h=4/29,Gn=6/29,wh=3*Gn*Gn,Q2=Gn*Gn*Gn;function vh(t){if(t instanceof me)return new me(t.l,t.a,t.b,t.opacity);if(t instanceof ke)return xh(t);t instanceof yt||(t=Wu(t));var e=Ka(t.r),n=Ka(t.g),r=Ka(t.b),i=Xa((.2225045*e+.7168786*n+.0606169*r)/bh),o,a;return e===n&&n===r?o=a=i:(o=Xa((.4360747*e+.3850649*n+.1430804*r)/gh),a=Xa((.0139322*e+.0971045*n+.7141733*r)/yh)),new me(116*i-16,500*(o-i),200*(i-a),t.opacity)}function jf(t,e,n,r){return arguments.length===1?vh(t):new me(t,e,n,r??1)}function me(t,e,n,r){this.l=+t,this.a=+e,this.b=+n,this.opacity=+r}hr(me,jf,ai(on,{brighter(t){return new me(this.l+ho*(t??1),this.a,this.b,this.opacity)},darker(t){return new me(this.l-ho*(t??1),this.a,this.b,this.opacity)},rgb(){var t=(this.l+16)/116,e=isNaN(this.a)?t:t+this.a/500,n=isNaN(this.b)?t:t-this.b/200;return e=gh*Va(e),t=bh*Va(t),n=yh*Va(n),new yt(Za(3.1338561*e-1.6168667*t-.4906146*n),Za(-.9787684*e+1.9161415*t+.033454*n),Za(.0719453*e-.2289914*t+1.4052427*n),this.opacity)}}));function Xa(t){return t>Q2?Math.pow(t,1/3):t/wh+_h}function Va(t){return t>Gn?t*t*t:wh*(t-_h)}function Za(t){return 255*(t<=.0031308?12.92*t:1.055*Math.pow(t,1/2.4)-.055)}function Ka(t){return(t/=255)<=.04045?t/12.92:Math.pow((t+.055)/1.055,2.4)}function J2(t){if(t instanceof ke)return new ke(t.h,t.c,t.l,t.opacity);if(t instanceof me||(t=vh(t)),t.a===0&&t.b===0)return new ke(NaN,0<t.l&&t.l<100?0:NaN,t.l,t.opacity);var e=Math.atan2(t.b,t.a)*mh;return new ke(e<0?e+360:e,Math.sqrt(t.a*t.a+t.b*t.b),t.l,t.opacity)}function Gf(t,e,n,r){return arguments.length===1?J2(t):new ke(t,e,n,r??1)}function ke(t,e,n,r){this.h=+t,this.c=+e,this.l=+n,this.opacity=+r}function xh(t){if(isNaN(t.h))return new me(t.l,0,0,t.opacity);var e=t.h*ph;return new me(t.l,Math.cos(e)*t.c,Math.sin(e)*t.c,t.opacity)}hr(ke,Gf,ai(on,{brighter(t){return new ke(this.h,this.c,this.l+ho*(t??1),this.opacity)},darker(t){return new ke(this.h,this.c,this.l-ho*(t??1),this.opacity)},rgb(){return xh(this).rgb()}}));var Th=-.14861,ju=1.78277,Gu=-.29227,Ko=-.90649,jr=1.97294,As=jr*Ko,Cs=jr*ju,Ns=ju*Gu-Ko*Th;function t_(t){if(t instanceof bn)return new bn(t.h,t.s,t.l,t.opacity);t instanceof yt||(t=Wu(t));var e=t.r/255,n=t.g/255,r=t.b/255,i=(Ns*r+As*e-Cs*n)/(Ns+As-Cs),o=r-i,a=(jr*(n-i)-Gu*o)/Ko,f=Math.sqrt(a*a+o*o)/(jr*i*(1-i)),u=f?Math.atan2(a,o)*mh-120:NaN;return new bn(u<0?u+360:u,f,i,t.opacity)}function ge(t,e,n,r){return arguments.length===1?t_(t):new bn(t,e,n,r??1)}function bn(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}hr(bn,ge,ai(on,{brighter(t){return t=t==null?Qn:Math.pow(Qn,t),new bn(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?vn:Math.pow(vn,t),new bn(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*ph,e=+this.l,n=isNaN(this.s)?0:this.s*e*(1-e),r=Math.cos(t),i=Math.sin(t);return new yt(255*(e+n*(Th*r+ju*i)),255*(e+n*(Gu*r+Ko*i)),255*(e+n*(jr*r)),this.opacity)}}));function e_(t,e,n,r,i){var o=t*t,a=o*t;return((1-3*t+3*o-a)*e+(4-6*o+3*a)*n+(1+3*t+3*o-3*a)*r+a*i)/6}function n_(t){var e=t.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,e-1):Math.floor(n*e),i=t[r],o=t[r+1],a=r>0?t[r-1]:2*i-o,f=r<e-1?t[r+2]:2*o-i;return e_((n-r/e)*e,a,i,o,f)}}const Qo=t=>()=>t;function Mh(t,e){return function(n){return t+n*e}}function r_(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function Xu(t,e){var n=e-t;return n?Mh(t,n>180||n<-180?n-360*Math.round(n/360):n):Qo(isNaN(t)?e:t)}function i_(t){return(t=+t)==1?Et:function(e,n){return n-e?r_(e,n,t):Qo(isNaN(e)?n:e)}}function Et(t,e){var n=e-t;return n?Mh(t,n):Qo(isNaN(t)?e:t)}const Tn=function t(e){var n=i_(e);function r(i,o){var a=n((i=tn(i)).r,(o=tn(o)).r),f=n(i.g,o.g),u=n(i.b,o.b),c=Et(i.opacity,o.opacity);return function(s){return i.r=a(s),i.g=f(s),i.b=u(s),i.opacity=c(s),i+""}}return r.gamma=t,r}(1);function o_(t){return function(e){var n=e.length,r=new Array(n),i=new Array(n),o=new Array(n),a,f;for(a=0;a<n;++a)f=tn(e[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=t(r),i=t(i),o=t(o),f.opacity=1,function(u){return f.r=r(u),f.g=i(u),f.b=o(u),f+""}}}var a_=o_(n_);function f_(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=t[i]*(1-o)+e[i]*o;return r}}function u_(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function c_(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=fi(t[a],e[a]);for(;a<n;++a)o[a]=e[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function s_(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function $t(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function l_(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=fi(t[i],e[i]):r[i]=e[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var Xf=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Qa=new RegExp(Xf.source,"g");function d_(t){return function(){return t}}function h_(t){return function(e){return t(e)+""}}function Sh(t,e){var n=Xf.lastIndex=Qa.lastIndex=0,r,i,o,a=-1,f=[],u=[];for(t=t+"",e=e+"";(r=Xf.exec(t))&&(i=Qa.exec(e));)(o=i.index)>n&&(o=e.slice(n,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,u.push({i:a,x:$t(r,i)})),n=Qa.lastIndex;return n<e.length&&(o=e.slice(n),f[a]?f[a]+=o:f[++a]=o),f.length<2?u[0]?h_(u[0].x):d_(e):(e=u.length,function(c){for(var s=0,d;s<e;++s)f[(d=u[s]).i]=d.x(c);return f.join("")})}function fi(t,e){var n=typeof e,r;return e==null||n==="boolean"?Qo(e):(n==="number"?$t:n==="string"?(r=xn(e))?(e=r,Tn):Sh:e instanceof xn?Tn:e instanceof Date?s_:u_(e)?f_:Array.isArray(e)?c_:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?l_:$t)(t,e)}function Vu(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}var ks=180/Math.PI,Vf={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function $h(t,e,n,r,i,o){var a,f,u;return(a=Math.sqrt(t*t+e*e))&&(t/=a,e/=a),(u=t*n+e*r)&&(n-=t*u,r-=e*u),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,u/=f),t*r<e*n&&(t=-t,e=-e,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(e,t)*ks,skewX:Math.atan(u)*ks,scaleX:a,scaleY:f}}var Ni;function p_(t){const e=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(t+"");return e.isIdentity?Vf:$h(e.a,e.b,e.c,e.d,e.e,e.f)}function m_(t){return t==null||(Ni||(Ni=document.createElementNS("http://www.w3.org/2000/svg","g")),Ni.setAttribute("transform",t),!(t=Ni.transform.baseVal.consolidate()))?Vf:(t=t.matrix,$h(t.a,t.b,t.c,t.d,t.e,t.f))}function Eh(t,e,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,s,d,l,h,p){if(c!==d||s!==l){var m=h.push("translate(",null,e,null,n);p.push({i:m-4,x:$t(c,d)},{i:m-2,x:$t(s,l)})}else(d||l)&&h.push("translate("+d+e+l+n)}function a(c,s,d,l){c!==s?(c-s>180?s+=360:s-c>180&&(c+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:$t(c,s)})):s&&d.push(i(d)+"rotate("+s+r)}function f(c,s,d,l){c!==s?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:$t(c,s)}):s&&d.push(i(d)+"skewX("+s+r)}function u(c,s,d,l,h,p){if(c!==d||s!==l){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:$t(c,d)},{i:m-2,x:$t(s,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(c,s){var d=[],l=[];return c=t(c),s=t(s),o(c.translateX,c.translateY,s.translateX,s.translateY,d,l),a(c.rotate,s.rotate,d,l),f(c.skewX,s.skewX,d,l),u(c.scaleX,c.scaleY,s.scaleX,s.scaleY,d,l),c=s=null,function(h){for(var p=-1,m=l.length,g;++p<m;)d[(g=l[p]).i]=g.x(h);return d.join("")}}}var g_=Eh(p_,"px, ","px)","deg)"),b_=Eh(m_,", ",")",")");function y_(t){return function(e,n){var r=t((e=Wf(e)).h,(n=Wf(n)).h),i=Et(e.s,n.s),o=Et(e.l,n.l),a=Et(e.opacity,n.opacity);return function(f){return e.h=r(f),e.s=i(f),e.l=o(f),e.opacity=a(f),e+""}}}const __=y_(Xu);function w_(t,e){var n=Et((t=jf(t)).l,(e=jf(e)).l),r=Et(t.a,e.a),i=Et(t.b,e.b),o=Et(t.opacity,e.opacity);return function(a){return t.l=n(a),t.a=r(a),t.b=i(a),t.opacity=o(a),t+""}}function v_(t){return function(e,n){var r=t((e=Gf(e)).h,(n=Gf(n)).h),i=Et(e.c,n.c),o=Et(e.l,n.l),a=Et(e.opacity,n.opacity);return function(f){return e.h=r(f),e.c=i(f),e.l=o(f),e.opacity=a(f),e+""}}}const x_=v_(Xu);function Ah(t){return function e(n){n=+n;function r(i,o){var a=t((i=ge(i)).h,(o=ge(o)).h),f=Et(i.s,o.s),u=Et(i.l,o.l),c=Et(i.opacity,o.opacity);return function(s){return i.h=a(s),i.s=f(s),i.l=u(Math.pow(s,n)),i.opacity=c(s),i+""}}return r.gamma=e,r}(1)}Ah(Xu);var Zu=Ah(Et);function Jo(t,e){e===void 0&&(e=t,t=fi);for(var n=0,r=e.length-1,i=e[0],o=new Array(r<0?0:r);n<r;)o[n]=t(i,i=e[++n]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function ee(t,e){for(var n=new Array(e),r=0;r<e;++r)n[r]=t(r/(e-1));return n}var Jn=0,Nr=0,wr=0,Ch=1e3,po,kr,mo=0,Mn=0,ta=0,Gr=typeof performance=="object"&&performance.now?performance:Date,Nh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function Ku(){return Mn||(Nh(T_),Mn=Gr.now()+ta)}function T_(){Mn=0}function go(){this._call=this._time=this._next=null}go.prototype=kh.prototype={constructor:go,restart:function(t,e,n){if(typeof t!="function")throw new TypeError("callback is not a function");n=(n==null?Ku():+n)+(e==null?0:+e),!this._next&&kr!==this&&(kr?kr._next=this:po=this,kr=this),this._call=t,this._time=n,Zf()},stop:function(){this._call&&(this._call=null,this._time=1/0,Zf())}};function kh(t,e,n){var r=new go;return r.restart(t,e,n),r}function M_(){Ku(),++Jn;for(var t=po,e;t;)(e=Mn-t._time)>=0&&t._call.call(void 0,e),t=t._next;--Jn}function Ds(){Mn=(mo=Gr.now())+ta,Jn=Nr=0;try{M_()}finally{Jn=0,$_(),Mn=0}}function S_(){var t=Gr.now(),e=t-mo;e>Ch&&(ta-=e,mo=t)}function $_(){for(var t,e=po,n,r=1/0;e;)e._call?(r>e._time&&(r=e._time),t=e,e=e._next):(n=e._next,e._next=null,e=t?t._next=n:po=n);kr=t,Zf(r)}function Zf(t){if(!Jn){Nr&&(Nr=clearTimeout(Nr));var e=t-Mn;e>24?(t<1/0&&(Nr=setTimeout(Ds,t-Gr.now()-ta)),wr&&(wr=clearInterval(wr))):(wr||(mo=Gr.now(),wr=setInterval(S_,Ch)),Jn=1,Nh(Ds))}}function Rs(t,e,n){var r=new go;return e=e==null?0:+e,r.restart(i=>{r.stop(),t(i+e)},e,n),r}var E_=eh("start","end","cancel","interrupt"),A_=[],Dh=0,Is=1,Kf=2,to=3,Ls=4,Qf=5,eo=6;function ea(t,e,n,r,i,o){var a=t.__transition;if(!a)t.__transition={};else if(n in a)return;C_(t,n,{name:e,index:r,group:i,on:E_,tween:A_,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Dh})}function Qu(t,e){var n=oe(t,e);if(n.state>Dh)throw new Error("too late; already scheduled");return n}function _e(t,e){var n=oe(t,e);if(n.state>to)throw new Error("too late; already running");return n}function oe(t,e){var n=t.__transition;if(!n||!(n=n[e]))throw new Error("transition not found");return n}function C_(t,e,n){var r=t.__transition,i;r[e]=n,n.timer=kh(o,0,n.time);function o(c){n.state=Is,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var s,d,l,h;if(n.state!==Is)return u();for(s in r)if(h=r[s],h.name===n.name){if(h.state===to)return Rs(a);h.state===Ls?(h.state=eo,h.timer.stop(),h.on.call("interrupt",t,t.__data__,h.index,h.group),delete r[s]):+s<e&&(h.state=eo,h.timer.stop(),h.on.call("cancel",t,t.__data__,h.index,h.group),delete r[s])}if(Rs(function(){n.state===to&&(n.state=Ls,n.timer.restart(f,n.delay,n.time),f(c))}),n.state=Kf,n.on.call("start",t,t.__data__,n.index,n.group),n.state===Kf){for(n.state=to,i=new Array(l=n.tween.length),s=0,d=-1;s<l;++s)(h=n.tween[s].value.call(t,t.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function f(c){for(var s=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=Qf,1),d=-1,l=i.length;++d<l;)i[d].call(t,s);n.state===Qf&&(n.on.call("end",t,t.__data__,n.index,n.group),u())}function u(){n.state=eo,n.timer.stop(),delete r[e];for(var c in r)return;delete t.__transition}}function N_(t,e){var n=t.__transition,r,i,o=!0,a;if(n){e=e==null?null:e+"";for(a in n){if((r=n[a]).name!==e){o=!1;continue}i=r.state>Kf&&r.state<Qf,r.state=eo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",t,t.__data__,r.index,r.group),delete n[a]}o&&delete t.__transition}}function k_(t){return this.each(function(){N_(this,t)})}function D_(t,e){var n,r;return function(){var i=_e(this,t),o=i.tween;if(o!==n){r=n=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===e){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function R_(t,e,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=_e(this,t),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:e,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===e){i[u]=f;break}u===c&&i.push(f)}o.tween=i}}function I_(t,e){var n=this._id;if(t+="",arguments.length<2){for(var r=oe(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===t)return a.value;return null}return this.each((e==null?D_:R_)(n,t,e))}function Ju(t,e,n){var r=t._id;return t.each(function(){var i=_e(this,r);(i.value||(i.value={}))[e]=n.apply(this,arguments)}),function(i){return oe(i,r).value[e]}}function Rh(t,e){var n;return(typeof e=="number"?$t:e instanceof xn?Tn:(n=xn(e))?(e=n,Tn):Sh)(t,e)}function L_(t){return function(){this.removeAttribute(t)}}function O_(t){return function(){this.removeAttributeNS(t.space,t.local)}}function P_(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttribute(t);return a===i?null:a===r?o:o=e(r=a,n)}}function F_(t,e,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(t.space,t.local);return a===i?null:a===r?o:o=e(r=a,n)}}function q_(t,e,n){var r,i,o;return function(){var a,f=n(this),u;return f==null?void this.removeAttribute(t):(a=this.getAttribute(t),u=f+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,f)))}}function z_(t,e,n){var r,i,o;return function(){var a,f=n(this),u;return f==null?void this.removeAttributeNS(t.space,t.local):(a=this.getAttributeNS(t.space,t.local),u=f+"",a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,f)))}}function U_(t,e){var n=Vo(t),r=n==="transform"?b_:Rh;return this.attrTween(t,typeof e=="function"?(n.local?z_:q_)(n,r,Ju(this,"attr."+t,e)):e==null?(n.local?O_:L_)(n):(n.local?F_:P_)(n,r,e))}function B_(t,e){return function(n){this.setAttribute(t,e.call(this,n))}}function H_(t,e){return function(n){this.setAttributeNS(t.space,t.local,e.call(this,n))}}function Y_(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&H_(t,o)),n}return i._value=e,i}function W_(t,e){var n,r;function i(){var o=e.apply(this,arguments);return o!==r&&(n=(r=o)&&B_(t,o)),n}return i._value=e,i}function j_(t,e){var n="attr."+t;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(e==null)return this.tween(n,null);if(typeof e!="function")throw new Error;var r=Vo(t);return this.tween(n,(r.local?Y_:W_)(r,e))}function G_(t,e){return function(){Qu(this,t).delay=+e.apply(this,arguments)}}function X_(t,e){return e=+e,function(){Qu(this,t).delay=e}}function V_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?G_:X_)(e,t)):oe(this.node(),e).delay}function Z_(t,e){return function(){_e(this,t).duration=+e.apply(this,arguments)}}function K_(t,e){return e=+e,function(){_e(this,t).duration=e}}function Q_(t){var e=this._id;return arguments.length?this.each((typeof t=="function"?Z_:K_)(e,t)):oe(this.node(),e).duration}function J_(t,e){if(typeof e!="function")throw new Error;return function(){_e(this,t).ease=e}}function tw(t){var e=this._id;return arguments.length?this.each(J_(e,t)):oe(this.node(),e).ease}function ew(t,e){return function(){var n=e.apply(this,arguments);if(typeof n!="function")throw new Error;_e(this,t).ease=n}}function nw(t){if(typeof t!="function")throw new Error;return this.each(ew(this._id,t))}function rw(t){typeof t!="function"&&(t=rh(t));for(var e=this._groups,n=e.length,r=new Array(n),i=0;i<n;++i)for(var o=e[i],a=o.length,f=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&t.call(u,u.__data__,c,o)&&f.push(u);return new Pe(r,this._parents,this._name,this._id)}function iw(t){if(t._id!==this._id)throw new Error;for(var e=this._groups,n=t._groups,r=e.length,i=n.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var u=e[f],c=n[f],s=u.length,d=a[f]=new Array(s),l,h=0;h<s;++h)(l=u[h]||c[h])&&(d[h]=l);for(;f<r;++f)a[f]=e[f];return new Pe(a,this._parents,this._name,this._id)}function ow(t){return(t+"").trim().split(/^|\s+/).every(function(e){var n=e.indexOf(".");return n>=0&&(e=e.slice(0,n)),!e||e==="start"})}function aw(t,e,n){var r,i,o=ow(e)?Qu:_e;return function(){var a=o(this,t),f=a.on;f!==r&&(i=(r=f).copy()).on(e,n),a.on=i}}function fw(t,e){var n=this._id;return arguments.length<2?oe(this.node(),n).on.on(t):this.each(aw(n,t,e))}function uw(t){return function(){var e=this.parentNode;for(var n in this.__transition)if(+n!==t)return;e&&e.removeChild(this)}}function cw(){return this.on("end.remove",uw(this._id))}function sw(t){var e=this._name,n=this._id;typeof t!="function"&&(t=Hu(t));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],u=f.length,c=o[a]=new Array(u),s,d,l=0;l<u;++l)(s=f[l])&&(d=t.call(s,s.__data__,l,f))&&("__data__"in s&&(d.__data__=s.__data__),c[l]=d,ea(c[l],e,n,l,c,oe(s,n)));return new Pe(o,this._parents,e,n)}function lw(t){var e=this._name,n=this._id;typeof t!="function"&&(t=nh(t));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var u=r[f],c=u.length,s,d=0;d<c;++d)if(s=u[d]){for(var l=t.call(s,s.__data__,d,u),h,p=oe(s,n),m=0,g=l.length;m<g;++m)(h=l[m])&&ea(h,e,n,m,l,p);o.push(l),a.push(s)}return new Pe(o,a,e,n)}var dw=oi.prototype.constructor;function hw(){return new dw(this._groups,this._parents)}function pw(t,e){var n,r,i;return function(){var o=Kn(this,t),a=(this.style.removeProperty(t),Kn(this,t));return o===a?null:o===n&&a===r?i:i=e(n=o,r=a)}}function Ih(t){return function(){this.style.removeProperty(t)}}function mw(t,e,n){var r,i=n+"",o;return function(){var a=Kn(this,t);return a===i?null:a===r?o:o=e(r=a,n)}}function gw(t,e,n){var r,i,o;return function(){var a=Kn(this,t),f=n(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(t),Kn(this,t))),a===u?null:a===r&&u===i?o:(i=u,o=e(r=a,f))}}function bw(t,e){var n,r,i,o="style."+e,a="end."+o,f;return function(){var u=_e(this,t),c=u.on,s=u.value[o]==null?f||(f=Ih(e)):void 0;(c!==n||i!==s)&&(r=(n=c).copy()).on(a,i=s),u.on=r}}function yw(t,e,n){var r=(t+="")=="transform"?g_:Rh;return e==null?this.styleTween(t,pw(t,r)).on("end.style."+t,Ih(t)):typeof e=="function"?this.styleTween(t,gw(t,r,Ju(this,"style."+t,e))).each(bw(this._id,t)):this.styleTween(t,mw(t,r,e),n).on("end.style."+t,null)}function _w(t,e,n){return function(r){this.style.setProperty(t,e.call(this,r),n)}}function ww(t,e,n){var r,i;function o(){var a=e.apply(this,arguments);return a!==i&&(r=(i=a)&&_w(t,a,n)),r}return o._value=e,o}function vw(t,e,n){var r="style."+(t+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(e==null)return this.tween(r,null);if(typeof e!="function")throw new Error;return this.tween(r,ww(t,e,n??""))}function xw(t){return function(){this.textContent=t}}function Tw(t){return function(){var e=t(this);this.textContent=e??""}}function Mw(t){return this.tween("text",typeof t=="function"?Tw(Ju(this,"text",t)):xw(t==null?"":t+""))}function Sw(t){return function(e){this.textContent=t.call(this,e)}}function $w(t){var e,n;function r(){var i=t.apply(this,arguments);return i!==n&&(e=(n=i)&&Sw(i)),e}return r._value=t,r}function Ew(t){var e="text";if(arguments.length<1)return(e=this.tween(e))&&e._value;if(t==null)return this.tween(e,null);if(typeof t!="function")throw new Error;return this.tween(e,$w(t))}function Aw(){for(var t=this._name,e=this._id,n=Lh(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,u,c=0;c<f;++c)if(u=a[c]){var s=oe(u,e);ea(u,t,n,c,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Pe(r,this._parents,t,n)}function Cw(){var t,e,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var f={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var c=_e(this,r),s=c.on;s!==t&&(e=(t=s).copy(),e._.cancel.push(f),e._.interrupt.push(f),e._.end.push(u)),c.on=e}),i===0&&o()})}var Nw=0;function Pe(t,e,n,r){this._groups=t,this._parents=e,this._name=n,this._id=r}function Lh(){return++Nw}var xe=oi.prototype;Pe.prototype={constructor:Pe,select:sw,selectAll:lw,selectChild:xe.selectChild,selectChildren:xe.selectChildren,filter:rw,merge:iw,selection:hw,transition:Aw,call:xe.call,nodes:xe.nodes,node:xe.node,size:xe.size,empty:xe.empty,each:xe.each,on:fw,attr:U_,attrTween:j_,style:yw,styleTween:vw,text:Mw,textTween:Ew,remove:cw,tween:I_,delay:V_,duration:Q_,ease:tw,easeVarying:nw,end:Cw,[Symbol.iterator]:xe[Symbol.iterator]};function kw(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}var Dw={time:null,delay:0,duration:250,ease:kw};function Rw(t,e){for(var n;!(n=t.__transition)||!(n=n[e]);)if(!(t=t.parentNode))throw new Error(`transition ${e} not found`);return n}function Iw(t){var e,n;t instanceof Pe?(e=t._id,t=t._name):(e=Lh(),(n=Dw).time=Ku(),t=t==null?null:t+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,u,c=0;c<f;++c)(u=a[c])&&ea(u,t,e,c,a,n||Rw(u,e));return new Pe(r,this._parents,t,e)}oi.prototype.interrupt=k_;oi.prototype.transition=Iw;const Jf=Math.PI,tu=2*Jf,hn=1e-6,Lw=tu-hn;function Oh(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Ow(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Oh;const n=10**e;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ph{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Oh:Ow(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,o,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(e,n,r,i,o){if(e=+e,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,u=r-e,c=i-n,s=a-e,d=f-n,l=s*s+d*d;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(l>hn)if(!(Math.abs(d*u-c*s)>hn)||!o)this._append`L${this._x1=e},${this._y1=n}`;else{let h=r-a,p=i-f,m=u*u+c*c,g=h*h+p*p,y=Math.sqrt(m),b=Math.sqrt(l),w=o*Math.tan((Jf-Math.acos((m+l-g)/(2*y*b)))/2),_=w/b,v=w/y;Math.abs(_-1)>hn&&this._append`L${e+_*s},${n+_*d}`,this._append`A${o},${o},0,0,${+(d*h>s*p)},${this._x1=e+v*u},${this._y1=n+v*c}`}}arc(e,n,r,i,o,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),u=r*Math.sin(i),c=e+f,s=n+u,d=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${c},${s}`:(Math.abs(this._x1-c)>hn||Math.abs(this._y1-s)>hn)&&this._append`L${c},${s}`,r&&(l<0&&(l=l%tu+tu),l>Lw?this._append`A${r},${r},0,1,${d},${e-f},${n-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=s}`:l>hn&&this._append`A${r},${r},0,${+(l>=Jf)},${d},${this._x1=e+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function eu(t=3){return new Ph(+t)}function Pw(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bo(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function tr(t){return t=bo(Math.abs(t)),t?t[1]:NaN}function Fw(t,e){return function(n,r){for(var i=n.length,o=[],a=0,f=t[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),o.push(n.substring(i-=f,i+f)),!((u+=f+1)>r));)f=t[a=(a+1)%t.length];return o.reverse().join(e)}}function qw(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var zw=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Xr(t){if(!(e=zw.exec(t)))throw new Error("invalid format: "+t);var e;return new tc({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Xr.prototype=tc.prototype;function tc(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}tc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function Uw(t){t:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break t;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var Fh;function Bw(t,e){var n=bo(t,e);if(!n)return t+"";var r=n[0],i=n[1],o=i-(Fh=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+bo(t,Math.max(0,e+o-1))[0]}function Os(t,e){var n=bo(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Ps={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:Pw,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Os(t*100,e),r:Os,s:Bw,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Fs(t){return t}var qs=Array.prototype.map,zs=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function Hw(t){var e=t.grouping===void 0||t.thousands===void 0?Fs:Fw(qs.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",o=t.numerals===void 0?Fs:qw(qs.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",f=t.minus===void 0?"":t.minus+"",u=t.nan===void 0?"NaN":t.nan+"";function c(d){d=Xr(d);var l=d.fill,h=d.align,p=d.sign,m=d.symbol,g=d.zero,y=d.width,b=d.comma,w=d.precision,_=d.trim,v=d.type;v==="n"?(b=!0,v="g"):Ps[v]||(w===void 0&&(w=12),_=!0,v="g"),(g||l==="0"&&h==="=")&&(g=!0,l="0",h="=");var x=m==="$"?n:m==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",M=m==="$"?r:/[%p]/.test(v)?a:"",S=Ps[v],E=/[defgprs%]/.test(v);w=w===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function C(T){var I=x,k=M,R,$,L;if(v==="c")k=S(T)+k,T="";else{T=+T;var D=T<0||1/T<0;if(T=isNaN(T)?u:S(Math.abs(T),w),_&&(T=Uw(T)),D&&+T==0&&p!=="+"&&(D=!1),I=(D?p==="("?p:f:p==="-"||p==="("?"":p)+I,k=(v==="s"?zs[8+Fh/3]:"")+k+(D&&p==="("?")":""),E){for(R=-1,$=T.length;++R<$;)if(L=T.charCodeAt(R),48>L||L>57){k=(L===46?i+T.slice(R+1):T.slice(R))+k,T=T.slice(0,R);break}}}b&&!g&&(T=e(T,1/0));var W=I.length+T.length+k.length,j=W<y?new Array(y-W+1).join(l):"";switch(b&&g&&(T=e(j+T,j.length?y-k.length:1/0),j=""),h){case"<":T=I+T+k+j;break;case"=":T=I+j+T+k;break;case"^":T=j.slice(0,W=j.length>>1)+I+T+k+j.slice(W);break;default:T=j+I+T+k;break}return o(T)}return C.toString=function(){return d+""},C}function s(d,l){var h=c((d=Xr(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(tr(l)/3)))*3,m=Math.pow(10,-p),g=zs[8+p/3];return function(y){return h(m*y)+g}}return{format:c,formatPrefix:s}}var ki,pr,qh;Yw({thousands:",",grouping:[3],currency:["$",""]});function Yw(t){return ki=Hw(t),pr=ki.format,qh=ki.formatPrefix,ki}function Ww(t){return Math.max(0,-tr(Math.abs(t)))}function jw(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(tr(e)/3)))*3-tr(Math.abs(t)))}function Gw(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,tr(e)-tr(t))+1}var K=1e-6,zh=1e-12,tt=Math.PI,lt=tt/2,Us=tt/4,zt=tt*2,Nt=180/tt,st=tt/180,ft=Math.abs,mr=Math.atan,Fe=Math.atan2,Q=Math.cos,Uh=Math.exp,yo=Math.log,Ja=Math.pow,X=Math.sin,Wt=Math.sign||function(t){return t>0?1:t<0?-1:0},Lt=Math.sqrt,ec=Math.tan;function Bh(t){return t>1?0:t<-1?tt:Math.acos(t)}function Vt(t){return t>1?lt:t<-1?-lt:Math.asin(t)}function jt(){}function _o(t,e){t&&Hs.hasOwnProperty(t.type)&&Hs[t.type](t,e)}var Bs={Feature:function(t,e){_o(t.geometry,e)},FeatureCollection:function(t,e){for(var n=t.features,r=-1,i=n.length;++r<i;)_o(n[r].geometry,e)}},Hs={Sphere:function(t,e){e.sphere()},Point:function(t,e){t=t.coordinates,e.point(t[0],t[1],t[2])},MultiPoint:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)t=n[r],e.point(t[0],t[1],t[2])},LineString:function(t,e){nu(t.coordinates,e,0)},MultiLineString:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)nu(n[r],e,0)},Polygon:function(t,e){Ys(t.coordinates,e)},MultiPolygon:function(t,e){for(var n=t.coordinates,r=-1,i=n.length;++r<i;)Ys(n[r],e)},GeometryCollection:function(t,e){for(var n=t.geometries,r=-1,i=n.length;++r<i;)_o(n[r],e)}};function nu(t,e,n){var r=-1,i=t.length-n,o;for(e.lineStart();++r<i;)o=t[r],e.point(o[0],o[1],o[2]);e.lineEnd()}function Ys(t,e){var n=-1,r=t.length;for(e.polygonStart();++n<r;)nu(t[n],e,1);e.polygonEnd()}function pn(t,e){t&&Bs.hasOwnProperty(t.type)?Bs[t.type](t,e):_o(t,e)}function ru(t){return[Fe(t[1],t[0]),Vt(t[2])]}function er(t){var e=t[0],n=t[1],r=Q(n);return[r*Q(e),r*X(e),X(n)]}function Di(t,e){return t[0]*e[0]+t[1]*e[1]+t[2]*e[2]}function wo(t,e){return[t[1]*e[2]-t[2]*e[1],t[2]*e[0]-t[0]*e[2],t[0]*e[1]-t[1]*e[0]]}function tf(t,e){t[0]+=e[0],t[1]+=e[1],t[2]+=e[2]}function Ri(t,e){return[t[0]*e,t[1]*e,t[2]*e]}function iu(t){var e=Lt(t[0]*t[0]+t[1]*t[1]+t[2]*t[2]);t[0]/=e,t[1]/=e,t[2]/=e}function ou(t,e){function n(r,i){return r=t(r,i),e(r[0],r[1])}return t.invert&&e.invert&&(n.invert=function(r,i){return r=e.invert(r,i),r&&t.invert(r[0],r[1])}),n}function au(t,e){return ft(t)>tt&&(t-=Math.round(t/zt)*zt),[t,e]}au.invert=au;function Hh(t,e,n){return(t%=zt)?e||n?ou(js(t),Gs(e,n)):js(t):e||n?Gs(e,n):au}function Ws(t){return function(e,n){return e+=t,ft(e)>tt&&(e-=Math.round(e/zt)*zt),[e,n]}}function js(t){var e=Ws(t);return e.invert=Ws(-t),e}function Gs(t,e){var n=Q(t),r=X(t),i=Q(e),o=X(e);function a(f,u){var c=Q(u),s=Q(f)*c,d=X(f)*c,l=X(u),h=l*n+s*r;return[Fe(d*i-h*o,s*n-l*r),Vt(h*i+d*o)]}return a.invert=function(f,u){var c=Q(u),s=Q(f)*c,d=X(f)*c,l=X(u),h=l*i-d*o;return[Fe(d*i+l*o,s*n+h*r),Vt(h*n-s*r)]},a}function Xw(t){t=Hh(t[0]*st,t[1]*st,t.length>2?t[2]*st:0);function e(n){return n=t(n[0]*st,n[1]*st),n[0]*=Nt,n[1]*=Nt,n}return e.invert=function(n){return n=t.invert(n[0]*st,n[1]*st),n[0]*=Nt,n[1]*=Nt,n},e}function Vw(t,e,n,r,i,o){if(n){var a=Q(e),f=X(e),u=r*n;i==null?(i=e+r*zt,o=e-u/2):(i=Xs(a,i),o=Xs(a,o),(r>0?i<o:i>o)&&(i+=r*zt));for(var c,s=i;r>0?s>o:s<o;s-=u)c=ru([a,-f*Q(s),-f*X(s)]),t.point(c[0],c[1])}}function Xs(t,e){e=er(e),e[0]-=t,iu(e);var n=Bh(-e[1]);return((-e[2]<0?-n:n)+zt-K)%zt}function Yh(){var t=[],e;return{point:function(n,r,i){e.push([n,r,i])},lineStart:function(){t.push(e=[])},lineEnd:jt,rejoin:function(){t.length>1&&t.push(t.pop().concat(t.shift()))},result:function(){var n=t;return t=[],e=null,n}}}function no(t,e){return ft(t[0]-e[0])<K&&ft(t[1]-e[1])<K}function Ii(t,e,n,r){this.x=t,this.z=e,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function Wh(t,e,n,r,i){var o=[],a=[],f,u;if(t.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],b;if(no(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),f=0;f<m;++f)i.point((g=p[f])[0],g[1]);i.lineEnd();return}y[0]+=2*K}o.push(b=new Ii(g,p,null,!0)),a.push(b.o=new Ii(g,null,b,!1)),o.push(b=new Ii(y,p,null,!1)),a.push(b.o=new Ii(y,null,b,!0))}}),!!o.length){for(a.sort(e),Vs(o),Vs(a),f=0,u=a.length;f<u;++f)a[f].e=n=!n;for(var c=o[0],s,d;;){for(var l=c,h=!0;l.v;)if((l=l.n)===c)return;s=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,u=s.length;f<u;++f)i.point((d=s[f])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(s=l.p.z,f=s.length-1;f>=0;--f)i.point((d=s[f])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,s=l.z,h=!h}while(!l.v);i.lineEnd()}}}function Vs(t){if(e=t.length){for(var e,n=0,r=t[0],i;++n<e;)r.n=i=t[n],i.p=r,r=i;r.n=i=t[0],i.p=r}}function ef(t){return ft(t[0])<=tt?t[0]:Wt(t[0])*((ft(t[0])+tt)%zt-tt)}function Zw(t,e){var n=ef(e),r=e[1],i=X(r),o=[X(n),-Q(n),0],a=0,f=0,u=new _n;i===1?r=lt+K:i===-1&&(r=-lt-K);for(var c=0,s=t.length;c<s;++c)if(l=(d=t[c]).length)for(var d,l,h=d[l-1],p=ef(h),m=h[1]/2+Us,g=X(m),y=Q(m),b=0;b<l;++b,p=_,g=x,y=M,h=w){var w=d[b],_=ef(w),v=w[1]/2+Us,x=X(v),M=Q(v),S=_-p,E=S>=0?1:-1,C=E*S,T=C>tt,I=g*x;if(u.add(Fe(I*E*X(C),y*M+I*Q(C))),a+=T?S+E*zt:S,T^p>=n^_>=n){var k=wo(er(h),er(w));iu(k);var R=wo(o,k);iu(R);var $=(T^S>=0?-1:1)*Vt(R[2]);(r>$||r===$&&(k[0]||k[1]))&&(f+=T^S>=0?1:-1)}}return(a<-K||a<K&&u<-zh)^f&1}function jh(t,e,n,r){return function(i){var o=e(i),a=Yh(),f=e(a),u=!1,c,s,d,l={point:h,lineStart:m,lineEnd:g,polygonStart:function(){l.point=y,l.lineStart=b,l.lineEnd=w,s=[],c=[]},polygonEnd:function(){l.point=h,l.lineStart=m,l.lineEnd=g,s=th(s);var _=Zw(c,r);s.length?(u||(i.polygonStart(),u=!0),Wh(s,Qw,_,n,i)):_&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),s=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(_,v){t(_,v)&&i.point(_,v)}function p(_,v){o.point(_,v)}function m(){l.point=p,o.lineStart()}function g(){l.point=h,o.lineEnd()}function y(_,v){d.push([_,v]),f.point(_,v)}function b(){f.lineStart(),d=[]}function w(){y(d[0][0],d[0][1]),f.lineEnd();var _=f.clean(),v=a.result(),x,M=v.length,S,E,C;if(d.pop(),c.push(d),d=null,!!M){if(_&1){if(E=v[0],(S=E.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),x=0;x<S;++x)i.point((C=E[x])[0],C[1]);i.lineEnd()}return}M>1&&_&2&&v.push(v.pop().concat(v.shift())),s.push(v.filter(Kw))}}return l}}function Kw(t){return t.length>1}function Qw(t,e){return((t=t.x)[0]<0?t[1]-lt-K:lt-t[1])-((e=e.x)[0]<0?e[1]-lt-K:lt-e[1])}const Zs=jh(function(){return!0},Jw,e6,[-tt,-lt]);function Jw(t){var e=NaN,n=NaN,r=NaN,i;return{lineStart:function(){t.lineStart(),i=1},point:function(o,a){var f=o>0?tt:-tt,u=ft(o-e);ft(u-tt)<K?(t.point(e,n=(n+a)/2>0?lt:-lt),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),t.point(o,n),i=0):r!==f&&u>=tt&&(ft(e-r)<K&&(e-=r*K),ft(o-f)<K&&(o-=f*K),n=t6(e,n,o,a),t.point(r,n),t.lineEnd(),t.lineStart(),t.point(f,n),i=0),t.point(e=o,n=a),r=f},lineEnd:function(){t.lineEnd(),e=n=NaN},clean:function(){return 2-i}}}function t6(t,e,n,r){var i,o,a=X(t-n);return ft(a)>K?mr((X(e)*(o=Q(r))*X(n)-X(r)*(i=Q(e))*X(t))/(i*o*a)):(e+r)/2}function e6(t,e,n,r){var i;if(t==null)i=n*lt,r.point(-tt,i),r.point(0,i),r.point(tt,i),r.point(tt,0),r.point(tt,-i),r.point(0,-i),r.point(-tt,-i),r.point(-tt,0),r.point(-tt,i);else if(ft(t[0]-e[0])>K){var o=t[0]<e[0]?tt:-tt;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(e[0],e[1])}function n6(t){var e=Q(t),n=2*st,r=e>0,i=ft(e)>K;function o(s,d,l,h){Vw(h,t,n,l,s,d)}function a(s,d){return Q(s)*Q(d)>e}function f(s){var d,l,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var b=[g,y],w,_=a(g,y),v=r?_?0:c(g,y):_?c(g+(g<0?tt:-tt),y):0;if(!d&&(p=h=_)&&s.lineStart(),_!==h&&(w=u(d,b),(!w||no(d,w)||no(b,w))&&(b[2]=1)),_!==h)m=0,_?(s.lineStart(),w=u(b,d),s.point(w[0],w[1])):(w=u(d,b),s.point(w[0],w[1],2),s.lineEnd()),d=w;else if(i&&d&&r^_){var x;!(v&l)&&(x=u(b,d,!0))&&(m=0,r?(s.lineStart(),s.point(x[0][0],x[0][1]),s.point(x[1][0],x[1][1]),s.lineEnd()):(s.point(x[1][0],x[1][1]),s.lineEnd(),s.lineStart(),s.point(x[0][0],x[0][1],3)))}_&&(!d||!no(d,b))&&s.point(b[0],b[1]),d=b,h=_,l=v},lineEnd:function(){h&&s.lineEnd(),d=null},clean:function(){return m|(p&&h)<<1}}}function u(s,d,l){var h=er(s),p=er(d),m=[1,0,0],g=wo(h,p),y=Di(g,g),b=g[0],w=y-b*b;if(!w)return!l&&s;var _=e*y/w,v=-e*b/w,x=wo(m,g),M=Ri(m,_),S=Ri(g,v);tf(M,S);var E=x,C=Di(M,E),T=Di(E,E),I=C*C-T*(Di(M,M)-1);if(!(I<0)){var k=Lt(I),R=Ri(E,(-C-k)/T);if(tf(R,M),R=ru(R),!l)return R;var $=s[0],L=d[0],D=s[1],W=d[1],j;L<$&&(j=$,$=L,L=j);var O=L-$,q=ft(O-tt)<K,P=q||O<K;if(!q&&W<D&&(j=D,D=W,W=j),P?q?D+W>0^R[1]<(ft(R[0]-$)<K?D:W):D<=R[1]&&R[1]<=W:O>tt^($<=R[0]&&R[0]<=L)){var z=Ri(E,(-C+k)/T);return tf(z,M),[R,ru(z)]}}}function c(s,d){var l=r?t:tt-t,h=0;return s<-l?h|=1:s>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return jh(a,f,o,r?[0,-t]:[-tt,t-tt])}function r6(t,e,n,r,i,o){var a=t[0],f=t[1],u=e[0],c=e[1],s=0,d=1,l=u-a,h=c-f,p;if(p=n-a,!(!l&&p>0)){if(p/=l,l<0){if(p<s)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>s&&(s=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>s&&(s=p)}else if(l>0){if(p<s)return;p<d&&(d=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<s)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>s&&(s=p)}if(p=o-f,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>s&&(s=p)}else if(h>0){if(p<s)return;p<d&&(d=p)}return s>0&&(t[0]=a+s*l,t[1]=f+s*h),d<1&&(e[0]=a+d*l,e[1]=f+d*h),!0}}}}}var Dr=1e9,Li=-Dr;function Gh(t,e,n,r){function i(c,s){return t<=c&&c<=n&&e<=s&&s<=r}function o(c,s,d,l){var h=0,p=0;if(c==null||(h=a(c,d))!==(p=a(s,d))||u(c,s)<0^d>0)do l.point(h===0||h===3?t:n,h>1?r:e);while((h=(h+d+4)%4)!==p);else l.point(s[0],s[1])}function a(c,s){return ft(c[0]-t)<K?s>0?0:3:ft(c[0]-n)<K?s>0?2:1:ft(c[1]-e)<K?s>0?1:0:s>0?3:2}function f(c,s){return u(c.x,s.x)}function u(c,s){var d=a(c,1),l=a(s,1);return d!==l?d-l:d===0?s[1]-c[1]:d===1?c[0]-s[0]:d===2?c[1]-s[1]:s[0]-c[0]}return function(c){var s=c,d=Yh(),l,h,p,m,g,y,b,w,_,v,x,M={point:S,lineStart:I,lineEnd:k,polygonStart:C,polygonEnd:T};function S($,L){i($,L)&&s.point($,L)}function E(){for(var $=0,L=0,D=h.length;L<D;++L)for(var W=h[L],j=1,O=W.length,q=W[0],P,z,J=q[0],et=q[1];j<O;++j)P=J,z=et,q=W[j],J=q[0],et=q[1],z<=r?et>r&&(J-P)*(r-z)>(et-z)*(t-P)&&++$:et<=r&&(J-P)*(r-z)<(et-z)*(t-P)&&--$;return $}function C(){s=d,l=[],h=[],x=!0}function T(){var $=E(),L=x&&$,D=(l=th(l)).length;(L||D)&&(c.polygonStart(),L&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),D&&Wh(l,f,$,o,c),c.polygonEnd()),s=c,l=h=p=null}function I(){M.point=R,h&&h.push(p=[]),v=!0,_=!1,b=w=NaN}function k(){l&&(R(m,g),y&&_&&d.rejoin(),l.push(d.result())),M.point=S,_&&s.lineEnd()}function R($,L){var D=i($,L);if(h&&p.push([$,L]),v)m=$,g=L,y=D,v=!1,D&&(s.lineStart(),s.point($,L));else if(D&&_)s.point($,L);else{var W=[b=Math.max(Li,Math.min(Dr,b)),w=Math.max(Li,Math.min(Dr,w))],j=[$=Math.max(Li,Math.min(Dr,$)),L=Math.max(Li,Math.min(Dr,L))];r6(W,j,t,e,n,r)?(_||(s.lineStart(),s.point(W[0],W[1])),s.point(j[0],j[1]),D||s.lineEnd(),x=!1):D&&(s.lineStart(),s.point($,L),x=!1)}b=$,w=L,_=D}return M}}const fu=t=>t;var nf=new _n,uu=new _n,Xh,Vh,cu,su,Ne={point:jt,lineStart:jt,lineEnd:jt,polygonStart:function(){Ne.lineStart=i6,Ne.lineEnd=a6},polygonEnd:function(){Ne.lineStart=Ne.lineEnd=Ne.point=jt,nf.add(ft(uu)),uu=new _n},result:function(){var t=nf/2;return nf=new _n,t}};function i6(){Ne.point=o6}function o6(t,e){Ne.point=Zh,Xh=cu=t,Vh=su=e}function Zh(t,e){uu.add(su*t-cu*e),cu=t,su=e}function a6(){Zh(Xh,Vh)}var nr=1/0,vo=nr,Vr=-nr,xo=Vr,To={point:f6,lineStart:jt,lineEnd:jt,polygonStart:jt,polygonEnd:jt,result:function(){var t=[[nr,vo],[Vr,xo]];return Vr=xo=-(vo=nr=1/0),t}};function f6(t,e){t<nr&&(nr=t),t>Vr&&(Vr=t),e<vo&&(vo=e),e>xo&&(xo=e)}var lu=0,du=0,Rr=0,Mo=0,So=0,Un=0,hu=0,pu=0,Ir=0,Kh,Qh,le,de,Ht={point:Sn,lineStart:Ks,lineEnd:Qs,polygonStart:function(){Ht.lineStart=s6,Ht.lineEnd=l6},polygonEnd:function(){Ht.point=Sn,Ht.lineStart=Ks,Ht.lineEnd=Qs},result:function(){var t=Ir?[hu/Ir,pu/Ir]:Un?[Mo/Un,So/Un]:Rr?[lu/Rr,du/Rr]:[NaN,NaN];return lu=du=Rr=Mo=So=Un=hu=pu=Ir=0,t}};function Sn(t,e){lu+=t,du+=e,++Rr}function Ks(){Ht.point=u6}function u6(t,e){Ht.point=c6,Sn(le=t,de=e)}function c6(t,e){var n=t-le,r=e-de,i=Lt(n*n+r*r);Mo+=i*(le+t)/2,So+=i*(de+e)/2,Un+=i,Sn(le=t,de=e)}function Qs(){Ht.point=Sn}function s6(){Ht.point=d6}function l6(){Jh(Kh,Qh)}function d6(t,e){Ht.point=Jh,Sn(Kh=le=t,Qh=de=e)}function Jh(t,e){var n=t-le,r=e-de,i=Lt(n*n+r*r);Mo+=i*(le+t)/2,So+=i*(de+e)/2,Un+=i,i=de*t-le*e,hu+=i*(le+t),pu+=i*(de+e),Ir+=i*3,Sn(le=t,de=e)}function t0(t){this._context=t}t0.prototype={_radius:4.5,pointRadius:function(t){return this._radius=t,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(t,e){switch(this._point){case 0:{this._context.moveTo(t,e),this._point=1;break}case 1:{this._context.lineTo(t,e);break}default:{this._context.moveTo(t+this._radius,e),this._context.arc(t,e,this._radius,0,zt);break}}},result:jt};var mu=new _n,rf,e0,n0,Lr,Or,Zr={point:jt,lineStart:function(){Zr.point=h6},lineEnd:function(){rf&&r0(e0,n0),Zr.point=jt},polygonStart:function(){rf=!0},polygonEnd:function(){rf=null},result:function(){var t=+mu;return mu=new _n,t}};function h6(t,e){Zr.point=r0,e0=Lr=t,n0=Or=e}function r0(t,e){Lr-=t,Or-=e,mu.add(Lt(Lr*Lr+Or*Or)),Lr=t,Or=e}let Js,$o,tl,el;class nl{constructor(e){this._append=e==null?i0:p6(e),this._radius=4.5,this._=""}pointRadius(e){return this._radius=+e,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(e,n){switch(this._point){case 0:{this._append`M${e},${n}`,this._point=1;break}case 1:{this._append`L${e},${n}`;break}default:{if(this._append`M${e},${n}`,this._radius!==tl||this._append!==$o){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,tl=r,$o=this._append,el=this._,this._=i}this._+=el;break}}}result(){const e=this._;return this._="",e.length?e:null}}function i0(t){let e=1;this._+=t[0];for(const n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function p6(t){const e=Math.floor(t);if(!(e>=0))throw new RangeError(`invalid digits: ${t}`);if(e>15)return i0;if(e!==Js){const n=10**e;Js=e,$o=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return $o}function na(t,e){let n=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),pn(f,i(o))),o.result()}return a.area=function(f){return pn(f,i(Ne)),Ne.result()},a.measure=function(f){return pn(f,i(Zr)),Zr.result()},a.bounds=function(f){return pn(f,i(To)),To.result()},a.centroid=function(f){return pn(f,i(Ht)),Ht.result()},a.projection=function(f){return arguments.length?(i=f==null?(t=null,fu):(t=f).stream,a):t},a.context=function(f){return arguments.length?(o=f==null?(e=null,new nl(n)):new t0(e=f),typeof r!="function"&&o.pointRadius(r),a):e},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);n=u}return e===null&&(o=new nl(n)),a},a.projection(t).digits(n).context(e)}function gu(t){return{stream:ra(t)}}function ra(t){return function(e){var n=new bu;for(var r in t)n[r]=t[r];return n.stream=e,n}}function bu(){}bu.prototype={constructor:bu,point:function(t,e){this.stream.point(t,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function nc(t,e,n){var r=t.clipExtent&&t.clipExtent();return t.scale(150).translate([0,0]),r!=null&&t.clipExtent(null),pn(n,t.stream(To)),e(To.result()),r!=null&&t.clipExtent(r),t}function rc(t,e,n){return nc(t,function(r){var i=e[1][0]-e[0][0],o=e[1][1]-e[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+e[0][0]+(i-a*(r[1][0]+r[0][0]))/2,u=+e[0][1]+(o-a*(r[1][1]+r[0][1]))/2;t.scale(150*a).translate([f,u])},n)}function o0(t,e,n){return rc(t,[[0,0],e],n)}function a0(t,e,n){return nc(t,function(r){var i=+e,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];t.scale(150*o).translate([a,f])},n)}function f0(t,e,n){return nc(t,function(r){var i=+e,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;t.scale(150*o).translate([a,f])},n)}var rl=16,m6=Q(30*st);function il(t,e){return+e?b6(t,e):g6(t)}function g6(t){return ra({point:function(e,n){e=t(e,n),this.stream.point(e[0],e[1])}})}function b6(t,e){function n(r,i,o,a,f,u,c,s,d,l,h,p,m,g){var y=c-r,b=s-i,w=y*y+b*b;if(w>4*e&&m--){var _=a+l,v=f+h,x=u+p,M=Lt(_*_+v*v+x*x),S=Vt(x/=M),E=ft(ft(x)-1)<K||ft(o-d)<K?(o+d)/2:Fe(v,_),C=t(E,S),T=C[0],I=C[1],k=T-r,R=I-i,$=b*k-y*R;($*$/w>e||ft((y*k+b*R)/w-.5)>.3||a*l+f*h+u*p<m6)&&(n(r,i,o,a,f,u,T,I,E,_/=M,v/=M,x,m,g),g.point(T,I),n(T,I,E,_,v,x,c,s,d,l,h,p,m,g))}}return function(r){var i,o,a,f,u,c,s,d,l,h,p,m,g={point:y,lineStart:b,lineEnd:_,polygonStart:function(){r.polygonStart(),g.lineStart=v},polygonEnd:function(){r.polygonEnd(),g.lineStart=b}};function y(S,E){S=t(S,E),r.point(S[0],S[1])}function b(){d=NaN,g.point=w,r.lineStart()}function w(S,E){var C=er([S,E]),T=t(S,E);n(d,l,s,h,p,m,d=T[0],l=T[1],s=S,h=C[0],p=C[1],m=C[2],rl,r),r.point(d,l)}function _(){g.point=y,r.lineEnd()}function v(){b(),g.point=x,g.lineEnd=M}function x(S,E){w(i=S,E),o=d,a=l,f=h,u=p,c=m,g.point=w}function M(){n(d,l,s,h,p,m,o,a,i,f,u,c,rl,r),g.lineEnd=_,_()}return g}}var y6=ra({point:function(t,e){this.stream.point(t*st,e*st)}});function _6(t){return ra({point:function(e,n){var r=t(e,n);return this.stream.point(r[0],r[1])}})}function w6(t,e,n,r,i){function o(a,f){return a*=r,f*=i,[e+t*a,n-t*f]}return o.invert=function(a,f){return[(a-e)/t*r,(n-f)/t*i]},o}function ol(t,e,n,r,i,o){if(!o)return w6(t,e,n,r,i);var a=Q(o),f=X(o),u=a*t,c=f*t,s=a/t,d=f/t,l=(f*n-a*e)/t,h=(f*e+a*n)/t;function p(m,g){return m*=r,g*=i,[u*m-c*g+e,n-c*m-u*g]}return p.invert=function(m,g){return[r*(s*m-d*g+l),i*(h-d*m-s*g)]},p}function an(t){return u0(function(){return t})()}function u0(t){var e,n=150,r=480,i=250,o=0,a=0,f=0,u=0,c=0,s,d=0,l=1,h=1,p=null,m=Zs,g=null,y,b,w,_=fu,v=.5,x,M,S,E,C;function T($){return S($[0]*st,$[1]*st)}function I($){return $=S.invert($[0],$[1]),$&&[$[0]*Nt,$[1]*Nt]}T.stream=function($){return E&&C===$?E:E=y6(_6(s)(m(x(_(C=$)))))},T.preclip=function($){return arguments.length?(m=$,p=void 0,R()):m},T.postclip=function($){return arguments.length?(_=$,g=y=b=w=null,R()):_},T.clipAngle=function($){return arguments.length?(m=+$?n6(p=$*st):(p=null,Zs),R()):p*Nt},T.clipExtent=function($){return arguments.length?(_=$==null?(g=y=b=w=null,fu):Gh(g=+$[0][0],y=+$[0][1],b=+$[1][0],w=+$[1][1]),R()):g==null?null:[[g,y],[b,w]]},T.scale=function($){return arguments.length?(n=+$,k()):n},T.translate=function($){return arguments.length?(r=+$[0],i=+$[1],k()):[r,i]},T.center=function($){return arguments.length?(o=$[0]%360*st,a=$[1]%360*st,k()):[o*Nt,a*Nt]},T.rotate=function($){return arguments.length?(f=$[0]%360*st,u=$[1]%360*st,c=$.length>2?$[2]%360*st:0,k()):[f*Nt,u*Nt,c*Nt]},T.angle=function($){return arguments.length?(d=$%360*st,k()):d*Nt},T.reflectX=function($){return arguments.length?(l=$?-1:1,k()):l<0},T.reflectY=function($){return arguments.length?(h=$?-1:1,k()):h<0},T.precision=function($){return arguments.length?(x=il(M,v=$*$),R()):Lt(v)},T.fitExtent=function($,L){return rc(T,$,L)},T.fitSize=function($,L){return o0(T,$,L)},T.fitWidth=function($,L){return a0(T,$,L)},T.fitHeight=function($,L){return f0(T,$,L)};function k(){var $=ol(n,0,0,l,h,d).apply(null,e(o,a)),L=ol(n,r-$[0],i-$[1],l,h,d);return s=Hh(f,u,c),M=ou(e,L),S=ou(s,M),x=il(M,v),R()}function R(){return E=C=null,T}return function(){return e=t.apply(this,arguments),T.invert=e.invert&&I,k()}}function ic(t){var e=0,n=tt/3,r=u0(t),i=r(e,n);return i.parallels=function(o){return arguments.length?r(e=o[0]*st,n=o[1]*st):[e*Nt,n*Nt]},i}function v6(t){var e=Q(t);function n(r,i){return[r*e,X(i)/e]}return n.invert=function(r,i){return[r/e,Vt(i*e)]},n}function x6(t,e){var n=X(t),r=(n+X(e))/2;if(ft(r)<K)return v6(t);var i=1+n*(2*r-n),o=Lt(i)/r;function a(f,u){var c=Lt(i-2*r*X(u))/r;return[c*X(f*=r),o-c*Q(f)]}return a.invert=function(f,u){var c=o-u,s=Fe(f,ft(c))*Wt(c);return c*r<0&&(s-=tt*Wt(f)*Wt(c)),[s/r,Vt((i-(f*f+c*c)*r*r)/(2*r))]},a}function Eo(){return ic(x6).scale(155.424).center([0,33.6442])}function c0(){return Eo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function T6(t){var e=t.length;return{point:function(n,r){for(var i=-1;++i<e;)t[i].point(n,r)},sphere:function(){for(var n=-1;++n<e;)t[n].sphere()},lineStart:function(){for(var n=-1;++n<e;)t[n].lineStart()},lineEnd:function(){for(var n=-1;++n<e;)t[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<e;)t[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<e;)t[n].polygonEnd()}}}function M6(){var t,e,n=c0(),r,i=Eo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Eo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(l,h){u=[l,h]}};function s(l){var h=l[0],p=l[1];return u=null,r.point(h,p),u||(o.point(h,p),u)||(f.point(h,p),u)}s.invert=function(l){var h=n.scale(),p=n.translate(),m=(l[0]-p[0])/h,g=(l[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?a:n).invert(l)},s.stream=function(l){return t&&e===l?t:t=T6([n.stream(e=l),i.stream(l),a.stream(l)])},s.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),a.precision(l),d()):n.precision()},s.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),a.scale(l),s.translate(n.translate())):n.scale()},s.translate=function(l){if(!arguments.length)return n.translate();var h=n.scale(),p=+l[0],m=+l[1];return r=n.translate(l).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(c),o=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+K,m+.12*h+K],[p-.214*h-K,m+.234*h-K]]).stream(c),f=a.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+K,m+.166*h+K],[p-.115*h-K,m+.234*h-K]]).stream(c),d()},s.fitExtent=function(l,h){return rc(s,l,h)},s.fitSize=function(l,h){return o0(s,l,h)},s.fitWidth=function(l,h){return a0(s,l,h)},s.fitHeight=function(l,h){return f0(s,l,h)};function d(){return t=e=null,s}return s.scale(1070)}function s0(t){return function(e,n){var r=Q(e),i=Q(n),o=t(r*i);return o===1/0?[2,0]:[o*i*X(e),o*X(n)]}}function ui(t){return function(e,n){var r=Lt(e*e+n*n),i=t(r),o=X(i),a=Q(i);return[Fe(e*o,r*a),Vt(r&&n*o/r)]}}var l0=s0(function(t){return Lt(2/(1+t))});l0.invert=ui(function(t){return 2*Vt(t/2)});function S6(){return an(l0).scale(124.75).clipAngle(180-.001)}var d0=s0(function(t){return(t=Bh(t))&&t/X(t)});d0.invert=ui(function(t){return t});function $6(){return an(d0).scale(79.4188).clipAngle(180-.001)}function ia(t,e){return[t,yo(ec((lt+e)/2))]}ia.invert=function(t,e){return[t,2*mr(Uh(e))-lt]};function E6(){return h0(ia).scale(961/zt)}function h0(t){var e=an(t),n=e.center,r=e.scale,i=e.translate,o=e.clipExtent,a=null,f,u,c;e.scale=function(d){return arguments.length?(r(d),s()):r()},e.translate=function(d){return arguments.length?(i(d),s()):i()},e.center=function(d){return arguments.length?(n(d),s()):n()},e.clipExtent=function(d){return arguments.length?(d==null?a=f=u=c=null:(a=+d[0][0],f=+d[0][1],u=+d[1][0],c=+d[1][1]),s()):a==null?null:[[a,f],[u,c]]};function s(){var d=tt*r(),l=e(Xw(e.rotate()).invert([0,0]));return o(a==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:t===ia?[[Math.max(l[0]-d,a),f],[Math.min(l[0]+d,u),c]]:[[a,Math.max(l[1]-d,f)],[u,Math.min(l[1]+d,c)]])}return s()}function Oi(t){return ec((lt+t)/2)}function A6(t,e){var n=Q(t),r=t===e?X(t):yo(n/Q(e))/yo(Oi(e)/Oi(t)),i=n*Ja(Oi(t),r)/r;if(!r)return ia;function o(a,f){i>0?f<-lt+K&&(f=-lt+K):f>lt-K&&(f=lt-K);var u=i/Ja(Oi(f),r);return[u*X(r*a),i-u*Q(r*a)]}return o.invert=function(a,f){var u=i-f,c=Wt(r)*Lt(a*a+u*u),s=Fe(a,ft(u))*Wt(u);return u*r<0&&(s-=tt*Wt(a)*Wt(u)),[s/r,2*mr(Ja(i/c,1/r))-lt]},o}function C6(){return ic(A6).scale(109.5).parallels([30,30])}function Ao(t,e){return[t,e]}Ao.invert=Ao;function N6(){return an(Ao).scale(152.63)}function k6(t,e){var n=Q(t),r=t===e?X(t):(n-Q(e))/(e-t),i=n/r+t;if(ft(r)<K)return Ao;function o(a,f){var u=i-f,c=r*a;return[u*X(c),i-u*Q(c)]}return o.invert=function(a,f){var u=i-f,c=Fe(a,ft(u))*Wt(u);return u*r<0&&(c-=tt*Wt(a)*Wt(u)),[c/r,i-Wt(r)*Lt(a*a+u*u)]},o}function D6(){return ic(k6).scale(131.154).center([0,13.9389])}var zr=1.340264,Ur=-.081106,Br=893e-6,Hr=.003796,Co=Lt(3)/2,R6=12;function p0(t,e){var n=Vt(Co*X(e)),r=n*n,i=r*r*r;return[t*Q(n)/(Co*(zr+3*Ur*r+i*(7*Br+9*Hr*r))),n*(zr+Ur*r+i*(Br+Hr*r))]}p0.invert=function(t,e){for(var n=e,r=n*n,i=r*r*r,o=0,a,f,u;o<R6&&(f=n*(zr+Ur*r+i*(Br+Hr*r))-e,u=zr+3*Ur*r+i*(7*Br+9*Hr*r),n-=a=f/u,r=n*n,i=r*r*r,!(ft(a)<zh));++o);return[Co*t*(zr+3*Ur*r+i*(7*Br+9*Hr*r))/Q(n),Vt(X(n)/Co)]};function I6(){return an(p0).scale(177.158)}function m0(t,e){var n=Q(e),r=Q(t)*n;return[n*X(t)/r,X(e)/r]}m0.invert=ui(mr);function L6(){return an(m0).scale(144.049).clipAngle(60)}function g0(t,e){return[Q(e)*X(t),X(e)]}g0.invert=ui(Vt);function O6(){return an(g0).scale(249.5).clipAngle(90+K)}function b0(t,e){var n=Q(e),r=1+Q(t)*n;return[n*X(t)/r,X(e)/r]}b0.invert=ui(function(t){return 2*mr(t)});function P6(){return an(b0).scale(250).clipAngle(142)}function y0(t,e){return[yo(ec((lt+e)/2)),-t]}y0.invert=function(t,e){return[-e,2*mr(Uh(t))-lt]};function F6(){var t=h0(y0),e=t.center,n=t.rotate;return t.center=function(r){return arguments.length?e([-r[1],r[0]]):(r=e(),[r[1],-r[0]])},t.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function we(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function oa(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const yu=Symbol("implicit");function oc(){var t=new wn,e=[],n=[],r=yu;function i(o){let a=t.get(o);if(a===void 0){if(r!==yu)return r;t.set(o,a=e.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return e.slice();e=[],t=new wn;for(const a of o)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return oc(e,n).unknown(r)},we.apply(i,arguments),i}function aa(){var t=oc().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,o,a,f=!1,u=0,c=0,s=.5;delete t.unknown;function d(){var l=e().length,h=i<r,p=h?i:r,m=h?r:i;o=(m-p)/Math.max(1,l-u+c*2),f&&(o=Math.floor(o)),p+=(m-p-o*(l-u))*s,a=o*(1-u),f&&(p=Math.round(p),a=Math.round(a));var g=Hf(l).map(function(y){return p+o*y});return n(h?g.reverse():g)}return t.domain=function(l){return arguments.length?(e(l),d()):e()},t.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},t.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,d()},t.bandwidth=function(){return a},t.step=function(){return o},t.round=function(l){return arguments.length?(f=!!l,d()):f},t.padding=function(l){return arguments.length?(u=Math.min(1,c=+l),d()):u},t.paddingInner=function(l){return arguments.length?(u=Math.min(1,l),d()):u},t.paddingOuter=function(l){return arguments.length?(c=+l,d()):c},t.align=function(l){return arguments.length?(s=Math.max(0,Math.min(1,l)),d()):s},t.copy=function(){return aa(e(),[r,i]).round(f).paddingInner(u).paddingOuter(c).align(s)},we.apply(d(),arguments)}function _0(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return _0(e())},t}function q6(){return _0(aa.apply(null,arguments).paddingInner(1))}function z6(t){return function(){return t}}function _u(t){return+t}var al=[0,1];function Gt(t){return t}function wu(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:z6(isNaN(e)?NaN:.5)}function U6(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function B6(t,e,n){var r=t[0],i=t[1],o=e[0],a=e[1];return i<r?(r=wu(i,r),o=n(a,o)):(r=wu(r,i),o=n(o,a)),function(f){return o(r(f))}}function H6(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),o=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=wu(t[a],t[a+1]),o[a]=n(e[a],e[a+1]);return function(f){var u=jo(t,f,1,r)-1;return o[u](i[u](f))}}function ci(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function fa(){var t=al,e=al,n=fi,r,i,o,a=Gt,f,u,c;function s(){var l=Math.min(t.length,e.length);return a!==Gt&&(a=U6(t[0],t[l-1])),f=l>2?H6:B6,u=c=null,d}function d(l){return l==null||isNaN(l=+l)?o:(u||(u=f(t.map(r),e,n)))(r(a(l)))}return d.invert=function(l){return a(i((c||(c=f(e,t.map(r),$t)))(l)))},d.domain=function(l){return arguments.length?(t=Array.from(l,_u),s()):t.slice()},d.range=function(l){return arguments.length?(e=Array.from(l),s()):e.slice()},d.rangeRound=function(l){return e=Array.from(l),n=Vu,s()},d.clamp=function(l){return arguments.length?(a=l?!0:Gt,s()):a!==Gt},d.interpolate=function(l){return arguments.length?(n=l,s()):n},d.unknown=function(l){return arguments.length?(o=l,d):o},function(l,h){return r=l,i=h,s()}}function w0(){return fa()(Gt,Gt)}function Y6(t,e,n,r){var i=Uf(t,e,n),o;switch(r=Xr(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(o=jw(i,a))&&(r.precision=o),qh(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=Gw(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=Ww(i))&&(r.precision=o-(r.type==="%")*2);break}}return pr(r)}function si(t){var e=t.domain;return t.ticks=function(n){var r=e();return Yr(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return Y6(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,o=r.length-1,a=r[i],f=r[o],u,c,s=10;for(f<a&&(c=a,a=f,f=c,c=i,i=o,o=c);s-- >0;){if(c=uo(a,f,n),c===u)return r[i]=a,r[o]=f,e(r);if(c>0)a=Math.floor(a/c)*c,f=Math.ceil(f/c)*c;else if(c<0)a=Math.ceil(a*c)/c,f=Math.floor(f*c)/c;else break;u=c}return t},t}function ac(){var t=w0();return t.copy=function(){return ci(t,ac())},we.apply(t,arguments),si(t)}function v0(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,_u),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return v0(t).unknown(e)},t=arguments.length?Array.from(t,_u):[0,1],si(n)}function x0(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],o=t[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),t[n]=e.floor(i),t[r]=e.ceil(o),t}function fl(t){return Math.log(t)}function ul(t){return Math.exp(t)}function W6(t){return-Math.log(-t)}function j6(t){return-Math.exp(-t)}function G6(t){return isFinite(t)?+("1e"+t):t<0?0:t}function X6(t){return t===10?G6:t===Math.E?Math.exp:e=>Math.pow(t,e)}function V6(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function cl(t){return(e,n)=>-t(-e,n)}function T0(t){const e=t(fl,ul),n=e.domain;let r=10,i,o;function a(){return i=V6(r),o=X6(r),n()[0]<0?(i=cl(i),o=cl(o),t(W6,j6)):t(fl,ul),e}return e.base=function(f){return arguments.length?(r=+f,a()):r},e.domain=function(f){return arguments.length?(n(f),a()):n()},e.ticks=f=>{const u=n();let c=u[0],s=u[u.length-1];const d=s<c;d&&([c,s]=[s,c]);let l=i(c),h=i(s),p,m;const g=f==null?10:+f;let y=[];if(!(r%1)&&h-l<g){if(l=Math.floor(l),h=Math.ceil(h),c>0){for(;l<=h;++l)for(p=1;p<r;++p)if(m=l<0?p/o(-l):p*o(l),!(m<c)){if(m>s)break;y.push(m)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(m=l>0?p/o(-l):p*o(l),!(m<c)){if(m>s)break;y.push(m)}y.length*2<g&&(y=Yr(c,s,g))}else y=Yr(l,h,Math.min(h-l,g)).map(o);return d?y.reverse():y},e.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=Xr(u)).precision==null&&(u.trim=!0),u=pr(u)),f===1/0)return u;const c=Math.max(1,r*f/e.ticks().length);return s=>{let d=s/o(Math.round(i(s)));return d*r<r-.5&&(d*=r),d<=c?u(s):""}},e.nice=()=>n(x0(n(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),e}function M0(){const t=T0(fa()).domain([1,10]);return t.copy=()=>ci(t,M0()).base(t.base()),we.apply(t,arguments),t}function sl(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function ll(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function S0(t){var e=1,n=t(sl(e),ll(e));return n.constant=function(r){return arguments.length?t(sl(e=+r),ll(e)):e},si(n)}function $0(){var t=S0(fa());return t.copy=function(){return ci(t,$0()).constant(t.constant())},we.apply(t,arguments)}function dl(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Z6(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function K6(t){return t<0?-t*t:t*t}function E0(t){var e=t(Gt,Gt),n=1;function r(){return n===1?t(Gt,Gt):n===.5?t(Z6,K6):t(dl(n),dl(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},si(e)}function A0(){var t=E0(fa());return t.copy=function(){return ci(t,A0()).exponent(t.exponent())},we.apply(t,arguments),t}function C0(){var t=[],e=[],n=[],r;function i(){var a=0,f=Math.max(1,e.length);for(n=new Array(f-1);++a<f;)n[a-1]=Yb(t,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:e[jo(n,a)]}return o.invertExtent=function(a){var f=e.indexOf(a);return f<0?[NaN,NaN]:[f>0?n[f-1]:t[0],f<n.length?n[f]:t[t.length-1]]},o.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let f of a)f!=null&&!isNaN(f=+f)&&t.push(f);return t.sort(It),i()},o.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return C0().domain(t).range(e).unknown(r)},we.apply(o,arguments)}function N0(){var t=[.5],e=[0,1],n,r=1;function i(o){return o!=null&&o<=o?e[jo(t,o,0,r)]:n}return i.domain=function(o){return arguments.length?(t=Array.from(o),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(o){return arguments.length?(e=Array.from(o),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(o){var a=e.indexOf(o);return[t[a-1],t[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return N0().domain(t).range(e).unknown(n)},we.apply(i,arguments)}const of=new Date,af=new Date;function pt(t,e,n,r){function i(o){return t(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(t(o=new Date(+o)),o),i.ceil=o=>(t(o=new Date(o-1)),e(o,1),t(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(e(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const u=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return u;let c;do u.push(c=new Date(+o)),e(o,f),t(o);while(c<o&&o<a);return u},i.filter=o=>pt(a=>{if(a>=a)for(;t(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;e(a,-1),!o(a););else for(;--f>=0;)for(;e(a,1),!o(a););}),n&&(i.count=(o,a)=>(of.setTime(+o),af.setTime(+a),t(of),t(af),Math.floor(n(of,af))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const No=pt(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);No.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?pt(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):No);No.range;const De=1e3,Xt=De*60,Re=Xt*60,qe=Re*24,fc=qe*7,hl=qe*30,ff=qe*365,Jt=pt(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*De)},(t,e)=>(e-t)/De,t=>t.getUTCSeconds());Jt.range;const li=pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*De)},(t,e)=>{t.setTime(+t+e*Xt)},(t,e)=>(e-t)/Xt,t=>t.getMinutes());li.range;const di=pt(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Xt)},(t,e)=>(e-t)/Xt,t=>t.getUTCMinutes());di.range;const hi=pt(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*De-t.getMinutes()*Xt)},(t,e)=>{t.setTime(+t+e*Re)},(t,e)=>(e-t)/Re,t=>t.getHours());hi.range;const pi=pt(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Re)},(t,e)=>(e-t)/Re,t=>t.getUTCHours());pi.range;const Cn=pt(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Xt)/qe,t=>t.getDate()-1);Cn.range;const ua=pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qe,t=>t.getUTCDate()-1);ua.range;const ca=pt(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/qe,t=>Math.floor(t/qe));ca.range;function Nn(t){return pt(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*Xt)/fc)}const rr=Nn(0),Kr=Nn(1),k0=Nn(2),D0=Nn(3),$n=Nn(4),R0=Nn(5),I0=Nn(6);rr.range;Kr.range;k0.range;D0.range;$n.range;R0.range;I0.range;function kn(t){return pt(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/fc)}const ir=kn(0),Qr=kn(1),L0=kn(2),O0=kn(3),En=kn(4),P0=kn(5),F0=kn(6);ir.range;Qr.range;L0.range;O0.range;En.range;P0.range;F0.range;const mi=pt(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());mi.range;const gi=pt(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());gi.range;const ne=pt(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());ne.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pt(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});ne.range;const re=pt(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());re.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:pt(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});re.range;function q0(t,e,n,r,i,o){const a=[[Jt,1,De],[Jt,5,5*De],[Jt,15,15*De],[Jt,30,30*De],[o,1,Xt],[o,5,5*Xt],[o,15,15*Xt],[o,30,30*Xt],[i,1,Re],[i,3,3*Re],[i,6,6*Re],[i,12,12*Re],[r,1,qe],[r,2,2*qe],[n,1,fc],[e,1,hl],[e,3,3*hl],[t,1,ff]];function f(c,s,d){const l=s<c;l&&([c,s]=[s,c]);const h=d&&typeof d.range=="function"?d:u(c,s,d),p=h?h.range(c,+s+1):[];return l?p.reverse():p}function u(c,s,d){const l=Math.abs(s-c)/d,h=Wo(([,,g])=>g).right(a,l);if(h===a.length)return t.every(Uf(c/ff,s/ff,d));if(h===0)return No.every(Math.max(Uf(c,s,d),1));const[p,m]=a[l/a[h-1][2]<a[h][2]/l?h-1:h];return p.every(m)}return[f,u]}const[Q6,z0]=q0(re,gi,ir,ca,pi,di),[J6,t3]=q0(ne,mi,rr,Cn,hi,li);function uf(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function cf(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function vr(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function e3(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,o=t.days,a=t.shortDays,f=t.months,u=t.shortMonths,c=xr(i),s=Tr(i),d=xr(o),l=Tr(o),h=xr(a),p=Tr(a),m=xr(f),g=Tr(f),y=xr(u),b=Tr(u),w={a:D,A:W,b:j,B:O,c:null,d:_l,e:_l,f:M3,g:I3,G:O3,H:v3,I:x3,j:T3,L:U0,m:S3,M:$3,p:q,q:P,Q:xl,s:Tl,S:E3,u:A3,U:C3,V:N3,w:k3,W:D3,x:null,X:null,y:R3,Y:L3,Z:P3,"%":vl},_={a:z,A:J,b:et,B:Z,c:null,d:wl,e:wl,f:U3,g:K3,G:J3,H:F3,I:q3,j:z3,L:H0,m:B3,M:H3,p:U,q:B,Q:xl,s:Tl,S:Y3,u:W3,U:j3,V:G3,w:X3,W:V3,x:null,X:null,y:Z3,Y:Q3,Z:t5,"%":vl},v={a:C,A:T,b:I,B:k,c:R,d:bl,e:bl,f:b3,g:gl,G:ml,H:yl,I:yl,j:h3,L:g3,m:d3,M:p3,p:E,q:l3,Q:_3,s:w3,S:m3,u:a3,U:f3,V:u3,w:o3,W:c3,x:$,X:L,y:gl,Y:ml,Z:s3,"%":y3};w.x=x(n,w),w.X=x(r,w),w.c=x(e,w),_.x=x(n,_),_.X=x(r,_),_.c=x(e,_);function x(N,F){return function(H){var A=[],nt=-1,Y=0,ot=N.length,ct,St,We;for(H instanceof Date||(H=new Date(+H));++nt<ot;)N.charCodeAt(nt)===37&&(A.push(N.slice(Y,nt)),(St=pl[ct=N.charAt(++nt)])!=null?ct=N.charAt(++nt):St=ct==="e"?" ":"0",(We=F[ct])&&(ct=We(H,St)),A.push(ct),Y=nt+1);return A.push(N.slice(Y,nt)),A.join("")}}function M(N,F){return function(H){var A=vr(1900,void 0,1),nt=S(A,N,H+="",0),Y,ot;if(nt!=H.length)return null;if("Q"in A)return new Date(A.Q);if("s"in A)return new Date(A.s*1e3+("L"in A?A.L:0));if(F&&!("Z"in A)&&(A.Z=0),"p"in A&&(A.H=A.H%12+A.p*12),A.m===void 0&&(A.m="q"in A?A.q:0),"V"in A){if(A.V<1||A.V>53)return null;"w"in A||(A.w=1),"Z"in A?(Y=cf(vr(A.y,0,1)),ot=Y.getUTCDay(),Y=ot>4||ot===0?Qr.ceil(Y):Qr(Y),Y=ua.offset(Y,(A.V-1)*7),A.y=Y.getUTCFullYear(),A.m=Y.getUTCMonth(),A.d=Y.getUTCDate()+(A.w+6)%7):(Y=uf(vr(A.y,0,1)),ot=Y.getDay(),Y=ot>4||ot===0?Kr.ceil(Y):Kr(Y),Y=Cn.offset(Y,(A.V-1)*7),A.y=Y.getFullYear(),A.m=Y.getMonth(),A.d=Y.getDate()+(A.w+6)%7)}else("W"in A||"U"in A)&&("w"in A||(A.w="u"in A?A.u%7:"W"in A?1:0),ot="Z"in A?cf(vr(A.y,0,1)).getUTCDay():uf(vr(A.y,0,1)).getDay(),A.m=0,A.d="W"in A?(A.w+6)%7+A.W*7-(ot+5)%7:A.w+A.U*7-(ot+6)%7);return"Z"in A?(A.H+=A.Z/100|0,A.M+=A.Z%100,cf(A)):uf(A)}}function S(N,F,H,A){for(var nt=0,Y=F.length,ot=H.length,ct,St;nt<Y;){if(A>=ot)return-1;if(ct=F.charCodeAt(nt++),ct===37){if(ct=F.charAt(nt++),St=v[ct in pl?F.charAt(nt++):ct],!St||(A=St(N,H,A))<0)return-1}else if(ct!=H.charCodeAt(A++))return-1}return A}function E(N,F,H){var A=c.exec(F.slice(H));return A?(N.p=s.get(A[0].toLowerCase()),H+A[0].length):-1}function C(N,F,H){var A=h.exec(F.slice(H));return A?(N.w=p.get(A[0].toLowerCase()),H+A[0].length):-1}function T(N,F,H){var A=d.exec(F.slice(H));return A?(N.w=l.get(A[0].toLowerCase()),H+A[0].length):-1}function I(N,F,H){var A=y.exec(F.slice(H));return A?(N.m=b.get(A[0].toLowerCase()),H+A[0].length):-1}function k(N,F,H){var A=m.exec(F.slice(H));return A?(N.m=g.get(A[0].toLowerCase()),H+A[0].length):-1}function R(N,F,H){return S(N,e,F,H)}function $(N,F,H){return S(N,n,F,H)}function L(N,F,H){return S(N,r,F,H)}function D(N){return a[N.getDay()]}function W(N){return o[N.getDay()]}function j(N){return u[N.getMonth()]}function O(N){return f[N.getMonth()]}function q(N){return i[+(N.getHours()>=12)]}function P(N){return 1+~~(N.getMonth()/3)}function z(N){return a[N.getUTCDay()]}function J(N){return o[N.getUTCDay()]}function et(N){return u[N.getUTCMonth()]}function Z(N){return f[N.getUTCMonth()]}function U(N){return i[+(N.getUTCHours()>=12)]}function B(N){return 1+~~(N.getUTCMonth()/3)}return{format:function(N){var F=x(N+="",w);return F.toString=function(){return N},F},parse:function(N){var F=M(N+="",!1);return F.toString=function(){return N},F},utcFormat:function(N){var F=x(N+="",_);return F.toString=function(){return N},F},utcParse:function(N){var F=M(N+="",!0);return F.toString=function(){return N},F}}}var pl={"-":"",_:" ",0:"0"},wt=/^\s*\d+/,n3=/^%/,r3=/[\\^$*+?|[\]().{}]/g;function rt(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(e)+i:i)}function i3(t){return t.replace(r3,"\\$&")}function xr(t){return new RegExp("^(?:"+t.map(i3).join("|")+")","i")}function Tr(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function o3(t,e,n){var r=wt.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function a3(t,e,n){var r=wt.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function f3(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function u3(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function c3(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function ml(t,e,n){var r=wt.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function gl(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function s3(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function l3(t,e,n){var r=wt.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function d3(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function bl(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function h3(t,e,n){var r=wt.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function yl(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function p3(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function m3(t,e,n){var r=wt.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function g3(t,e,n){var r=wt.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function b3(t,e,n){var r=wt.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function y3(t,e,n){var r=n3.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function _3(t,e,n){var r=wt.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function w3(t,e,n){var r=wt.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function _l(t,e){return rt(t.getDate(),e,2)}function v3(t,e){return rt(t.getHours(),e,2)}function x3(t,e){return rt(t.getHours()%12||12,e,2)}function T3(t,e){return rt(1+Cn.count(ne(t),t),e,3)}function U0(t,e){return rt(t.getMilliseconds(),e,3)}function M3(t,e){return U0(t,e)+"000"}function S3(t,e){return rt(t.getMonth()+1,e,2)}function $3(t,e){return rt(t.getMinutes(),e,2)}function E3(t,e){return rt(t.getSeconds(),e,2)}function A3(t){var e=t.getDay();return e===0?7:e}function C3(t,e){return rt(rr.count(ne(t)-1,t),e,2)}function B0(t){var e=t.getDay();return e>=4||e===0?$n(t):$n.ceil(t)}function N3(t,e){return t=B0(t),rt($n.count(ne(t),t)+(ne(t).getDay()===4),e,2)}function k3(t){return t.getDay()}function D3(t,e){return rt(Kr.count(ne(t)-1,t),e,2)}function R3(t,e){return rt(t.getFullYear()%100,e,2)}function I3(t,e){return t=B0(t),rt(t.getFullYear()%100,e,2)}function L3(t,e){return rt(t.getFullYear()%1e4,e,4)}function O3(t,e){var n=t.getDay();return t=n>=4||n===0?$n(t):$n.ceil(t),rt(t.getFullYear()%1e4,e,4)}function P3(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+rt(e/60|0,"0",2)+rt(e%60,"0",2)}function wl(t,e){return rt(t.getUTCDate(),e,2)}function F3(t,e){return rt(t.getUTCHours(),e,2)}function q3(t,e){return rt(t.getUTCHours()%12||12,e,2)}function z3(t,e){return rt(1+ua.count(re(t),t),e,3)}function H0(t,e){return rt(t.getUTCMilliseconds(),e,3)}function U3(t,e){return H0(t,e)+"000"}function B3(t,e){return rt(t.getUTCMonth()+1,e,2)}function H3(t,e){return rt(t.getUTCMinutes(),e,2)}function Y3(t,e){return rt(t.getUTCSeconds(),e,2)}function W3(t){var e=t.getUTCDay();return e===0?7:e}function j3(t,e){return rt(ir.count(re(t)-1,t),e,2)}function Y0(t){var e=t.getUTCDay();return e>=4||e===0?En(t):En.ceil(t)}function G3(t,e){return t=Y0(t),rt(En.count(re(t),t)+(re(t).getUTCDay()===4),e,2)}function X3(t){return t.getUTCDay()}function V3(t,e){return rt(Qr.count(re(t)-1,t),e,2)}function Z3(t,e){return rt(t.getUTCFullYear()%100,e,2)}function K3(t,e){return t=Y0(t),rt(t.getUTCFullYear()%100,e,2)}function Q3(t,e){return rt(t.getUTCFullYear()%1e4,e,4)}function J3(t,e){var n=t.getUTCDay();return t=n>=4||n===0?En(t):En.ceil(t),rt(t.getUTCFullYear()%1e4,e,4)}function t5(){return"+0000"}function vl(){return"%"}function xl(t){return+t}function Tl(t){return Math.floor(+t/1e3)}var Pn,uc,bi;e5({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function e5(t){return Pn=e3(t),uc=Pn.format,Pn.parse,bi=Pn.utcFormat,Pn.utcParse,Pn}function n5(t){return new Date(t)}function r5(t){return t instanceof Date?+t:+new Date(+t)}function cc(t,e,n,r,i,o,a,f,u,c){var s=w0(),d=s.invert,l=s.domain,h=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),b=c("%b %d"),w=c("%B"),_=c("%Y");function v(x){return(u(x)<x?h:f(x)<x?p:a(x)<x?m:o(x)<x?g:r(x)<x?i(x)<x?y:b:n(x)<x?w:_)(x)}return s.invert=function(x){return new Date(d(x))},s.domain=function(x){return arguments.length?l(Array.from(x,r5)):l().map(n5)},s.ticks=function(x){var M=l();return t(M[0],M[M.length-1],x??10)},s.tickFormat=function(x,M){return M==null?v:c(M)},s.nice=function(x){var M=l();return(!x||typeof x.range!="function")&&(x=e(M[0],M[M.length-1],x??10)),x?l(x0(M,x)):s},s.copy=function(){return ci(s,cc(t,e,n,r,i,o,a,f,u,c))},s}function i5(){return we.apply(cc(J6,t3,ne,mi,rr,Cn,hi,li,Jt,uc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function o5(){return we.apply(cc(Q6,z0,re,gi,ir,ua,pi,di,Jt,bi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function sa(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function la(){var t=0,e=.5,n=1,r=1,i,o,a,f,u,c=Gt,s,d=!1,l;function h(m){return isNaN(m=+m)?l:(m=.5+((m=+s(m))-o)*(r*m<r*o?f:u),c(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([t,e,n]=m,i=s(t=+t),o=s(e=+e),a=s(n=+n),f=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,h):[t,e,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(c=m,h):c};function p(m){return function(g){var y,b,w;return arguments.length?([y,b,w]=g,c=Jo(m,[y,b,w]),h):[c(0),c(.5),c(1)]}}return h.range=p(fi),h.rangeRound=p(Vu),h.unknown=function(m){return arguments.length?(l=m,h):l},function(m){return s=m,i=m(t),o=m(e),a=m(n),f=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function W0(){var t=si(la()(Gt));return t.copy=function(){return sa(t,W0())},oa.apply(t,arguments)}function j0(){var t=T0(la()).domain([.1,1,10]);return t.copy=function(){return sa(t,j0()).base(t.base())},oa.apply(t,arguments)}function G0(){var t=S0(la());return t.copy=function(){return sa(t,G0()).constant(t.constant())},oa.apply(t,arguments)}function X0(){var t=E0(la());return t.copy=function(){return sa(t,X0()).exponent(t.exponent())},oa.apply(t,arguments)}function V(t){for(var e=t.length/6|0,n=new Array(e),r=0;r<e;)n[r]="#"+t.slice(r*6,++r*6);return n}const a5=V("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),f5=V("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),u5=V("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),c5=V("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),s5=V("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),l5=V("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),d5=V("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),h5=V("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),p5=V("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),m5=V("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),g5=V("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ut=t=>a_(t[t.length-1]);var V0=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(V);const Z0=ut(V0);var K0=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(V);const Q0=ut(K0);var J0=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(V);const tp=ut(J0);var ep=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(V);const np=ut(ep);var vu=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(V);const ko=ut(vu);var rp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(V);const ip=ut(rp);var xu=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(V);const Do=ut(xu);var op=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(V);const ap=ut(op);var fp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(V);const up=ut(fp);var cp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(V);const sp=ut(cp);var lp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(V);const dp=ut(lp);var hp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(V);const pp=ut(hp);var mp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(V);const gp=ut(mp);var bp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(V);const yp=ut(bp);var _p=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(V);const wp=ut(_p);var vp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(V);const xp=ut(vp);var Tp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(V);const Mp=ut(Tp);var Sp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(V);const $p=ut(Sp);var Ep=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(V);const Ap=ut(Ep);var Cp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(V);const Np=ut(Cp);var kp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(V);const Dp=ut(kp);var Rp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(V);const Ip=ut(Rp);var Lp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(V);const Op=ut(Lp);var Pp=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(V);const Fp=ut(Pp);var qp=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(V);const zp=ut(qp);var Up=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(V);const Bp=ut(Up);var Hp=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(V);const Yp=ut(Hp);function Wp(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const jp=Zu(ge(300,.5,0),ge(-240,.5,1));var Gp=Zu(ge(-100,.75,.35),ge(80,1.5,.8)),Xp=Zu(ge(260,.75,.35),ge(80,1.5,.8)),Pi=ge();function Vp(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return Pi.h=360*t-100,Pi.s=1.5-1.5*e,Pi.l=.8-.9*e,Pi+""}var Fi=tn(),b5=Math.PI/3,y5=Math.PI*2/3;function Zp(t){var e;return t=(.5-t)*Math.PI,Fi.r=255*(e=Math.sin(t))*e,Fi.g=255*(e=Math.sin(t+b5))*e,Fi.b=255*(e=Math.sin(t+y5))*e,Fi+""}function Kp(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function da(t){var e=t.length;return function(n){return t[Math.max(0,Math.min(e-1,Math.floor(n*e)))]}}const Qp=da(V("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Jp=da(V("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),t1=da(V("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),e1=da(V("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function bt(t){return function(){return t}}const n1=Math.cos,sc=Math.min,Ro=Math.sin,mt=Math.sqrt,Ml=1e-12,Io=Math.PI,ha=2*Io;function r1(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ph(e)}function i1(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function o1(t){this._context=t}o1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function yi(t){return new o1(t)}function a1(t){return t[0]}function f1(t){return t[1]}function u1(t,e){var n=bt(!0),r=null,i=yi,o=null,a=r1(f);t=typeof t=="function"?t:t===void 0?a1:bt(t),e=typeof e=="function"?e:e===void 0?f1:bt(e);function f(u){var c,s=(u=i1(u)).length,d,l=!1,h;for(r==null&&(o=i(h=a())),c=0;c<=s;++c)!(c<s&&n(d=u[c],c,u))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+t(d,c,u),+e(d,c,u));if(h)return o=null,h+""||null}return f.x=function(u){return arguments.length?(t=typeof u=="function"?u:bt(+u),f):t},f.y=function(u){return arguments.length?(e=typeof u=="function"?u:bt(+u),f):e},f.defined=function(u){return arguments.length?(n=typeof u=="function"?u:bt(!!u),f):n},f.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),f):i},f.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),f):r},f}function _5(t,e,n){var r=null,i=bt(!0),o=null,a=yi,f=null,u=r1(c);t=typeof t=="function"?t:t===void 0?a1:bt(+t),e=typeof e=="function"?e:bt(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?f1:bt(+n);function c(d){var l,h,p,m=(d=i1(d)).length,g,y=!1,b,w=new Array(m),_=new Array(m);for(o==null&&(f=a(b=u())),l=0;l<=m;++l){if(!(l<m&&i(g=d[l],l,d))===y)if(y=!y)h=l,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),p=l-1;p>=h;--p)f.point(w[p],_[p]);f.lineEnd(),f.areaEnd()}y&&(w[l]=+t(g,l,d),_[l]=+e(g,l,d),f.point(r?+r(g,l,d):w[l],n?+n(g,l,d):_[l]))}if(b)return f=null,b+""||null}function s(){return u1().defined(i).curve(a).context(o)}return c.x=function(d){return arguments.length?(t=typeof d=="function"?d:bt(+d),r=null,c):t},c.x0=function(d){return arguments.length?(t=typeof d=="function"?d:bt(+d),c):t},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:bt(+d),c):r},c.y=function(d){return arguments.length?(e=typeof d=="function"?d:bt(+d),n=null,c):e},c.y0=function(d){return arguments.length?(e=typeof d=="function"?d:bt(+d),c):e},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:bt(+d),c):n},c.lineX0=c.lineY0=function(){return s().x(t).y(e)},c.lineY1=function(){return s().x(t).y(n)},c.lineX1=function(){return s().x(r).y(e)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:bt(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,o!=null&&(f=a(o)),c):a},c.context=function(d){return arguments.length?(d==null?o=f=null:f=a(o=d),c):o},c}class c1{constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function w5(t){return new c1(t,!0)}function v5(t){return new c1(t,!1)}const x5=mt(3),s1={draw(t,e){const n=mt(e+sc(e/28,.75))*.59436,r=n/2,i=r*x5;t.moveTo(0,n),t.lineTo(0,-n),t.moveTo(-i,-r),t.lineTo(i,r),t.moveTo(-i,r),t.lineTo(i,-r)}},lc={draw(t,e){const n=mt(e/Io);t.moveTo(n,0),t.arc(0,0,n,0,ha)}},l1={draw(t,e){const n=mt(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},d1=mt(1/3),T5=d1*2,h1={draw(t,e){const n=mt(e/T5),r=n*d1;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},p1={draw(t,e){const n=mt(e)*.62625;t.moveTo(0,-n),t.lineTo(n,0),t.lineTo(0,n),t.lineTo(-n,0),t.closePath()}},m1={draw(t,e){const n=mt(e-sc(e/7,2))*.87559;t.moveTo(-n,0),t.lineTo(n,0),t.moveTo(0,n),t.lineTo(0,-n)}},g1={draw(t,e){const n=mt(e),r=-n/2;t.rect(r,r,n,n)}},b1={draw(t,e){const n=mt(e)*.4431;t.moveTo(n,n),t.lineTo(n,-n),t.lineTo(-n,-n),t.lineTo(-n,n),t.closePath()}},M5=.8908130915292852,y1=Ro(Io/10)/Ro(7*Io/10),S5=Ro(ha/10)*y1,$5=-n1(ha/10)*y1,_1={draw(t,e){const n=mt(e*M5),r=S5*n,i=$5*n;t.moveTo(0,-n),t.lineTo(r,i);for(let o=1;o<5;++o){const a=ha*o/5,f=n1(a),u=Ro(a);t.lineTo(u*n,-f*n),t.lineTo(f*r-u*i,u*r+f*i)}t.closePath()}},sf=mt(3),w1={draw(t,e){const n=-mt(e/(sf*3));t.moveTo(0,n*2),t.lineTo(-sf*n,-n),t.lineTo(sf*n,-n),t.closePath()}},E5=mt(3),v1={draw(t,e){const n=mt(e)*.6824,r=n/2,i=n*E5/2;t.moveTo(0,-n),t.lineTo(i,r),t.lineTo(-i,r),t.closePath()}},Ut=-.5,Bt=mt(3)/2,Tu=1/mt(12),A5=(Tu/2+1)*3,x1={draw(t,e){const n=mt(e/A5),r=n/2,i=n*Tu,o=r,a=n*Tu+n,f=-o,u=a;t.moveTo(r,i),t.lineTo(o,a),t.lineTo(f,u),t.lineTo(Ut*r-Bt*i,Bt*r+Ut*i),t.lineTo(Ut*o-Bt*a,Bt*o+Ut*a),t.lineTo(Ut*f-Bt*u,Bt*f+Ut*u),t.lineTo(Ut*r+Bt*i,Ut*i-Bt*r),t.lineTo(Ut*o+Bt*a,Ut*a-Bt*o),t.lineTo(Ut*f+Bt*u,Ut*u-Bt*f),t.closePath()}},T1={draw(t,e){const n=mt(e-sc(e/6,1.7))*.6189;t.moveTo(-n,-n),t.lineTo(n,n),t.moveTo(-n,n),t.lineTo(n,-n)}},C5=[lc,l1,h1,g1,_1,w1,x1],N5=[lc,m1,T1,v1,s1,b1,p1];function en(){}function Lo(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function pa(t){this._context=t}pa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Lo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Lo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function k5(t){return new pa(t)}function M1(t){this._context=t}M1.prototype={areaStart:en,areaEnd:en,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Lo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function D5(t){return new M1(t)}function S1(t){this._context=t}S1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Lo(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function R5(t){return new S1(t)}function $1(t,e){this._basis=new pa(t),this._beta=e}$1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,n=t.length-1;if(n>0)for(var r=t[0],i=e[0],o=t[n]-r,a=e[n]-i,f=-1,u;++f<=n;)u=f/n,this._basis.point(this._beta*t[f]+(1-this._beta)*(r+u*o),this._beta*e[f]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const I5=function t(e){function n(r){return e===1?new pa(r):new $1(r,e)}return n.beta=function(r){return t(+r)},n}(.85);function Oo(t,e,n){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-n),t._x2,t._y2)}function dc(t,e){this._context=t,this._k=(1-e)/6}dc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Oo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Oo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const L5=function t(e){function n(r){return new dc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function hc(t,e){this._context=t,this._k=(1-e)/6}hc.prototype={areaStart:en,areaEnd:en,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Oo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const O5=function t(e){function n(r){return new hc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function pc(t,e){this._context=t,this._k=(1-e)/6}pc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Oo(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const P5=function t(e){function n(r){return new pc(r,e)}return n.tension=function(r){return t(+r)},n}(0);function mc(t,e,n){var r=t._x1,i=t._y1,o=t._x2,a=t._y2;if(t._l01_a>Ml){var f=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,u=3*t._l01_a*(t._l01_a+t._l12_a);r=(r*f-t._x0*t._l12_2a+t._x2*t._l01_2a)/u,i=(i*f-t._y0*t._l12_2a+t._y2*t._l01_2a)/u}if(t._l23_a>Ml){var c=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,s=3*t._l23_a*(t._l23_a+t._l12_a);o=(o*c+t._x1*t._l23_2a-e*t._l12_2a)/s,a=(a*c+t._y1*t._l23_2a-n*t._l12_2a)/s}t._context.bezierCurveTo(r,i,o,a,t._x2,t._y2)}function E1(t,e){this._context=t,this._alpha=e}E1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:mc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const F5=function t(e){function n(r){return e?new E1(r,e):new dc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function A1(t,e){this._context=t,this._alpha=e}A1.prototype={areaStart:en,areaEnd:en,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:mc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const q5=function t(e){function n(r){return e?new A1(r,e):new hc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function C1(t,e){this._context=t,this._alpha=e}C1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var n=this._x2-t,r=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:mc(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const z5=function t(e){function n(r){return e?new C1(r,e):new pc(r,0)}return n.alpha=function(r){return t(+r)},n}(.5);function N1(t){this._context=t}N1.prototype={areaStart:en,areaEnd:en,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function U5(t){return new N1(t)}function Sl(t){return t<0?-1:1}function $l(t,e,n){var r=t._x1-t._x0,i=e-t._x1,o=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(Sl(o)+Sl(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function El(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function lf(t,e,n){var r=t._x0,i=t._y0,o=t._x1,a=t._y1,f=(o-r)/3;t._context.bezierCurveTo(r+f,i+f*e,o-f,a-f*n,o,a)}function Po(t){this._context=t}Po.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:lf(this,this._t0,El(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,lf(this,El(this,n=$l(this,t,e)),n);break;default:lf(this,this._t0,n=$l(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function k1(t){this._context=new D1(t)}(k1.prototype=Object.create(Po.prototype)).point=function(t,e){Po.prototype.point.call(this,e,t)};function D1(t){this._context=t}D1.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,o){this._context.bezierCurveTo(e,t,r,n,o,i)}};function B5(t){return new Po(t)}function H5(t){return new k1(t)}function R1(t){this._context=t}R1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=Al(t),i=Al(e),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Al(t){var e,n=t.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,o[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/o[e-1],o[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/o[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/o[e];for(o[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)o[e]=2*t[e+1]-i[e+1];return[i,o]}function Y5(t){return new R1(t)}function ma(t,e){this._context=t,this._t=e}ma.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function W5(t){return new ma(t,.5)}function j5(t){return new ma(t,0)}function G5(t){return new ma(t,1)}function Pr(t,e,n){this.k=t,this.x=e,this.y=n}Pr.prototype={constructor:Pr,scale:function(t){return t===1?this:new Pr(this.k*t,this.x,this.y)},translate:function(t,e){return t===0&e===0?this:new Pr(this.k,this.x+this.k*t,this.y+this.k*e)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Pr.prototype;function nn(t){return t!=null&&!Number.isNaN(t)}function ie(t,e){return+nn(e)-+nn(t)||It(t,e)}function Fo(t,e){return+nn(e)-+nn(t)||ii(t,e)}function gc(t){return t!=null&&`${t}`!=""}function I1(t){return isFinite(t)?t:NaN}function bc(t){return t>0&&isFinite(t)?t:NaN}function L1(t){return t<0&&isFinite(t)?t:NaN}function X5(t,e){if(t instanceof Date||(t=new Date(+t)),isNaN(t))return typeof e=="function"?e(t):e;const n=t.getUTCHours(),r=t.getUTCMinutes(),i=t.getUTCSeconds(),o=t.getUTCMilliseconds();return`${V5(t.getUTCFullYear())}-${Ce(t.getUTCMonth()+1,2)}-${Ce(t.getUTCDate(),2)}${n||r||i||o?`T${Ce(n,2)}:${Ce(r,2)}${i||o?`:${Ce(i,2)}${o?`.${Ce(o,3)}`:""}`:""}Z`:""}`}function V5(t){return t<0?`-${Ce(-t,6)}`:t>9999?`+${Ce(t,6)}`:Ce(t,4)}function Ce(t,e){return`${t}`.padStart(e,"0")}const Z5=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function O1(t,e){return Z5.test(t+="")?new Date(t):typeof e=="function"?e(t):e}function or(t){if(t==null)return;const e=t[0],n=t[t.length-1];return ii(e,n)}const Bn=1e3,Ze=Bn*60,Ke=Ze*60,be=Ke*24,se=be*7,yn=be*30,Ve=be*365,df=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Bn],["5 seconds",5*Bn],["15 seconds",15*Bn],["30 seconds",30*Bn],["minute",Ze],["5 minutes",5*Ze],["15 minutes",15*Ze],["30 minutes",30*Ze],["hour",Ke],["3 hours",3*Ke],["6 hours",6*Ke],["12 hours",12*Ke],["day",be],["2 days",2*be],["week",se],["2 weeks",2*se],["month",yn],["3 months",3*yn],["6 months",6*yn],["year",Ve],["2 years",2*Ve],["5 years",5*Ve],["10 years",10*Ve],["20 years",20*Ve],["50 years",50*Ve],["100 years",100*Ve]],yc=new Map([["second",Bn],["minute",Ze],["hour",Ke],["day",be],["monday",se],["tuesday",se],["wednesday",se],["thursday",se],["friday",se],["saturday",se],["sunday",se],["week",se],["month",yn],["year",Ve]]),P1=new Map([["second",Jt],["minute",li],["hour",hi],["day",Cn],["monday",Kr],["tuesday",k0],["wednesday",D0],["thursday",$n],["friday",R0],["saturday",I0],["sunday",rr],["week",rr],["month",mi],["year",ne]]),_c=new Map([["second",Jt],["minute",di],["hour",pi],["day",ca],["monday",Qr],["tuesday",L0],["wednesday",O0],["thursday",En],["friday",P0],["saturday",F0],["sunday",ir],["week",ir],["month",gi],["year",re]]),_i=Symbol("intervalDuration"),ga=Symbol("intervalType");for(const[t,e]of P1)e[_i]=yc.get(t),e[ga]="time";for(const[t,e]of _c)e[_i]=yc.get(t),e[ga]="utc";const Fr=[["year",re,"utc"],["month",gi,"utc"],["day",ca,"utc",6*yn],["hour",pi,"utc",3*be],["minute",di,"utc",6*Ke],["second",Jt,"utc",30*Ze]],ro=[["year",ne,"time"],["month",mi,"time"],["day",Cn,"time",6*yn],["hour",hi,"time",3*be],["minute",li,"time",6*Ke],["second",Jt,"time",30*Ze]],K5=[Fr[0],ro[0],Fr[1],ro[1],Fr[2],ro[2],...Fr.slice(3)];function F1(t){let e=`${t}`.toLowerCase();e.endsWith("s")&&(e=e.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(e);switch(r&&(e=e.slice(r[0].length),n=+r[1]),e){case"quarter":e="month",n*=3;break;case"half":e="month",n*=6;break}let i=_c.get(e);if(!i)throw new Error(`unknown interval: ${t}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${e}`);return[e,n]}function q1(t){return z1(F1(t),"time")}function wc(t){return z1(F1(t),"utc")}function z1([t,e],n){let r=(n==="time"?P1:_c).get(t);return e>1&&(r=r.every(e),r[_i]=yc.get(t)*e,r[ga]=n),r}function Cl(t,e){if(!(e>1))return;const n=t[_i];if(!df.some(([,i])=>i===n)||n%be===0&&be<n&&n<yn)return;const[r]=df[Wo(([,i])=>Math.log(i)).center(df,Math.log(n*e))];return(t[ga]==="time"?q1:wc)(r)}function Nl(t,e,n){const r=e==="time"?uc:bi;if(n==null)return r(t==="year"?"%Y":t==="month"?"%Y-%m":t==="day"?"%Y-%m-%d":t==="hour"||t==="minute"?"%Y-%m-%dT%H:%M":t==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=Q5(n);switch(t){case"millisecond":return Fn(r(".%L"),r(":%M:%S"),i);case"second":return Fn(r(":%S"),r("%-I:%M"),i);case"minute":return Fn(r("%-I:%M"),r("%p"),i);case"hour":return Fn(r("%-I %p"),r("%b %-d"),i);case"day":return Fn(r("%-d"),r("%b"),i);case"month":return Fn(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function Q5(t){return t==="left"||t==="right"?(e,n)=>`
${e}
${n}`:t==="top"?(e,n)=>`${n}
${e}`:(e,n)=>`${e}
${n}`}function J5(t){return t==="time"?ro:t==="utc"?Fr:K5}function tv(t,e,n){const r=te(Vb(e,(i,o)=>Math.abs(o-i)));if(r<1e3)return Nl("millisecond","utc",n);for(const[i,o,a,f]of J5(t)){if(r>f||i==="hour"&&!r)break;if(e.every(u=>o.floor(u)>=u))return Nl(i,a,n)}}function Fn(t,e,n){return(r,i,o)=>{const a=t(r,i),f=e(r,i),u=i-or(o);return i!==u&&o[u]!==void 0&&f===e(o[u],u)?a:n(a,f)}}const vc=Object.getPrototypeOf(Uint8Array),ev=Object.prototype.toString;function Dn(t){return t instanceof Array||t instanceof vc}function U1(t){return t instanceof vc&&!nv(t)}function B1(t){return(t==null?void 0:t.prototype)instanceof vc&&!rv(t)}function nv(t){return t instanceof BigInt64Array||t instanceof BigUint64Array}function rv(t){return t===BigInt64Array||t===BigUint64Array}const H1=Symbol("reindex");function _t(t,e,n){const r=typeof e;return r==="string"?nm(t)?xc(t.getChild(e),n):kl(t,Y1(e),n):r==="function"?kl(t,e,n):r==="number"||e instanceof Date||r==="boolean"?ht(t,Ie(e),n):typeof(e==null?void 0:e.transform)=="function"?Mu(e.transform(t),n):iv(Mu(e,n),t==null?void 0:t[H1])}function iv(t,e){return t!=null&&e?Sc(t,e):t}function kl(t,e,n){return ht(t,B1(n)?(r,i)=>Tc(e(r,i)):e,n)}function Mu(t,e){return e===void 0?rn(t):rm(t)?xc(t,e):t instanceof e?t:e.from(t,B1(e)&&!U1(t)?Tc:void 0)}function xc(t,e){return t==null?t:(e===void 0||e===Array)&&Sv(t.type)?j1(t.toArray()):Mu(t.toArray(),e)}const io=[null],Y1=t=>e=>{var r;const n=e[t];return n===void 0&&e.type==="Feature"?(r=e.properties)==null?void 0:r[t]:n},ba={transform:Ue},Dt={transform:t=>t},ov=()=>1,av=()=>!0,kt=t=>t==null?t:`${t}`,At=t=>t==null?t:+t,W1=t=>t?t[0]:void 0,Su=t=>t?t[1]:void 0,Ie=t=>()=>t;function fv(t){const e=+`${t}`.slice(1)/100;return(n,r)=>Vn(n,e,r)}function ar(t){return U1(t)?t:ht(t,Tc,Float64Array)}function Tc(t){return t==null?NaN:Number(t)}function j1(t){return ht(t,G1)}function G1(t){return t instanceof Date&&!isNaN(t)?t:typeof t=="string"?O1(t):t==null||isNaN(t=Number(t))?void 0:new Date(t)}function ze(t,e){return t===void 0&&(t=e),t===null?[void 0,"none"]:_a(t)?[void 0,t]:[t,void 0]}function Pt(t,e){return t===void 0&&(t=e),t===null||typeof t=="number"?[void 0,t]:[t,void 0]}function X1(t,e,n){if(t!=null)return ae(t,e,n)}function ae(t,e,n){const r=`${t}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${e}: ${t}`);return r}function fr(t){return nm(t)?t:rn(t)}function rn(t){if(t==null||Dn(t))return t;if(rm(t))return xc(t);switch(t.type){case"FeatureCollection":return t.features;case"GeometryCollection":return t.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[t]}return Array.from(t)}function ht(t,e,n=Array){return t==null?t:t instanceof n?t.map(e):n.from(t,e)}function Jr(t,e=Array){return t instanceof e?t.slice():e.from(t)}function uv({x:t,x1:e,x2:n}){return t!==void 0||e!==void 0||n!==void 0}function V1({y:t,y1:e,y2:n}){return t!==void 0||e!==void 0||n!==void 0}function cv(t){return uv(t)||V1(t)||t.interval!==void 0}function fn(t){return(t==null?void 0:t.toString)===ev}function $u(t){return fn(t)&&(t.type!==void 0||t.domain!==void 0)}function ya(t){return fn(t)&&typeof t.transform!="function"}function ur(t){return ya(t)&&t.value===void 0&&t.channel===void 0}function sv(t,e,n,r=Dt){return e===void 0&&n===void 0?(e=0,n=t===void 0?r:t):e===void 0?e=t===void 0?0:t:n===void 0&&(n=t===void 0?0:t),[e,n]}function Z1(t,e){return t===void 0&&e===void 0?[W1,Su]:[t,e]}function Mc({z:t,fill:e,stroke:n}={}){return t===void 0&&([t]=ze(e)),t===void 0&&([t]=ze(n)),t}function ti(t){return Dn(t)?t.length:t==null?void 0:t.numRows}function Ue(t){const e=ti(t),n=new Uint32Array(e);for(let r=0;r<e;++r)n[r]=r;return n}function Sc(t,e){return Dn(t)?ht(e,n=>t[n],t.constructor):ht(e,n=>t.at(n))}function lv(t,e,n){return t.subarray?t.subarray(e,n):t.slice(e,n)}function Le(t){return t!==null&&typeof t=="object"?t.valueOf():t}function dv(t,e){if(e[t]!==void 0)return e[t];switch(t){case"x1":case"x2":t="x";break;case"y1":case"y2":t="y";break}return e[t]}function qo(t){let e;return[{transform:()=>e,label:Rn(t)},n=>e=n]}function Ee(t){return t==null?[t]:qo(t)}function Rn(t,e){return typeof t=="string"?t:t&&t.label!==void 0?t.label:e}function Eu(t,e){return{transform(n){const r=t.transform(n),i=e.transform(n);return Ot(r)||Ot(i)?ht(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):ht(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:t.label}}function K1(t,e){const n=Q1(e==null?void 0:e.interval,e==null?void 0:e.type);return n?ht(t,n):t}function Q1(t,e){const n=$c(t,e);return n&&(r=>nn(r)?n.floor(r):r)}function $c(t,e){if(t!=null){if(typeof t=="number")return hv(t);if(typeof t=="string")return(e==="time"?q1:wc)(t);if(typeof t.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof t.offset!="function")throw new Error("invalid interval; missing offset method");return t}}function hv(t){t=+t,0<t&&t<1&&Number.isInteger(1/t)&&(t=-1/t);const e=Math.abs(t);return t<0?{floor:n=>Math.floor(n*e)/e,offset:(n,r=1)=>(n*e+Math.floor(r))/e,range:(n,r)=>Hf(Math.ceil(n*e),r*e).map(i=>i/e)}:{floor:n=>Math.floor(n/e)*e,offset:(n,r=1)=>n+e*Math.floor(r),range:(n,r)=>Hf(Math.ceil(n/e),r/e).map(i=>i*e)}}function gr(t,e){if(t=$c(t,e),t&&typeof t.range!="function")throw new Error("invalid interval: missing range method");return t}function pv(t,e){if(t=gr(t,e),t&&typeof t.ceil!="function")throw new Error("invalid interval: missing ceil method");return t}function mv(t){return Hn(t)&&typeof(t==null?void 0:t.floor)=="function"&&t.floor()instanceof Date}function Hn(t){return typeof(t==null?void 0:t.range)=="function"}function wi(t){return t===void 0||ya(t)?t:{value:t}}function gv(t){return t==null?null:{transform:e=>_t(e,t,Float64Array),label:Rn(t)}}function un(t){return t&&typeof t[Symbol.iterator]=="function"}function J1(t){for(const e of t)if(e!=null)return typeof e!="object"||e instanceof Date}function Dl(t){for(const e of t){if(e==null)continue;const n=typeof e;return n==="string"||n==="boolean"}}function Ot(t){for(const e of t)if(e!=null)return e instanceof Date}function bv(t){for(const e of t)if(e!=null)return typeof e=="string"&&isNaN(e)&&O1(e)}function yv(t){for(const e of t)if(e!=null){if(typeof e!="string")return!1;if(e.trim())return!isNaN(e)}}function _v(t){for(const e of t)if(e!=null)return typeof e=="number"}function hf(t,e){let n;for(const r of t)if(r!=null){if(!e(r))return!1;n=!0}return n}const wv=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function _a(t){return typeof t!="string"?!1:(t=t.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(t)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(t)||wv.has(t))}function vv(t){return typeof t=="number"&&(0<=t&&t<=1||isNaN(t))}function Rt(t){return t==null||ei(t)}function ei(t){return/^\s*none\s*$/i.test(t)}function xv(t){return/^\s*round\s*$/i.test(t)}function Au(t,e){return X1(t,e,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Ec(t="middle"){return Au(t,"frameAnchor")}function Tv(t={},...e){let n=t;for(const r of e)for(const i in r)if(n[i]===void 0){const o=r[i];n===t?n={...n,[i]:o}:n[i]=o}return n}function Mv(t){console.warn("named iterables are deprecated; please use an object instead");const e=new Set;return Object.fromEntries(Array.from(t,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(e.has(i))throw new Error(`duplicate name: ${i}`);return e.add(i),[r,n]}))}function tm(t){return un(t)?Mv(t):t}function em(t){return t===!0?t="frame":t===!1?t=null:t!=null&&(t=ae(t,"clip",["frame","sphere"])),t}function nm(t){return t&&typeof t.getChild=="function"&&typeof t.toArray=="function"&&t.schema&&Array.isArray(t.schema.fields)}function rm(t){return t&&typeof t.toArray=="function"&&t.type}function Sv(t){return t&&(t.typeId===8||t.typeId===10)&&t.unit===1}const he=Symbol("position"),Be=Symbol("color"),vi=Symbol("radius"),xi=Symbol("length"),Ti=Symbol("opacity"),wa=Symbol("symbol"),im=Symbol("projection"),dt=new Map([["x",he],["y",he],["fx",he],["fy",he],["r",vi],["color",Be],["opacity",Ti],["symbol",wa],["length",xi],["projection",im]]);function $v(t){return t===he||t===im}function Ev(t){return t===he||t===vi||t===xi||t===Ti}const Av=Math.sqrt(3),Cv=2/Av,Nv={draw(t,e){const n=Math.sqrt(e/Math.PI),r=n*Cv,i=r/2;t.moveTo(0,r),t.lineTo(n,i),t.lineTo(n,-i),t.lineTo(0,-r),t.lineTo(-n,-i),t.lineTo(-n,i),t.closePath()}},Ac=new Map([["asterisk",s1],["circle",lc],["cross",l1],["diamond",h1],["diamond2",p1],["hexagon",Nv],["plus",m1],["square",g1],["square2",b1],["star",_1],["times",T1],["triangle",w1],["triangle2",v1],["wye",x1]]);function Cc(t){return t&&typeof t.draw=="function"}function kv(t){return Cc(t)?!0:typeof t!="string"?!1:Ac.has(t.toLowerCase())}function Nc(t){if(t==null||Cc(t))return t;const e=Ac.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid symbol: ${t}`)}function $9(t){if(t==null||Cc(t))return[void 0,t];if(typeof t=="string"){const e=Ac.get(`${t}`.toLowerCase());if(e)return[void 0,e]}return[t,void 0]}function va({filter:t,sort:e,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(t!=null&&(r=om(t)),e!=null&&!ur(e)&&(r=pf(r,kc(e))),n&&(r=pf(r,am))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(e===null||ur(e))&&{sort:e},transform:pf(r,a)}}function cr({filter:t,sort:e,reverse:n,initializer:r,...i}={},o){return r===void 0&&(t!=null&&(r=om(t)),e!=null&&!ur(e)&&(r=mf(r,kc(e))),n&&(r=mf(r,am))),{...i,...(e===null||ur(e))&&{sort:e},initializer:mf(r,o)}}function pf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i){return{data:n,facets:r}=t.call(this,n,r,i),e.call(this,fr(n),r,i)}}function mf(t,e){return t==null?e===null?void 0:e:e==null?t===null?void 0:t:function(n,r,i,...o){let a,f,u,c,s,d;return{data:f=n,facets:u=r,channels:a}=t.call(this,n,r,i,...o),{data:s=f,facets:d=u,channels:c}=e.call(this,f,u,{...i,...a},...o),{data:s,facets:d,channels:{...a,...c}}}}function Dv(t,e){return(t.initializer!=null?cr:va)(t,e)}function om(t){return(e,n)=>{const r=_t(e,t);return{data:e,facets:n.map(i=>i.filter(o=>r[o]))}}}function am(t,e){return{data:t,facets:e.map(n=>n.slice().reverse())}}function E9(t,{sort:e,...n}={}){return{...(ya(t)&&t.channel!==void 0?cr:Dv)(n,kc(t)),sort:ur(e)?e:null}}function kc(t){return(typeof t=="function"&&t.length!==1?Rv:Iv)(t)}function Rv(t){return(e,n)=>{const r=Dn(e)?(i,o)=>t(e[i],e[o]):(i,o)=>t(e.get(i),e.get(o));return{data:e,facets:n.map(i=>i.slice().sort(r))}}}function Iv(t){let e,n;({channel:e,value:t,order:n}={...wi(t)});const r=e==null?void 0:e.startsWith("-");if(r&&(e=e.slice(1)),n===void 0&&(n=r?Fo:ie),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=ie;break;case"descending":n=Fo;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,a)=>{let f;if(e===void 0)f=_t(i,t);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[e],!f)return{};f=f.value}const u=(c,s)=>n(f[c],f[s]);return{data:i,facets:o.map(c=>c.slice().sort(u))}}}function gf(t,...e){for(const{name:n}of t)if(e.includes(n))return!0;return!1}function Lv(t,e,n=fm){const r=Object.entries(t);return e.title!=null&&t.title===void 0&&r.push(["title",Bv]),e.href!=null&&t.href===void 0&&r.push(["href",Rc]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?Ov(i):n(i,o,e))}function fm(t,e,n,r=um){let i;fn(e)&&"reduce"in e&&(i=e.scale,e=e.reduce);const o=r(t,e,n),[a,f]=qo(o.label);let u;return{name:t,output:i===void 0?a:{value:a,scale:i},initialize(c){o.initialize(c),u=f([])},scope(c,s){o.scope(c,s)},reduce(c,s){u.push(o.reduce(c,s))}}}function Ov(t){return{name:t,initialize(){},scope(){},reduce(){}}}function um(t,e,n,r=Dc){const i=dv(t,n),o=r(e,i);let a,f;return{label:Rn(o===zo?null:i,o.label),initialize(u){a=i===void 0?u:_t(u,i),o.scope==="data"&&(f=o.reduceIndex(Ue(u),a))},scope(u,c){o.scope===u&&(f=o.reduceIndex(c,a))},reduce(u,c){return o.scope==null?o.reduceIndex(u,a,c):o.reduceIndex(u,a,f,c)}}}function Rl(t,e){return e?Xo(t,n=>e[n]):[[,t]]}function Dc(t,e,n=Pv){if(t==null)return n(t);if(typeof t.reduceIndex=="function")return t;if(typeof t.reduce=="function"&&fn(t))return zv(t);if(typeof t=="function")return Uv(t);if(/^p\d{2}$/i.test(t))return Ae(fv(t));switch(`${t}`.toLowerCase()){case"first":return Rc;case"last":return Hv;case"identity":return cm;case"count":return zo;case"distinct":return Yv;case"sum":return e==null?zo:Wv;case"proportion":return Ll(e,"data");case"proportion-facet":return Ll(e,"facet");case"deviation":return Ae(jd);case"min":return Ae(Oe);case"min-index":return Ae(Hb);case"max":return Ae(te);case"max-index":return Ae(Bb);case"mean":return Il(jb);case"median":return Il(Bf);case"variance":return Ae(Wd);case"mode":return Ae(Xb)}return n(t)}function Pv(t){throw new Error(`invalid reduce: ${t}`)}function Fv(t,e){for(const n in e){const r=e[n];if(r!==void 0&&!t.some(i=>i.name===n))return r}}function qv(t,e,n){if(e){const r=e.output.transform(),i=(o,a)=>ie(r[o],r[a]);t.forEach(o=>o.sort(i))}n&&t.forEach(r=>r.reverse())}function zv(t){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...t,reduceIndex:t.reduce.bind(t)}}function Uv(t){return{reduceIndex(e,n,r){return t(Sc(n,e),r)}}}function Ae(t){return{reduceIndex(e,n){return t(e,r=>n[r])}}}function Il(t){return{reduceIndex(e,n){const r=t(e,i=>n[i]);return Ot(n)?new Date(r):r}}}const cm={reduceIndex(t,e){return Sc(e,t)}},Rc={reduceIndex(t,e){return e[t[0]]}},Bv={reduceIndex(t,e){const r=oo(Yn(t,o=>o.length,o=>e[o]),Su),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[4]=[` ${o.length.toLocaleString("en-US")} more`,Je(o,Su)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},Hv={reduceIndex(t,e){return e[t[t.length-1]]}},zo={label:"Frequency",reduceIndex(t){return t.length}},Yv={label:"Distinct",reduceIndex(t,e){const n=new Go;for(const r of t)n.add(e[r]);return n.size}},Wv=Ae(Je);function Ll(t,e){return t==null?{scope:e,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:e,reduceIndex:(n,r,i=1)=>Je(n,o=>r[o])/i}}const jv={reduceIndex(t,e,{z:n}){return n}};function ni(t,{scale:e,type:n,value:r,filter:i,hint:o,label:a=Rn(r)},f){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),sm(f,{scale:e,type:n,value:_t(t,r),label:a,filter:i,hint:o})}function Gv(t,e){return Object.fromEntries(Object.entries(t).map(([n,r])=>[n,ni(e,r,n)]))}function Xv(t,e){const n=Object.fromEntries(Object.entries(t).map(([r,{scale:i,value:o}])=>{const a=i==null?null:e[i];return[r,a==null?o:ht(o,a)]}));return n.channels=t,n}function sm(t,e){const{scale:n,value:r}=e;if(n===!0||n==="auto")switch(t){case"fill":case"stroke":case"color":e.scale=n!==!0&&hf(r,_a)?null:"color",e.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":e.scale=n!==!0&&hf(r,vv)?null:"opacity",e.defaultScale="opacity";break;case"symbol":n!==!0&&hf(r,kv)?(e.scale=null,e.value=ht(r,Nc)):e.scale="symbol",e.defaultScale="symbol";break;default:e.scale=dt.has(t)?t:null;break}else if(n===!1)e.scale=null;else if(n!=null&&!dt.has(n))throw new Error(`unknown scale: ${n}`);return e}function Vv(t,e,n,r,i){const{order:o,reverse:a,reduce:f=!0,limit:u}=i;for(const c in i){if(!dt.has(c))continue;let{value:s,order:d=o,reverse:l=a,reduce:h=f,limit:p=u}=wi(i[c]);const m=s==null?void 0:s.startsWith("-");if(m&&(s=s.slice(1)),d=d===void 0?m!==(s==="width"||s==="height")?dm:lm:Qv(d),h==null||h===!1)continue;const g=c==="fx"||c==="fy"?Kv(e,r[c]):Zv(n,c);if(!g)throw new Error(`missing channel for scale: ${c}`);const y=g.value,[b=0,w=1/0]=un(p)?p:p<0?[p]:[0,p];if(s==null)g.domain=()=>{let _=Array.from(new Go(y));return l&&(_=_.reverse()),(b!==0||w!==1/0)&&(_=_.slice(b,w)),_};else{const _=s==="data"?t:s==="height"?Ol(n,"y1","y2"):s==="width"?Ol(n,"x1","x2"):Cu(n,s,s==="y"?"y2":s==="x"?"x2":void 0),v=Dc(h===!0?"max":h,_);g.domain=()=>{let x=Ob(Ue(y),M=>v.reduceIndex(M,_),M=>y[M]);return d&&x.sort(d),l&&x.reverse(),(b!==0||w!==1/0)&&(x=x.slice(b,w)),x.map(W1)}}}}function Zv(t,e){for(const n in t){const r=t[n];if(r.scale===e)return r}}function Kv(t,e){const n=t.original;if(n===t)return e;const r=e.value,i=e.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const f of t[o])i[f]=a}return e}function Ol(t,e,n){const r=Cu(t,e),i=Cu(t,n);return ht(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Cu(t,e,n){let r=t[e];if(!r&&n!==void 0&&(r=t[n]),r)return r.value;throw new Error(`missing channel: ${e}`)}function Qv(t){if(t==null||typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"ascending":return lm;case"descending":return dm}throw new Error(`invalid order: ${t}`)}function lm([t,e],[n,r]){return ie(e,r)||ie(t,n)}function dm([t,e],[n,r]){return Fo(e,r)||ie(t,n)}function Pl(t,e){let n=t[e];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const hm=new Map([["accent",f5],["category10",a5],["dark2",u5],["observable10",c5],["paired",s5],["pastel1",l5],["pastel2",d5],["set1",h5],["set2",p5],["set3",m5],["tableau10",g5]]);function Jv(t){return t!=null&&hm.has(`${t}`.toLowerCase())}const Fl=new Map([...hm,["brbg",Te(V0,Z0)],["prgn",Te(K0,Q0)],["piyg",Te(J0,tp)],["puor",Te(ep,np)],["rdbu",Te(vu,ko)],["rdgy",Te(rp,ip)],["rdylbu",Te(xu,Do)],["rdylgn",Te(op,ap)],["spectral",Te(fp,up)],["burd",ql(vu,ko)],["buylrd",ql(xu,Do)],["blues",gt(Rp,Ip)],["greens",gt(Lp,Op)],["greys",gt(Pp,Fp)],["oranges",gt(Hp,Yp)],["purples",gt(qp,zp)],["reds",gt(Up,Bp)],["turbo",Me(Kp)],["viridis",Me(Qp)],["magma",Me(Jp)],["inferno",Me(t1)],["plasma",Me(e1)],["cividis",Me(Wp)],["cubehelix",Me(jp)],["warm",Me(Gp)],["cool",Me(Xp)],["bugn",gt(cp,sp)],["bupu",gt(lp,dp)],["gnbu",gt(hp,pp)],["orrd",gt(mp,gp)],["pubu",gt(_p,wp)],["pubugn",gt(bp,yp)],["purd",gt(vp,xp)],["rdpu",gt(Tp,Mp)],["ylgn",gt(Ep,Ap)],["ylgnbu",gt(Sp,$p)],["ylorbr",gt(Cp,Np)],["ylorrd",gt(kp,Dp)],["rainbow",zl(Vp)],["sinebow",zl(Zp)]]);function gt(t,e){return({length:n})=>n===1?[t[3][1]]:n===2?[t[3][1],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?ee(e,n):t[n])}function Te(t,e){return({length:n})=>n===2?[t[3][0],t[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?ee(e,n):t[n])}function ql(t,e){return({length:n})=>n===2?[t[3][2],t[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?ee(r=>e(1-r),n):t[n].slice().reverse())}function Me(t){return({length:e})=>ee(t,Math.max(2,Math.floor(e)))}function zl(t){return({length:e})=>ee(t,Math.floor(e)+1).slice(0,-1)}function pm(t){const e=`${t}`.toLowerCase();if(!Fl.has(e))throw new Error(`unknown ordinal scheme: ${e}`);return Fl.get(e)}function xa(t,e){const n=pm(t),r=typeof n=="function"?n({length:e}):n;return r.length!==e?r.slice(0,e):r}function t8(t,e="greys"){const n=new Set,[r,i]=xa(e,2);for(const o of t)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const Ul=new Map([["brbg",Z0],["prgn",Q0],["piyg",tp],["puor",np],["rdbu",ko],["rdgy",ip],["rdylbu",Do],["rdylgn",ap],["spectral",up],["burd",t=>ko(1-t)],["buylrd",t=>Do(1-t)],["blues",Ip],["greens",Op],["greys",Fp],["purples",zp],["reds",Bp],["oranges",Yp],["turbo",Kp],["viridis",Qp],["magma",Jp],["inferno",t1],["plasma",e1],["cividis",Wp],["cubehelix",jp],["warm",Gp],["cool",Xp],["bugn",sp],["bupu",dp],["gnbu",pp],["orrd",gp],["pubugn",yp],["pubu",wp],["purd",xp],["rdpu",Mp],["ylgnbu",$p],["ylgn",Ap],["ylorbr",Np],["ylorrd",Dp],["rainbow",Vp],["sinebow",Zp]]);function Ic(t){const e=`${t}`.toLowerCase();if(!Ul.has(e))throw new Error(`unknown quantitative scheme: ${e}`);return Ul.get(e)}const e8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function n8(t){return t!=null&&e8.has(`${t}`.toLowerCase())}const mm=t=>e=>t(1-e),bf=[0,1],Bl=new Map([["number",$t],["rgb",Tn],["hsl",__],["hcl",x_],["lab",w_]]);function gm(t){const e=`${t}`.toLowerCase();if(!Bl.has(e))throw new Error(`unknown interpolator: ${e}`);return Bl.get(e)}function Mi(t,e,n,{type:r,nice:i,clamp:o,zero:a,domain:f=ym(t,n),unknown:u,round:c,scheme:s,interval:d,range:l=dt.get(t)===vi?h8(n,f):dt.get(t)===xi?p8(n,f):dt.get(t)===Ti?bf:void 0,interpolate:h=dt.get(t)===Be?s==null&&l!==void 0?Tn:Ic(s!==void 0?s:r==="cyclical"?"rainbow":"turbo"):c?Vu:$t,reverse:p}){if(d=gr(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=gm(h)),p=!!p,l!==void 0){const m=(f=rn(f)).length,g=(l=rn(l)).length;if(m!==g){if(h.length===1)throw new Error("invalid piecewise interpolator");h=Jo(h,l),l=void 0}}if(h.length===1?(p&&(h=mm(h),p=!1),l===void 0&&(l=Float64Array.from(f,(m,g)=>g/(f.length-1)),l.length===2&&(l=bf)),e.interpolate((l===bf?Ie:Oc)(h))):e.interpolate(h),a){const[m,g]=Yt(f);(m>0||g<0)&&(f=Jr(f),(or(f)||1)===Math.sign(m)?f[0]=0:f[f.length-1]=0)}return p&&(f=co(f)),e.domain(f).unknown(u),i&&(e.nice(r8(i,r)),f=e.domain()),l!==void 0&&e.range(l),o&&e.clamp(o),{type:r,domain:f,range:l,scale:e,interpolate:h,interval:d}}function r8(t,e){return t===!0?void 0:typeof t=="number"?t:pv(t,e)}function i8(t,e,n){return Mi(t,ac(),e,n)}function o8(t,e,n){return bm(t,e,{...n,exponent:.5})}function bm(t,e,{exponent:n=1,...r}){return Mi(t,A0().exponent(n),e,{...r,type:"pow"})}function a8(t,e,{base:n=10,domain:r=m8(e),...i}){return Mi(t,M0().base(n),e,{...i,domain:r})}function f8(t,e,{constant:n=1,...r}){return Mi(t,$0().constant(n),e,r)}function u8(t,e,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=g8(e),unknown:f,interpolate:u,reverse:c}){return n===void 0&&(n=u!==void 0?ee(u,i):dt.get(t)===Be?xa(o,i):void 0),a.length>0&&(a=C0(a,n===void 0?{length:i}:n).quantiles()),Lc(t,e,{domain:a,range:n,reverse:c,unknown:f})}function c8(t,e,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=ym(t,e),unknown:a,interpolate:f,reverse:u}){const[c,s]=Yt(o);let d;return n===void 0?(d=Yr(c,s,r),d[0]<=c&&d.splice(0,1),d[d.length-1]>=s&&d.pop(),r=d.length+1,n=f!==void 0?ee(f,r):dt.get(t)===Be?xa(i,r):void 0):(d=ee($t(c,s),r+1).slice(1,-1),c instanceof Date&&(d=d.map(l=>new Date(l)))),or(rn(o))<0&&d.reverse(),Lc(t,e,{domain:d,range:n,reverse:u,unknown:a})}function Lc(t,e,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?ee(o,n.length+1):dt.get(t)===Be?xa(i,n.length+1):void 0,reverse:f}){n=rn(n);const u=or(n);if(!isNaN(u)&&!s8(n,u))throw new Error(`the ${t} scale has a non-monotonic domain`);return f&&(a=co(a)),{type:"threshold",scale:N0(u<0?co(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function s8(t,e){for(let n=1,r=t.length,i=t[0];n<r;++n){const o=ii(i,i=t[n]);if(o!==0&&o!==e)return!1}return!0}function l8(t){return{type:"identity",scale:Ev(dt.get(t))?v0():e=>e}}function ri(t,e=I1){return t.length?[Oe(t,({value:n})=>n===void 0?n:Oe(n,e)),te(t,({value:n})=>n===void 0?n:te(n,e))]:[0,1]}function ym(t,e){const n=dt.get(t);return(n===vi||n===Ti||n===xi?d8:ri)(e)}function d8(t){return[0,t.length?te(t,({value:e})=>e===void 0?e:te(e,I1)):1]}function h8(t,e){const n=t.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=Vn(t,.5,({value:a})=>a===void 0?NaN:Vn(a,.25,bc)),i=e.map(a=>3*Math.sqrt(a/r)),o=30/te(i);return o<1?i.map(a=>a*o):i}function p8(t,e){const n=Bf(t,({value:o})=>o===void 0?NaN:Bf(o,Math.abs)),r=e.map(o=>12*o/n),i=60/te(r);return i<1?r.map(o=>o*i):r}function m8(t){for(const{value:e}of t)if(e!==void 0)for(let n of e){if(n>0)return ri(t,bc);if(n<0)return ri(t,L1)}return[1,10]}function g8(t){const e=[];for(const{value:n}of t)if(n!==void 0)for(const r of n)e.push(r);return e}function Oc(t){return(e,n)=>r=>t(e+r*(n-e))}let Nu=0,ku;function b8(){const t=Nu;return Nu=0,ku=void 0,t}function Qe(t){t!==ku&&(ku=t,console.warn(t),++Nu)}function Ta(t,e,n,r,{type:i,nice:o,clamp:a,domain:f=ri(r),unknown:u,pivot:c=0,scheme:s,range:d,symmetric:l=!0,interpolate:h=dt.get(t)===Be?s==null&&d!==void 0?Tn:Ic(s!==void 0?s:"rdbu"):$t,reverse:p}){c=+c,f=rn(f);let[m,g]=f;if(f.length>2&&Qe(`Warning: the diverging ${t} scale domain contains extra elements.`),ii(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,c),g=Math.max(g,c),typeof h!="function"&&(h=gm(h)),d!==void 0&&(h=h.length===1?Oc(h)(...d):Jo(h,d)),p&&(h=mm(h)),l){const y=n.apply(c),b=y-n.apply(m),w=n.apply(g)-y;b<w?m=n.invert(y-w):b>w&&(g=n.invert(y+b))}return e.domain([m,c,g]).unknown(u).interpolator(h),a&&e.clamp(a),o&&e.nice(o),{type:i,domain:[m,g],pivot:c,interpolate:h,scale:e}}function y8(t,e,n){return Ta(t,W0(),x8,e,n)}function _8(t,e,n){return _m(t,e,{...n,exponent:.5})}function _m(t,e,{exponent:n=1,...r}){return Ta(t,X0().exponent(n=+n),S8(n),e,{...r,type:"diverging-pow"})}function w8(t,e,{base:n=10,pivot:r=1,domain:i=ri(e,r<0?L1:bc),...o}){return Ta(t,j0().base(n=+n),T8,e,{domain:i,pivot:r,...o})}function v8(t,e,{constant:n=1,...r}){return Ta(t,G0().constant(n=+n),$8(n),e,r)}const x8={apply(t){return t},invert(t){return t}},T8={apply:Math.log,invert:Math.exp},M8={apply(t){return Math.sign(t)*Math.sqrt(Math.abs(t))},invert(t){return Math.sign(t)*(t*t)}};function S8(t){return t===.5?M8:{apply(e){return Math.sign(e)*Math.pow(Math.abs(e),t)},invert(e){return Math.sign(e)*Math.pow(Math.abs(e),1/t)}}}function $8(t){return{apply(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))},invert(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}}function wm(t,e,n,r){return Mi(t,e,n,r)}function E8(t,e,n){return wm(t,i5(),e,n)}function A8(t,e,n){return wm(t,o5(),e,n)}const Si=Symbol("ordinal");function vm(t,e,n,{type:r,interval:i,domain:o,range:a,reverse:f,hint:u}){return i=gr(i,r),o===void 0&&(o=Tm(n,i,t)),(r==="categorical"||r===Si)&&(r="ordinal"),f&&(o=co(o)),o=e.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),e.range(a)),{type:r,domain:o,range:a,scale:e,hint:u,interval:i}}function C8(t,e,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:f,...u}){r=gr(r,n),i===void 0&&(i=Tm(e,r,t));let c;if(dt.get(t)===wa)c=D8(e),o=o===void 0?R8(c):ht(o,Nc);else if(dt.get(t)===Be&&(o===void 0&&(n==="ordinal"||n===Si)&&(o=t8(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const s=Ic(a),d=o[0],l=o[1]-o[0];o=({length:h})=>ee(p=>s(d+l*p),h)}else o=pm(a);if(f===yu)throw new Error(`implicit unknown on ${t} scale is not supported`);return vm(t,oc().unknown(f),e,{...u,type:n,domain:i,range:o,hint:c})}function N8(t,e,{align:n=.5,padding:r=.5,...i}){return xm(q6().align(n).padding(r),e,i,t)}function k8(t,e,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=t==="fx"||t==="fy"?0:r,...a}){return xm(aa().align(n).paddingInner(i).paddingOuter(o),e,a,t)}function xm(t,e,n,r){let{round:i}=n;return i!==void 0&&t.round(i=!!i),t=vm(r,t,e,n),t.round=i,t}function Tm(t,e,n){const r=new Go;for(const{value:i,domain:o}of t){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(e!==void 0){const[i,o]=Yt(r).map(e.floor,e);return e.range(i,e.offset(o))}if(r.size>1e4&&dt.get(n)===he)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return oo(r,ie)}function Hl(t,e){let n;for(const{hint:r}of t){const i=r==null?void 0:r[e];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function D8(t){return{fill:Hl(t,"fill"),stroke:Hl(t,"stroke")}}function R8(t){return Rt(t.fill)?N5:C5}function Du(t,{label:e,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:f,nice:u,clamp:c,zero:s,align:d,padding:l,projection:h,facet:{label:p=e}={},...m}={}){const g={};for(const[y,b]of t){const w=m[y],_=F8(y,b,{round:dt.get(y)===he?f:void 0,nice:u,clamp:c,zero:s,align:d,padding:l,projection:h,...w});if(_){let{label:v=y==="fx"||y==="fy"?p:e,percent:x,transform:M,inset:S,insetTop:E=S!==void 0?S:y==="y"?r:0,insetRight:C=S!==void 0?S:y==="x"?i:0,insetBottom:T=S!==void 0?S:y==="y"?o:0,insetLeft:I=S!==void 0?S:y==="x"?a:0}=w||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");_.percent=!!x,_.label=v===void 0?L8(b,_):v,_.transform=M,y==="x"||y==="fx"?(_.insetLeft=+I,_.insetRight=+C):(y==="y"||y==="fy")&&(_.insetTop=+E,_.insetBottom=+T),g[y]=_}}return g}function Yl(t){const e={},n={scales:e};for(const[r,i]of Object.entries(t)){const{scale:o,type:a,interval:f,label:u}=i;e[r]=H8(i),n[r]=o,o.type=a,f!=null&&(o.interval=f),u!=null&&(o.label=u)}return n}function I8(t,e){const{x:n,y:r,fx:i,fy:o}=t,a=i||o?Pc(e):e;i&&Wl(i,a),o&&jl(o,a);const f=i||o?Mm(t,e):e;n&&Wl(n,f),r&&jl(r,f)}function L8(t=[],e){let n;for(const{label:r}of t)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!In(e)&&e.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function O8(t){return Math.sign(or(t.domain()))*Math.sign(or(t.range()))}function Pc(t){const{marginTop:e,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:u,marginBottom:c,marginLeft:s}}=t;return{marginTop:Math.max(e,f),marginRight:Math.max(n,u),marginBottom:Math.max(r,c),marginLeft:Math.max(i,s),width:o,height:a}}function Mm({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:u}=Pc(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:t?t.scale.bandwidth()+a+i:f,height:e?e.scale.bandwidth()+r+o:u,facet:{width:f,height:u}}}function Wl(t,e){if(t.range===void 0){const{insetLeft:n,insetRight:r}=t,{width:i,marginLeft:o=0,marginRight:a=0}=e,f=o+n,u=i-a-r;t.range=[f,Math.max(f,u)],In(t)||(t.range=$m(t)),t.scale.range(t.range)}Sm(t)}function jl(t,e){if(t.range===void 0){const{insetTop:n,insetBottom:r}=t,{height:i,marginTop:o=0,marginBottom:a=0}=e,f=o+n,u=i-a-r;t.range=[Math.max(f,u),f],In(t)?t.range.reverse():t.range=$m(t),t.scale.range(t.range)}Sm(t)}function Sm(t){t.round===void 0&&z8(t)&&P8(t)<=30&&t.scale.round(!0)}function P8({scale:t}){const e=t.domain().length,[n,r]=t.range(),i=t.paddingInner?t.paddingInner():1,o=t.paddingOuter?t.paddingOuter():t.padding(),a=e-i,f=Math.abs(r-n)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function $m(t){const e=t.scale.domain().length+Em(t);if(!(e>2))return t.range;const[n,r]=t.range;return Array.from({length:e},(i,o)=>n+o/(e-1)*(r-n))}function F8(t,e=[],n={}){const r=q8(t,e,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&t!=="fx"&&t!=="fy"&&In({type:r})){const i=e.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Ot)?Qe(`Warning: some data associated with the ${t} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${qn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${t} scale to "${qn(r)}".`):i.some(bv)?Qe(`Warning: some data associated with the ${t} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${qn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${t} scale to "${qn(r)}".`):i.some(yv)&&Qe(`Warning: some data associated with the ${t} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${qn(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${t} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${t} scale to "${qn(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=qi(e,n,ar);break;case"identity":switch(dt.get(t)){case he:n=qi(e,n,ar);break;case wa:n=qi(e,n,U8);break}break;case"utc":case"time":n=qi(e,n,j1);break}switch(r){case"diverging":return y8(t,e,n);case"diverging-sqrt":return _8(t,e,n);case"diverging-pow":return _m(t,e,n);case"diverging-log":return w8(t,e,n);case"diverging-symlog":return v8(t,e,n);case"categorical":case"ordinal":case Si:return C8(t,e,n);case"cyclical":case"sequential":case"linear":return i8(t,e,n);case"sqrt":return o8(t,e,n);case"threshold":return Lc(t,e,n);case"quantile":return u8(t,e,n);case"quantize":return c8(t,e,n);case"pow":return bm(t,e,n);case"log":return a8(t,e,n);case"symlog":return f8(t,e,n);case"utc":return A8(t,e,n);case"time":return E8(t,e,n);case"point":return N8(t,e,n);case"band":return k8(t,e,n);case"identity":return l8(t);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function qn(t){return typeof t=="symbol"?t.description:t}function Gl(t){return typeof t=="string"?`${t}`.toLowerCase():t}const Xl={toString:()=>"projection"};function q8(t,e,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(n=Gl(n),t==="fx"||t==="fy")return"band";(t==="x"||t==="y")&&f!=null&&(n=Xl);for(const c of e){const s=Gl(c.type);if(s!==void 0){if(n===void 0)n=s;else if(n!==s)throw new Error(`scale incompatible with channel: ${n} !== ${s}`)}}if(n===Xl)return;if(n!==void 0)return n;if(r===void 0&&!e.some(({value:c})=>c!==void 0))return;const u=dt.get(t);if(u===vi)return"sqrt";if(u===Ti||u===xi)return"linear";if(u===wa)return"ordinal";if((r||i||[]).length>2)return yf(u);if(r!==void 0){if(Dl(r))return yf(u);if(Ot(r))return"utc"}else{const c=e.map(({value:s})=>s).filter(s=>s!==void 0);if(c.some(Dl))return yf(u);if(c.some(Ot))return"utc"}if(u===Be){if(a!=null||n8(o))return"diverging";if(Jv(o))return"categorical"}return"linear"}function yf(t){switch(t){case he:return"point";case Be:return Si;default:return"ordinal"}}function In({type:t}){return t==="ordinal"||t==="point"||t==="band"||t===Si}function Em({type:t}){return t==="threshold"}function z8({type:t}){return t==="point"||t==="band"}function sr(t){if(t===void 0)return!0;const e=t.domain(),n=t(e[0]);for(let r=1,i=e.length;r<i;++r)if(t(e[r])-n)return!1;return!0}function qi(t,{domain:e,...n},r){var i;for(const o of t)o.value!==void 0&&(e===void 0&&(e=(i=o.value)==null?void 0:i.domain),o.value=r(o.value));return{domain:e===void 0?e:r(e),...n}}function U8(t){return ht(t,Nc)}function B8(t){return e=>{if(!dt.has(e=`${e}`))throw new Error(`unknown scale: ${e}`);return t[e]}}function H8({scale:t,type:e,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:u}){if(e==="identity")return{type:"identity",apply:s=>s,invert:s=>s};const c=t.unknown?t.unknown():void 0;return{type:e,domain:Jr(n),...r!==void 0&&{range:Jr(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...c!==void 0&&{unknown:c},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...t.clamp&&{clamp:t.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...t.base&&{base:t.base()},...t.exponent&&{exponent:t.exponent()},...t.constant&&{constant:t.constant()},...t.align&&{align:t.align(),round:t.round()},...t.padding&&(t.paddingInner?{paddingInner:t.paddingInner(),paddingOuter:t.paddingOuter()}:{padding:t.padding()}),...t.bandwidth&&{bandwidth:t.bandwidth(),step:t.step()},apply:s=>t(s),...t.invert&&{invert:s=>t.invert(s)}}}function Y8(t,e){const{fx:n,fy:r}=Du(t,e),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?Ib(i,o).map(([a,f],u)=>({x:a,y:f,i:u})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function W8(t,{x:e,y:n}){return e&&(e=Ru(e)),n&&(n=Ru(n)),t.filter(e&&n?r=>e.has(r.x)&&n.has(r.y):e?r=>e.has(r.x):r=>n.has(r.y)).sort(e&&n?(r,i)=>e.get(r.x)-e.get(i.x)||n.get(r.y)-n.get(i.y):e?(r,i)=>e.get(r.x)-e.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Fc(t,{fx:e,fy:n}){const r=Ue(t),i=e==null?void 0:e.value,o=n==null?void 0:n.value;return e&&n?Yn(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):e?Yn(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Yn(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function j8(t,e,{marginTop:n,marginLeft:r}){return t&&e?({x:i,y:o})=>`translate(${t(i)-r},${e(o)-n})`:t?({x:i})=>`translate(${t(i)-r},0)`:({y:i})=>`translate(0,${e(i)-n})`}function G8(t){const e=[],n=new Uint32Array(Je(t,r=>r.length));for(const r of t){let i=0;for(const o of t)r!==o&&(n.set(o,i),i+=o.length);e.push(n.slice(0,i))}return e}const X8=new Map([["top",_f],["right",xf],["bottom",wf],["left",vf],["top-left",zi(_f,vf)],["top-right",zi(_f,xf)],["bottom-left",zi(wf,vf)],["bottom-right",zi(wf,xf)],["top-empty",K8],["right-empty",t4],["bottom-empty",Q8],["left-empty",J8],["empty",e4]]);function V8(t){if(t==null)return null;const e=X8.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid facet anchor: ${t}`)}const Vl=new WeakMap;function Ru(t){let e=Vl.get(t);return e||Vl.set(t,e=new wn(ht(t,(n,r)=>[n,r]))),e}function cn(t,e){return Ru(t).get(e)}function Z8(t,e,n){return e=Le(e),n=Le(n),t.find(r=>Object.is(Le(r.x),e)&&Object.is(Le(r.y),n))}function Ma(t,e,n){var r;return(r=Z8(t,e,n))==null?void 0:r.empty}function _f(t,{y:e},{y:n}){return e?cn(e,n)===0:!0}function wf(t,{y:e},{y:n}){return e?cn(e,n)===e.length-1:!0}function vf(t,{x:e},{x:n}){return e?cn(e,n)===0:!0}function xf(t,{x:e},{x:n}){return e?cn(e,n)===e.length-1:!0}function K8(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=cn(e,r);if(o>0)return Ma(t,n,e[o-1])}function Q8(t,{y:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=cn(e,r);if(o<e.length-1)return Ma(t,n,e[o+1])}function J8(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=cn(e,n);if(o>0)return Ma(t,e[o-1],r)}function t4(t,{x:e},{x:n,y:r,empty:i}){if(i)return!1;if(!e)return;const o=cn(e,n);if(o<e.length-1)return Ma(t,e[o+1],r)}function e4(t,e,{empty:n}){return n}function zi(t,e){return function(){return t.apply(null,arguments)&&e.apply(null,arguments)}}function Tf(t,{channels:{fx:e,fy:n},groups:r}){return e&&n?t.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):e?t.map(({x:i})=>r.get(i)??[]):t.map(({y:i})=>r.get(i)??[])}const Am=Math.PI,Se=2*Am,Mf=.618;function n4({projection:t,inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={},a){if(t==null)return;if(typeof t.stream=="function")return t;let f,u,c="frame";if(fn(t)){let v;if({type:t,domain:u,inset:v,insetTop:n=v!==void 0?v:n,insetRight:r=v!==void 0?v:r,insetBottom:i=v!==void 0?v:i,insetLeft:o=v!==void 0?v:o,clip:c=c,...f}=t,t==null)return}typeof t!="function"&&({type:t}=Iu(t));const{width:s,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:m}=a,g=s-l-h-o-r,y=d-p-m-n-i;if(t=t==null?void 0:t({width:g,height:y,clip:c,...f}),t==null)return;c=r4(c,l,p,s-h,d-m);let b=l+o,w=p+n,_;if(u!=null){const[[v,x],[M,S]]=na(t).bounds(u),E=Math.min(g/(M-v),y/(S-x));E>0?(b-=(E*(v+M)-g)/2,w-=(E*(x+S)-y)/2,_=gu({point(C,T){this.stream.point(C*E+b,T*E+w)}})):Qe("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??(_=b===0&&w===0?Cm():gu({point(v,x){this.stream.point(v+b,x+w)}})),{stream:v=>t.stream(_.stream(c(v)))}}function Iu(t){switch(`${t}`.toLowerCase()){case"albers-usa":return Kt(M6,.7463,.4673);case"albers":return Ui(c0,.7463,.4673);case"azimuthal-equal-area":return Kt(S6,4,4);case"azimuthal-equidistant":return Kt($6,Se,Se);case"conic-conformal":return Ui(C6,Se,Se);case"conic-equal-area":return Ui(Eo,6.1702,2.9781);case"conic-equidistant":return Ui(D6,7.312,3.6282);case"equal-earth":return Kt(I6,5.4133,2.6347);case"equirectangular":return Kt(N6,Se,Am);case"gnomonic":return Kt(L6,3.4641,3.4641);case"identity":return{type:Cm};case"reflect-y":return{type:i4};case"mercator":return Kt(E6,Se,Se);case"orthographic":return Kt(O6,2,2);case"stereographic":return Kt(P6,2,2);case"transverse-mercator":return Kt(F6,Se,Se);default:throw new Error(`unknown projection type: ${t}`)}}function r4(t,e,n,r,i){if(t===!1||t==null||typeof t=="number")return o=>o;switch(t===!0&&(t="frame"),`${t}`.toLowerCase()){case"frame":return Gh(e,n,r,i);default:throw new Error(`unknown projection clip type: ${t}`)}}function Kt(t,e,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{var c,s,d;const u=t();return a!=null&&((c=u.precision)==null||c.call(u,a)),o!=null&&((s=u.rotate)==null||s.call(u,o)),typeof f=="number"&&((d=u.clipAngle)==null||d.call(u,f)),r!=null&&(u.scale(Math.min(r/e,i/n)),u.translate([r/2,i/2])),u},aspectRatio:n/e}}function Ui(t,e,n){const{type:r,aspectRatio:i}=Kt(t,e,n);return{type:o=>{const{parallels:a,domain:f,width:u,height:c}=o,s=r(o);return a!=null&&(s.parallels(a),f===void 0&&u!=null&&s.fitSize([u,c],{type:"Sphere"})),s},aspectRatio:i}}const Cm=Ie({stream:t=>t}),i4=Ie(gu({point(t,e){this.stream.point(t,-e)}}));function o4(t,e,n,r){const i=n[t],o=n[e],a=i.length,f=n[t]=new Float64Array(a).fill(NaN),u=n[e]=new Float64Array(a).fill(NaN);let c;const s=r.stream({point(d,l){f[c]=d,u[c]=l}});for(c=0;c<a;++c)s.point(i[c],o[c])}function a4({projection:t}={}){return t==null?!1:typeof t.stream=="function"?!0:(fn(t)&&(t=t.type),t!=null)}function f4(t){if(typeof(t==null?void 0:t.stream)=="function")return Mf;if(fn(t)){let e,n;if({domain:e,type:t,...n}=t,e!=null&&t!=null){const r=typeof t=="string"?Iu(t).type:t,[[i,o],[a,f]]=na(r({...n,width:100,height:100})).bounds(e),u=(f-o)/(a-i);return u&&isFinite(u)?u<.2?.2:u>5?5:u:Mf}}if(t!=null){if(typeof t!="function"){const{aspectRatio:e}=Iu(t);if(e)return e}return Mf}}function u4(t){const e=[],n=[],r={scale:"x",value:e},i={scale:"y",value:n},o={point(a,f){e.push(a),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of t.value)pn(a,o);return[r,i]}function qc(t={}){const{document:e=typeof window<"u"?window.document:void 0,clip:n}=t;return{document:e,clip:em(n)}}function Mt(t,{document:e}){return Wn(Zo(t).call(e.documentElement))}const Lu=Symbol("unset");function zc(t){return(t.length===1?c4:s4)(t)}function c4(t){let e,n=Lu;return r=>(Object.is(n,r)||(n=r,e=t(r)),e)}function s4(t){let e,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>!Object.is(i,r[o])))&&(n=r,e=t(...r)),e)}const l4=zc(t=>new Intl.NumberFormat(t));zc((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{month:e}}));zc((t,e)=>new Intl.DateTimeFormat(t,{timeZone:"UTC",...e&&{weekday:e}}));function d4(t="en-US"){const e=l4(t);return n=>n!=null&&!isNaN(n)?e.format(n):void 0}function h4(t){return X5(t,"Invalid Date")}function p4(t="en-US"){const e=d4(t);return n=>(n instanceof Date?h4:typeof n=="number"?e:kt)(n)}const lr=p4(),Ft=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let m4=0;function g4(){return`plot-clip-${++m4}`}function b4(t,{title:e,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:u,stroke:c,strokeWidth:s,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:y,mixBlendMode:b,imageFilter:w,paintOrder:_,pointerEvents:v,shapeRendering:x,channels:M},{ariaLabel:S,fill:E="currentColor",fillOpacity:C,stroke:T="none",strokeOpacity:I,strokeWidth:k,strokeLinecap:R,strokeLinejoin:$,strokeMiterlimit:L,paintOrder:D}){E===null&&(f=null,u=null),T===null&&(c=null,d=null),Rt(E)?!Rt(T)&&(!Rt(f)||M!=null&&M.fill)&&(T="none"):Rt(T)&&(!Rt(c)||M!=null&&M.stroke)&&(E="none");const[W,j]=ze(f,E),[O,q]=Pt(u,C),[P,z]=ze(c,T),[J,et]=Pt(d,I),[Z,U]=Pt(y);ei(z)||(s===void 0&&(s=k),h===void 0&&(h=R),l===void 0&&(l=$),p===void 0&&!xv(l)&&(p=L),!ei(j)&&_===void 0&&(_=D));const[B,N]=Pt(s);return E!==null&&(t.fill=xt(j,"currentColor"),t.fillOpacity=Mr(q,1)),T!==null&&(t.stroke=xt(z,"none"),t.strokeWidth=Mr(N,1),t.strokeOpacity=Mr(et,1),t.strokeLinejoin=xt(l,"miter"),t.strokeLinecap=xt(h,"butt"),t.strokeMiterlimit=Mr(p,4),t.strokeDasharray=xt(m,"none"),t.strokeDashoffset=xt(g,"0")),t.target=kt(a),t.ariaLabel=kt(S),t.ariaDescription=kt(i),t.ariaHidden=kt(o),t.opacity=Mr(U,1),t.mixBlendMode=xt(b,"normal"),t.imageFilter=xt(w,"none"),t.paintOrder=xt(_,"normal"),t.pointerEvents=xt(v,"auto"),t.shapeRendering=xt(x,"auto"),{title:{value:e,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:W,scale:"auto",optional:!0},fillOpacity:{value:O,scale:"auto",optional:!0},stroke:{value:P,scale:"auto",optional:!0},strokeOpacity:{value:J,scale:"auto",optional:!0},strokeWidth:{value:B,optional:!0},opacity:{value:Z,scale:"auto",optional:!0}}}function y4(t,e){e&&t.filter(n=>gc(e[n])).append("title").call(w4,e)}function _4(t,e){e&&t.filter(([n])=>gc(e[n])).append("title").call(v4,e)}function w4(t,e){e&&t.text(n=>lr(e[n]))}function v4(t,e){e&&t.text(([n])=>lr(e[n]))}function An(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:d}){r&&G(t,"aria-label",l=>r[l]),o&&G(t,"fill",l=>o[l]),a&&G(t,"fill-opacity",l=>a[l]),f&&G(t,"stroke",l=>f[l]),u&&G(t,"stroke-opacity",l=>u[l]),c&&G(t,"stroke-width",l=>c[l]),s&&G(t,"opacity",l=>s[l]),d&&Rm(t,l=>d[l],e),n||y4(t,i)}function Nm(t,{target:e,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:d}){r&&G(t,"aria-label",([l])=>r[l]),o&&G(t,"fill",([l])=>o[l]),a&&G(t,"fill-opacity",([l])=>a[l]),f&&G(t,"stroke",([l])=>f[l]),u&&G(t,"stroke-opacity",([l])=>u[l]),c&&G(t,"stroke-width",([l])=>c[l]),s&&G(t,"opacity",([l])=>s[l]),d&&Rm(t,([l])=>d[l],e),n||_4(t,i)}function x4({ariaLabel:t,title:e,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:u},{tip:c}){return[t,c?void 0:e,n,r,i,o,a,f,u].filter(s=>s!==void 0)}function T4(t,e,n){const r=Xo(t,i=>e[i]);return n===void 0&&r.size>1+t.length>>1&&Qe("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*km(t,e,n,r){const{z:i}=n,{z:o}=r,a=x4(r,n),f=[...e,...a];for(const u of o?T4(t,o,i):[t]){let c,s;t:for(const d of u){for(const l of f)if(!nn(l[d])){s&&s.push(-1);continue t}if(c===void 0){s&&(yield s),c=a.map(l=>Le(l[d])),s=[d];continue}s.push(d);for(let l=0;l<a.length;++l)if(Le(a[l][d])!==c[l]){yield s,c=a.map(p=>Le(p[d])),s=[d];continue t}}s&&(yield s)}}function M4(t,e,n,r){let i;const{clip:o=r.clip}=e;switch(o){case"frame":{t=Mt("svg:g",r).each(function(){this.appendChild(t.node()),t.node=()=>this}),i=S4(r,n);break}case"sphere":{i=$4(r);break}}G(t,"aria-label",e.ariaLabel),G(t,"aria-description",e.ariaDescription),G(t,"aria-hidden",e.ariaHidden),G(t,"clip-path",i)}function Dm(t){const e=new WeakMap;return(n,r)=>{let i=e.get(n);if(!i){const o=g4();Wn(n.ownerSVGElement).append("clipPath").attr("id",o).call(t,n,r),e.set(n,i=`url(#${o})`)}return i}}const S4=Dm((t,e,n)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:f,marginBottom:u}=n;t.append("rect").attr("x",o).attr("y",f).attr("width",r-a-o).attr("height",i-f-u)}),$4=Dm((t,e)=>{const{projection:n}=e;if(!n)throw new Error('the "sphere" clip option requires a projection');t.append("path").attr("d",na(n)({type:"Sphere"}))});function He(t,e,n,r){M4(t,e,n,r),G(t,"class",e.className),G(t,"fill",e.fill),G(t,"fill-opacity",e.fillOpacity),G(t,"stroke",e.stroke),G(t,"stroke-width",e.strokeWidth),G(t,"stroke-opacity",e.strokeOpacity),G(t,"stroke-linejoin",e.strokeLinejoin),G(t,"stroke-linecap",e.strokeLinecap),G(t,"stroke-miterlimit",e.strokeMiterlimit),G(t,"stroke-dasharray",e.strokeDasharray),G(t,"stroke-dashoffset",e.strokeDashoffset),G(t,"shape-rendering",e.shapeRendering),G(t,"filter",e.imageFilter),G(t,"paint-order",e.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=e;G(t,"pointer-events",i)}function ye(t,e){E4(t,"mix-blend-mode",e.mixBlendMode),G(t,"opacity",e.opacity)}function Rm(t,e,n){t.each(function(r){const i=e(r);if(i!=null){const o=this.ownerDocument.createElementNS(Zn.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(Zn.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function G(t,e,n){n!=null&&t.attr(e,n)}function E4(t,e,n){n!=null&&t.style(e,n)}function Ye(t,e,{x:n,y:r},i=Ft,o=Ft){i+=e.dx,o+=e.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&t.attr("transform",`translate(${i},${o})`)}function xt(t,e){if((t=kt(t))!==e)return t}function Mr(t,e){if((t=At(t))!==e)return t}const A4=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Sa(t){if(t===void 0)return"plot-d6a7b5";if(t=`${t}`,!A4.test(t))throw new Error(`invalid class name: ${t}`);return t}function Uc(t,e){if(typeof e=="string")t.property("style",e);else if(e!=null)for(const n of t)Object.assign(n.style,e)}function $a({frameAnchor:t},{width:e,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(t)?a:/right$/.test(t)?e-i:(a+e-i)/2,/^top/.test(t)?r:/^bottom/.test(t)?n-o:(r+n-o)/2]}class Zt{constructor(e,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:u,sort:c,dx:s=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:m=l,marginLeft:g=l,className:y,clip:b=i==null?void 0:i.clip,channels:w,tip:_,render:v}=r;if(this.data=e,this.sort=ur(c)?c:null,this.initializer=cr(r).initializer,this.transform=this.initializer?r.transform:va(r).transform,o===null||o===!1?this.facet=null:(this.facet=ae(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=e===io&&typeof f=="string"?[f]:f,this.fy=e===io&&typeof u=="string"?[u]:u),this.facetAnchor=V8(a),n=tm(n),w!==void 0&&(n={...C4(w),...n}),i!==void 0&&(n={...b4(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([x,M])=>{if(ya(M.value)){const{value:S,label:E=M.label,scale:C=M.scale}=M.value;M={...M,label:E,scale:C,value:S}}if(e===io&&typeof M.value=="string"){const{value:S}=M;M={...M,value:[S]}}return[x,M]}).filter(([x,{value:M,optional:S}])=>{if(M!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${x}`)})),this.dx=+s,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+g,this.clip=em(b),this.tip=N4(_),this.className=y?Sa(y):null,this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(const x in this.channels){const{scale:M}=n[x];if(!(M!=="x"&&M!=="y"))throw new Error("super-faceting cannot use x or y")}}v!=null&&(this.render=Im(v,this.render))}initialize(e,n,r){let i=fr(this.data);e===void 0&&i!=null&&(e=[Ue(i)]);const o=e;this.transform!=null&&({facets:e,data:i}=this.transform(i,e,r),i=fr(i)),e!==void 0&&(e.original=o);const a=Gv(this.channels,i);return this.sort!=null&&Vv(i,e,a,n,this.sort),{data:i,facets:e,channels:a}}filter(e,n,r){for(const i in n){const{filter:o=nn}=n[i];if(o!==null){const a=r[i];e=e.filter(f=>o(a[f]))}}return e}project(e,n,r){for(const i in e)if(e[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in e&&e[o].scale==="y"&&o4(i,o,n,r.projection)}}scale(e,n,r){const i=Xv(e,n);return r.projection&&this.project(e,i,r),i}}function Ea(...t){return t.plot=Zt.prototype.plot,t}function Im(t,e){if(t==null)return e===null?void 0:e;if(e==null)return t===null?void 0:t;if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);return function(n,r,i,o,a,f){return t.call(this,n,r,i,o,a,(u,c,s,d,l)=>e.call(this,u,c,s,d,l,f))}}function C4(t){return Object.fromEntries(Object.entries(tm(t)).map(([e,n])=>(n=typeof n=="string"?{value:n,label:e}:wi(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[e,n])))}function N4(t){return t===!0?"xy":t===!1||t==null?null:typeof t=="string"?ae(t,"tip",["x","y","xy"]):t}function Aa(t,e){return(t==null?void 0:t.tip)===!0?{...t,tip:e}:fn(t==null?void 0:t.tip)&&t.tip.pointer===void 0?{...t,tip:{...t.tip,pointer:e}}:t}function k4(t,e,n={}){let r=.5-Ft,i=.5+Ft,o=.5+Ft,a=.5-Ft;for(const{marginTop:m,marginRight:g,marginBottom:y,marginLeft:b}of e)m>r&&(r=m),g>i&&(i=g),y>o&&(o=y),b>a&&(a=b);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:c=f!==void 0?f:i,marginBottom:s=f!==void 0?f:o,marginLeft:d=f!==void 0?f:a}=n;u=+u,c=+c,s=+s,d=+d;let{width:l=640,height:h=D4(t,n,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,u-r+s-o)}=n;l=+l,h=+h;const p={width:l,height:h,marginTop:u,marginRight:c,marginBottom:s,marginLeft:d};if(t.fx||t.fy){let{margin:m,marginTop:g=m!==void 0?m:u,marginRight:y=m!==void 0?m:c,marginBottom:b=m!==void 0?m:s,marginLeft:w=m!==void 0?m:d}=n.facet??{};g=+g,y=+y,b=+b,w=+w,p.facet={marginTop:g,marginRight:y,marginBottom:b,marginLeft:w}}return p}function D4({x:t,y:e,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:s}){const d=n&&n.scale.domain().length||1,l=f4(i);if(l){const p=r?r.scale.domain().length:1,m=(1.1*d-.1)/(1.1*p-.1)*l,g=Math.max(.1,Math.min(10,m));return Math.round((a-s-u)*g+f+c)}const h=e?In(e)?e.scale.domain().length||1:Math.max(7,17/d):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=Zl("y",e)/(Zl("x",t)*o),m=r?r.scale.bandwidth():1,g=n?n.scale.bandwidth():1,y=m*(a-s-u)-t.insetLeft-t.insetRight;return(p*y+e.insetTop+e.insetBottom)/g+f+c}return!!(e||n)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function Zl(t,e){if(!e)throw new Error(`aspectRatio requires ${t} scale`);const{type:n,domain:r}=e;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=e.scale.exponent();i=u=>Math.pow(u,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${t} scale for aspectRatio: ${n}`)}const[o,a]=Yt(r);return Math.abs(i(a)-i(o))}const Kl=new WeakMap;function Bc(t,e,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:u,...c}={}){return a=+a,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),f={...f,py:{value:o,scale:"y"}}),{x:n,y:r,channels:f,...c,render:Im(function(s,d,l,h,p,m){p={...p,pointerSticky:!1};const g=p.ownerSVGElement,{data:y}=p.getMarkState(this);let b=Kl.get(g);b||Kl.set(g,b={sticky:!1,roots:[],renders:[]});let w=b.renders.push(z)-1;const{x:_,y:v,fx:x,fy:M}=d;let S=x?x(s.fx)-h.marginLeft:0,E=M?M(s.fy)-h.marginTop:0;_!=null&&_.bandwidth&&(S+=_.bandwidth()/2),v!=null&&v.bandwidth&&(E+=v.bandwidth()/2);const C=s.fi!=null;let T;if(C){let U=b.facetStates;U||(b.facetStates=U=new Map),T=U.get(this),T||U.set(this,T=new Map)}const[I,k]=$a(this,h),{px:R,py:$}=l,L=R?U=>R[U]:Lm(l,I),D=$?U=>$[U]:Om(l,k);let W,j,O,q;function P(U,B){if(C)if(q&&(q=cancelAnimationFrame(q)),U==null)T.delete(s.fi);else{T.set(s.fi,B),q=requestAnimationFrame(()=>{q=null;for(const[N,F]of T)if(F<B||F===B&&N<s.fi){U=null;break}z(U)});return}z(U)}function z(U){if(W===U&&O===b.sticky)return;W=U,O=p.pointerSticky=b.sticky;const B=W==null?[]:[W];C&&(B.fx=s.fx,B.fy=s.fy,B.fi=s.fi);const N=m(B,d,l,h,p);if(j){if(C){const F=j.parentNode,H=j.getAttribute("transform"),A=N.getAttribute("transform");H?N.setAttribute("transform",H):N.removeAttribute("transform"),A?F.setAttribute("transform",A):F.removeAttribute("transform"),N.removeAttribute("aria-label"),N.removeAttribute("aria-description"),N.removeAttribute("aria-hidden")}j.replaceWith(N)}if(b.roots[w]=j=N,!(W==null&&(T==null?void 0:T.size)>1)){const F=W==null?null:Dn(y)?y[W]:y.get(W);p.dispatchValue(F)}return N}function J(U){if(b.sticky||U.pointerType==="mouse"&&U.buttons===1)return;let[B,N]=U2(U);B-=S,N-=E;const F=B<h.marginLeft||B>h.width-h.marginRight?1:t,H=N<h.marginTop||N>h.height-h.marginBottom?1:e;let A=null,nt=a*a;for(const Y of s){const ot=F*(L(Y)-B),ct=H*(D(Y)-N),St=ot*ot+ct*ct;St<=nt&&(A=Y,nt=St)}if(A!=null&&(t!==1||e!==1)){const Y=L(A)-B,ot=D(A)-N;nt=Y*Y+ot*ot}P(A,nt)}function et(U){U.pointerType==="mouse"&&W!=null&&(b.sticky&&b.roots.some(B=>B==null?void 0:B.contains(U.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(B=>B(null))):(b.sticky=!0,z(W)),U.stopImmediatePropagation()))}function Z(U){U.pointerType==="mouse"&&(b.sticky||P(null))}return g.addEventListener("pointerenter",J),g.addEventListener("pointermove",J),g.addEventListener("pointerdown",et),g.addEventListener("pointerleave",Z),z(null)},u)}}function R4(t){return Bc(1,1,t)}function I4(t){return Bc(1,.01,t)}function Ql(t){return Bc(.01,1,t)}function Lm({x1:t,x2:e,x:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function Om({y1:t,y2:e,y:n=t},r){return t&&e?i=>(t[i]+e[i])/2:n?i=>n[i]:()=>r}function Pm(t){return In(t)&&t.interval===void 0?void 0:"tabular-nums"}function L4(t,e){let{label:n=t.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:c=0,style:s,ticks:d=(i-c-f)/64,tickFormat:l,fontVariant:h=Pm(t),round:p=!0,opacity:m,className:g}=e;const y=qc(e);g=Sa(g),m=Pt(m)[1],l===null&&(l=()=>null);const b=Mt("svg",y).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(I=>I.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(Uc,s);let w=I=>I.selectAll(".tick line").attr("y1",a+u-o),_;const v=p?(I,k)=>I.rangeRound(k):(I,k)=>I.range(k),{type:x,domain:M,range:S,interpolate:E,scale:C,pivot:T}=t;if(E){const I=S===void 0?E:Jo(E.length===1?Oc(E):E,S);_=v(C.copy(),ee($t(c,i-f),Math.min(M.length+(T!==void 0),S===void 0?1/0:S.length)));const k=256,R=y.document.createElement("canvas");R.width=k,R.height=1;const $=R.getContext("2d");for(let L=0,D=k-1;L<k;++L)$.fillStyle=I(L/D),$.fillRect(L,0,1,1);b.append("image").attr("opacity",m).attr("x",c).attr("y",a).attr("width",i-c-f).attr("height",o-a-u).attr("preserveAspectRatio","none").attr("xlink:href",R.toDataURL())}else if(x==="threshold"){const I=M,k=l===void 0?R=>R:typeof l=="string"?pr(l):l;_=v(ac().domain([-1,S.length-1]),[c,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(S).enter().append("rect").attr("x",(R,$)=>_($-1)).attr("y",a).attr("width",(R,$)=>_($)-_($-1)).attr("height",o-a-u).attr("fill",R=>R),d=ht(I,(R,$)=>$),l=R=>k(I[R],R)}else _=v(aa().domain(M),[c,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(M).enter().append("rect").attr("x",_).attr("y",a).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",o-a-u).attr("fill",C),w=()=>{};return b.append("g").attr("transform",`translate(0,${o-u})`).call(iy(_).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",xt(h,"normal")).call(w).call(I=>I.select(".domain").remove()),n!==void 0&&b.append("text").attr("x",c).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),b.node()}const Fm=Math.PI/180;function Hc(t,{marker:e,markerStart:n=e,markerMid:r=e,markerEnd:i=e}={}){t.markerStart=Sf(n),t.markerMid=Sf(r),t.markerEnd=Sf(i)}function Sf(t){if(t==null||t===!1)return null;if(t===!0)return td;if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"none":return null;case"arrow":return Jl("auto");case"arrow-reverse":return Jl("auto-start-reverse");case"dot":return O4;case"circle":case"circle-fill":return td;case"circle-stroke":return P4;case"tick":return $f("auto");case"tick-x":return $f(90);case"tick-y":return $f(0)}throw new Error(`invalid marker: ${t}`)}function Jl(t){return(e,n)=>Mt("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",t).attr("fill","none").attr("stroke",e).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function O4(t,e){return Mt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function td(t,e){return Mt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",t).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function P4(t,e){return Mt("svg:marker",e).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",t).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function $f(t){return(e,n)=>Mt("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",t).attr("stroke",e).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let F4=0;function qm(t,e,{stroke:n},r){return Um(t,e,n&&(i=>n[i]),null,r)}function q4(t,e,{stroke:n,z:r},i){return Um(t,e,n&&(([o])=>n[o]),r,i)}const Ou=1,zm=2;function z4(t,e){const n=new Uint8Array(e.length),r=t.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=Lu;o<i;++o){const f=r[o];if(f.length>1){const u=f[0];a!==(a=Le(e[u]))&&(n[u]|=Ou)}}for(let o=i-1,a=Lu;o>=0;--o){const f=r[o];if(f.length>1){const u=f[0];a!==(a=Le(e[u]))&&(n[u]|=zm)}}return([o])=>n[o]}function Um(t,{markerStart:e,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a,f){if(!e&&!n&&!r)return;const u=new Map,c=a&&z4(t,a);function s(d,l,h){return function(p){if(h&&!h(p))return;const m=o(p);let g=u.get(l);g||u.set(l,g=new Map);let y=g.get(m);if(!y){const b=this.parentNode.insertBefore(l(m,f),this),w=`plot-marker-${++F4}`;b.setAttribute("id",w),g.set(m,y=`url(#${w})`)}this.setAttribute(d,y)}}e&&t.each(s("marker-start",e,c&&(d=>c(d)&Ou))),n&&c&&t.each(s("marker-start",n,d=>!(c(d)&Ou))),n&&t.each(s("marker-mid",n)),r&&t.each(s("marker-end",r,c&&(d=>c(d)&zm)))}function Ca({inset:t,insetLeft:e,insetRight:n,...r}={}){return[e,n]=Hm(t,e,n),{inset:t,insetLeft:e,insetRight:n,...r}}function Bm({inset:t,insetTop:e,insetBottom:n,...r}={}){return[e,n]=Hm(t,e,n),{inset:t,insetTop:e,insetBottom:n,...r}}function Hm(t,e,n){return t===void 0&&e===void 0&&n===void 0?Ft?[1,0]:[.5,.5]:[e,n]}function Ym(t,{interval:e}){return t={...wi(t)},t.interval=$c(t.interval===void 0?e:t.interval),t}function Yc(t,e,n,r){const{[t]:i,[`${t}1`]:o,[`${t}2`]:a}=n,{value:f,interval:u}=Ym(i,n);if(f==null||u==null&&!r)return n;const c=Rn(i);if(u==null){let h;const p={transform:m=>h||(h=_t(m,f)),label:c};return{...n,[t]:void 0,[`${t}1`]:o===void 0?p:o,[`${t}2`]:a===void 0&&!(o===a&&r)?p:a}}let s,d;function l(h){return d!==void 0&&h===s?d:d=ht(_t(s=h,f),p=>u.floor(p))}return e({...n,[t]:void 0,[`${t}1`]:o===void 0?{transform:l,label:c}:o,[`${t}2`]:a===void 0?{transform:h=>l(h).map(p=>u.offset(p)),label:c}:a})}function Wm(t,e,n){const{[t]:r}=n,{value:i,interval:o}=Ym(r,n);return i==null||o==null?n:e({...n,[t]:{label:Rn(r),transform:a=>{const f=ht(_t(a,i),c=>o.floor(c)),u=f.map(c=>o.offset(c));return f.map(Ot(f)?(c,s)=>c==null||isNaN(c=+c)||(s=u[s],s==null)||isNaN(s=+s)?void 0:new Date((c+s)/2):(c,s)=>c==null||(s=u[s],s==null)?NaN:(+c+ +s)/2)}}})}function U4(t={}){return Yc("x",Ca,t,!0)}function B4(t={}){return Yc("x",Ca,t)}function H4(t={}){return Yc("y",Bm,t)}function Y4(t={}){return Wm("x",Ca,t)}function W4(t={}){return Wm("y",Bm,t)}const jm={ariaLabel:"rule",fill:null,stroke:"currentColor"};class j4 extends Zt{constructor(e,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:u=a}=n;super(e,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Aa(n,"x"),jm),this.insetTop=At(f),this.insetBottom=At(u),Hc(this,n)}render(e,n,r,i,o){const{x:a,y:f}=n,{x:u,y1:c,y2:s}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetTop:y,insetBottom:b}=this;return Mt("svg:g",o).call(He,this,i,o).call(Ye,this,{x:u&&a},Ft,0).call(w=>w.selectAll().data(e).enter().append("line").call(ye,this).attr("x1",u?_=>u[_]:(m+d-p)/2).attr("x2",u?_=>u[_]:(m+d-p)/2).attr("y1",c&&!sr(f)?_=>c[_]+y:h+y).attr("y2",s&&!sr(f)?f.bandwidth?_=>s[_]+f.bandwidth()-b:_=>s[_]-b:l-g-b).call(An,this,r).call(qm,this,r,o)).node()}}class G4 extends Zt{constructor(e,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:u=a}=n;super(e,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Aa(n,"y"),jm),this.insetRight=At(f),this.insetLeft=At(u),Hc(this,n)}render(e,n,r,i,o){const{x:a,y:f}=n,{y:u,x1:c,x2:s}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetLeft:y,insetRight:b}=this;return Mt("svg:g",o).call(He,this,i,o).call(Ye,this,{y:u&&f},0,Ft).call(w=>w.selectAll().data(e).enter().append("line").call(ye,this).attr("x1",c&&!sr(a)?_=>c[_]+y:m+y).attr("x2",s&&!sr(a)?a.bandwidth?_=>s[_]+a.bandwidth()-b:_=>s[_]-b:d-p-b).attr("y1",u?_=>u[_]:(h+l-g)/2).attr("y2",u?_=>u[_]:(h+l-g)/2).call(An,this,r).call(qm,this,r,o)).node()}}function X4(t,e){let{x:n=Dt,y:r,y1:i,y2:o,...a}=H4(e);return[i,o]=Gm(r,i,o),new j4(t,{...a,x:n,y1:i,y2:o})}function Wc(t,e){let{y:n=Dt,x:r,x1:i,x2:o,...a}=B4(e);return[i,o]=Gm(r,i,o),new G4(t,{...a,y:n,x1:i,x2:o})}function Gm(t,e,n){if(t==null){if(e===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,e]}else{if(e===void 0)return n===void 0?[0,t]:[t,n];if(n===void 0)return[t,e]}return[e,n]}function Xm(t,...e){let n=e.length;for(let r=0,i=!0;r<n;++r)typeof e[r]!="function"&&(i&&(t=t.slice(),i=!1),t.splice(r,2,t[r]+e[r]+t[r+1]),e.splice(r,1),--r,--n);return r=>{let i=t[0];for(let o=0;o<n;++o)i+=e[o](r)+t[o+1];return i}}const V4={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Vm="";class jc extends Zt{constructor(e,n={}){const{x:r,y:i,text:o=un(e)&&J1(e)?Dt:ba,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:u=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:c=1,lineWidth:s=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:y,rotate:b}=n,[w,_]=Pt(b,0),[v,x]=e7(p);if(super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:gv(w),optional:!0},text:{value:o,filter:gc,optional:!0}},n,V4),this.rotate=_,this.textAnchor=xt(f,"middle"),this.lineAnchor=ae(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+s,this.textOverflow=Zm(d),this.monospace=!!l,this.fontFamily=kt(h),this.fontSize=x,this.fontStyle=kt(m),this.fontVariant=kt(g),this.fontWeight=kt(y),this.frameAnchor=Ec(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=Jm(this),this.clipLine=tg(this)}render(e,n,r,i,o){const{x:a,y:f}=n,{x:u,y:c,rotate:s,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[m,g]=$a(this,i);return Mt("svg:g",o).call(He,this,i,o).call(Qm,this,d,i).call(Ye,this,{x:u&&a,y:c&&f}).call(y=>y.selectAll().data(e).enter().append("text").call(ye,this).call(Z4,this,d,l).attr("transform",Xm`translate(${u?b=>u[b]:m},${c?b=>c[b]:g})${s?b=>` rotate(${s[b]})`:p?` rotate(${p})`:""}`).call(G,"font-size",h&&(b=>h[b])).call(An,this,r)).node()}}function Zm(t){return t==null?null:ae(t,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function Z4(t,e,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:u}=e;t.each(function(c){const s=f(lr(n[c])??"").map(u),d=s.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!s[p])continue;const m=this.ownerDocument.createElementNS(Zn.svg,"tspan");m.setAttribute("x",0),p===h-1?m.setAttribute("y",`${(l+p)*o}em`):m.setAttribute("dy",`${h*o}em`),m.textContent=s[p],this.appendChild(m),h=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=s[0];if(a&&!r&&s[0]!==n[c]){const h=this.ownerDocument.createElementNS(Zn.svg,"title");h.textContent=n[c],this.appendChild(h)}})}function Km(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Z1(e,n)),new jc(t,{...r,x:e,y:n})}function K4(t,{x:e=Dt,...n}={}){return new jc(t,W4({...n,x:e}))}function Q4(t,{y:e=Dt,...n}={}){return new jc(t,Y4({...n,y:e}))}function Qm(t,e,n){G(t,"text-anchor",e.textAnchor),G(t,"font-family",e.fontFamily),G(t,"font-size",e.fontSize),G(t,"font-style",e.fontStyle),G(t,"font-variant",e.fontVariant===void 0?J4(n):e.fontVariant),G(t,"font-weight",e.fontWeight)}function J4(t){return t&&(_v(t)||Ot(t))?"tabular-nums":void 0}const t7=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function e7(t){return t==null||typeof t=="number"?[void 0,t]:typeof t!="string"?[t,void 0]:(t=t.trim().toLowerCase(),t7.has(t)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(t)?[void 0,t]:[t,void 0])}function n7(t,e,n){const r=[];let i,o=0;for(const[a,f,u]of r7(t)){if(i===void 0&&(i=a),o>i&&n(t,i,f)>e&&(r.push(t.slice(i,o)+(t[o-1]===Vm?"-":"")),i=a),u){r.push(t.slice(i,f)),i=void 0;continue}o=f}return r}function*r7(t){let e=0,n=0;const r=t.length;for(;n<r;){let i=1;switch(t[n]){case Vm:case"-":++n,yield[e,n,!1],e=n;break;case" ":for(yield[e,n,!1];t[++n]===" ";);e=n;break;case"\r":t[n+1]===`
`&&++i;case`
`:yield[e,n,!0],n+=i,e=n;break;default:++n;break}}yield[e,n,!0]}const ed={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function Gc(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=br(t,i))r+=ed[t[i]]??(ng(t,i)?120:ed.e);return r}function Xc(t,e=0,n=t.length){let r=0;for(let i=e;i<n;i=br(t,i))r+=ng(t,i)?126:63;return r}function Jm({monospace:t,lineWidth:e,textOverflow:n}){if(n!=null||e==1/0)return o=>o.split(/\r\n?|\n/g);const r=t?Xc:Gc,i=e*100;return o=>n7(o,i,r)}function tg({monospace:t,lineWidth:e,textOverflow:n}){if(n==null||e==1/0)return o=>o;const r=t?Xc:Gc,i=e*100;switch(n){case"clip-start":return o=>rd(o,i,r,"");case"clip-end":return o=>nd(o,i,r,"");case"ellipsis-start":return o=>rd(o,i,r,Xn);case"ellipsis-middle":return o=>i7(o,i,r,Xn);case"ellipsis-end":return o=>nd(o,i,r,Xn)}}const Xn="";function dr(t,e,n,r){const i=[];let o=0;for(let a=0,f=0,u=t.length;a<u;a=f){f=br(t,a);const c=n(t,a,f);if(o+c>e){for(o+=r;o>e&&a>0;)f=a,a=i.pop(),o-=n(t,a,f);return[a,e-o]}o+=c,i.push(a)}return[-1,0]}function nd(t,e,n,r){t=t.trim();const i=n(r),[o]=dr(t,e,n,i);return o<0?t:t.slice(0,o).trimEnd()+r}function i7(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r)/2,[a,f]=dr(t,e/2,n,o),[u]=dr(t,i-e/2-f+o,n,-o);return u<0?r:t.slice(0,a).trimEnd()+r+t.slice(br(t,u)).trimStart()}function rd(t,e,n,r){t=t.trim();const i=n(t);if(i<=e)return t;const o=n(r),[a]=dr(t,i-e+o,n,-o);return a<0?r:r+t.slice(br(t,a)).trimStart()}const Pu=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,id=new RegExp("\\p{Extended_Pictographic}","uy");function br(t,e){return e+=o7(t,e)?2:1,f7(t,e)&&(e=Pu.lastIndex),a7(t,e)?br(t,e+1):e}function eg(t,e){return t.charCodeAt(e)<128}function o7(t,e){const n=t.charCodeAt(e);if(n>=55296&&n<56320){const r=t.charCodeAt(e+1);return r>=56320&&r<57344}return!1}function a7(t,e){return t.charCodeAt(e)===8205}function f7(t,e){return eg(t,e)?!1:(Pu.lastIndex=e,Pu.test(t))}function ng(t,e){return eg(t,e)?!1:(id.lastIndex=e,id.test(t))}const u7={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},rg=3.5,c7=rg*5,ig={draw(t,e,n){const r=e*n/c7;t.moveTo(0,0),t.lineTo(0,-e),t.moveTo(-r,r-e),t.lineTo(0,-e),t.lineTo(r,r-e)}},s7={draw(t,e,n){t.moveTo(-n,0),t.lineTo(0,-e),t.lineTo(n,0)}},l7=new Map([["arrow",ig],["spike",s7]]);function d7(t){return t&&typeof t.draw=="function"}function h7(t){if(d7(t))return t;const e=l7.get(`${t}`.toLowerCase());if(e)return e;throw new Error(`invalid shape: ${t}`)}class og extends Zt{constructor(e,n={}){const{x:r,y:i,r:o=rg,length:a,rotate:f,shape:u=ig,anchor:c="middle",frameAnchor:s}=n,[d,l]=Pt(a,12),[h,p]=Pt(f,0);super(e,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,u7),this.r=+o,this.length=l,this.rotate=p,this.shape=h7(u),this.anchor=ae(c,"anchor",["start","middle","end"]),this.frameAnchor=Ec(s)}render(e,n,r,i,o){const{x:a,y:f}=n,{x:u,y:c,length:s,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:m,r:g}=this,[y,b]=$a(this,i);return Mt("svg:g",o).call(He,this,i,o).call(Ye,this,{x:u&&a,y:c&&f}).call(w=>w.selectAll().data(e).enter().append("path").call(ye,this).attr("transform",Xm`translate(${u?_=>u[_]:y},${c?_=>c[_]:b})${d?_=>` rotate(${d[_]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?s?_=>` translate(0,${s[_]})`:` translate(0,${l})`:s?_=>` translate(0,${s[_]/2})`:` translate(0,${l/2})`}`).attr("d",s?_=>{const v=eu();return m.draw(v,s[_],g),v}:(()=>{const _=eu();return m.draw(_,l,g),_})()).call(An,this,r)).node()}}function p7(t,e={}){const{x:n=Dt,...r}=e;return new og(t,{...r,x:n})}function m7(t,e={}){const{y:n=Dt,...r}=e;return new og(t,{...r,y:n})}function sn(t,e){return arguments.length<2&&!un(t)&&(e=t,t=null),e===void 0&&(e={}),[t,e]}function Na({anchor:t}={},e){return t===void 0?e[0]:ae(t,"anchor",e)}function ag(t){return Na(t,["left","right"])}function fg(t){return Na(t,["right","left"])}function ug(t){return Na(t,["bottom","top"])}function cg(t){return Na(t,["top","bottom"])}function sg(){const[t,e]=sn(...arguments);return dg("y",ag(e),t,e)}function g7(){const[t,e]=sn(...arguments);return dg("fy",fg(e),t,e)}function lg(){const[t,e]=sn(...arguments);return hg("x",ug(e),t,e)}function b7(){const[t,e]=sn(...arguments);return hg("fx",cg(e),t,e)}function dg(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="y"?6:0,tickPadding:m,tickRotate:g,x:y,margin:b,marginTop:w=b===void 0?20:b,marginRight:_=b===void 0?e==="right"?40:0:b,marginBottom:v=b===void 0?20:b,marginLeft:x=b===void 0?e==="left"?40:0:b,label:M,labelAnchor:S,labelArrow:E,labelOffset:C,...T}){return p=At(p),m=At(m),g=At(g),S!==void 0&&(S=ae(S,"labelAnchor",["center","top","bottom"])),E=vg(E),Ea(p&&!Rt(o)?y7(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,x:y,...T}):null,Rt(u)?null:w7(t,e,n,{fill:u,fillOpacity:c,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:s,tickSize:p,tickPadding:m,tickRotate:g,x:y,marginTop:w,marginRight:_,marginBottom:v,marginLeft:x,...T}),!Rt(u)&&M!==null?Km([],bg({fill:u,fillOpacity:c,...T},function(I,k,R,$,L){const D=$[t],{marginTop:W,marginRight:j,marginBottom:O,marginLeft:q}=t==="y"&&L.inset||L,P=S??(D.bandwidth?"center":"top"),z=C??(e==="right"?j:q)-3;return P==="center"?(this.textAnchor=void 0,this.lineAnchor=e==="right"?"bottom":"top",this.frameAnchor=e,this.rotate=-90):(this.textAnchor=e==="right"?"end":"start",this.lineAnchor=P,this.frameAnchor=`${P}-${e}`,this.rotate=0),this.dy=P==="top"?3-W:P==="bottom"?O-3:0,this.dx=e==="right"?z:-z,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[wg(t,D,{anchor:e,label:M,labelAnchor:P,labelArrow:E})]}}}})):null)}function hg(t,e,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=t==="x"?6:0,tickPadding:m,tickRotate:g,y,margin:b,marginTop:w=b===void 0?e==="top"?30:0:b,marginRight:_=b===void 0?20:b,marginBottom:v=b===void 0?e==="bottom"?30:0:b,marginLeft:x=b===void 0?20:b,label:M,labelAnchor:S,labelArrow:E,labelOffset:C,...T}){return p=At(p),m=At(m),g=At(g),S!==void 0&&(S=ae(S,"labelAnchor",["center","left","right"])),E=vg(E),Ea(p&&!Rt(o)?_7(t,e,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,y,...T}):null,Rt(u)?null:v7(t,e,n,{fill:u,fillOpacity:c,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:s,tickSize:p,tickPadding:m,tickRotate:g,y,marginTop:w,marginRight:_,marginBottom:v,marginLeft:x,...T}),!Rt(u)&&M!==null?Km([],bg({fill:u,fillOpacity:c,...T},function(I,k,R,$,L){const D=$[t],{marginTop:W,marginRight:j,marginBottom:O,marginLeft:q}=t==="x"&&L.inset||L,P=S??(D.bandwidth?"center":"right"),z=C??(e==="top"?W:O)-3;return P==="center"?(this.frameAnchor=e,this.textAnchor=void 0):(this.frameAnchor=`${e}-${P}`,this.textAnchor=P==="right"?"end":"start"),this.lineAnchor=e,this.dy=e==="top"?-z:z,this.dx=P==="right"?j-3:P==="left"?3-q:0,this.ariaLabel=`${t}-axis label`,{facets:[[0]],channels:{text:{value:[wg(t,D,{anchor:e,label:M,labelAnchor:P,labelArrow:E})]}}}})):null)}function y7(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+(t==="y"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetLeft:s=c,insetRight:d=c,dx:l=0,y:h=t==="y"?void 0:null,...p}){return yr(m7,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:h,...p,dx:e==="left"?+l-Ft+ +s:+l+Ft-d,anchor:"start",length:u,shape:e==="left"?C7:N7})}function _7(t,e,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=e+(t==="x"?"-empty":""),frameAnchor:f=e,tickSize:u,inset:c=0,insetTop:s=c,insetBottom:d=c,dy:l=0,x:h=t==="x"?void 0:null,...p}){return yr(p7,t,n,{ariaLabel:`${t}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:h,...p,dy:e==="bottom"?+l-Ft-d:+l+Ft+ +s,anchor:"start",length:u,shape:e==="bottom"?E7:A7})}function w7(t,e,n,{facetAnchor:r=e+(t==="y"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*Fm):0),text:u,textAnchor:c=Math.abs(a)>60?"middle":e==="left"?"end":"start",lineAnchor:s=a>60?"top":a<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:m=0,y:g=t==="y"?void 0:null,...y}){return yr(Q4,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:c,lineAnchor:s,fontVariant:d,rotate:a,y:g,...y,dx:e==="left"?+m-o-f+ +h:+m+ +o+ +f-p},function(b,w,_,v,x){d===void 0&&(this.fontVariant=_g(b)),u===void 0&&(x.text=yg(b,w,_,v,e))})}function v7(t,e,n,{facetAnchor:r=e+(t==="x"?"-empty":""),frameAnchor:i=e,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*Fm):0),text:u,textAnchor:c=Math.abs(a)>=10?a<0^e==="bottom"?"start":"end":"middle",lineAnchor:s=Math.abs(a)>=10?"middle":e==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:m=0,x:g=t==="x"?void 0:null,...y}){return yr(K4,t,n,{ariaLabel:`${t}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:s,fontVariant:d,rotate:a,x:g,...y,dy:e==="bottom"?+m+ +o+ +f-p:+m-o-f+ +h},function(b,w,_,v,x){d===void 0&&(this.fontVariant=_g(b)),u===void 0&&(x.text=yg(b,w,_,v,e))})}function x7(){const[t,e]=sn(...arguments);return pg("y",ag(e),t,e)}function T7(){const[t,e]=sn(...arguments);return pg("fy",fg(e),t,e)}function M7(){const[t,e]=sn(...arguments);return mg("x",ug(e),t,e)}function S7(){const[t,e]=sn(...arguments);return mg("fx",cg(e),t,e)}function pg(t,e,n,{y:r=t==="y"?void 0:null,x:i=null,x1:o=e==="left"?i:null,x2:a=e==="right"?i:null,...f}){return yr(Wc,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...gg(f)})}function mg(t,e,n,{x:r=t==="x"?void 0:null,y:i=null,y1:o=e==="top"?i:null,y2:a=e==="bottom"?i:null,...f}){return yr(X4,t,n,{ariaLabel:`${t}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...gg(f)})}function gg({color:t="currentColor",opacity:e=.1,stroke:n=t,strokeOpacity:r=e,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function bg({fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s=!1},d){return[,t]=ze(t),[,e]=Pt(e),{facet:"super",x:null,y:null,fill:t,fillOpacity:e,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s,initializer:d}}function yr(t,e,n,r,i,o){let a;function f(s,d,l,h,p,m){const g=s==null&&(e==="fx"||e==="fy"),{[e]:y}=h;if(!y)throw new Error(`missing scale: ${e}`);const b=y.domain();let{interval:w,ticks:_,tickFormat:v,tickSpacing:x=e==="x"?80:35}=i;if(typeof _=="string"&&xg(y)&&(w=_,_=void 0),_===void 0&&(_=gr(w,y.type)??$7(y,x)),s==null){if(un(_))s=rn(_);else if(Hn(_))s=Ef(_,...Yt(b));else if(y.interval){let S=y.interval;if(y.ticks){const[E,C]=Yt(b),T=(C-E)/S[_i];S=Cl(S,T/_)??S,s=Ef(S,E,C)}else{s=b;const E=s.length;S=Cl(S,E/_)??S,S!==y.interval&&(s=Ef(S,...Yt(s)))}if(S===y.interval){const E=Math.round(s.length/_);E>1&&(s=s.filter((C,T)=>T%E===0))}}else y.ticks?s=y.ticks(_):s=b;if(!y.ticks&&s.length&&s!==b){const S=new Go(b);s=s.filter(E=>S.has(E)),s.length||Qe(`Warning: the ${e}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}e==="y"||e==="x"?d=[Ue(s)]:a[e]={scale:e,value:Dt}}o==null||o.call(this,y,s,_,v,a);const M=Object.fromEntries(Object.entries(a).map(([S,E])=>[S,{...E,value:_t(s,E.value)}]));return g&&(d=m.filterFacets(s,M)),{data:s,facets:d,channels:M}}const u=cr(i).initializer,c=t(n,cr({...i,initializer:f},u));return n==null?(a=c.channels,c.channels={}):a={},r!==void 0&&Object.assign(c,r),c.clip===void 0&&(c.clip=!1),c}function $7(t,e){const[n,r]=Yt(t.range());return(r-n)/e}function yg(t,e,n,r,i){return{value:Vc(t,e,n,r,i)}}function Vc(t,e,n,r,i){return typeof r=="function"&&!(t.type==="log"&&t.tickFormat)?r:r===void 0&&e&&Ot(e)?tv(t.type,e,i)??lr:t.tickFormat?t.tickFormat(typeof n=="number"?n:null,r):r===void 0?lr:typeof r=="string"?(Ot(t.domain())?bi:pr)(r):Ie(r)}function Ef(t,e,n){return t.range(e,t.offset(t.floor(n)))}const E7={draw(t,e){t.moveTo(0,0),t.lineTo(0,e)}},A7={draw(t,e){t.moveTo(0,0),t.lineTo(0,-e)}},C7={draw(t,e){t.moveTo(0,0),t.lineTo(-e,0)}},N7={draw(t,e){t.moveTo(0,0),t.lineTo(e,0)}};function _g(t){return t.bandwidth&&!t.interval?void 0:"tabular-nums"}function wg(t,e,{anchor:n,label:r=e.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&xg(e)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!e.bandwidth||e.interval)&&!/[]/.test(r)),!o)return r;if(o===!0){const a=O8(e);a&&(o=/x$/.test(t)||i==="center"?/x$/.test(t)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return n==="right"?`${r} `:` ${r}`;case"down":return n==="right"?`${r} `:` ${r}`}return r}}function vg(t="auto"){return Rt(t)?!1:typeof t=="boolean"?t:ae(t,"labelArrow",["auto","up","right","down","left"])}function xg(t){return Ot(t.domain())}function od(t,e){if(e==null)return e;const n=t(e);if(!n)throw new Error(`scale not found: ${e}`);return n}function k7(t,{opacity:e,...n}={}){if(!In(t)&&!Em(t))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${t.type})`);return Tg(t,n,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Pt(e)[1]).append("rect").attr("width","100%").attr("height","100%"))}function D7(t,{fill:e=(c=>(c=t.hint)==null?void 0:c.fill)()!==void 0?t.hint.fill:"none",fillOpacity:n=1,stroke:r=(s=>(s=t.hint)==null?void 0:s.stroke)()!==void 0?t.hint.stroke:Rt(e)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},u){const[d,l]=ze(e),[h,p]=ze(r),m=od(u,d),g=od(u,h),y=a*a*Math.PI;return n=Pt(n)[1],i=Pt(i)[1],o=Pt(o)[1],Tg(t,f,(b,w,_,v)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",_).attr("height",v).attr("fill",d==="color"?x=>m.scale(x):l).attr("fill-opacity",n).attr("stroke",h==="color"?x=>g.scale(x):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",x=>{const M=eu();return t.scale(x).draw(M,y),M}))}function Tg(t,e={},n){let{columns:r,tickFormat:i,fontVariant:o=Pm(t),swatchSize:a=15,swatchWidth:f=a,swatchHeight:u=a,marginLeft:c=0,className:s,style:d,width:l}=e;const h=qc(e);s=Sa(s),i=Vc(t.scale,t.domain,void 0,i);const p=Mt("div",h).attr("class",`${s}-swatches ${s}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${s}-swatches-columns .${s}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${s}-swatches-columns .${s}-swatch::before) {
  flex-shrink: 0;
}
:where(.${s}-swatches-columns .${s}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(t.domain).enter().append("div").attr("class",`${s}-swatch`).call(n,t,f,u).call(g=>g.append("div").attr("class",`${s}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${s}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${s}-swatches-wrap .${s}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(t.domain).enter().append("span").attr("class",`${s}-swatch`).call(n,t,f,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(g=>g.insert("style","*").text(`:where(.${s}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${s}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",c?`${+c}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",xt(o,"normal")).call(Uc,d).node()}const Fu=new Map([["symbol",D7],["color",Sg],["opacity",I7]]);function R7(t,e,n={}){return(r,i)=>{if(!Fu.has(r))throw new Error(`unknown legend type: ${r}`);if(r in t)return Fu.get(r)(t[r],Mg(e,n[r],i),o=>t[o])}}function Mg({className:t,...e},{label:n,ticks:r,tickFormat:i}={},o){return Tv(o,{className:t,...e},{label:n,ticks:r,tickFormat:i})}function Sg(t,{legend:e=!0,...n}){if(e===!0&&(e=t.type==="ordinal"?"swatches":"ramp"),t.domain!==void 0)switch(`${e}`.toLowerCase()){case"swatches":return k7(t,n);case"ramp":return L4(t,n);default:throw new Error(`unknown legend type: ${e}`)}}function I7({type:t,interpolate:e,...n},{legend:r=!0,color:i=tn(0,0,0),...o}){if(!e)throw new Error(`${t} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Sg({type:t,...n,interpolate:L7(i)},{legend:r,...o})}function L7(t){const{r:e,g:n,b:r}=tn(t)||tn(0,0,0);return i=>`rgba(${e},${n},${r},${i})`}function O7(t,e,n){const r=[];for(const[i,o]of Fu){const a=n[i];if(a!=null&&a.legend&&i in t){const f=o(t[i],Mg(e,t[i],a),u=>t[u]);f!=null&&r.push(f)}}return r}function $g(t={}){return V1(t)?t:{...t,y:Dt}}function P7(t,e){if(e.length===1)return{data:t,facets:e};const n=ti(t),r=new Uint8Array(n);let i=0;for(const f of e)for(const u of f)r[u]&&++i,r[u]=1;if(i===0)return{data:t,facets:e};t=Jr(t);const o=t[H1]=new Uint32Array(n+i);e=e.map(f=>Jr(f,Uint32Array));let a=n;r.fill(0);for(const f of e)for(let u=0,c=f.length;u<c;++u){const s=f[u];r[s]?(f[u]=a,t[a]=t[s],o[a]=s,++a):o[s]=s,r[s]=1}return{data:t,facets:e}}function F7(t={},e={}){arguments.length===1&&([t,e]=q7(t));const{x1:n,x:r=n,y:i,...o}=e,[a,f,u,c]=U7(r,i,"x","y",t,o);return{...a,x1:n,x:f,y1:u,y2:c,y:Eu(u,c)}}function Eg({y:t,y1:e,y2:n,...r}={}){return r=Aa(r,"x"),e===void 0&&n===void 0?F7({y:t,...r}):([e,n]=sv(t,e,n),{...r,y1:e,y2:n})}function q7(t){const{offset:e,order:n,reverse:r,...i}=t;return[{offset:e,order:n,reverse:r},i]}const z7={length:!0};function U7(t,e=ov,n,r,{offset:i,order:o,reverse:a},f){if(e===null)throw new Error(`stack requires ${r}`);const u=Mc(f),[c,s]=Ee(t),[d,l]=qo(e),[h,p]=qo(e);return d.hint=h.hint=z7,i=B7(i),o=W7(o,i,r),[va(f,(m,g,y)=>{({data:m,facets:g}=P7(m,g));const b=t==null?void 0:s(K1(_t(m,t),y==null?void 0:y[n])),w=_t(m,e,Float64Array),_=_t(m,u),v=o&&o(m,b,w,_),x=ti(m),M=l(new Float64Array(x)),S=p(new Float64Array(x)),E=[];for(const C of g){const T=b?Array.from(Xo(C,I=>b[I]).values()):[C];if(v)for(const I of T)I.sort(v);for(const I of T){let k=0,R=0;a&&I.reverse();for(const $ of I){const L=w[$];L<0?k=S[$]=(M[$]=k)+L:L>0?R=S[$]=(M[$]=R)+L:S[$]=M[$]=R}}E.push(T)}return i&&i(E,M,S,_),{data:m,facets:g}}),c,d,h]}function B7(t){if(t!=null){if(typeof t=="function")return t;switch(`${t}`.toLowerCase()){case"expand":case"normalize":return H7;case"center":case"silhouette":return Y7;case"wiggle":return Cg}throw new Error(`unknown offset: ${t}`)}}function Ag(t,e){let n=0,r=0;for(const i of t){const o=e[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function H7(t,e,n){for(const r of t)for(const i of r){const[o,a]=Ag(i,n);for(const f of i){const u=1/(a-o||1);e[f]=u*(e[f]-o),n[f]=u*(n[f]-o)}}}function Y7(t,e,n){for(const r of t){for(const i of r){const[o,a]=Ag(i,n);for(const f of i){const u=(a+o)/2;e[f]-=u,n[f]-=u}}Ng(r,e,n)}kg(t,e,n)}function Cg(t,e,n,r){for(const i of t){const o=new wn;let a=0;for(const f of i){let u=-1;const c=f.map(h=>Math.abs(n[h]-e[h])),s=f.map(h=>{u=r?r[h]:++u;const p=n[h]-e[h],m=o.has(u)?p-o.get(u):0;return o.set(u,p),m}),d=[0,...Lb(s)];for(const h of f)e[h]+=a,n[h]+=a;const l=Je(c);l&&(a-=Je(c,(h,p)=>(s[p]/2+d[p])*h)/l)}Ng(i,e,n)}kg(t,e,n)}function Ng(t,e,n){const r=Oe(t,i=>Oe(i,o=>e[o]));for(const i of t)for(const o of i)e[o]-=r,n[o]-=r}function kg(t,e,n){const r=t.length;if(r===1)return;const i=t.map(f=>f.flat()),o=i.map(f=>(Oe(f,u=>e[u])+te(f,u=>n[u]))/2),a=Oe(o);for(let f=0;f<r;f++){const u=a-o[f];for(const c of i[f])e[c]+=u,n[c]+=u}}function W7(t,e,n){if(t===void 0&&e===Cg)return ad(ie);if(t!=null){if(typeof t=="string"){const r=t.startsWith("-"),i=r?Fo:ie;switch((r?t.slice(1):t).toLowerCase()){case"value":case n:return j7(i);case"z":return G7(i);case"sum":return X7(i);case"appearance":return V7(i);case"inside-out":return ad(i)}return fd(Y1(t))}if(typeof t=="function")return(t.length===1?fd:Z7)(t);if(Dn(t))return K7(t);throw new Error(`invalid order: ${t}`)}}function j7(t){return(e,n,r)=>(i,o)=>t(r[i],r[o])}function G7(t){return(e,n,r,i)=>(o,a)=>t(i[o],i[a])}function X7(t){return ka(t,(e,n,r,i)=>Bu(Ue(e),o=>Je(o,a=>r[a]),o=>i[o]))}function V7(t){return ka(t,(e,n,r,i)=>Bu(Ue(e),o=>n[Qd(o,a=>r[a])],o=>i[o]))}function ad(t){return ka(t,(e,n,r,i)=>{const o=Ue(e),a=Bu(o,d=>n[Qd(d,l=>r[l])],d=>i[d]),f=Yn(o,d=>Je(d,l=>r[l]),d=>i[d]),u=[],c=[];let s=0;for(const d of a)s<0?(s+=f.get(d),u.push(d)):(s-=f.get(d),c.push(d));return c.reverse().concat(u)})}function fd(t){return e=>{const n=_t(e,t);return(r,i)=>ie(n[r],n[i])}}function Z7(t){return e=>Dn(e)?(n,r)=>t(e[n],e[r]):(n,r)=>t(e.get(n),e.get(r))}function K7(t){return ka(ie,()=>t)}function ka(t,e){return(n,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new wn(e(n,r,i,o).map((f,u)=>[f,u]));return(f,u)=>t(a.get(o[f]),a.get(o[u]))}}const Q7={ariaLabel:"rect"};class J7 extends Zt{constructor(e,n={}){const{x1:r,y1:i,x2:o,y2:a}=n;super(e,{x1:{value:r,scale:"x",type:r!=null&&o==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&a==null?"band":void 0,optional:!0},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,Q7),Dg(this,n),Rg(this,n)}render(e,n,r,i,o){const{x:a,y:f}=n;let{x1:u,y1:c,x2:s,y2:d}=r;const{marginTop:l,marginRight:h,marginBottom:p,marginLeft:m,width:g,height:y}=i,{projection:b}=o,{insetTop:w,insetRight:_,insetBottom:v,insetLeft:x}=this,{rx:M,ry:S,rx1y1:E,rx1y2:C,rx2y1:T,rx2y2:I}=this;(u||s)&&!b&&sr(a)&&(u=s=null),(c||d)&&!b&&sr(f)&&(c=d=null);const k=a!=null&&a.bandwidth?a.bandwidth():0,R=f!=null&&f.bandwidth?f.bandwidth():0;return Mt("svg:g",o).call(He,this,i,o).call(Ye,this,{},0,0).call($=>$.selectAll().data(e).enter().call(E||C||T||I?L=>L.append("path").call(ye,this).call(Ig,u&&s?D=>u[D]+(s[D]<u[D]?-_:x):u?D=>u[D]+x:m+x,c&&d?D=>c[D]+(d[D]<c[D]?-v:w):c?D=>c[D]+w:l+w,u&&s?D=>s[D]-(s[D]<u[D]?-x:_):u?D=>u[D]+k-_:g-h-_,c&&d?D=>d[D]-(d[D]<c[D]?-w:v):c?D=>c[D]+R-v:y-p-v,this).call(An,this,r):L=>L.append("rect").call(ye,this).attr("x",u?s?D=>Math.min(u[D],s[D])+x:D=>u[D]+x:m+x).attr("y",c?d?D=>Math.min(c[D],d[D])+w:D=>c[D]+w:l+w).attr("width",u?s?D=>Math.max(0,Math.abs(s[D]-u[D])+k-x-_):k-x-_:g-h-m-_-x).attr("height",c?d?D=>Math.max(0,Math.abs(c[D]-d[D])+R-w-v):R-w-v:y-l-p-w-v).call(G,"rx",M).call(G,"ry",S).call(An,this,r))).node()}}function Dg(t,{inset:e=0,insetTop:n=e,insetRight:r=e,insetBottom:i=e,insetLeft:o=e}={}){t.insetTop=At(n),t.insetRight=At(r),t.insetBottom=At(i),t.insetLeft=At(o)}function Rg(t,{r:e,rx:n,ry:r,rx1:i=e,ry1:o=e,rx2:a=e,ry2:f=e,rx1y1:u=i!==void 0?+i:o!==void 0?+o:0,rx1y2:c=i!==void 0?+i:f!==void 0?+f:0,rx2y1:s=a!==void 0?+a:o!==void 0?+o:0,rx2y2:d=a!==void 0?+a:f!==void 0?+f:0}={}){u||c||s||d?(t.rx1y1=u,t.rx1y2=c,t.rx2y1=s,t.rx2y2=d):(t.rx=xt(n,"auto"),t.ry=xt(r,"auto"))}function Ig(t,e,n,r,i,o){const{rx1y1:a,rx1y2:f,rx2y1:u,rx2y2:c}=o;typeof e!="function"&&(e=Ie(e)),typeof n!="function"&&(n=Ie(n)),typeof r!="function"&&(r=Ie(r)),typeof i!="function"&&(i=Ie(i));const s=Math.max(Math.abs(a+u),Math.abs(f+c)),d=Math.max(Math.abs(a+f),Math.abs(u+c));t.attr("d",l=>{const h=e(l),p=n(l),m=r(l),g=i(l),y=h>m,b=p>g,w=y?m:h,_=y?h:m,v=b?g:p,x=b?p:g,M=Math.min(1,(_-w)/s,(x-v)/d),S=M*(y?b?c:u:b?f:a),E=M*(y?b?f:a:b?c:u),C=M*(y?b?a:f:b?u:c),T=M*(y?b?u:c:b?a:f);return`M${w},${v+Hi(S,T)}A${S},${S} 0 0 ${S<0?0:1} ${w+Bi(S,T)},${v}H${_-Bi(E,C)}A${E},${E} 0 0 ${E<0?0:1} ${_},${v+Hi(E,C)}V${x-Hi(C,E)}A${C},${C} 0 0 ${C<0?0:1} ${_-Bi(C,E)},${x}H${w+Bi(T,S)}A${T},${T} 0 0 ${T<0?0:1} ${w},${x-Hi(T,S)}Z`})}function Bi(t,e){return e<0?t:Math.abs(t)}function Hi(t,e){return e<0?Math.abs(t):t}function A9(t,e={}){return cv(e)||(e={...e,x:ba,y2:Dt,interval:1}),new J7(t,Eg(U4($g(e))))}const tx={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},ex={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class nx extends Zt{constructor(e={}){const{anchor:n=null}=e;super(io,void 0,e,n==null?tx:ex),this.anchor=X1(n,"anchor",["top","right","bottom","left"]),Dg(this,e),n||Rg(this,e)}render(e,n,r,i,o){const{marginTop:a,marginRight:f,marginBottom:u,marginLeft:c,width:s,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:m,insetLeft:g}=this,{rx:y,ry:b,rx1y1:w,rx1y2:_,rx2y1:v,rx2y2:x}=this,M=c+g,S=s-f-p,E=a+h,C=d-u-m;return Mt(l?"svg:line":w||_||v||x?"svg:path":"svg:rect",o).datum(0).call(He,this,i,o).call(ye,this).call(An,this,r).call(Ye,this,{}).call(l==="left"?T=>T.attr("x1",M).attr("x2",M).attr("y1",E).attr("y2",C):l==="right"?T=>T.attr("x1",S).attr("x2",S).attr("y1",E).attr("y2",C):l==="top"?T=>T.attr("x1",M).attr("x2",S).attr("y1",E).attr("y2",E):l==="bottom"?T=>T.attr("x1",M).attr("x2",S).attr("y1",C).attr("y2",C):w||_||v||x?T=>T.call(Ig,M,E,S,C,this):T=>T.attr("x",M).attr("y",E).attr("width",S-M).attr("height",C-E).attr("rx",y).attr("ry",b)).node()}}function rx(t){return new nx(t)}const Af={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},ix=new Set(["geometry","href","src","ariaLabel","scales"]);class ox extends Zt{constructor(e,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&un(e)&&J1(e)&&(n={...n,title:Dt});const{x:r,y:i,x1:o,x2:a,y1:f,y2:u,anchor:c,preferredAnchor:s="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:m,fontWeight:g,lineHeight:y=1,lineWidth:b=20,frameAnchor:w,format:_,textAnchor:v="start",textOverflow:x,textPadding:M=8,title:S,pointerSize:E=12,pathFilter:C="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(e,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:u,scale:"y",optional:f==null},title:{value:S,optional:!0}},n,Af),this.anchor=Au(c,"anchor"),this.preferredAnchor=Au(s,"preferredAnchor"),this.frameAnchor=Ec(w),this.textAnchor=xt(v,"middle"),this.textPadding=+M,this.pointerSize=+E,this.pathFilter=kt(C),this.lineHeight=+y,this.lineWidth=+b,this.textOverflow=Zm(x),this.monospace=!!d,this.fontFamily=kt(l),this.fontSize=At(h),this.fontStyle=kt(p),this.fontVariant=kt(m),this.fontWeight=kt(g);for(const T in Af)T in this.channels&&(this[T]=Af[T]);this.splitLines=Jm(this),this.clipLine=tg(this),this.format=typeof _=="string"||typeof _=="function"?{title:_}:{..._}}render(e,n,r,i,o){const a=this,{x:f,y:u,fx:c,fy:s}=n,{ownerSVGElement:d,document:l}=o,{anchor:h,monospace:p,lineHeight:m,lineWidth:g}=this,{textPadding:y,pointerSize:b,pathFilter:w}=this,{marginTop:_,marginLeft:v}=i,{x1:x,y1:M,x2:S,y2:E,x:C=x??S,y:T=M??E}=r,I=c?c(e.fx)-v:0,k=s?s(e.fy)-_:0,[R,$]=$a(this,i),L=Lm(r,R),D=Om(r,$),W=p?Xc:Gc,j=W(Xn);let O,q;"title"in r?(O=ud.call(this,{title:r.channels.title},n),q=sx):(O=ud.call(this,r.channels,n),q=lx);const P=Mt("svg:g",o).call(He,this,i,o).call(Qm,this).call(Ye,this,{x:C&&f,y:T&&u}).call(et=>et.selectAll().data(e).enter().append("g").attr("transform",Z=>`translate(${Math.round(L(Z))},${Math.round(D(Z))})`).call(ye,this).call(Z=>Z.append("path").attr("filter",w)).call(Z=>Z.append("text").each(function(U){const B=Wn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const N=q.call(a,U,e,O,n,r);if(typeof N=="string")for(const F of a.splitLines(N))z(B,{value:a.clipLine(F)});else{const F=new Set;for(const H of N){const{label:A=""}=H;A&&F.has(A)||(F.add(A),z(B,H))}}})));function z(et,{label:Z,value:U,color:B,opacity:N}){Z??(Z=""),U??(U="");const F=B!=null||N!=null;let H,A=g*100;const[nt]=dr(Z,A,W,j);if(nt>=0)Z=Z.slice(0,nt).trimEnd()+Xn,H=U.trim(),U="";else{(Z||!U&&!F)&&(U=" "+U);const[ot]=dr(U,A-W(Z),W,j);ot>=0&&(H=U.trim(),U=U.slice(0,ot).trimEnd()+Xn)}const Y=et.append("tspan").attr("x",0).attr("dy",`${m}em`).text("");Z&&Y.append("tspan").attr("font-weight","bold").text(Z),U&&Y.append(()=>l.createTextNode(U)),F&&Y.append("tspan").text(" ").attr("fill",B).attr("fill-opacity",N).style("user-select","none"),H&&Y.append("title").text(H)}function J(){const{width:et,height:Z}=i.facet??i;P.selectChildren().each(function(U){let{x:B,width:N,height:F}=this.getBBox();N=Math.round(N),F=Math.round(F);let H=h;if(H===void 0){const Y=L(U)+I,ot=D(U)+k,ct=Y+N+b+y*2<et,St=Y-N-b-y*2>0,We=ot+F+b+y*2<Z,ln=ot-F-b-y*2>0;H=ct&&St?We&&ln?a.preferredAnchor:ln?"bottom":"top":We&&ln?ct?"left":"right":(ct||St)&&(We||ln)?`${ln?"bottom":"top"}-${ct?"left":"right"}`:a.preferredAnchor}const A=this.firstChild,nt=this.lastChild;if(A.setAttribute("d",cx(H,b,y,N,F)),B)for(const Y of nt.childNodes)Y.setAttribute("x",-B);nt.setAttribute("y",`${+fx(H,nt.childNodes.length,m).toFixed(6)}em`),nt.setAttribute("transform",`translate(${ux(H,b,y,N,F)})`)}),P.attr("visibility",null)}return e.length&&(P.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(J):typeof requestAnimationFrame<"u"&&requestAnimationFrame(J)),P.node()}}function ax(t,{x:e,y:n,...r}={}){return r.frameAnchor===void 0&&([e,n]=Z1(e,n)),new ox(t,{...r,x:e,y:n})}function fx(t,e,n){return/^top(?:-|$)/.test(t)?.94-n:-.29-e*n}function ux(t,e,n,r,i){switch(t){case"middle":return[-r/2,i/2];case"top-left":return[n,e+n];case"top":return[-r/2,e/2+n];case"top-right":return[-r-n,e+n];case"right":return[-e/2-r-n,i/2];case"bottom-left":return[n,-e-n];case"bottom":return[-r/2,-e/2-n];case"bottom-right":return[-r-n,-e-n];case"left":return[n+e/2,i/2]}}function cx(t,e,n,r,i){const o=r+n*2,a=i+n*2;switch(t){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${e},${e}h${o-e}v${a}h${-o}z`;case"top":return`M0,0l${e/2},${e/2}h${(o-e)/2}v${a}h${-o}v${-a}h${(o-e)/2}z`;case"top-right":return`M0,0l${-e},${e}h${e-o}v${a}h${o}z`;case"right":return`M0,0l${-e/2},${-e/2}v${e/2-a/2}h${-o}v${a}h${o}v${e/2-a/2}z`;case"bottom-left":return`M0,0l${e},${-e}h${o-e}v${-a}h${-o}z`;case"bottom":return`M0,0l${e/2},${-e/2}h${(o-e)/2}v${-a}h${-o}v${a}h${(o-e)/2}z`;case"bottom-right":return`M0,0l${-e},${-e}h${e-o}v${-a}h${o}z`;case"left":return`M0,0l${e/2},${-e/2}v${e/2-a/2}h${o}v${a}h${-o}v${e/2-a/2}z`}}function ud(t,e){var i,o;const n={};let r=this.format;r=cd(r,t,"x"),r=cd(r,t,"y"),this.format=r;for(const a in r){const f=r[a];if(!(f===null||f===!1))if(a==="fx"||a==="fy")n[a]=!0;else{const u=Pl(t,a);u&&(n[a]=u)}}for(const a in t){if(a in n||a in r||ix.has(a)||(a==="x"||a==="y")&&t.geometry)continue;const f=Pl(t,a);if(f){if(f.scale==null&&f.defaultScale==="color")continue;n[a]=f}}this.facet&&(e.fx&&!("fx"in r)&&(n.fx=!0),e.fy&&!("fy"in r)&&(n.fy=!0));for(const a in n){const f=this.format[a];if(typeof f=="string"){const u=((i=n[a])==null?void 0:i.value)??((o=e[a])==null?void 0:o.domain())??[];this.format[a]=(Ot(u)?bi:pr)(f)}else if(f===void 0||f===!0){const u=e[a];this.format[a]=u!=null&&u.bandwidth?Vc(u,u.domain()):lr}}return n}function cd(t,e,n){if(!(n in t))return t;const r=`${n}1`,i=`${n}2`;if((r in t||!(r in e))&&(i in t||!(i in e)))return t;const o=Object.entries(t),a=t[n];return o.splice(o.findIndex(([f])=>f===n)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function sx(t,e,{title:n}){return this.format.title(n.value[t],t)}function*lx(t,e,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:Uo(r,n,o),value:this.format[o](e[o],t)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const a=n[o];if(o==="x2"&&"x1"in n)yield{label:ld(r,n,"x"),value:sd(this.format.x2,n.x1,a,t)};else if(o==="y2"&&"y1"in n)yield{label:ld(r,n,"y"),value:sd(this.format.y2,n.y1,a,t)};else{const f=a.value[t],u=a.scale;if(!nn(f)&&u==null)continue;yield{label:Uo(r,n,o),value:this.format[o](f,t),color:u==="color"?i[o][t]:null,opacity:u==="opacity"?i[o][t]:null}}}}function sd(t,e,n,r){var i;return(i=n.hint)!=null&&i.length?`${t(n.value[r]-e.value[r],r)}`:`${t(e.value[r],r)}${t(n.value[r],r)}`}function ld(t,e,n){const r=Uo(t,e,`${n}1`,n),i=Uo(t,e,`${n}2`,n);return r===i?r:`${r}${i}`}function Uo(t,e,n,r=n){const i=e[n],o=t[(i==null?void 0:i.scale)??n];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function dx(t={}){var j;const{facet:e,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=t,u=Sa(t.className),c=t.marks===void 0?[]:hd(t.marks);c.push(..._x(c));const s=bx(e,t),d=new Map;for(const O of c){const q=pd(O,s,t);q&&d.set(O,q)}const l=new Map;s&&Sr(l,[s],t),Sr(l,d,t);const h=hd(wx(c,l,t));for(const O of h){const q=pd(O,s,t);q&&d.set(O,q)}c.unshift(...h);let p=Y8(l,t);if(p!==void 0){const O=s?Tf(p,s):void 0;for(const P of c){if(P.facet===null||P.facet==="super")continue;const z=d.get(P);z!==void 0&&(z.facetsIndex=P.fx!=null||P.fy!=null?Tf(p,z):O)}const q=new Set;for(const{facetsIndex:P}of d.values())P==null||P.forEach((z,J)=>{(z==null?void 0:z.length)>0&&q.add(J)});p.forEach(0<q.size&&q.size<p.length?(P,z)=>P.empty=!q.has(z):P=>P.empty=!1);for(const P of c)if(P.facet==="exclude"){const z=d.get(P);z!==void 0&&(z.facetsIndex=G8(z.facetsIndex))}}for(const O of dt.keys())$u(t[O])&&O!=="fx"&&O!=="fy"&&l.set(O,[]);const m=new Map;for(const O of c){if(m.has(O))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:q,channels:P}=d.get(O)??{},{data:z,facets:J,channels:et}=O.initialize(q,P,t);Zc(et,t),m.set(O,{data:z,facets:J,channels:et})}const g=Du(Sr(l,m,t),t),y=k4(g,c,t);I8(g,y);const b=Yl(g),{fx:w,fy:_}=b,v=w||_?Mm(g,y):y,x=w||_?Ex(b,y):y,M=qc(t),S=M.document,E=Zo("svg").call(S.documentElement);let C=E;M.ownerSVGElement=E,M.className=u,M.projection=n4(t,v),M.filterFacets=(O,q)=>Tf(p,{channels:q,groups:Fc(O,q)}),M.getMarkState=O=>{const q=m.get(O),P=d.get(O);return{...q,channels:{...q.channels,...P==null?void 0:P.channels}}},M.dispatchValue=O=>{C.value!==O&&(C.value=O,C.dispatchEvent(new Event("input",{bubbles:!0})))};const T=new Set;for(const[O,q]of m)if(O.initializer!=null){const P=O.facet==="super"?x:v,z=O.initializer(q.data,q.facets,q.channels,b,P,M);if(z.data!==void 0&&(q.data=z.data),z.facets!==void 0&&(q.facets=z.facets),z.channels!==void 0){const{fx:J,fy:et,...Z}=z.channels;gx(Z),Object.assign(q.channels,Z);for(const U of Object.values(Z)){const{scale:B}=U;B!=null&&!$v(dt.get(B))&&(Lg(U,t),T.add(B))}(J!=null||et!=null)&&d.set(O,!0)}}if(T.size){const O=new Map;Sr(O,m,t,J=>T.has(J)),Sr(l,m,t,J=>T.has(J));const q=$x(Du(O,t),g),{scales:P,...z}=Yl(q);Object.assign(g,q),Object.assign(b,z),Object.assign(b.scales,P)}let I,k;p!==void 0&&(I={x:w==null?void 0:w.domain(),y:_==null?void 0:_.domain()},p=W8(p,I),k=j8(w,_,y));for(const[O,q]of m)q.values=O.scale(q.channels,b,M);const{width:R,height:$}=y;Wn(E).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",R).attr("height",$).attr("viewBox",`0 0 ${R} ${$}`).attr("aria-label",a).attr("aria-description",f).call(O=>O.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(Uc,n);for(const O of c){const{channels:q,values:P,facets:z}=m.get(O);if(p===void 0||O.facet==="super"){let J=null;if(z&&(J=z[0],J=O.filter(J,q,P),J.length===0))continue;const et=O.render(J,b,P,x,M);if(et==null)continue;E.appendChild(et)}else{let J;for(const et of p){if(!(((j=O.facetAnchor)==null?void 0:j.call(O,p,I,et))??!et.empty))continue;let Z=null;if(z){const B=d.has(O);if(Z=z[B?et.i:0],Z=O.filter(Z,q,P),Z.length===0)continue;!B&&Z===z[0]&&(Z=lv(Z)),Z.fx=et.x,Z.fy=et.y,Z.fi=et.i}const U=O.render(Z,b,P,v,M);if(U!=null){(J??(J=Wn(E).append("g"))).append(()=>U).datum(et);for(const B of["aria-label","aria-description","aria-hidden","transform"])U.hasAttribute(B)&&(J.attr(B,U.getAttribute(B)),U.removeAttribute(B))}}J==null||J.selectChildren().attr("transform",k)}}const L=O7(g,M,t),{figure:D=r!=null||i!=null||o!=null||L.length>0}=t;D&&(C=S.createElement("figure"),C.className=`${u}-figure`,C.style.maxWidth="initial",r!=null&&C.append(dd(S,r,"h2")),i!=null&&C.append(dd(S,i,"h3")),C.append(...L,E),o!=null&&C.append(hx(S,o)),"value"in E&&(C.value=E.value,delete E.value)),C.scale=B8(b.scales),C.legend=R7(g,M,t);const W=b8();return W>0&&Wn(E).append("text").attr("x",R).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${W.toLocaleString("en-US")} warning${W===1?"":"s"}. Please check the console.`),C}function dd(t,e,n){if(e.ownerDocument)return e;const r=t.createElement(n);return r.append(e),r}function hx(t,e){const n=t.createElement("figcaption");return n.append(e),n}function hd(t){return t.flat(1/0).filter(e=>e!=null).map(px)}function px(t){return typeof t.render=="function"?t:new mx(t)}class mx extends Zt{constructor(e){if(typeof e!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=e}render(){}}function Zc(t,e){for(const n in t)Lg(t[n],e);return t}function Lg(t,e){const{scale:n,transform:r=!0}=t;if(n==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?u=>u==null?NaN:u*100:Q1(a,i)}=e[n]??{};f!=null&&(t.value=ht(t.value,f),t.transform=!1)}function gx(t){for(const e in t)sm(e,t[e])}function Sr(t,e,n,r=av){var i,o;for(const{channels:a}of e.values())for(const f in a){const u=a[f],{scale:c}=u;if(c!=null&&r(c))if(c==="projection"){if(!a4(n)){const s=((i=n.x)==null?void 0:i.domain)===void 0,d=((o=n.y)==null?void 0:o.domain)===void 0;if(s||d){const[l,h]=u4(u);s&&Cf(t,"x",l),d&&Cf(t,"y",h)}}}else Cf(t,c,u)}return t}function Cf(t,e,n){const r=t.get(e);r!==void 0?r.push(n):t.set(e,[n])}function bx(t,e){if(t==null)return;const{x:n,y:r}=t;if(n==null&&r==null)return;const i=fr(t.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=ni(i,{value:n,scale:"fx"})),r!=null&&(o.fy=ni(i,{value:r,scale:"fy"})),Zc(o,e);const a=Fc(i,o);return{channels:o,groups:a,data:t.data}}function pd(t,e,n){if(t.facet===null||t.facet==="super")return;const{fx:r,fy:i}=t;if(r!=null||i!=null){const u=fr(t.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${t.ariaLabel}`);if(u===null)return;const c={};return r!=null&&(c.fx=ni(u,{value:r,scale:"fx"})),i!=null&&(c.fy=ni(u,{value:i,scale:"fy"})),Zc(c,n),{channels:c,groups:Fc(u,c)}}if(e===void 0)return;const{channels:o,groups:a,data:f}=e;if(t.facet!=="auto"||t.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&ti(fr(t.data))===ti(f)&&Qe(`Warning: the ${t.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function yx(t,e={}){return cr({...e,x:null,y:null},(n,r,i,o,a,f)=>f.getMarkState(t))}function _x(t){const e=[];for(const n of t){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?I4:/^y$/i.test(i)?Ql:R4,r=i(yx(n,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===Ql?"left":"bottom");const a=ax(n.data,r);a.facet=n.facet,a.facetAnchor=n.facetAnchor,e.push(a)}}return e}function wx(t,e,n){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:u,grid:c,facet:s={},facet:{axis:d=u,grid:l}=s,x:{axis:h=u,grid:p=h===null?null:c}=i,y:{axis:m=u,grid:g=m===null?null:c}=o,fx:{axis:y=d,grid:b=y===null?null:l}=a,fy:{axis:w=d,grid:_=w===null?null:l}=f}=n;(r||!$u(i)&&!md("x",t))&&(h=p=null),(r||!$u(o)&&!md("y",t))&&(m=g=null),e.has("fx")||(y=b=null),e.has("fy")||(w=_=null),h===void 0&&(h=!ji(t,"x")),m===void 0&&(m=!ji(t,"y")),y===void 0&&(y=!ji(t,"fx")),w===void 0&&(w=!ji(t,"fy")),h===!0&&(h="bottom"),m===!0&&(m="left"),y===!0&&(y=h==="top"||h===null?"bottom":"top"),w===!0&&(w=m==="right"||m===null?"left":"right");const v=[];return Wi(v,_,T7,f),Yi(v,w,g7,"right","left",s,f),Wi(v,b,S7,a),Yi(v,y,b7,"top","bottom",s,a),Wi(v,g,x7,o),Yi(v,m,sg,"left","right",n,o),Wi(v,p,M7,i),Yi(v,h,lg,"bottom","top",n,i),v}function Yi(t,e,n,r,i,o,a){if(!e)return;const f=vx(e);a=xx(f?r:e,o,a);const{line:u}=a;(n===sg||n===lg)&&u&&!ei(u)&&t.push(rx(Tx(a))),t.push(n(a)),f&&t.push(n({...a,anchor:i,label:null}))}function Wi(t,e,n,r){!e||ei(e)||t.push(n(Mx(e,r)))}function vx(t){return/^\s*both\s*$/i.test(t)}function xx(t,e,{line:n=e.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:d,label:l=e.label,labelAnchor:h,labelArrow:p=e.labelArrow,labelOffset:m}){return{anchor:t,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:m}}function Tx(t){const{anchor:e,line:n}=t;return{anchor:e,facetAnchor:e+"-empty",stroke:n===!0?void 0:n}}function Mx(t,{stroke:e=_a(t)?t:void 0,ticks:n=Sx(t)?t:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:e,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function Sx(t){switch(typeof t){case"number":return!0;case"string":return!_a(t)}return un(t)||typeof(t==null?void 0:t.range)=="function"}function ji(t,e){const n=`${e}-axis `;return t.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function md(t,e){for(const n of e)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===t||i==="projection")return!0}return!1}function $x(t,e){for(const n in t){const r=t[n],i=e[n];r.label===void 0&&i&&(r.label=i.label)}return t}function Ex({fx:t,fy:e},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:u}=Pc(n),c=t&&gd(t),s=e&&gd(e);return{marginTop:e?s[0]:r,marginRight:t?f-c[1]:i,marginBottom:e?u-s[1]:o,marginLeft:t?c[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:u}}function gd(t){const e=t.domain();if(e.length===0)return[0,t.bandwidth()];let n=t(e[0]),r=t(e[e.length-1]);return r<n&&([n,r]=[r,n]),[n,r+t.bandwidth()]}const Ax=new Map([["basis",k5],["basis-closed",D5],["basis-open",R5],["bundle",I5],["bump-x",w5],["bump-y",v5],["cardinal",L5],["cardinal-closed",O5],["cardinal-open",P5],["catmull-rom",F5],["catmull-rom-closed",q5],["catmull-rom-open",z5],["linear",yi],["linear-closed",U5],["monotone-x",B5],["monotone-y",H5],["natural",Y5],["step",W5],["step-after",G5],["step-before",j5]]);function Og(t=yi,e){if(typeof t=="function")return t;const n=Ax.get(`${t}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${t}`);if(e!==void 0){if("beta"in n)return n.beta(e);if("tension"in n)return n.tension(e);if("alpha"in n)return n.alpha(e)}return n}function Cx(t=Bo,e){return typeof t!="function"&&`${t}`.toLowerCase()==="auto"?Bo:Og(t,e)}function Bo(t){return yi(t)}function Nx(t={y:"count"},e={}){[t,e]=Rx(t,e);const{x:n,y:r}=e;return Dx(Ix(n,e,Dt),null,null,r,t,Ca(e))}function kx(t,e,n={}){if((n==null?void 0:n.interval)==null)return n;const{reduce:r=Rc}=n,i={filter:null};return n[e]!=null&&(i[e]=r),n[`${e}1`]!=null&&(i[`${e}1`]=r),n[`${e}2`]!=null&&(i[`${e}2`]=r),t(i,n)}function Pg(t={}){return kx(Nx,"y",Aa(t,"x"))}function Dx(t,e,n,r,{data:i=cm,filter:o=zo,sort:a,reverse:f,...u}={},c={}){t=bd(t),e=bd(e),u=Ox(u,c),i=zg(i,Dt),a=a==null?void 0:Fg("sort",a,c),o=o==null?void 0:qg("filter",o,c),r!=null&&gf(u,"y","y1","y2")&&(r=null);const[s,d]=Ee(t),[l,h]=Ee(t),[p,m]=Ee(e),[g,y]=Ee(e),[b,w]=r!=null?[r,"y"]:[],[_,v]=Ee(b),{x,y:M,z:S,fill:E,stroke:C,x1:T,x2:I,y1:k,y2:R,domain:$,cumulative:L,thresholds:D,interval:W,...j}=c,[O,q]=Ee(S),[P]=ze(E),[z]=ze(C),[J,et]=Ee(P),[Z,U]=Ee(z);return{..."z"in c&&{z:O||S},..."fill"in c&&{fill:J||E},..."stroke"in c&&{stroke:Z||C},...va(j,(B,N,F)=>{const H=K1(_t(B,b),F==null?void 0:F[w]),A=_t(B,S),nt=_t(B,P),Y=_t(B,z),ot=Fv(u,{z:A,fill:nt,stroke:Y}),ct=[],St=[],We=H&&v([]),ln=A&&q([]),Zg=nt&&et([]),Kg=Y&&U([]),Qc=t&&d([]),Qg=t&&h([]),Jc=e&&m([]),Jg=e&&y([]),tb=qx(t,e,B);let eb=0;for(const Ln of u)Ln.initialize(B);a&&a.initialize(B),o&&o.initialize(B);for(const Ln of N){const ts=[];for(const On of u)On.scope("facet",Ln);a&&a.scope("facet",Ln),o&&o.scope("facet",Ln);for(const[On,nb]of Rl(Ln,ot))for(const[rb,$i]of Rl(nb,H))for(const[fe,ve]of tb($i))if(ot&&(ve.z=On),!(o&&!o.reduce(fe,ve))){ts.push(eb++),St.push(i.reduceIndex(fe,B,ve)),H&&We.push(rb),A&&ln.push(ot===A?On:A[(fe.length>0?fe:$i)[0]]),nt&&Zg.push(ot===nt?On:nt[(fe.length>0?fe:$i)[0]]),Y&&Kg.push(ot===Y?On:Y[(fe.length>0?fe:$i)[0]]),Qc&&(Qc.push(ve.x1),Qg.push(ve.x2)),Jc&&(Jc.push(ve.y1),Jg.push(ve.y2));for(const ib of u)ib.reduce(fe,ve);a&&a.reduce(fe,ve)}ct.push(ts)}return qv(ct,a,f),{data:St,facets:ct}}),...!gf(u,"x")&&(s?{x1:s,x2:l,x:Eu(s,l)}:{x,x1:T,x2:I}),...!gf(u,"y")&&(p?{y1:p,y2:g,y:Eu(p,g)}:{y:M,y1:k,y2:R}),..._&&{[w]:_},...Object.fromEntries(u.map(({name:B,output:N})=>[B,N]))}}function Rx({cumulative:t,domain:e,thresholds:n,interval:r,...i},o){return[i,{cumulative:t,domain:e,thresholds:n,interval:r,...o}]}function Ix(t,{cumulative:e,domain:n,thresholds:r,interval:i},o){return t={...wi(t)},t.domain===void 0&&(t.domain=n),t.cumulative===void 0&&(t.cumulative=e),t.thresholds===void 0&&(t.thresholds=r),t.interval===void 0&&(t.interval=i),t.value===void 0&&(t.value=o),t.thresholds=Lx(t.thresholds,t.interval),t}function bd(t){if(t==null)return;const{value:e,cumulative:n,domain:r=Yt,thresholds:i}=t,o=a=>{let f=_t(a,e),u;if(Ot(f)||Fx(i)){f=ht(f,G1,Float64Array);let[s,d]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!Hn(i)?i(f,s,d):i;typeof l=="number"&&(l=z0(s,d,l)),Hn(l)&&(r===Yt&&(s=l.floor(s),d=l.offset(l.floor(d))),l=l.range(s,l.offset(d))),u=l}else{f=ar(f);let[s,d]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!Hn(i)?i(f,s,d):i;if(typeof l=="number")if(r===Yt){let h=uo(s,d,l);if(isFinite(h))if(h>0){let p=Math.round(s/h),m=Math.round(d/h);p*h<=s||--p,m*h>d||++m;let g=m-p+1;l=new Float64Array(g);for(let y=0;y<g;++y)l[y]=(p+y)*h}else if(h<0){h=-h;let p=Math.round(s*h),m=Math.round(d*h);p/h<=s||--p,m/h>d||++m;let g=m-p+1;l=new Float64Array(g);for(let y=0;y<g;++y)l[y]=(p+y)/h}else l=[s];else l=[s]}else l=Yr(s,d,l);else Hn(l)&&(r===Yt&&(s=l.floor(s),d=l.offset(l.floor(d))),l=l.range(s,l.offset(d)));u=l}const c=[];if(u.length===1)c.push([u[0],u[0]]);else for(let s=1;s<u.length;++s)c.push([u[s-1],u[s]]);return c.bin=(n<0?Ux:n>0?zx:Kc)(c,u,f),c};return o.label=Rn(e),o}function Lx(t,e,n=yd){if(t===void 0)return e===void 0?n:gr(e);if(typeof t=="string"){switch(t.toLowerCase()){case"freedman-diaconis":return Wb;case"scott":return Jd;case"sturges":return Ub;case"auto":return yd}return wc(t)}return t}function Ox(t,e){return Lv(t,e,Fg)}function Fg(t,e,n){return fm(t,e,n,qg)}function qg(t,e,n){return um(t,e,n,zg)}function zg(t,e){return Dc(t,e,Px)}function Px(t){switch(`${t}`.toLowerCase()){case"x":return Bx;case"x1":return Yx;case"x2":return Wx;case"y":return Hx;case"y1":return jx;case"y2":return Gx;case"z":return jv}throw new Error(`invalid bin reduce: ${t}`)}function yd(t,e,n){return Math.min(200,Jd(t,e,n))}function Fx(t){return mv(t)||un(t)&&Ot(t)}function qx(t,e,n){const r=t==null?void 0:t(n),i=e==null?void 0:e(n);return r&&i?function*(o){const a=r.bin(o);for(const[f,[u,c]]of r.entries()){const s=i.bin(a[f]);for(const[d,[l,h]]of i.entries())yield[s[d],{data:n,x1:u,y1:l,x2:c,y2:h}]}}:r?function*(o){const a=r.bin(o);for(const[f,[u,c]]of r.entries())yield[a[f],{data:n,x1:u,x2:c}]}:function*(o){const a=i.bin(o);for(const[f,[u,c]]of i.entries())yield[a[f],{data:n,y1:u,y2:c}]}}function Kc(t,e,n){return e=ar(e),r=>{var o;const i=t.map(()=>[]);for(const a of r)(o=i[jo(e,n[a])-1])==null||o.push(a);return i}}function zx(t,e,n){const r=Kc(t,e,n);return i=>{const o=r(i);for(let a=1,f=o.length;a<f;++a){const u=o[a-1],c=o[a];for(const s of u)c.push(s)}return o}}function Ux(t,e,n){const r=Kc(t,e,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const f=o[a+1],u=o[a];for(const c of f)u.push(c)}return o}}function Ug(t,e){const n=(+t+ +e)/2;return t instanceof Date?new Date(n):n}const Bx={reduceIndex(t,e,{x1:n,x2:r}){return Ug(n,r)}},Hx={reduceIndex(t,e,{y1:n,y2:r}){return Ug(n,r)}},Yx={reduceIndex(t,e,{x1:n}){return n}},Wx={reduceIndex(t,e,{x2:n}){return n}},jx={reduceIndex(t,e,{y1:n}){return n}},Gx={reduceIndex(t,e,{y2:n}){return n}},Xx={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Vx extends Zt{constructor(e,n={}){const{x1:r,y1:i,x2:o,y2:a,z:f,curve:u,tension:c}=n;super(e,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0},z:{value:Mc(n),optional:!0}},n,Xx),this.z=f,this.curve=Og(u,c)}filter(e){return e}render(e,n,r,i,o){const{x1:a,y1:f,x2:u=a,y2:c=f}=r;return Mt("svg:g",o).call(He,this,i,o).call(Ye,this,n,0,0).call(s=>s.selectAll().data(km(e,[a,f,u,c],this,r)).enter().append("path").call(ye,this).call(Nm,this,r).attr("d",_5().curve(this.curve).defined(d=>d>=0).x0(d=>a[d]).y0(d=>f[d]).x1(d=>u[d]).y1(d=>c[d]))).node()}}function Bg(t,e){const{x:n=ba,...r}=Pg(e);return new Vx(t,Eg($g({...r,x1:n,x2:void 0})))}const Zx={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Kx extends Zt{constructor(e,n={}){const{x:r,y:i,z:o,curve:a,tension:f}=n;super(e,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Mc(n),optional:!0}},n,Zx),this.z=o,this.curve=Cx(a,f),Hc(this,n)}filter(e){return e}project(e,n,r){this.curve!==Bo&&super.project(e,n,r)}render(e,n,r,i,o){const{x:a,y:f}=r,{curve:u}=this;return Mt("svg:g",o).call(He,this,i,o).call(Ye,this,n).call(c=>c.selectAll().data(km(e,[a,f],this,r)).enter().append("path").call(ye,this).call(Nm,this,r).call(q4,this,r,o).attr("d",u===Bo&&o.projection?Qx(o.projection,a,f):u1().curve(u).defined(s=>s>=0).x(s=>a[s]).y(s=>f[s]))).node()}}function Qx(t,e,n){const r=na(t);return e=ar(e),n=ar(n),i=>{let o=[];const a=[o];for(const f of i)f===-1?(o=[],a.push(o)):o.push([e[f],n[f]]);return r({type:"MultiLineString",coordinates:a})}}function Hg(t,{x:e=ba,y:n=Dt,...r}={}){return new Kx(t,Pg({...r,x:e,y:n}))}Zt.prototype.plot=function({marks:t=[],...e}={}){return dx({...e,marks:[...t,this]})};function _d(t){const e=document.createElement("template");return e.innerHTML=t,document.importNode(e.content,!0)}function wd(t){const e=document.createElementNS("http://www.w3.org/2000/svg","g");return e.innerHTML=t,e}Object.assign(Yo(_d,t=>{if(t.firstChild===null)return null;if(t.firstChild===t.lastChild)return t.removeChild(t.firstChild);const e=document.createElement("span");return e.appendChild(t),e}),{fragment:Yo(_d,t=>t)});const Jx=Object.assign(Yo(wd,t=>t.firstChild===null?null:t.firstChild===t.lastChild?t.removeChild(t.firstChild):t),{fragment:Yo(wd,t=>{const e=document.createDocumentFragment();for(;t.firstChild;)e.appendChild(t.firstChild);return e})}),t9=9,e9=10,n9=12,r9=13,i9=32,o9=65,a9=90,f9=97,u9=122,Gi=60,Ct=62,je=47,ue=45,Nf=33,kf=61,vd=34,xd=39,c9=63,vt=1,Td=2,Md=3,Df=4,Xi=5,Ge=6,Rf=7,Vi=8,Zi=9,If=10,Lf=11,Ki=12,Of=13,$r=14,Sd=15,$d=16,$e=17,Ed=18,Ad=19,Cd=20,Nd=21,Pf=22,Er=23,kd=24,Dd=25,ce=26,Rd=27,Id=28,Ld=29,s9=128,Od=1,l9=8,d9=1,Yg="http://www.w3.org/2000/svg",dn="http://www.w3.org/1999/xlink",Pd="http://www.w3.org/XML/1998/namespace",Fd="http://www.w3.org/2000/xmlns/",Wg=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(t=>[t.toLowerCase(),t])),Ho=new Map([["xlink:actuate",dn],["xlink:arcrole",dn],["xlink:href",dn],["xlink:role",dn],["xlink:show",dn],["xlink:title",dn],["xlink:type",dn],["xml:lang",Pd],["xml:space",Pd],["xmlns",Fd],["xmlns:xlink",Fd]]);function Yo(t,e){return function({raw:n}){let r=vt,i="",o,a,f,u,c=0;for(let h=0,p=arguments.length;h<p;++h){const m=n[h];if(h>0){const g=arguments[h];switch(r){case ce:{if(g!=null){const y=`${g}`;if(jg(a))i+=y.replace(/[<]/g,zn);else{if(new RegExp(`</${a}[\\s>/]`,"i").test(i.slice(-a.length-2)+y))throw new Error("unsafe raw text");i+=y}}break}case vt:{g==null||(g instanceof Node||typeof g!="string"&&g[Symbol.iterator]||/(?:^|>)$/.test(n[h-1])&&/^(?:<|$)/.test(m)?(i+="<!--::"+h+"-->",c|=s9):i+=`${g}`.replace(/[<&]/g,zn));break}case Zi:{r=Ki;let y;if(/^[\s>]/.test(m)){if(g==null||g===!1){i=i.slice(0,f-n[h-1].length);break}if(g===!0||(y=`${g}`)==""){i+="''";break}if(n[h-1].slice(f,u)==="style"&&Ff(g)||typeof g=="function"){i+="::"+h,c|=Od;break}}if(y===void 0&&(y=`${g}`),y==="")throw new Error("unsafe unquoted empty string");i+=y.replace(/^['"]|[\s>&]/g,zn);break}case Ki:{i+=`${g}`.replace(/[\s>&]/g,zn);break}case Lf:{i+=`${g}`.replace(/['&]/g,zn);break}case If:{i+=`${g}`.replace(/["&]/g,zn);break}case Ge:{if(Ff(g)){i+="::"+h+"=''",c|=Od;break}throw new Error("invalid binding")}case $e:break;default:throw new Error("invalid binding")}}for(let g=0,y=m.length;g<y;++g){const b=m.charCodeAt(g);switch(r){case vt:{b===Gi&&(r=Td);break}case Td:{b===Nf?r=Dd:b===je?r=Md:Qi(b)?(o=g,a=void 0,r=Df,--g):b===c9?(r=Xi,--g):(r=vt,--g);break}case Md:{Qi(b)?(r=Df,--g):b===Ct?r=vt:(r=Xi,--g);break}case Df:{Xe(b)?(r=Ge,a=Cr(m,o,g)):b===je?r=$r:b===Ct&&(a=Cr(m,o,g),r=Ar(a)?ce:vt);break}case Ge:{Xe(b)||(b===je||b===Ct?(r=Rf,--g):b===kf?(r=Vi,f=g+1,u=void 0):(r=Vi,--g,f=g+1,u=void 0));break}case Vi:{Xe(b)||b===je||b===Ct?(r=Rf,--g,u=g):b===kf&&(r=Zi,u=g);break}case Rf:{Xe(b)||(b===je?r=$r:b===kf?r=Zi:b===Ct?r=Ar(a)?ce:vt:(r=Vi,--g,f=g+1,u=void 0));break}case Zi:{Xe(b)||(b===vd?r=If:b===xd?r=Lf:b===Ct?r=Ar(a)?ce:vt:(r=Ki,--g));break}case If:{b===vd&&(r=Of);break}case Lf:{b===xd&&(r=Of);break}case Ki:{Xe(b)?r=Ge:b===Ct&&(r=Ar(a)?ce:vt);break}case Of:{Xe(b)?r=Ge:b===je?r=$r:b===Ct?r=Ar(a)?ce:vt:(r=Ge,--g);break}case $r:{b===Ct?r=vt:(r=Ge,--g);break}case Xi:{b===Ct&&(r=vt);break}case Sd:{b===ue?r=$d:b===Ct?r=vt:(r=$e,--g);break}case $d:{b===ue?r=Er:b===Ct?r=vt:(r=$e,--g);break}case $e:{b===Gi?r=Ed:b===ue&&(r=Pf);break}case Ed:{b===Nf?r=Ad:b!==Gi&&(r=$e,--g);break}case Ad:{b===ue?r=Cd:(r=$e,--g);break}case Cd:{b===ue?r=Nd:(r=Er,--g);break}case Nd:{r=Er,--g;break}case Pf:{b===ue?r=Er:(r=$e,--g);break}case Er:{b===Ct?r=vt:b===Nf?r=kd:b!==ue&&(r=$e,--g);break}case kd:{b===ue?r=Pf:b===Ct?r=vt:(r=$e,--g);break}case Dd:{b===ue&&m.charCodeAt(g+1)===ue?(r=Sd,++g):(r=Xi,--g);break}case ce:{b===Gi&&(r=Rd);break}case Rd:{b===je?r=Id:(r=ce,--g);break}case Id:{Qi(b)?(o=g,r=Ld,--g):(r=ce,--g);break}case Ld:{Xe(b)&&a===Cr(m,o,g)?r=Ge:b===je&&a===Cr(m,o,g)?r=$r:b===Ct&&a===Cr(m,o,g)?r=vt:Qi(b)||(r=ce,--g);break}default:{r=void 0;break}}}i+=m}const s=t(i),d=document.createTreeWalker(s,c,null,!1),l=[];for(;d.nextNode();){const h=d.currentNode;switch(h.nodeType){case d9:{const p=h.attributes;for(let m=0,g=p.length;m<g;++m){const{name:y,value:b}=p[m];if(/^::/.test(y)){const w=arguments[+y.slice(2)];qd(h,y),--m,--g;for(const _ in w){const v=w[_];v==null||v===!1||(typeof v=="function"?h[_]=v:_==="style"&&Ff(v)?zd(h[_],v):h9(h,_,v===!0?"":v))}}else if(/^::/.test(b)){const w=arguments[+b.slice(2)];qd(h,y),--m,--g,typeof w=="function"?h[y]=w:zd(h[y],w)}}break}case l9:{if(/^::/.test(h.data)){const p=h.parentNode,m=arguments[+h.data.slice(2)];if(m instanceof Node)p.insertBefore(m,h);else if(typeof m!="string"&&m[Symbol.iterator])if(m instanceof NodeList||m instanceof HTMLCollection)for(let g=m.length-1,y=h;g>=0;--g)y=p.insertBefore(m[g],y);else for(const g of m)g!=null&&p.insertBefore(g instanceof Node?g:document.createTextNode(g),h);else p.insertBefore(document.createTextNode(m),h);l.push(h)}break}}}for(const h of l)h.parentNode.removeChild(h);return e(s)}}function zn(t){return`&#${t.charCodeAt(0).toString()};`}function Qi(t){return o9<=t&&t<=a9||f9<=t&&t<=u9}function Xe(t){return t===t9||t===e9||t===n9||t===i9||t===r9}function Ff(t){return t&&t.toString===Object.prototype.toString}function Ar(t){return t==="script"||t==="style"||jg(t)}function jg(t){return t==="textarea"||t==="title"}function Cr(t,e,n){return t.slice(e,n).toLowerCase()}function h9(t,e,n){if(t.namespaceURI===Yg&&(e=e.toLowerCase(),e=Wg.get(e)||e,Ho.has(e))){t.setAttributeNS(Ho.get(e),e,n);return}t.setAttribute(e,n)}function qd(t,e){if(t.namespaceURI===Yg&&(e=e.toLowerCase(),e=Wg.get(e)||e,Ho.has(e))){t.removeAttributeNS(Ho.get(e),e);return}t.removeAttribute(e)}function zd(t,e){for(const n in e){const r=e[n];n.startsWith("--")?t.setProperty(n,r):t[n]=r}}function Gg({width:t,height:e,data:n,color:r=qr.violet[700],opacity:i=.5}){const o=Tt.useRef(null);return Tt.useEffect(()=>{var f;const a=Ea([()=>Jx`<defs>
        <linearGradient id="gradient" gradientTransform="rotate(90)">
          <stop offset="20%" stop-color="${r}" stop-opacity="0.5" />
          <stop offset="100%" stop-color="${r}" stop-opacity="0" />
        </linearGradient>
      </defs>`,Wc([0]),Bg(n,{x:u=>new Date(u.date),y:"amount",fill:"url(#gradient)",opacity:i}),Hg(n,{x:u=>new Date(u.date),y:"amount",stroke:r,marker:"dot",channels:{amount:{label:"",value:"amount"},date:{label:"",value:"date"}},tip:{stroke:qr.slate[700],fill:qr.slate[800],fillOpacity:.9,format:{x:!1,y:!1,amount:u=>u.toLocaleString("en-AU",{style:"currency",currency:"AUD"}),date:u=>fb(u).format("D MMMM, YYYY")}}})]).plot({width:t,height:e,marginLeft:50,y:{grid:!0}});return(f=o.current)==null||f.append(a),()=>a.remove()},[r,n,e,i,t]),at.jsx("div",{ref:o,className:"h-full w-full"})}Gg.__docgenInfo={description:"",methods:[],displayName:"ScenarioChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!0,tsType:{name:"TimeSeriesData"},description:""},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"twColors.violet[700]",computed:!0}},opacity:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}}}};function p9(t,e){if(t.length<=2)return t;const[n,r]=e;let i=Math.floor((t.length-1)*(n/100)),o=Math.floor((t.length-1)*(r/100));if(o-i===0)if(o+1<t.length)o+=1;else if(i-1>=0)i-=1;else throw new Error("Invalid selection (should have at least two data points)");const a=t[i].date,f=t[o].date;return t.filter(u=>u.date>=a&&u.date<=f)}function m9({data:t,selection:e}){const n=Tt.useMemo(()=>p9(t,e),[t,e]);if(n.length<2){const r=n.length===0?"No data":"Insufficient data";return at.jsx("div",{className:"flex h-full items-center justify-center text-lg font-medium text-slate-600",children:r})}return at.jsx(qu,{children:({width:r,height:i})=>at.jsx(Gg,{width:r,height:i,data:n})})}m9.__docgenInfo={description:"",methods:[],displayName:"ScenarioChart",props:{data:{required:!0,tsType:{name:"TimeSeriesData"},description:""},selection:{required:!0,tsType:{name:"Selection"},description:""}}};function Xg({width:t,height:e,data:n}){const r=Tt.useRef(null);return Tt.useEffect(()=>{var o;const i=Ea([Wc([0]),Bg(n,{x:a=>new Date(a.date),y:"amount",fill:qr.amber[400],opacity:.5}),Hg(n,{x:a=>new Date(a.date),y:"amount",stroke:qr.amber[400]})]).plot({width:t,height:e,marginLeft:0,marginRight:0,marginTop:16,y:{axis:null}});return(o=r.current)==null||o.append(i),()=>i.remove()},[n,e,t]),at.jsx("div",{ref:r,className:"h-full w-full"})}Xg.__docgenInfo={description:"",methods:[],displayName:"TimelineChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""}}};function g9({leftPanelRef:t,rightPanelRef:e,initialSelection:n,onUpdateSelection:r}){const[i,o]=Tt.useState(n[0]),[a,f]=Tt.useState(n[1]),u=Tt.useCallback(d=>{o(d),r&&r([d,a])},[r,a]),c=Tt.useCallback(d=>{f(100-d),r&&r([i,100-d])},[r,i]),s=Tt.useCallback(()=>{var l,h;a-i!==100&&((l=t.current)==null||l.resize(0),(h=e.current)==null||h.resize(0),o(0),f(100),r&&r([0,100]))},[i,a,t,e,r]);return{start:i,end:a,updateStart:u,updateEnd:c,maximize:s}}function Vg({disabled:t=!1,initialSelection:e=[0,100],onUpdateSelection:n}){const[r,i]=e,o=Tt.useRef(null),a=Tt.useRef(null),{start:f,end:u,updateStart:c,updateEnd:s,maximize:d}=g9({leftPanelRef:o,rightPanelRef:a,initialSelection:e,onUpdateSelection:n}),l=u-f===999;return at.jsxs(ub,{direction:"horizontal",onDoubleClick:d,children:[at.jsx(Da,{className:"bg-gradient-to-tr from-slate-600/5 to-slate-600/20 backdrop-blur-[1px]",ref:o,defaultSize:r,onResize:c}),at.jsx(ns,{className:"flex w-[5px] flex-col items-center justify-center bg-slate-700",disabled:t,children:at.jsx(es,{className:"text-slate-950",size:16})}),at.jsx(Da,{className:`border-b border-t border-slate-700 ${l&&"cursor-grab"}`}),at.jsx(ns,{className:"flex w-[5px] flex-col items-center justify-center bg-slate-700",disabled:t,children:at.jsx(es,{className:"text-slate-950",size:16})}),at.jsx(Da,{className:"bg-gradient-to-tr from-slate-600/5 to-slate-600/20 backdrop-blur-[1px]",ref:a,defaultSize:100-i,onResize:s})]})}Vg.__docgenInfo={description:"",methods:[],displayName:"TimelineSelector",props:{disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},initialSelection:{required:!1,tsType:{name:"Selection"},description:"",defaultValue:{value:"[0, 100]",computed:!1}},onUpdateSelection:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection: Selection) => void",signature:{arguments:[{type:{name:"Selection"},name:"selection"}],return:{name:"void"}}},description:""}}};function b9({data:t,initialSelection:e,onUpdateSelection:n}){const r=t&&Array.from(t).length<2;return at.jsxs("div",{className:"relative h-20 bg-slate-900",children:[!r&&at.jsx(qu,{children:({width:i,height:o})=>at.jsx(Xg,{width:i,height:o,data:t})}),at.jsx("div",{className:"absolute bottom-0 left-0 right-0 top-0",children:at.jsx(Vg,{initialSelection:e,onUpdateSelection:n,disabled:r})})]})}b9.__docgenInfo={description:"",methods:[],displayName:"TimelineScrubber",props:{data:{required:!1,tsType:{name:"Plot.Data"},description:""},initialSelection:{required:!1,tsType:{name:"Selection"},description:""},onUpdateSelection:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection: Selection) => void",signature:{arguments:[{type:{name:"Selection"},name:"selection"}],return:{name:"void"}}},description:""}}};export{Pl as A,Bg as B,Hg as C,Jx as D,Zt as M,qu as R,Sb as S,b9 as T,m9 as a,A9 as b,Nx as c,Y4 as d,$9 as e,Ec as f,Mt as g,He as h,Dt as i,Ye as j,ye as k,eu as l,Ea as m,An as n,lc as o,bc as p,Pt as q,Wc as r,E9 as s,Xm as t,$a as u,L1 as v,X4 as w,Km as x,cr as y,R4 as z};
