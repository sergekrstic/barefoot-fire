import{j as U}from"./jsx-runtime-D_zvdyIk.js";import{F as ry,M as iy,E as oy,C as ay,D as Ec}from"./CollapsibleTree.component-30vHkhqS.js";import{M as po,a as Fe}from"./DropdownMenu.component-2YZdI-ss.js";import{r as te,c as ji,g as fy}from"./index-PahMPgEy.js";import{e as sy,f as uy,i as cy,j as ly,u as Ge,p as Ac,h as wh,k as os,l as _h}from"./ScenarioGraph.component-B6pb_8LH.js";import{t as yt}from"./colors-Cuw9ST8W.js";import{P as dy,a as Qa,b as Cc}from"./react-resizable-panels.browser.esm-zIh8wNIw.js";const hy={scenarioGraph:sy,scenarioMap:uy,budgetForest:cy,budgetMap:ly};function _n(){_n=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(T,v,E){T[v]=E.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag";function s(T,v,E){return Object.defineProperty(T,v,{value:E,enumerable:!0,configurable:!0,writable:!0}),T[v]}try{s({},"")}catch{s=function(v,E,x){return v[E]=x}}function u(T,v,E,x){var N=v&&v.prototype instanceof d?v:d,I=Object.create(N.prototype),j=new k(x||[]);return r(I,"_invoke",{value:S(T,E,j)}),I}function c(T,v,E){try{return{type:"normal",arg:T.call(v,E)}}catch(x){return{type:"throw",arg:x}}}e.wrap=u;var l={};function d(){}function h(){}function p(){}var m={};s(m,o,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(R([])));y&&y!==t&&n.call(y,o)&&(m=y);var b=p.prototype=d.prototype=Object.create(m);function _(T){["next","throw","return"].forEach(function(v){s(T,v,function(E){return this._invoke(v,E)})})}function w(T,v){function E(N,I,j,G){var O=c(T[N],T,I);if(O.type!=="throw"){var q=O.arg,F=q.value;return F&&typeof F=="object"&&n.call(F,"__await")?v.resolve(F.__await).then(function(P){E("next",P,j,G)},function(P){E("throw",P,j,G)}):v.resolve(F).then(function(P){q.value=P,j(q)},function(P){return E("throw",P,j,G)})}G(O.arg)}var x;r(this,"_invoke",{value:function(N,I){function j(){return new v(function(G,O){E(N,I,G,O)})}return x=x?x.then(j,j):j()}})}function S(T,v,E){var x="suspendedStart";return function(N,I){if(x==="executing")throw new Error("Generator is already running");if(x==="completed"){if(N==="throw")throw I;return $()}for(E.method=N,E.arg=I;;){var j=E.delegate;if(j){var G=M(j,E);if(G){if(G===l)continue;return G}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(x==="suspendedStart")throw x="completed",E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);x="executing";var O=c(T,v,E);if(O.type==="normal"){if(x=E.done?"completed":"suspendedYield",O.arg===l)continue;return{value:O.arg,done:E.done}}O.type==="throw"&&(x="completed",E.method="throw",E.arg=O.arg)}}}function M(T,v){var E=v.method,x=T.iterator[E];if(x===void 0)return v.delegate=null,E==="throw"&&T.iterator.return&&(v.method="return",v.arg=void 0,M(T,v),v.method==="throw")||E!=="return"&&(v.method="throw",v.arg=new TypeError("The iterator does not provide a '"+E+"' method")),l;var N=c(x,T.iterator,v.arg);if(N.type==="throw")return v.method="throw",v.arg=N.arg,v.delegate=null,l;var I=N.arg;return I?I.done?(v[T.resultName]=I.value,v.next=T.nextLoc,v.method!=="return"&&(v.method="next",v.arg=void 0),v.delegate=null,l):I:(v.method="throw",v.arg=new TypeError("iterator result is not an object"),v.delegate=null,l)}function A(T){var v={tryLoc:T[0]};1 in T&&(v.catchLoc=T[1]),2 in T&&(v.finallyLoc=T[2],v.afterLoc=T[3]),this.tryEntries.push(v)}function C(T){var v=T.completion||{};v.type="normal",delete v.arg,T.completion=v}function k(T){this.tryEntries=[{tryLoc:"root"}],T.forEach(A,this),this.reset(!0)}function R(T){if(T){var v=T[o];if(v)return v.call(T);if(typeof T.next=="function")return T;if(!isNaN(T.length)){var E=-1,x=function N(){for(;++E<T.length;)if(n.call(T,E))return N.value=T[E],N.done=!1,N;return N.value=void 0,N.done=!0,N};return x.next=x}}return{next:$}}function $(){return{value:void 0,done:!0}}return h.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=s(p,f,"GeneratorFunction"),e.isGeneratorFunction=function(T){var v=typeof T=="function"&&T.constructor;return!!v&&(v===h||(v.displayName||v.name)==="GeneratorFunction")},e.mark=function(T){return Object.setPrototypeOf?Object.setPrototypeOf(T,p):(T.__proto__=p,s(T,f,"GeneratorFunction")),T.prototype=Object.create(b),T},e.awrap=function(T){return{__await:T}},_(w.prototype),s(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(T,v,E,x,N){N===void 0&&(N=Promise);var I=new w(u(T,v,E,x),N);return e.isGeneratorFunction(v)?I:I.next().then(function(j){return j.done?j.value:I.next()})},_(b),s(b,f,"Generator"),s(b,o,function(){return this}),s(b,"toString",function(){return"[object Generator]"}),e.keys=function(T){var v=Object(T),E=[];for(var x in v)E.push(x);return E.reverse(),function N(){for(;E.length;){var I=E.pop();if(I in v)return N.value=I,N.done=!1,N}return N.done=!0,N}},e.values=R,k.prototype={constructor:k,reset:function(T){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!T)for(var v in this)v.charAt(0)==="t"&&n.call(this,v)&&!isNaN(+v.slice(1))&&(this[v]=void 0)},stop:function(){this.done=!0;var T=this.tryEntries[0].completion;if(T.type==="throw")throw T.arg;return this.rval},dispatchException:function(T){if(this.done)throw T;var v=this;function E(O,q){return I.type="throw",I.arg=T,v.next=O,q&&(v.method="next",v.arg=void 0),!!q}for(var x=this.tryEntries.length-1;x>=0;--x){var N=this.tryEntries[x],I=N.completion;if(N.tryLoc==="root")return E("end");if(N.tryLoc<=this.prev){var j=n.call(N,"catchLoc"),G=n.call(N,"finallyLoc");if(j&&G){if(this.prev<N.catchLoc)return E(N.catchLoc,!0);if(this.prev<N.finallyLoc)return E(N.finallyLoc)}else if(j){if(this.prev<N.catchLoc)return E(N.catchLoc,!0)}else{if(!G)throw new Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return E(N.finallyLoc)}}}},abrupt:function(T,v){for(var E=this.tryEntries.length-1;E>=0;--E){var x=this.tryEntries[E];if(x.tryLoc<=this.prev&&n.call(x,"finallyLoc")&&this.prev<x.finallyLoc){var N=x;break}}N&&(T==="break"||T==="continue")&&N.tryLoc<=v&&v<=N.finallyLoc&&(N=null);var I=N?N.completion:{};return I.type=T,I.arg=v,N?(this.method="next",this.next=N.finallyLoc,l):this.complete(I)},complete:function(T,v){if(T.type==="throw")throw T.arg;return T.type==="break"||T.type==="continue"?this.next=T.arg:T.type==="return"?(this.rval=this.arg=T.arg,this.method="return",this.next="end"):T.type==="normal"&&v&&(this.next=v),l},finish:function(T){for(var v=this.tryEntries.length-1;v>=0;--v){var E=this.tryEntries[v];if(E.finallyLoc===T)return this.complete(E.completion,E.afterLoc),C(E),l}},catch:function(T){for(var v=this.tryEntries.length-1;v>=0;--v){var E=this.tryEntries[v];if(E.tryLoc===T){var x=E.completion;if(x.type==="throw"){var N=x.arg;C(E)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(T,v,E){return this.delegate={iterator:R(T),resultName:v,nextLoc:E},this.method==="next"&&(this.arg=void 0),l}},e}function kc(e,t,n,r,i,o,a){try{var f=e[o](a),s=f.value}catch(u){n(u);return}f.done?t(s):Promise.resolve(s).then(r,i)}function Ja(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(s){kc(o,r,i,a,f,"next",s)}function f(s){kc(o,r,i,a,f,"throw",s)}a(void 0)})}}function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wr.apply(this,arguments)}function py(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function pi(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function f(c){try{u(r.next(c))}catch(l){a(l)}}function s(c){try{u(r.throw(c))}catch(l){a(l)}}function u(c){c.done?o(c.value):i(c.value).then(f,s)}u((r=r.apply(e,t||[])).next())})}function mi(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=f(0),a.throw=f(1),a.return=f(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function f(u){return function(c){return s([u,c])}}function s(u){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(n=0)),n;)try{if(r=1,i&&(o=u[0]&2?i.return:u[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,u[1])).done)return o;switch(i=0,o&&(u=[u[0]&2,o.value]),u[0]){case 0:case 1:o=u;break;case 4:return n.label++,{value:u[1],done:!1};case 5:n.label++,i=u[1],u=[0];continue;case 7:u=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(u[0]===6||u[0]===2)){n=0;continue}if(u[0]===3&&(!o||u[1]>o[0]&&u[1]<o[3])){n.label=u[1];break}if(u[0]===6&&n.label<o[1]){n.label=o[1],o=u;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(u);break}o[2]&&n.ops.pop(),n.trys.pop();continue}u=t.call(e,n)}catch(c){u=[6,c],i=0}finally{r=o=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function my(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(f){a={error:f}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function gy(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(my(arguments[t]));return e}var by=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function la(e,t){var n=yy(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function yy(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),i=by.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var wy=[".DS_Store","Thumbs.db"];function _y(e){return pi(this,void 0,void 0,function(){return mi(this,function(t){return[2,vy(e)&&e.dataTransfer?Sy(e.dataTransfer,e.type):xy(e)]})})}function vy(e){return!!e.dataTransfer}function xy(e){var t=Ty(e.target)?e.target.files?as(e.target.files):[]:[];return t.map(function(n){return la(n)})}function Ty(e){return e!==null}function Sy(e,t){return pi(this,void 0,void 0,function(){var n,r;return mi(this,function(i){switch(i.label){case 0:return e.items?(n=as(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(My))]):[3,2];case 1:return r=i.sent(),[2,Nc(vh(r))];case 2:return[2,Nc(as(e.files).map(function(o){return la(o)}))]}})})}function Nc(e){return e.filter(function(t){return wy.indexOf(t.name)===-1})}function as(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function My(e){if(typeof e.webkitGetAsEntry!="function")return Ic(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?xh(t):Ic(e)}function vh(e){return e.reduce(function(t,n){return gy(t,Array.isArray(n)?vh(n):[n])},[])}function Ic(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=la(t);return Promise.resolve(n)}function $y(e){return pi(this,void 0,void 0,function(){return mi(this,function(t){return[2,e.isDirectory?xh(e):Ey(e)]})})}function xh(e){var t=e.createReader();return new Promise(function(n,r){var i=[];function o(){var a=this;t.readEntries(function(f){return pi(a,void 0,void 0,function(){var s,u,c;return mi(this,function(l){switch(l.label){case 0:if(f.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return s=l.sent(),n(s),[3,4];case 3:return u=l.sent(),r(u),[3,4];case 4:return[3,6];case 5:c=Promise.all(f.map($y)),i.push(c),o(),l.label=6;case 6:return[2]}})})},function(f){r(f)})}o()})}function Ey(e){return pi(this,void 0,void 0,function(){return mi(this,function(t){return[2,new Promise(function(n,r){e.file(function(i){var o=la(i,e.fullPath);n(o)},function(i){r(i)})})]})})}function Ay(e,t,n,r){var i=document.createElement("input");i.style.display="none",document.body.appendChild(i),i.type="file",e!=="*"&&(i.accept=e),i.multiple=t,i.addEventListener("change",function(o){n(o),document.body.removeChild(i)}),r&&r(i),i.dispatchEvent(new MouseEvent("click"))}var Cy=function(t){var n=t.onFilesSelected,r=t.onFilesSuccessfullySelected,i=t.onFilesRejected,o=t.onClear,a=t.validators,f=te.useCallback(function(l){n==null||n(l),a==null||a.forEach(function(d){d.onFilesSelected(l)})},[n,a]),s=te.useCallback(function(l){r==null||r(l),a==null||a.forEach(function(d){d.onFilesSuccessfullySelected(l)})},[a,r]),u=te.useCallback(function(l){i==null||i(l),a==null||a.forEach(function(d){d.onFilesRejected(l)})},[a,i]),c=te.useCallback(function(){o==null||o(),a==null||a.forEach(function(l){l.onClear==null||l.onClear()})},[a,o]);return{onFilesSelected:f,onFilesSuccessfullySelected:s,onFilesRejected:u,onClear:c}},ky=[];function Ny(e){var t=e.accept,n=t===void 0?"*":t,r=e.multiple,i=r===void 0?!0:r,o=e.readAs,a=o===void 0?"Text":o,f=e.readFilesContent,s=f===void 0?!0:f,u=e.validators,c=u===void 0?ky:u,l=e.initializeWithCustomParameters,d=te.useState([]),h=d[0],p=d[1],m=te.useState([]),g=m[0],y=m[1],b=te.useState([]),_=b[0],w=b[1],S=te.useState(!1),M=S[0],A=S[1],C=Cy(e),k=C.onFilesSelected,R=C.onFilesSuccessfullySelected,$=C.onFilesRejected,T=C.onClear,v=te.useCallback(function(){p([]),y([]),w([])},[]),E=te.useCallback(function(){v(),T==null||T()},[v,T]),x=te.useCallback(function(I){return new Promise(function(){var j=Ja(_n().mark(function G(O,q){var F,P,V;return _n().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:F=new FileReader,P=F["readAs"+a],P.call(F,I),V=function(z){var L=Wr({},(py(z),z));q(Wr({},L))},F.onload=Ja(_n().mark(function Y(){return _n().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",Promise.all(c.map(function(B){return B.validateAfterParsing(e,I,F).catch(function(H){return Promise.reject(V(H))})})).then(function(){return O(Wr({},I,{content:F.result,name:I.name,lastModified:I.lastModified}))}).catch(function(){}));case 1:case"end":return L.stop()}},Y)})),F.onerror=function(){V({name:"FileReaderError",readerError:F.error,causedByFile:I})};case 6:case"end":return W.stop()}},G)}));return function(G,O){return j.apply(this,arguments)}}())},[e,a,c]),N=te.useCallback(function(){var I=n instanceof Array?n.join(","):n;Ay(I,i,function(){var j=Ja(_n().mark(function G(O){var q,F,P,V,Z,W;return _n().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return v(),q=O.target,F=q.files?Array.from(q.files):[],A(!0),z.next=6,Promise.all(c.map(function(L){return L.validateBeforeParsing(e,F).catch(function(B){return Array.isArray(B)?B:[B]})}));case 6:if(P=z.sent.flat(1).filter(Boolean),p(F),w(P),!P.length){z.next=15;break}return A(!1),p([]),$==null||$({errors:P}),k==null||k({errors:P}),z.abrupt("return");case 15:if(s){z.next=19;break}return A(!1),k==null||k({plainFiles:F,filesContent:[]}),z.abrupt("return");case 19:return z.next=21,_y(O);case 21:return V=z.sent,Z=[],z.next=25,Promise.all(V.map(function(L){return x(L).catch(function(B){Z.push.apply(Z,Array.isArray(B)?B:[B])})}));case 25:if(W=z.sent,A(!1),!Z.length){z.next=34;break}return p([]),y([]),w(function(L){return[].concat(L,Z)}),$==null||$({errors:Z}),k==null||k({errors:P.concat(Z)}),z.abrupt("return");case 34:y(W),p(F),w([]),R==null||R({filesContent:W,plainFiles:F}),k==null||k({plainFiles:F,filesContent:W});case 39:case"end":return z.stop()}},G)}));return function(G){return j.apply(this,arguments)}}(),l)},[e,n,v,l,i,$,k,R,x,s,c]);return{openFilePicker:N,filesContent:g,errors:_,loading:M,plainFiles:h,clear:E}}function Iy(){const e=Ge(u=>u.reset),t=Ge(u=>u.saveAs),n=Ge(u=>u.load),{openFilePicker:r,filesContent:i}=Ny({accept:".json",multiple:!1});te.useEffect(()=>{i.length&&n(JSON.parse(i[0].content))},[i,n]);const o=te.useCallback(()=>{n(hy)},[n]),a="rounded-md border border-transparent px-2 py-1 text-sm text-violet-400 outline-none hover:border-violet-500 hover:bg-violet-600 hover:text-violet-300 data-[open]:border-violet-400 data-[open]:bg-violet-600 data-[open]:text-violet-200",f="rounded-md border border-slate-300 bg-slate-200 py-1 text-slate-800 outline-none drop-shadow-lg",s="flex w-full min-w-40 items-center justify-between px-4 py-1 text-sm outline-none focus:bg-violet-600 focus:text-slate-100 disabled:text-slate-400";return U.jsxs("div",{className:"flex items-center border-b border-violet-600 bg-violet-900 bg-gradient-to-tr from-violet-900 to-violet-600 px-4 py-2",children:[U.jsx(ry,{className:"pr-2 text-violet-400 data-[open]:text-violet-200",size:20}),U.jsx("div",{className:"grow text-xl font-semibold tracking-widest text-violet-400",children:"Barefoot FIRE"}),U.jsxs(po,{menuButtonClasses:a,menuContainerClasses:f,label:U.jsx(iy,{className:"text-violet-400",size:20}),children:[U.jsx(Fe,{className:s,label:"New",onClick:e}),U.jsx(Fe,{className:s,label:"Open",onClick:r}),U.jsx(Fe,{className:s,label:"Save",onClick:t}),U.jsxs(po,{menuContainerClasses:f,menuItemClasses:s,label:"Export",children:[U.jsx(Fe,{className:s,label:"CSV",disabled:!0}),U.jsx(Fe,{className:s,label:"JSON",disabled:!0}),U.jsx(Fe,{className:s,label:"Excel",disabled:!0})]}),U.jsxs(po,{menuContainerClasses:f,menuItemClasses:s,label:"Examples",children:[U.jsx(Fe,{className:s,label:"Simple example",disabled:!0}),U.jsx(Fe,{className:s,label:"Detailed example",onClick:o}),U.jsx(Fe,{className:s,label:"Rent vs Mortgage",disabled:!0}),U.jsx(Fe,{className:s,label:"Petrol vs Hybrid vs Electric",disabled:!0}),U.jsx(Fe,{className:s,label:"Median vs Professional vs Elite",disabled:!0})]})]})]})}Iy.__docgenInfo={description:"",methods:[],displayName:"Header"};var ef,Lc;function Th(){if(Lc)return ef;Lc=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return ef=e,ef}var tf,Dc;function Ly(){if(Dc)return tf;Dc=1;var e=typeof ji=="object"&&ji&&ji.Object===Object&&ji;return tf=e,tf}var nf,Rc;function Sh(){if(Rc)return nf;Rc=1;var e=Ly(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return nf=n,nf}var rf,Oc;function Dy(){if(Oc)return rf;Oc=1;var e=Sh(),t=function(){return e.Date.now()};return rf=t,rf}var of,Fc;function Ry(){if(Fc)return of;Fc=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return of=t,of}var af,Pc;function Oy(){if(Pc)return af;Pc=1;var e=Ry(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return af=n,af}var ff,qc;function Mh(){if(qc)return ff;qc=1;var e=Sh(),t=e.Symbol;return ff=t,ff}var sf,zc;function Fy(){if(zc)return sf;zc=1;var e=Mh(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var f=n.call(a,i),s=a[i];try{a[i]=void 0;var u=!0}catch{}var c=r.call(a);return u&&(f?a[i]=s:delete a[i]),c}return sf=o,sf}var uf,jc;function Py(){if(jc)return uf;jc=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return uf=n,uf}var cf,Bc;function qy(){if(Bc)return cf;Bc=1;var e=Mh(),t=Fy(),n=Py(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(f){return f==null?f===void 0?i:r:o&&o in Object(f)?t(f):n(f)}return cf=a,cf}var lf,Uc;function zy(){if(Uc)return lf;Uc=1;function e(t){return t!=null&&typeof t=="object"}return lf=e,lf}var df,Gc;function jy(){if(Gc)return df;Gc=1;var e=qy(),t=zy(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return df=r,df}var hf,Yc;function By(){if(Yc)return hf;Yc=1;var e=Oy(),t=Th(),n=jy(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,f=parseInt;function s(u){if(typeof u=="number")return u;if(n(u))return r;if(t(u)){var c=typeof u.valueOf=="function"?u.valueOf():u;u=t(c)?c+"":c}if(typeof u!="string")return u===0?u:+u;u=e(u);var l=o.test(u);return l||a.test(u)?f(u.slice(2),l?2:8):i.test(u)?r:+u}return hf=s,hf}var pf,Hc;function Uy(){if(Hc)return pf;Hc=1;var e=Th(),t=Dy(),n=By(),r="Expected a function",i=Math.max,o=Math.min;function a(f,s,u){var c,l,d,h,p,m,g=0,y=!1,b=!1,_=!0;if(typeof f!="function")throw new TypeError(r);s=n(s)||0,e(u)&&(y=!!u.leading,b="maxWait"in u,d=b?i(n(u.maxWait)||0,s):d,_="trailing"in u?!!u.trailing:_);function w(v){var E=c,x=l;return c=l=void 0,g=v,h=f.apply(x,E),h}function S(v){return g=v,p=setTimeout(C,s),y?w(v):h}function M(v){var E=v-m,x=v-g,N=s-E;return b?o(N,d-x):N}function A(v){var E=v-m,x=v-g;return m===void 0||E>=s||E<0||b&&x>=d}function C(){var v=t();if(A(v))return k(v);p=setTimeout(C,M(v))}function k(v){return p=void 0,_&&c?w(v):(c=l=void 0,h)}function R(){p!==void 0&&clearTimeout(p),g=0,c=m=l=p=void 0}function $(){return p===void 0?h:k(t())}function T(){var v=t(),E=A(v);if(c=arguments,l=this,m=v,E){if(p===void 0)return S(m);if(b)return clearTimeout(p),p=setTimeout(C,s),w(m)}return p===void 0&&(p=setTimeout(C,s)),h}return T.cancel=R,T.flush=$,T}return pf=a,pf}var Gy=Uy();const Yy=fy(Gy),Hy=[],Wc={width:0,height:0,top:0,left:0};function Wy({initialSize:e=Wc,debounceTime:t=300,ignoreDimensions:n=Hy,enableDebounceLeadingCall:r=!0,resizeObserverPolyfill:i}={}){const o=te.useRef(null),a=te.useRef(0),[f,s]=te.useState({...Wc,...e}),u=te.useMemo(()=>{const c=Array.isArray(n)?n:[n];return Yy(l=>{s(d=>Object.keys(d).filter(g=>d[g]!==l[g]).every(g=>c.includes(g))?d:l)},t,{leading:r})},[t,r,n]);return te.useEffect(()=>{const c=i||window.ResizeObserver,l=new c(d=>{d.forEach(h=>{const{left:p,top:m,width:g,height:y}=(h==null?void 0:h.contentRect)??{};a.current=window.requestAnimationFrame(()=>{u({width:g,height:y,top:m,left:p})})})});return o.current&&l.observe(o.current),()=>{window.cancelAnimationFrame(a.current),l.disconnect(),u.cancel()}},[u,i]),{parentRef:o,resize:u,...f}}const Xy={width:"100%",height:"100%"};function fu({className:e,children:t,debounceTime:n,ignoreDimensions:r,initialSize:i,parentSizeStyles:o=Xy,enableDebounceLeadingCall:a=!0,resizeObserverPolyfill:f,...s}){const{parentRef:u,resize:c,...l}=Wy({initialSize:i,debounceTime:n,ignoreDimensions:r,enableDebounceLeadingCall:a,resizeObserverPolyfill:f});return U.jsx("div",{style:o,ref:u,className:e,...s,children:t({...l,ref:u.current,resize:c})})}fu.__docgenInfo={description:"",methods:[],displayName:"ResponsiveContainer",props:{className:{required:!1,tsType:{name:"string"},description:"Optional `className` to add to the parent `div` wrapper used for size measurement."},parentSizeStyles:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:"@deprecated - use `style` prop as all other props are passed directly to the parent `div`.\n@TODO remove in the next major version.\nOptional `style` object to apply to the parent `div` wrapper used for size measurement.",defaultValue:{value:"{ width: '100%', height: '100%' }",computed:!1}},children:{required:!0,tsType:{name:"signature",type:"function",raw:"(args: ParentSizeProvidedProps) => React.ReactNode",signature:{arguments:[{type:{name:"intersection",raw:`ParentSizeState & {
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"signature",type:"object",raw:`{
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,signature:{properties:[{key:"ref",value:{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}],required:!0}},{key:"resize",value:{name:"signature",type:"function",raw:"(state: ParentSizeState) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},name:"state"}],return:{name:"void"}},required:!0}}]}}]},name:"args"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Child render function `({ width, height, top, left, ref, resize }) => ReactNode`."},initialSize:{required:!1,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}}],raw:"Partial<ParentSizeState>"},description:"Initial size before measuring the parent."},resizeObserverPolyfill:{required:!1,tsType:{name:"ResizeObserverPolyfill"},description:"Optionally inject a ResizeObserver polyfill, else this *must* be globally available."},ignoreDimensions:{required:!1,tsType:{name:"union",raw:"keyof ParentSizeState | (keyof ParentSizeState)[]",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"Array",elements:[{name:"unknown"}],raw:"(keyof ParentSizeState)[]"}]},description:"Optional dimensions provided won't trigger a state change when changed."},debounceTime:{required:!1,tsType:{name:"number"},description:"Child render updates upon resize are delayed until `debounceTime` milliseconds _after_ the last resize event is observed. Defaults to `300`."},enableDebounceLeadingCall:{required:!1,tsType:{name:"boolean"},description:"Optional flag to toggle leading debounce calls. When set to true this will ensure that the component always renders immediately. Defaults to `true`.",defaultValue:{value:"true",computed:!1}}}};function Vy(){const e=Ge(a=>a.timeScrubberSelection),t=Ge(a=>a.setTimeScrubberSelection),n=Ge(a=>a.scenarioStartEvents),r=Ge(a=>a.highlightedPlotData),i=Ge(a=>a.pinnedPlotData),o=te.useMemo(()=>{const f="month",s=Ac({data:r,interval:f,cumulative:!0}),u=i?Ac({data:i,interval:f,cumulative:!0}):[];return[...s,...u].sort((l,d)=>wh(l.date).diff(d.date))},[r,i]);return U.jsxs(U.Fragment,{children:[U.jsx(Wb,{type:i?"difference":"area",data:o,selection:e,onUpdateSelection:t}),U.jsx(Ub,{type:i?"difference":"area",timeseries:o,scenarioEvents:n,selection:e})]})}Vy.__docgenInfo={description:"",methods:[],displayName:"ScenarioBrushChart"};function vo({textClassName:e,inputClassName:t,value:n,onChange:r,rightAlign:i=!1}){const[o,a]=te.useState(!1);return U.jsxs("div",{className:"relative",children:[o&&U.jsx("input",{type:"text",autoFocus:!0,className:os("absolute rounded-md border border-violet-500 bg-slate-800 px-2 py-1 text-slate-300 outline-0",{"-bottom-1 -top-1":!0,"-left-[9px] right-3 text-left":!i,"-right-[9px] left-3 text-right":i},t),value:n,onBlur:()=>a(!1),onChange:f=>r(f.target.value)}),U.jsx("span",{className:os("cursor-text",e),onClick:f=>{f.stopPropagation(),a(!0)},children:Zy(n)})]})}function Zy(e){if(typeof e=="number")return _h(e);if(typeof e=="string")return e||"No name";throw new Error("Invalid value type")}vo.__docgenInfo={description:"",methods:[],displayName:"EditableText",props:{textClassName:{required:!1,tsType:{name:"string"},description:""},inputClassName:{required:!1,tsType:{name:"string"},description:""},rightAlign:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},value:{required:!0,tsType:{name:"union",raw:"string | number",elements:[{name:"string"},{name:"number"}]},description:""},onChange:{required:!0,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""}}};function $h(){const e="ml-3 rounded-sm border border-transparent outline-none hover:border-slate-700 data-[open]:border-slate-600",t="rounded-md border border-slate-300 bg-slate-200 py-1 text-slate-800 outline-none drop-shadow-lg",n="flex w-full min-w-28 items-center justify-between px-4 py-1 text-sm outline-none focus:bg-violet-600 focus:text-slate-100 disabled:text-slate-400",r=i=>{i.stopPropagation()};return U.jsxs(po,{menuButtonClasses:e,menuContainerClasses:t,label:U.jsx("div",{onClick:r,children:U.jsx(oy,{className:"flex h-5 w-5 items-center justify-center text-slate-500",size:14})}),children:[U.jsx(Fe,{className:n,label:"Edit",disabled:!0}),U.jsx(Fe,{className:n,label:"Delete",disabled:!0})]})}$h.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudgetItemMenu"};function Eh({type:e,budget:t}){const[n,r]=te.useState(t.name),[i,o]=te.useState(t.amount);return U.jsxs("div",{className:"flex w-full flex-row items-center justify-center py-2",children:[U.jsx("div",{className:"grow",children:U.jsx(vo,{value:n,onChange:r})}),U.jsx("div",{className:os("relative min-w-14 text-right",{"text-gray-500":e==="parent"}),children:e==="parent"?U.jsx("span",{children:_h(i)}):U.jsx(vo,{value:i,onChange:()=>o(Number(i)),rightAlign:!0})}),U.jsx("div",{className:"flex items-center justify-center",children:U.jsx($h,{})})]})}Eh.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudgetItem",props:{type:{required:!0,tsType:{name:"union",raw:"'parent' | 'leaf'",elements:[{name:"literal",value:"'parent'"},{name:"literal",value:"'leaf'"}]},description:""},budget:{required:!0,tsType:{name:"Budget"},description:""}}};function fs({id:e,type:t}){const n=Ge(r=>r.budgetMap[e]);return U.jsx(Eh,{type:t,budget:n})}fs.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudgetItem",props:{id:{required:!0,tsType:{name:"string"},description:""},type:{required:!0,tsType:{name:"union",raw:"'parent' | 'leaf'",elements:[{name:"literal",value:"'parent'"},{name:"literal",value:"'leaf'"}]},description:""}}};function Ah({budgetTree:e}){const t=Ge(n=>n.updateScenarioName);return U.jsxs("div",{className:"flex h-full w-full select-none flex-col bg-slate-900 text-slate-300",children:[U.jsx("div",{className:"bg-slate-800 px-4 py-1 text-sm font-medium text-slate-600",children:"Scenario Budget"}),e?U.jsxs("div",{className:"flex-grow overflow-y-auto pb-4",children:[U.jsx("div",{className:"px-4 pb-2 pt-4 text-lg font-medium text-slate-500",children:U.jsx(vo,{value:e.name,onChange:n=>t(e.id,n)})}),U.jsx(ay,{tree:e.budgets,expanded:!0,parentContainerClasses:"cursor-pointer hover:bg-slate-800 px-4",childContainerClasses:"cursor-default px-4",renderCollapsibleItemContent:n=>U.jsx(fs,{id:n.id,type:"parent"}),renderLeafItemContent:n=>U.jsx(fs,{id:n.id,type:"leaf"})},e.name)]}):U.jsx("div",{className:"px-4 pb-2 pt-4 text-lg font-medium text-slate-600",children:"No budget selected"})]})}Ah.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudget",props:{budgetTree:{required:!0,tsType:{name:"union",raw:"TreeGroup | null",elements:[{name:"TreeGroup"},{name:"null"}]},description:""}}};function Ky(){const e=Ge(n=>n.selectedScenarioId),t=Ge(n=>e?n.budgetForest[e]:null);return U.jsx(Ah,{budgetTree:t})}Ky.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudget"};function De(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function da(e){let t,n,r;e.length!==2?(t=De,n=(f,s)=>De(e(f),s),r=(f,s)=>e(f)-s):(t=e===De||e===gi?e:Qy,n=e,r=e);function i(f,s,u=0,c=f.length){if(u<c){if(t(s,s)!==0)return c;do{const l=u+c>>>1;n(f[l],s)<0?u=l+1:c=l}while(u<c)}return u}function o(f,s,u=0,c=f.length){if(u<c){if(t(s,s)!==0)return c;do{const l=u+c>>>1;n(f[l],s)<=0?u=l+1:c=l}while(u<c)}return u}function a(f,s,u=0,c=f.length){const l=i(f,s,u,c-1);return l>u&&r(f[l-1],s)>-r(f[l],s)?l-1:l}return{left:i,center:a,right:o}}function Qy(){return 0}function Ch(e){return e===null?NaN:+e}function*Jy(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const e2=da(De),ha=e2.right;da(Ch).center;function su(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function t2(e){return e.length|0}function n2(e){return!(e>0)}function r2(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function i2(e){return t=>e(...t)}function o2(...e){const t=typeof e[e.length-1]=="function"&&i2(e.pop());e=e.map(r2);const n=e.map(t2),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(n2))return o;for(;;){o.push(i.map((f,s)=>e[s][f]));let a=r;for(;++i[a]===n[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function a2(e,t){var n=0;return Float64Array.from(e,r=>n+=+r||0)}function kh(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let f of e)(f=t(f,++a,e))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,o+=r*(f-i))}if(n>1)return o/(n-1)}function Nh(e,t){const n=kh(e,t);return n&&Math.sqrt(n)}function He(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class En{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=t+o,f=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);f&&(n[r++]=f),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class An extends Map{constructor(t,n=Dh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(ss(this,t))}has(t){return super.has(ss(this,t))}set(t,n){return super.set(Ih(this,t),n)}delete(t){return super.delete(Lh(this,t))}}class pa extends Set{constructor(t,n=Dh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(ss(this,t))}add(t){return super.add(Ih(this,t))}delete(t){return super.delete(Lh(this,t))}}function ss({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Ih({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Lh({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Dh(e){return e!==null&&typeof e=="object"?e.valueOf():e}function us(e){return e}function ma(e,...t){return uu(e,us,us,t)}function Kn(e,t,...n){return uu(e,us,t,n)}function f2(e,t,...n){return uu(e,Array.from,t,n)}function uu(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const f=new An,s=r[a++];let u=-1;for(const c of o){const l=s(c,++u,o),d=f.get(l);d?d.push(c):f.set(l,[c])}for(const[c,l]of f)f.set(c,i(l,a));return t(f)}(e,0)}function s2(e,t){return Array.from(t,n=>e[n])}function xo(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const a of t){const f=To(a[i],a[o]);if(f)return f}})):(n=e.map(n),r.sort((i,o)=>To(n[i],n[o]))),s2(e,r)}return e.sort(Rh(n))}function Rh(e=De){if(e===De)return To;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function To(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function cu(e,t,n){return(t.length!==2?xo(Kn(e,t,n),([r,i],[o,a])=>De(i,a)||De(r,o)):xo(ma(e,n),([r,i],[o,a])=>t(i,a)||De(r,o))).map(([r])=>r)}const u2=Math.sqrt(50),c2=Math.sqrt(10),l2=Math.sqrt(2);function So(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=u2?10:o>=c2?5:o>=l2?2:1;let f,s,u;return i<0?(u=Math.pow(10,-i)/a,f=Math.round(e*u),s=Math.round(t*u),f/u<e&&++f,s/u>t&&--s,u=-u):(u=Math.pow(10,i)*a,f=Math.round(e/u),s=Math.round(t/u),f*u<e&&++f,s*u>t&&--s),s<f&&.5<=n&&n<2?So(e,t,n*2):[f,s,u]}function ei(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?So(t,e,n):So(e,t,n);if(!(o>=i))return[];const f=o-i+1,s=new Array(f);if(r)if(a<0)for(let u=0;u<f;++u)s[u]=(o-u)/-a;else for(let u=0;u<f;++u)s[u]=(o-u)*a;else if(a<0)for(let u=0;u<f;++u)s[u]=(i+u)/-a;else for(let u=0;u<f;++u)s[u]=(i+u)*a;return s}function Mo(e,t,n){return t=+t,e=+e,n=+n,So(e,t,n)[2]}function cs(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?Mo(t,e,n):Mo(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function d2(e){return Math.max(1,Math.ceil(Math.log(su(e))/Math.LN2)+1)}function rt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function h2(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Bt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function p2(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Oh(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?To:Rh(i);r>n;){if(r-n>600){const s=r-n+1,u=t-n+1,c=Math.log(s),l=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*l*(s-l)/s)*(u-s/2<0?-1:1),h=Math.max(n,Math.floor(t-u*l/s+d)),p=Math.min(r,Math.floor(t+(s-u)*l/s+d));Oh(e,t,h,p,i)}const o=e[t];let a=n,f=r;for(Er(e,n,t),i(e[r],o)>0&&Er(e,n,r);a<f;){for(Er(e,a,f),++a,--f;i(e[a],o)<0;)++a;for(;i(e[f],o)>0;)--f}i(e[n],o)===0?Er(e,n,f):(++f,Er(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}return e}function Er(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Fh(e,t=De){let n,r=!1;if(t.length===1){let i;for(const o of e){const a=t(o);(r?De(a,i)>0:De(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function nr(e,t,n){if(e=Float64Array.from(Jy(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return Bt(e);if(t>=1)return rt(e);var r,i=(r-1)*t,o=Math.floor(i),a=rt(Oh(e,o).subarray(0,o+1)),f=Bt(e.subarray(o+1));return a+(f-a)*(i-o)}}function m2(e,t,n=Ch){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),f=+n(e[o+1],o+1,e);return a+(f-a)*(i-o)}}function g2(e,t,n){const r=su(e),i=nr(e,.75)-nr(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function Ph(e,t,n){const r=su(e),i=Nh(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function b2(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function ls(e,t){return nr(e,.5,t)}function*y2(e){for(const t of e)yield*t}function qh(e){return Array.from(y2(e))}function w2(e,t){const n=new An;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function _2(e,t=v2){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n}function v2(e,t){return[e,t]}function ds(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function on(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function $o(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function x2(e){return e}var T2=3,Xc=1e-6;function S2(e){return"translate("+e+",0)"}function M2(e){return t=>+e(t)}function $2(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function E2(){return!this.__axis}function A2(e,t){var n=[],r=null,i=null,o=6,a=6,f=3,s=typeof window<"u"&&window.devicePixelRatio>1?0:.5,u=1,c="y",l=S2;function d(h){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):x2),g=Math.max(o,0)+f,y=t.range(),b=+y[0]+s,_=+y[y.length-1]+s,w=(t.bandwidth?$2:M2)(t.copy(),s),S=h.selection?h.selection():h,M=S.selectAll(".domain").data([null]),A=S.selectAll(".tick").data(p,t).order(),C=A.exit(),k=A.enter().append("g").attr("class","tick"),R=A.select("line"),$=A.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(k),R=R.merge(k.append("line").attr("stroke","currentColor").attr(c+"2",u*o)),$=$.merge(k.append("text").attr("fill","currentColor").attr(c,u*g).attr("dy","0.71em")),h!==S&&(M=M.transition(h),A=A.transition(h),R=R.transition(h),$=$.transition(h),C=C.transition(h).attr("opacity",Xc).attr("transform",function(T){return isFinite(T=w(T))?l(T+s):this.getAttribute("transform")}),k.attr("opacity",Xc).attr("transform",function(T){var v=this.parentNode.__axis;return l((v&&isFinite(v=v(T))?v:w(T))+s)})),C.remove(),M.attr("d",a?"M"+b+","+u*a+"V"+s+"H"+_+"V"+u*a:"M"+b+","+s+"H"+_),A.attr("opacity",1).attr("transform",function(T){return l(w(T)+s)}),R.attr(c+"2",u*o),$.attr(c,u*g).text(m),S.filter(E2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),S.each(function(){this.__axis=w})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=a=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(a=+h,d):a},d.tickPadding=function(h){return arguments.length?(f=+h,d):f},d.offset=function(h){return arguments.length?(s=+h,d):s},d}function C2(e){return A2(T2,e)}var k2={value:()=>{}};function zh(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new mo(n)}function mo(e){this._=e}function N2(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}mo.prototype=zh.prototype={constructor:mo,on:function(e,t){var n=this._,r=N2(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=I2(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=Vc(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Vc(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new mo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function I2(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Vc(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=k2,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var hs="http://www.w3.org/1999/xhtml";const rr={svg:"http://www.w3.org/2000/svg",xhtml:hs,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ga(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),rr.hasOwnProperty(t)?{space:rr[t],local:e}:e}function L2(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===hs&&t.documentElement.namespaceURI===hs?t.createElement(e):t.createElementNS(n,e)}}function D2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ba(e){var t=ga(e);return(t.local?D2:L2)(t)}function R2(){}function lu(e){return e==null?R2:function(){return this.querySelector(e)}}function O2(e){typeof e!="function"&&(e=lu(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,f=r[i]=new Array(a),s,u,c=0;c<a;++c)(s=o[c])&&(u=e.call(s,s.__data__,c,o))&&("__data__"in s&&(u.__data__=s.__data__),f[c]=u);return new ze(r,this._parents)}function F2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function P2(){return[]}function jh(e){return e==null?P2:function(){return this.querySelectorAll(e)}}function q2(e){return function(){return F2(e.apply(this,arguments))}}function z2(e){typeof e=="function"?e=q2(e):e=jh(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],f=a.length,s,u=0;u<f;++u)(s=a[u])&&(r.push(e.call(s,s.__data__,u,a)),i.push(s));return new ze(r,i)}function Bh(e){return function(){return this.matches(e)}}function Uh(e){return function(t){return t.matches(e)}}var j2=Array.prototype.find;function B2(e){return function(){return j2.call(this.children,e)}}function U2(){return this.firstElementChild}function G2(e){return this.select(e==null?U2:B2(typeof e=="function"?e:Uh(e)))}var Y2=Array.prototype.filter;function H2(){return Array.from(this.children)}function W2(e){return function(){return Y2.call(this.children,e)}}function X2(e){return this.selectAll(e==null?H2:W2(typeof e=="function"?e:Uh(e)))}function V2(e){typeof e!="function"&&(e=Bh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,f=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&e.call(s,s.__data__,u,o)&&f.push(s);return new ze(r,this._parents)}function Gh(e){return new Array(e.length)}function Z2(){return new ze(this._enter||this._groups.map(Gh),this._parents)}function Eo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Eo.prototype={constructor:Eo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function K2(e){return function(){return e}}function Q2(e,t,n,r,i,o){for(var a=0,f,s=t.length,u=o.length;a<u;++a)(f=t[a])?(f.__data__=o[a],r[a]=f):n[a]=new Eo(e,o[a]);for(;a<s;++a)(f=t[a])&&(i[a]=f)}function J2(e,t,n,r,i,o,a){var f,s,u=new Map,c=t.length,l=o.length,d=new Array(c),h;for(f=0;f<c;++f)(s=t[f])&&(d[f]=h=a.call(s,s.__data__,f,t)+"",u.has(h)?i[f]=s:u.set(h,s));for(f=0;f<l;++f)h=a.call(e,o[f],f,o)+"",(s=u.get(h))?(r[f]=s,s.__data__=o[f],u.delete(h)):n[f]=new Eo(e,o[f]);for(f=0;f<c;++f)(s=t[f])&&u.get(d[f])===s&&(i[f]=s)}function ew(e){return e.__data__}function tw(e,t){if(!arguments.length)return Array.from(this,ew);var n=t?J2:Q2,r=this._parents,i=this._groups;typeof e!="function"&&(e=K2(e));for(var o=i.length,a=new Array(o),f=new Array(o),s=new Array(o),u=0;u<o;++u){var c=r[u],l=i[u],d=l.length,h=nw(e.call(c,c&&c.__data__,u,r)),p=h.length,m=f[u]=new Array(p),g=a[u]=new Array(p),y=s[u]=new Array(d);n(c,l,m,g,y,h,t);for(var b=0,_=0,w,S;b<p;++b)if(w=m[b]){for(b>=_&&(_=b+1);!(S=g[_])&&++_<p;);w._next=S||null}}return a=new ze(a,r),a._enter=f,a._exit=s,a}function nw(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function rw(){return new ze(this._exit||this._groups.map(Gh),this._parents)}function iw(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ow(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),f=new Array(i),s=0;s<a;++s)for(var u=n[s],c=r[s],l=u.length,d=f[s]=new Array(l),h,p=0;p<l;++p)(h=u[p]||c[p])&&(d[p]=h);for(;s<i;++s)f[s]=n[s];return new ze(f,this._parents)}function aw(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function fw(e){e||(e=sw);function t(l,d){return l&&d?e(l.__data__,d.__data__):!l-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],f=a.length,s=i[o]=new Array(f),u,c=0;c<f;++c)(u=a[c])&&(s[c]=u);s.sort(t)}return new ze(i,this._parents).order()}function sw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function uw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function cw(){return Array.from(this)}function lw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function dw(){let e=0;for(const t of this)++e;return e}function hw(){return!this.node()}function pw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,f;o<a;++o)(f=i[o])&&e.call(f,f.__data__,o,i);return this}function mw(e){return function(){this.removeAttribute(e)}}function gw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function bw(e,t){return function(){this.setAttribute(e,t)}}function yw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function ww(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function _w(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function vw(e,t){var n=ga(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?gw:mw:typeof t=="function"?n.local?_w:ww:n.local?yw:bw)(n,t))}function Yh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function xw(e){return function(){this.style.removeProperty(e)}}function Tw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function Sw(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function Mw(e,t,n){return arguments.length>1?this.each((t==null?xw:typeof t=="function"?Sw:Tw)(e,t,n??"")):ir(this.node(),e)}function ir(e,t){return e.style.getPropertyValue(t)||Yh(e).getComputedStyle(e,null).getPropertyValue(t)}function $w(e){return function(){delete this[e]}}function Ew(e,t){return function(){this[e]=t}}function Aw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Cw(e,t){return arguments.length>1?this.each((t==null?$w:typeof t=="function"?Aw:Ew)(e,t)):this.node()[e]}function Hh(e){return e.trim().split(/^|\s+/)}function du(e){return e.classList||new Wh(e)}function Wh(e){this._node=e,this._names=Hh(e.getAttribute("class")||"")}Wh.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Xh(e,t){for(var n=du(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Vh(e,t){for(var n=du(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function kw(e){return function(){Xh(this,e)}}function Nw(e){return function(){Vh(this,e)}}function Iw(e,t){return function(){(t.apply(this,arguments)?Xh:Vh)(this,e)}}function Lw(e,t){var n=Hh(e+"");if(arguments.length<2){for(var r=du(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Iw:t?kw:Nw)(n,t))}function Dw(){this.textContent=""}function Rw(e){return function(){this.textContent=e}}function Ow(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Fw(e){return arguments.length?this.each(e==null?Dw:(typeof e=="function"?Ow:Rw)(e)):this.node().textContent}function Pw(){this.innerHTML=""}function qw(e){return function(){this.innerHTML=e}}function zw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function jw(e){return arguments.length?this.each(e==null?Pw:(typeof e=="function"?zw:qw)(e)):this.node().innerHTML}function Bw(){this.nextSibling&&this.parentNode.appendChild(this)}function Uw(){return this.each(Bw)}function Gw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Yw(){return this.each(Gw)}function Hw(e){var t=typeof e=="function"?e:ba(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function Ww(){return null}function Xw(e,t){var n=typeof e=="function"?e:ba(e),r=t==null?Ww:typeof t=="function"?t:lu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Vw(){var e=this.parentNode;e&&e.removeChild(this)}function Zw(){return this.each(Vw)}function Kw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Qw(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Jw(e){return this.select(e?Qw:Kw)}function e_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function t_(e){return function(t){e.call(this,t,this.__data__)}}function n_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function r_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function i_(e,t,n){return function(){var r=this.__on,i,o=t_(t);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function o_(e,t,n){var r=n_(e+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var s=0,u=f.length,c;s<u;++s)for(i=0,c=f[s];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(f=t?i_:r_,i=0;i<o;++i)this.each(f(r[i],t,n));return this}function Zh(e,t,n){var r=Yh(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function a_(e,t){return function(){return Zh(this,e,t)}}function f_(e,t){return function(){return Zh(this,e,t.apply(this,arguments))}}function s_(e,t){return this.each((typeof t=="function"?f_:a_)(e,t))}function*u_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Kh=[null];function ze(e,t){this._groups=e,this._parents=t}function bi(){return new ze([[document.documentElement]],Kh)}function c_(){return this}ze.prototype=bi.prototype={constructor:ze,select:O2,selectAll:z2,selectChild:G2,selectChildren:X2,filter:V2,data:tw,enter:Z2,exit:rw,join:iw,merge:ow,selection:c_,order:aw,sort:fw,call:uw,nodes:cw,node:lw,size:dw,empty:hw,each:pw,attr:vw,style:Mw,property:Cw,classed:Lw,text:Fw,html:jw,raise:Uw,lower:Yw,append:Hw,insert:Xw,remove:Zw,clone:Jw,datum:e_,on:o_,dispatch:s_,[Symbol.iterator]:u_};function Qn(e){return typeof e=="string"?new ze([[document.querySelector(e)]],[document.documentElement]):new ze([[e]],Kh)}function l_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function d_(e,t){if(e=l_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function _r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function cn(){}var Cn=.7,or=1/Cn,Jn="\\s*([+-]?\\d+)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",vt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",h_=/^#([0-9a-f]{3,8})$/,p_=new RegExp(`^rgb\\(${Jn},${Jn},${Jn}\\)$`),m_=new RegExp(`^rgb\\(${vt},${vt},${vt}\\)$`),g_=new RegExp(`^rgba\\(${Jn},${Jn},${Jn},${ti}\\)$`),b_=new RegExp(`^rgba\\(${vt},${vt},${vt},${ti}\\)$`),y_=new RegExp(`^hsl\\(${ti},${vt},${vt}\\)$`),w_=new RegExp(`^hsla\\(${ti},${vt},${vt},${ti}\\)$`),Zc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_r(cn,kn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Kc,formatHex:Kc,formatHex8:__,formatHsl:v_,formatRgb:Qc,toString:Qc});function Kc(){return this.rgb().formatHex()}function __(){return this.rgb().formatHex8()}function v_(){return Qh(this).formatHsl()}function Qc(){return this.rgb().formatRgb()}function kn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=h_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Jc(t):n===3?new _e(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Bi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Bi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=p_.exec(e))?new _e(t[1],t[2],t[3],1):(t=m_.exec(e))?new _e(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=g_.exec(e))?Bi(t[1],t[2],t[3],t[4]):(t=b_.exec(e))?Bi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=y_.exec(e))?nl(t[1],t[2]/100,t[3]/100,1):(t=w_.exec(e))?nl(t[1],t[2]/100,t[3]/100,t[4]):Zc.hasOwnProperty(e)?Jc(Zc[e]):e==="transparent"?new _e(NaN,NaN,NaN,0):null}function Jc(e){return new _e(e>>16&255,e>>8&255,e&255,1)}function Bi(e,t,n,r){return r<=0&&(e=t=n=NaN),new _e(e,t,n,r)}function hu(e){return e instanceof cn||(e=kn(e)),e?(e=e.rgb(),new _e(e.r,e.g,e.b,e.opacity)):new _e}function an(e,t,n,r){return arguments.length===1?hu(e):new _e(e,t,n,r??1)}function _e(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}_r(_e,an,yi(cn,{brighter(e){return e=e==null?or:Math.pow(or,e),new _e(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cn:Math.pow(Cn,e),new _e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _e(Sn(this.r),Sn(this.g),Sn(this.b),Ao(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:el,formatHex:el,formatHex8:x_,formatRgb:tl,toString:tl}));function el(){return`#${Tn(this.r)}${Tn(this.g)}${Tn(this.b)}`}function x_(){return`#${Tn(this.r)}${Tn(this.g)}${Tn(this.b)}${Tn((isNaN(this.opacity)?1:this.opacity)*255)}`}function tl(){const e=Ao(this.opacity);return`${e===1?"rgb(":"rgba("}${Sn(this.r)}, ${Sn(this.g)}, ${Sn(this.b)}${e===1?")":`, ${e})`}`}function Ao(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tn(e){return e=Sn(e),(e<16?"0":"")+e.toString(16)}function nl(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new tt(e,t,n,r)}function Qh(e){if(e instanceof tt)return new tt(e.h,e.s,e.l,e.opacity);if(e instanceof cn||(e=kn(e)),!e)return new tt;if(e instanceof tt)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,f=o-i,s=(o+i)/2;return f?(t===o?a=(n-r)/f+(n<r)*6:n===o?a=(r-t)/f+2:a=(t-n)/f+4,f/=s<.5?o+i:2-o-i,a*=60):f=s>0&&s<1?0:a,new tt(a,f,s,e.opacity)}function ps(e,t,n,r){return arguments.length===1?Qh(e):new tt(e,t,n,r??1)}function tt(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_r(tt,ps,yi(cn,{brighter(e){return e=e==null?or:Math.pow(or,e),new tt(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cn:Math.pow(Cn,e),new tt(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new _e(mf(e>=240?e-240:e+120,i,r),mf(e,i,r),mf(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new tt(rl(this.h),Ui(this.s),Ui(this.l),Ao(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ao(this.opacity);return`${e===1?"hsl(":"hsla("}${rl(this.h)}, ${Ui(this.s)*100}%, ${Ui(this.l)*100}%${e===1?")":`, ${e})`}`}}));function rl(e){return e=(e||0)%360,e<0?e+360:e}function Ui(e){return Math.max(0,Math.min(1,e||0))}function mf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Jh=Math.PI/180,e0=180/Math.PI,Co=18,t0=.96422,n0=1,r0=.82521,i0=4/29,er=6/29,o0=3*er*er,T_=er*er*er;function a0(e){if(e instanceof xt)return new xt(e.l,e.a,e.b,e.opacity);if(e instanceof Ft)return f0(e);e instanceof _e||(e=hu(e));var t=wf(e.r),n=wf(e.g),r=wf(e.b),i=gf((.2225045*t+.7168786*n+.0606169*r)/n0),o,a;return t===n&&n===r?o=a=i:(o=gf((.4360747*t+.3850649*n+.1430804*r)/t0),a=gf((.0139322*t+.0971045*n+.7141733*r)/r0)),new xt(116*i-16,500*(o-i),200*(i-a),e.opacity)}function ms(e,t,n,r){return arguments.length===1?a0(e):new xt(e,t,n,r??1)}function xt(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}_r(xt,ms,yi(cn,{brighter(e){return new xt(this.l+Co*(e??1),this.a,this.b,this.opacity)},darker(e){return new xt(this.l-Co*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=t0*bf(t),e=n0*bf(e),n=r0*bf(n),new _e(yf(3.1338561*t-1.6168667*e-.4906146*n),yf(-.9787684*t+1.9161415*e+.033454*n),yf(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function gf(e){return e>T_?Math.pow(e,1/3):e/o0+i0}function bf(e){return e>er?e*e*e:o0*(e-i0)}function yf(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function wf(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function S_(e){if(e instanceof Ft)return new Ft(e.h,e.c,e.l,e.opacity);if(e instanceof xt||(e=a0(e)),e.a===0&&e.b===0)return new Ft(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*e0;return new Ft(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function gs(e,t,n,r){return arguments.length===1?S_(e):new Ft(e,t,n,r??1)}function Ft(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function f0(e){if(isNaN(e.h))return new xt(e.l,0,0,e.opacity);var t=e.h*Jh;return new xt(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}_r(Ft,gs,yi(cn,{brighter(e){return new Ft(this.h,this.c,this.l+Co*(e??1),this.opacity)},darker(e){return new Ft(this.h,this.c,this.l-Co*(e??1),this.opacity)},rgb(){return f0(this).rgb()}}));var s0=-.14861,pu=1.78277,mu=-.29227,ya=-.90649,ni=1.97294,il=ni*ya,ol=ni*pu,al=pu*mu-ya*s0;function M_(e){if(e instanceof Mn)return new Mn(e.h,e.s,e.l,e.opacity);e instanceof _e||(e=hu(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(al*r+il*t-ol*n)/(al+il-ol),o=r-i,a=(ni*(n-i)-mu*o)/ya,f=Math.sqrt(a*a+o*o)/(ni*i*(1-i)),s=f?Math.atan2(a,o)*e0-120:NaN;return new Mn(s<0?s+360:s,f,i,e.opacity)}function Tt(e,t,n,r){return arguments.length===1?M_(e):new Mn(e,t,n,r??1)}function Mn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_r(Mn,Tt,yi(cn,{brighter(e){return e=e==null?or:Math.pow(or,e),new Mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cn:Math.pow(Cn,e),new Mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Jh,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new _e(255*(t+n*(s0*r+pu*i)),255*(t+n*(mu*r+ya*i)),255*(t+n*(ni*r)),this.opacity)}}));function $_(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function E_(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,f=r<t-1?e[r+2]:2*o-i;return $_((n-r/t)*t,a,i,o,f)}}const wa=e=>()=>e;function u0(e,t){return function(n){return e+n*t}}function A_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function gu(e,t){var n=t-e;return n?u0(e,n>180||n<-180?n-360*Math.round(n/360):n):wa(isNaN(e)?t:e)}function C_(e){return(e=+e)==1?Ae:function(t,n){return n-t?A_(t,n,e):wa(isNaN(t)?n:t)}}function Ae(e,t){var n=t-e;return n?u0(e,n):wa(isNaN(e)?t:e)}const Nn=function e(t){var n=C_(t);function r(i,o){var a=n((i=an(i)).r,(o=an(o)).r),f=n(i.g,o.g),s=n(i.b,o.b),u=Ae(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=f(c),i.b=s(c),i.opacity=u(c),i+""}}return r.gamma=e,r}(1);function k_(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,f;for(a=0;a<n;++a)f=an(t[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=e(r),i=e(i),o=e(o),f.opacity=1,function(s){return f.r=r(s),f.g=i(s),f.b=o(s),f+""}}}var N_=k_(E_);function I_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function L_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function D_(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=wi(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function R_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $e(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function O_(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=wi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var bs=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,_f=new RegExp(bs.source,"g");function F_(e){return function(){return e}}function P_(e){return function(t){return e(t)+""}}function c0(e,t){var n=bs.lastIndex=_f.lastIndex=0,r,i,o,a=-1,f=[],s=[];for(e=e+"",t=t+"";(r=bs.exec(e))&&(i=_f.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,s.push({i:a,x:$e(r,i)})),n=_f.lastIndex;return n<t.length&&(o=t.slice(n),f[a]?f[a]+=o:f[++a]=o),f.length<2?s[0]?P_(s[0].x):F_(t):(t=s.length,function(u){for(var c=0,l;c<t;++c)f[(l=s[c]).i]=l.x(u);return f.join("")})}function wi(e,t){var n=typeof t,r;return t==null||n==="boolean"?wa(t):(n==="number"?$e:n==="string"?(r=kn(t))?(t=r,Nn):c0:t instanceof kn?Nn:t instanceof Date?R_:L_(t)?I_:Array.isArray(t)?D_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?O_:$e)(e,t)}function bu(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var fl=180/Math.PI,ys={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function l0(e,t,n,r,i,o){var a,f,s;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(s=e*n+t*r)&&(n-=e*s,r-=t*s),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,s/=f),e*r<t*n&&(e=-e,t=-t,s=-s,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*fl,skewX:Math.atan(s)*fl,scaleX:a,scaleY:f}}var Gi;function q_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ys:l0(t.a,t.b,t.c,t.d,t.e,t.f)}function z_(e){return e==null||(Gi||(Gi=document.createElementNS("http://www.w3.org/2000/svg","g")),Gi.setAttribute("transform",e),!(e=Gi.transform.baseVal.consolidate()))?ys:(e=e.matrix,l0(e.a,e.b,e.c,e.d,e.e,e.f))}function d0(e,t,n,r){function i(u){return u.length?u.pop()+" ":""}function o(u,c,l,d,h,p){if(u!==l||c!==d){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:$e(u,l)},{i:m-2,x:$e(c,d)})}else(l||d)&&h.push("translate("+l+t+d+n)}function a(u,c,l,d){u!==c?(u-c>180?c+=360:c-u>180&&(u+=360),d.push({i:l.push(i(l)+"rotate(",null,r)-2,x:$e(u,c)})):c&&l.push(i(l)+"rotate("+c+r)}function f(u,c,l,d){u!==c?d.push({i:l.push(i(l)+"skewX(",null,r)-2,x:$e(u,c)}):c&&l.push(i(l)+"skewX("+c+r)}function s(u,c,l,d,h,p){if(u!==l||c!==d){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:$e(u,l)},{i:m-2,x:$e(c,d)})}else(l!==1||d!==1)&&h.push(i(h)+"scale("+l+","+d+")")}return function(u,c){var l=[],d=[];return u=e(u),c=e(c),o(u.translateX,u.translateY,c.translateX,c.translateY,l,d),a(u.rotate,c.rotate,l,d),f(u.skewX,c.skewX,l,d),s(u.scaleX,u.scaleY,c.scaleX,c.scaleY,l,d),u=c=null,function(h){for(var p=-1,m=d.length,g;++p<m;)l[(g=d[p]).i]=g.x(h);return l.join("")}}}var j_=d0(q_,"px, ","px)","deg)"),B_=d0(z_,", ",")",")");function U_(e){return function(t,n){var r=e((t=ps(t)).h,(n=ps(n)).h),i=Ae(t.s,n.s),o=Ae(t.l,n.l),a=Ae(t.opacity,n.opacity);return function(f){return t.h=r(f),t.s=i(f),t.l=o(f),t.opacity=a(f),t+""}}}const G_=U_(gu);function Y_(e,t){var n=Ae((e=ms(e)).l,(t=ms(t)).l),r=Ae(e.a,t.a),i=Ae(e.b,t.b),o=Ae(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function H_(e){return function(t,n){var r=e((t=gs(t)).h,(n=gs(n)).h),i=Ae(t.c,n.c),o=Ae(t.l,n.l),a=Ae(t.opacity,n.opacity);return function(f){return t.h=r(f),t.c=i(f),t.l=o(f),t.opacity=a(f),t+""}}}const W_=H_(gu);function h0(e){return function t(n){n=+n;function r(i,o){var a=e((i=Tt(i)).h,(o=Tt(o)).h),f=Ae(i.s,o.s),s=Ae(i.l,o.l),u=Ae(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=f(c),i.l=s(Math.pow(c,n)),i.opacity=u(c),i+""}}return r.gamma=t,r}(1)}h0(gu);var yu=h0(Ae);function _a(e,t){t===void 0&&(t=e,e=wi);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function ot(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var ar=0,Pr=0,Ar=0,p0=1e3,ko,qr,No=0,In=0,va=0,ri=typeof performance=="object"&&performance.now?performance:Date,m0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function wu(){return In||(m0(X_),In=ri.now()+va)}function X_(){In=0}function Io(){this._call=this._time=this._next=null}Io.prototype=g0.prototype={constructor:Io,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?wu():+n)+(t==null?0:+t),!this._next&&qr!==this&&(qr?qr._next=this:ko=this,qr=this),this._call=e,this._time=n,ws()},stop:function(){this._call&&(this._call=null,this._time=1/0,ws())}};function g0(e,t,n){var r=new Io;return r.restart(e,t,n),r}function V_(){wu(),++ar;for(var e=ko,t;e;)(t=In-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ar}function sl(){In=(No=ri.now())+va,ar=Pr=0;try{V_()}finally{ar=0,K_(),In=0}}function Z_(){var e=ri.now(),t=e-No;t>p0&&(va-=t,No=e)}function K_(){for(var e,t=ko,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:ko=n);qr=e,ws(r)}function ws(e){if(!ar){Pr&&(Pr=clearTimeout(Pr));var t=e-In;t>24?(e<1/0&&(Pr=setTimeout(sl,e-ri.now()-va)),Ar&&(Ar=clearInterval(Ar))):(Ar||(No=ri.now(),Ar=setInterval(Z_,p0)),ar=1,m0(sl))}}function ul(e,t,n){var r=new Io;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Q_=zh("start","end","cancel","interrupt"),J_=[],b0=0,cl=1,_s=2,go=3,ll=4,vs=5,bo=6;function xa(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;ev(e,n,{name:t,index:r,group:i,on:Q_,tween:J_,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:b0})}function _u(e,t){var n=ut(e,t);if(n.state>b0)throw new Error("too late; already scheduled");return n}function $t(e,t){var n=ut(e,t);if(n.state>go)throw new Error("too late; already running");return n}function ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function ev(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=g0(o,0,n.time);function o(u){n.state=cl,n.timer.restart(a,n.delay,n.time),n.delay<=u&&a(u-n.delay)}function a(u){var c,l,d,h;if(n.state!==cl)return s();for(c in r)if(h=r[c],h.name===n.name){if(h.state===go)return ul(a);h.state===ll?(h.state=bo,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=bo,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(ul(function(){n.state===go&&(n.state=ll,n.timer.restart(f,n.delay,n.time),f(u))}),n.state=_s,n.on.call("start",e,e.__data__,n.index,n.group),n.state===_s){for(n.state=go,i=new Array(d=n.tween.length),c=0,l=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++l]=h);i.length=l+1}}function f(u){for(var c=u<n.duration?n.ease.call(null,u/n.duration):(n.timer.restart(s),n.state=vs,1),l=-1,d=i.length;++l<d;)i[l].call(e,c);n.state===vs&&(n.on.call("end",e,e.__data__,n.index,n.group),s())}function s(){n.state=bo,n.timer.stop(),delete r[t];for(var u in r)return;delete e.__transition}}function tv(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>_s&&r.state<vs,r.state=bo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function nv(e){return this.each(function(){tv(this,e)})}function rv(e,t){var n,r;return function(){var i=$t(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function iv(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=$t(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:t,value:n},s=0,u=i.length;s<u;++s)if(i[s].name===t){i[s]=f;break}s===u&&i.push(f)}o.tween=i}}function ov(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ut(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?rv:iv)(n,e,t))}function vu(e,t,n){var r=e._id;return e.each(function(){var i=$t(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ut(i,r).value[t]}}function y0(e,t){var n;return(typeof t=="number"?$e:t instanceof kn?Nn:(n=kn(t))?(t=n,Nn):c0)(e,t)}function av(e){return function(){this.removeAttribute(e)}}function fv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function sv(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function uv(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function cv(e,t,n){var r,i,o;return function(){var a,f=n(this),s;return f==null?void this.removeAttribute(e):(a=this.getAttribute(e),s=f+"",a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,f)))}}function lv(e,t,n){var r,i,o;return function(){var a,f=n(this),s;return f==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),s=f+"",a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,f)))}}function dv(e,t){var n=ga(e),r=n==="transform"?B_:y0;return this.attrTween(e,typeof t=="function"?(n.local?lv:cv)(n,r,vu(this,"attr."+e,t)):t==null?(n.local?fv:av)(n):(n.local?uv:sv)(n,r,t))}function hv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function pv(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function mv(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&pv(e,o)),n}return i._value=t,i}function gv(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&hv(e,o)),n}return i._value=t,i}function bv(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ga(e);return this.tween(n,(r.local?mv:gv)(r,t))}function yv(e,t){return function(){_u(this,e).delay=+t.apply(this,arguments)}}function wv(e,t){return t=+t,function(){_u(this,e).delay=t}}function _v(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?yv:wv)(t,e)):ut(this.node(),t).delay}function vv(e,t){return function(){$t(this,e).duration=+t.apply(this,arguments)}}function xv(e,t){return t=+t,function(){$t(this,e).duration=t}}function Tv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?vv:xv)(t,e)):ut(this.node(),t).duration}function Sv(e,t){if(typeof t!="function")throw new Error;return function(){$t(this,e).ease=t}}function Mv(e){var t=this._id;return arguments.length?this.each(Sv(t,e)):ut(this.node(),t).ease}function $v(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;$t(this,e).ease=n}}function Ev(e){if(typeof e!="function")throw new Error;return this.each($v(this._id,e))}function Av(e){typeof e!="function"&&(e=Bh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,f=r[i]=[],s,u=0;u<a;++u)(s=o[u])&&e.call(s,s.__data__,u,o)&&f.push(s);return new Ut(r,this._parents,this._name,this._id)}function Cv(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var s=t[f],u=n[f],c=s.length,l=a[f]=new Array(c),d,h=0;h<c;++h)(d=s[h]||u[h])&&(l[h]=d);for(;f<r;++f)a[f]=t[f];return new Ut(a,this._parents,this._name,this._id)}function kv(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Nv(e,t,n){var r,i,o=kv(t)?_u:$t;return function(){var a=o(this,e),f=a.on;f!==r&&(i=(r=f).copy()).on(t,n),a.on=i}}function Iv(e,t){var n=this._id;return arguments.length<2?ut(this.node(),n).on.on(e):this.each(Nv(n,e,t))}function Lv(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Dv(){return this.on("end.remove",Lv(this._id))}function Rv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=lu(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],s=f.length,u=o[a]=new Array(s),c,l,d=0;d<s;++d)(c=f[d])&&(l=e.call(c,c.__data__,d,f))&&("__data__"in c&&(l.__data__=c.__data__),u[d]=l,xa(u[d],t,n,d,u,ut(c,n)));return new Ut(o,this._parents,t,n)}function Ov(e){var t=this._name,n=this._id;typeof e!="function"&&(e=jh(e));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var s=r[f],u=s.length,c,l=0;l<u;++l)if(c=s[l]){for(var d=e.call(c,c.__data__,l,s),h,p=ut(c,n),m=0,g=d.length;m<g;++m)(h=d[m])&&xa(h,t,n,m,d,p);o.push(d),a.push(c)}return new Ut(o,a,t,n)}var Fv=bi.prototype.constructor;function Pv(){return new Fv(this._groups,this._parents)}function qv(e,t){var n,r,i;return function(){var o=ir(this,e),a=(this.style.removeProperty(e),ir(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function w0(e){return function(){this.style.removeProperty(e)}}function zv(e,t,n){var r,i=n+"",o;return function(){var a=ir(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function jv(e,t,n){var r,i,o;return function(){var a=ir(this,e),f=n(this),s=f+"";return f==null&&(s=f=(this.style.removeProperty(e),ir(this,e))),a===s?null:a===r&&s===i?o:(i=s,o=t(r=a,f))}}function Bv(e,t){var n,r,i,o="style."+t,a="end."+o,f;return function(){var s=$t(this,e),u=s.on,c=s.value[o]==null?f||(f=w0(t)):void 0;(u!==n||i!==c)&&(r=(n=u).copy()).on(a,i=c),s.on=r}}function Uv(e,t,n){var r=(e+="")=="transform"?j_:y0;return t==null?this.styleTween(e,qv(e,r)).on("end.style."+e,w0(e)):typeof t=="function"?this.styleTween(e,jv(e,r,vu(this,"style."+e,t))).each(Bv(this._id,e)):this.styleTween(e,zv(e,r,t),n).on("end.style."+e,null)}function Gv(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Yv(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Gv(e,a,n)),r}return o._value=t,o}function Hv(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Yv(e,t,n??""))}function Wv(e){return function(){this.textContent=e}}function Xv(e){return function(){var t=e(this);this.textContent=t??""}}function Vv(e){return this.tween("text",typeof e=="function"?Xv(vu(this,"text",e)):Wv(e==null?"":e+""))}function Zv(e){return function(t){this.textContent=e.call(this,t)}}function Kv(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Zv(i)),t}return r._value=e,r}function Qv(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Kv(e))}function Jv(){for(var e=this._name,t=this._id,n=_0(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,s,u=0;u<f;++u)if(s=a[u]){var c=ut(s,t);xa(s,e,n,u,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ut(r,this._parents,e,n)}function e6(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var f={value:a},s={value:function(){--i===0&&o()}};n.each(function(){var u=$t(this,r),c=u.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(s)),u.on=t}),i===0&&o()})}var t6=0;function Ut(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function _0(){return++t6}var Ct=bi.prototype;Ut.prototype={constructor:Ut,select:Rv,selectAll:Ov,selectChild:Ct.selectChild,selectChildren:Ct.selectChildren,filter:Av,merge:Cv,selection:Pv,transition:Jv,call:Ct.call,nodes:Ct.nodes,node:Ct.node,size:Ct.size,empty:Ct.empty,each:Ct.each,on:Iv,attr:dv,attrTween:bv,style:Uv,styleTween:Hv,text:Vv,textTween:Qv,remove:Dv,tween:ov,delay:_v,duration:Tv,ease:Mv,easeVarying:Ev,end:e6,[Symbol.iterator]:Ct[Symbol.iterator]};function n6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var r6={time:null,delay:0,duration:250,ease:n6};function i6(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function o6(e){var t,n;e instanceof Ut?(t=e._id,e=e._name):(t=_0(),(n=r6).time=wu(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,s,u=0;u<f;++u)(s=a[u])&&xa(s,e,t,u,a,n||i6(s,t));return new Ut(r,this._parents,e,t)}bi.prototype.interrupt=nv;bi.prototype.transition=o6;const xs=Math.PI,Ts=2*xs,vn=1e-6,a6=Ts-vn;function v0(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function f6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return v0;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class x0{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?v0:f6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,s=r-t,u=i-n,c=a-t,l=f-n,d=c*c+l*l;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>vn)if(!(Math.abs(l*s-u*c)>vn)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,p=i-f,m=s*s+u*u,g=h*h+p*p,y=Math.sqrt(m),b=Math.sqrt(d),_=o*Math.tan((xs-Math.acos((m+d-g)/(2*y*b)))/2),w=_/b,S=_/y;Math.abs(w-1)>vn&&this._append`L${t+w*c},${n+w*l}`,this._append`A${o},${o},0,0,${+(l*h>c*p)},${this._x1=t+S*s},${this._y1=n+S*u}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),s=r*Math.sin(i),u=t+f,c=n+s,l=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${u},${c}`:(Math.abs(this._x1-u)>vn||Math.abs(this._y1-c)>vn)&&this._append`L${u},${c}`,r&&(d<0&&(d=d%Ts+Ts),d>a6?this._append`A${r},${r},0,1,${l},${t-f},${n-s}A${r},${r},0,1,${l},${this._x1=u},${this._y1=c}`:d>vn&&this._append`A${r},${r},0,${+(d>=xs)},${l},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function Ss(e=3){return new x0(+e)}function s6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Lo(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function fr(e){return e=Lo(Math.abs(e)),e?e[1]:NaN}function u6(e,t){return function(n,r){for(var i=n.length,o=[],a=0,f=e[0],s=0;i>0&&f>0&&(s+f+1>r&&(f=Math.max(1,r-s)),o.push(n.substring(i-=f,i+f)),!((s+=f+1)>r));)f=e[a=(a+1)%e.length];return o.reverse().join(t)}}function c6(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var l6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ii(e){if(!(t=l6.exec(e)))throw new Error("invalid format: "+e);var t;return new xu({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ii.prototype=xu.prototype;function xu(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}xu.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function d6(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var T0;function h6(e,t){var n=Lo(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(T0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Lo(e,Math.max(0,t+o-1))[0]}function dl(e,t){var n=Lo(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const hl={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:s6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>dl(e*100,t),r:dl,s:h6,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function pl(e){return e}var ml=Array.prototype.map,gl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function p6(e){var t=e.grouping===void 0||e.thousands===void 0?pl:u6(ml.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?pl:c6(ml.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",s=e.nan===void 0?"NaN":e.nan+"";function u(l){l=ii(l);var d=l.fill,h=l.align,p=l.sign,m=l.symbol,g=l.zero,y=l.width,b=l.comma,_=l.precision,w=l.trim,S=l.type;S==="n"?(b=!0,S="g"):hl[S]||(_===void 0&&(_=12),w=!0,S="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var M=m==="$"?n:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=m==="$"?r:/[%p]/.test(S)?a:"",C=hl[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R($){var T=M,v=A,E,x,N;if(S==="c")v=C($)+v,$="";else{$=+$;var I=$<0||1/$<0;if($=isNaN($)?s:C(Math.abs($),_),w&&($=d6($)),I&&+$==0&&p!=="+"&&(I=!1),T=(I?p==="("?p:f:p==="-"||p==="("?"":p)+T,v=(S==="s"?gl[8+T0/3]:"")+v+(I&&p==="("?")":""),k){for(E=-1,x=$.length;++E<x;)if(N=$.charCodeAt(E),48>N||N>57){v=(N===46?i+$.slice(E+1):$.slice(E))+v,$=$.slice(0,E);break}}}b&&!g&&($=t($,1/0));var j=T.length+$.length+v.length,G=j<y?new Array(y-j+1).join(d):"";switch(b&&g&&($=t(G+$,G.length?y-v.length:1/0),G=""),h){case"<":$=T+$+v+G;break;case"=":$=T+G+$+v;break;case"^":$=G.slice(0,j=G.length>>1)+T+$+v+G.slice(j);break;default:$=G+T+$+v;break}return o($)}return R.toString=function(){return l+""},R}function c(l,d){var h=u((l=ii(l),l.type="f",l)),p=Math.max(-8,Math.min(8,Math.floor(fr(d)/3)))*3,m=Math.pow(10,-p),g=gl[8+p/3];return function(y){return h(m*y)+g}}return{format:u,formatPrefix:c}}var Yi,vr,S0;m6({thousands:",",grouping:[3],currency:["$",""]});function m6(e){return Yi=p6(e),vr=Yi.format,S0=Yi.formatPrefix,Yi}function g6(e){return Math.max(0,-fr(Math.abs(e)))}function b6(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fr(t)/3)))*3-fr(Math.abs(e)))}function y6(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fr(t)-fr(e))+1}var ee=1e-6,M0=1e-12,re=Math.PI,he=re/2,bl=re/4,je=re*2,Ne=180/re,de=re/180,se=Math.abs,xr=Math.atan,Gt=Math.atan2,ne=Math.cos,$0=Math.exp,Do=Math.log,vf=Math.pow,Q=Math.sin,We=Math.sign||function(e){return e>0?1:e<0?-1:0},Re=Math.sqrt,Tu=Math.tan;function E0(e){return e>1?0:e<-1?re:Math.acos(e)}function Ke(e){return e>1?he:e<-1?-he:Math.asin(e)}function Xe(){}function Ro(e,t){e&&wl.hasOwnProperty(e.type)&&wl[e.type](e,t)}var yl={Feature:function(e,t){Ro(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Ro(n[r].geometry,t)}},wl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){Ms(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)Ms(n[r],t,0)},Polygon:function(e,t){_l(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)_l(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Ro(n[r],t)}};function Ms(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function _l(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)Ms(e[n],t,1);t.polygonEnd()}function xn(e,t){e&&yl.hasOwnProperty(e.type)?yl[e.type](e,t):Ro(e,t)}function $s(e){return[Gt(e[1],e[0]),Ke(e[2])]}function sr(e){var t=e[0],n=e[1],r=ne(n);return[r*ne(t),r*Q(t),Q(n)]}function Hi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Oo(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function xf(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Wi(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Es(e){var t=Re(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function As(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function Cs(e,t){return se(e)>re&&(e-=Math.round(e/je)*je),[e,t]}Cs.invert=Cs;function A0(e,t,n){return(e%=je)?t||n?As(xl(e),Tl(t,n)):xl(e):t||n?Tl(t,n):Cs}function vl(e){return function(t,n){return t+=e,se(t)>re&&(t-=Math.round(t/je)*je),[t,n]}}function xl(e){var t=vl(e);return t.invert=vl(-e),t}function Tl(e,t){var n=ne(e),r=Q(e),i=ne(t),o=Q(t);function a(f,s){var u=ne(s),c=ne(f)*u,l=Q(f)*u,d=Q(s),h=d*n+c*r;return[Gt(l*i-h*o,c*n-d*r),Ke(h*i+l*o)]}return a.invert=function(f,s){var u=ne(s),c=ne(f)*u,l=Q(f)*u,d=Q(s),h=d*i-l*o;return[Gt(l*i+d*o,c*n+h*r),Ke(h*n-c*r)]},a}function w6(e){e=A0(e[0]*de,e[1]*de,e.length>2?e[2]*de:0);function t(n){return n=e(n[0]*de,n[1]*de),n[0]*=Ne,n[1]*=Ne,n}return t.invert=function(n){return n=e.invert(n[0]*de,n[1]*de),n[0]*=Ne,n[1]*=Ne,n},t}function _6(e,t,n,r,i,o){if(n){var a=ne(t),f=Q(t),s=r*n;i==null?(i=t+r*je,o=t-s/2):(i=Sl(a,i),o=Sl(a,o),(r>0?i<o:i>o)&&(i+=r*je));for(var u,c=i;r>0?c>o:c<o;c-=s)u=$s([a,-f*ne(c),-f*Q(c)]),e.point(u[0],u[1])}}function Sl(e,t){t=sr(t),t[0]-=e,Es(t);var n=E0(-t[1]);return((-t[2]<0?-n:n)+je-ee)%je}function C0(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Xe,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function yo(e,t){return se(e[0]-t[0])<ee&&se(e[1]-t[1])<ee}function Xi(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function k0(e,t,n,r,i){var o=[],a=[],f,s;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],b;if(yo(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),f=0;f<m;++f)i.point((g=p[f])[0],g[1]);i.lineEnd();return}y[0]+=2*ee}o.push(b=new Xi(g,p,null,!0)),a.push(b.o=new Xi(g,null,b,!1)),o.push(b=new Xi(y,p,null,!1)),a.push(b.o=new Xi(y,null,b,!0))}}),!!o.length){for(a.sort(t),Ml(o),Ml(a),f=0,s=a.length;f<s;++f)a[f].e=n=!n;for(var u=o[0],c,l;;){for(var d=u,h=!0;d.v;)if((d=d.n)===u)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(f=0,s=c.length;f<s;++f)i.point((l=c[f])[0],l[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,f=c.length-1;f>=0;--f)i.point((l=c[f])[0],l[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function Ml(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function Tf(e){return se(e[0])<=re?e[0]:We(e[0])*((se(e[0])+re)%je-re)}function v6(e,t){var n=Tf(t),r=t[1],i=Q(r),o=[Q(n),-ne(n),0],a=0,f=0,s=new En;i===1?r=he+ee:i===-1&&(r=-he-ee);for(var u=0,c=e.length;u<c;++u)if(d=(l=e[u]).length)for(var l,d,h=l[d-1],p=Tf(h),m=h[1]/2+bl,g=Q(m),y=ne(m),b=0;b<d;++b,p=w,g=M,y=A,h=_){var _=l[b],w=Tf(_),S=_[1]/2+bl,M=Q(S),A=ne(S),C=w-p,k=C>=0?1:-1,R=k*C,$=R>re,T=g*M;if(s.add(Gt(T*k*Q(R),y*A+T*ne(R))),a+=$?C+k*je:C,$^p>=n^w>=n){var v=Oo(sr(h),sr(_));Es(v);var E=Oo(o,v);Es(E);var x=($^C>=0?-1:1)*Ke(E[2]);(r>x||r===x&&(v[0]||v[1]))&&(f+=$^C>=0?1:-1)}}return(a<-ee||a<ee&&s<-M0)^f&1}function N0(e,t,n,r){return function(i){var o=t(i),a=C0(),f=t(a),s=!1,u,c,l,d={point:h,lineStart:m,lineEnd:g,polygonStart:function(){d.point=y,d.lineStart=b,d.lineEnd=_,c=[],u=[]},polygonEnd:function(){d.point=h,d.lineStart=m,d.lineEnd=g,c=qh(c);var w=v6(u,r);c.length?(s||(i.polygonStart(),s=!0),k0(c,T6,w,n,i)):w&&(s||(i.polygonStart(),s=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),s&&(i.polygonEnd(),s=!1),c=u=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(w,S){e(w,S)&&i.point(w,S)}function p(w,S){o.point(w,S)}function m(){d.point=p,o.lineStart()}function g(){d.point=h,o.lineEnd()}function y(w,S){l.push([w,S]),f.point(w,S)}function b(){f.lineStart(),l=[]}function _(){y(l[0][0],l[0][1]),f.lineEnd();var w=f.clean(),S=a.result(),M,A=S.length,C,k,R;if(l.pop(),u.push(l),l=null,!!A){if(w&1){if(k=S[0],(C=k.length-1)>0){for(s||(i.polygonStart(),s=!0),i.lineStart(),M=0;M<C;++M)i.point((R=k[M])[0],R[1]);i.lineEnd()}return}A>1&&w&2&&S.push(S.pop().concat(S.shift())),c.push(S.filter(x6))}}return d}}function x6(e){return e.length>1}function T6(e,t){return((e=e.x)[0]<0?e[1]-he-ee:he-e[1])-((t=t.x)[0]<0?t[1]-he-ee:he-t[1])}const $l=N0(function(){return!0},S6,$6,[-re,-he]);function S6(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var f=o>0?re:-re,s=se(o-t);se(s-re)<ee?(e.point(t,n=(n+a)/2>0?he:-he),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),e.point(o,n),i=0):r!==f&&s>=re&&(se(t-r)<ee&&(t-=r*ee),se(o-f)<ee&&(o-=f*ee),n=M6(t,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),i=0),e.point(t=o,n=a),r=f},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function M6(e,t,n,r){var i,o,a=Q(e-n);return se(a)>ee?xr((Q(t)*(o=ne(r))*Q(n)-Q(r)*(i=ne(t))*Q(e))/(i*o*a)):(t+r)/2}function $6(e,t,n,r){var i;if(e==null)i=n*he,r.point(-re,i),r.point(0,i),r.point(re,i),r.point(re,0),r.point(re,-i),r.point(0,-i),r.point(-re,-i),r.point(-re,0),r.point(-re,i);else if(se(e[0]-t[0])>ee){var o=e[0]<t[0]?re:-re;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function E6(e){var t=ne(e),n=2*de,r=t>0,i=se(t)>ee;function o(c,l,d,h){_6(h,e,n,d,c,l)}function a(c,l){return ne(c)*ne(l)>t}function f(c){var l,d,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var b=[g,y],_,w=a(g,y),S=r?w?0:u(g,y):w?u(g+(g<0?re:-re),y):0;if(!l&&(p=h=w)&&c.lineStart(),w!==h&&(_=s(l,b),(!_||yo(l,_)||yo(b,_))&&(b[2]=1)),w!==h)m=0,w?(c.lineStart(),_=s(b,l),c.point(_[0],_[1])):(_=s(l,b),c.point(_[0],_[1],2),c.lineEnd()),l=_;else if(i&&l&&r^w){var M;!(S&d)&&(M=s(b,l,!0))&&(m=0,r?(c.lineStart(),c.point(M[0][0],M[0][1]),c.point(M[1][0],M[1][1]),c.lineEnd()):(c.point(M[1][0],M[1][1]),c.lineEnd(),c.lineStart(),c.point(M[0][0],M[0][1],3)))}w&&(!l||!yo(l,b))&&c.point(b[0],b[1]),l=b,h=w,d=S},lineEnd:function(){h&&c.lineEnd(),l=null},clean:function(){return m|(p&&h)<<1}}}function s(c,l,d){var h=sr(c),p=sr(l),m=[1,0,0],g=Oo(h,p),y=Hi(g,g),b=g[0],_=y-b*b;if(!_)return!d&&c;var w=t*y/_,S=-t*b/_,M=Oo(m,g),A=Wi(m,w),C=Wi(g,S);xf(A,C);var k=M,R=Hi(A,k),$=Hi(k,k),T=R*R-$*(Hi(A,A)-1);if(!(T<0)){var v=Re(T),E=Wi(k,(-R-v)/$);if(xf(E,A),E=$s(E),!d)return E;var x=c[0],N=l[0],I=c[1],j=l[1],G;N<x&&(G=x,x=N,N=G);var O=N-x,q=se(O-re)<ee,F=q||O<ee;if(!q&&j<I&&(G=I,I=j,j=G),F?q?I+j>0^E[1]<(se(E[0]-x)<ee?I:j):I<=E[1]&&E[1]<=j:O>re^(x<=E[0]&&E[0]<=N)){var P=Wi(k,(-R+v)/$);return xf(P,A),[E,$s(P)]}}}function u(c,l){var d=r?e:re-e,h=0;return c<-d?h|=1:c>d&&(h|=2),l<-d?h|=4:l>d&&(h|=8),h}return N0(a,f,o,r?[0,-e]:[-re,e-re])}function A6(e,t,n,r,i,o){var a=e[0],f=e[1],s=t[0],u=t[1],c=0,l=1,d=s-a,h=u-f,p;if(p=n-a,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<l&&(l=p)}else if(d>0){if(p>l)return;p>c&&(c=p)}if(p=i-a,!(!d&&p<0)){if(p/=d,d<0){if(p>l)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<l&&(l=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<l&&(l=p)}else if(h>0){if(p>l)return;p>c&&(c=p)}if(p=o-f,!(!h&&p<0)){if(p/=h,h<0){if(p>l)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<l&&(l=p)}return c>0&&(e[0]=a+c*d,e[1]=f+c*h),l<1&&(t[0]=a+l*d,t[1]=f+l*h),!0}}}}}var zr=1e9,Vi=-zr;function I0(e,t,n,r){function i(u,c){return e<=u&&u<=n&&t<=c&&c<=r}function o(u,c,l,d){var h=0,p=0;if(u==null||(h=a(u,l))!==(p=a(c,l))||s(u,c)<0^l>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+l+4)%4)!==p);else d.point(c[0],c[1])}function a(u,c){return se(u[0]-e)<ee?c>0?0:3:se(u[0]-n)<ee?c>0?2:1:se(u[1]-t)<ee?c>0?1:0:c>0?3:2}function f(u,c){return s(u.x,c.x)}function s(u,c){var l=a(u,1),d=a(c,1);return l!==d?l-d:l===0?c[1]-u[1]:l===1?u[0]-c[0]:l===2?u[1]-c[1]:c[0]-u[0]}return function(u){var c=u,l=C0(),d,h,p,m,g,y,b,_,w,S,M,A={point:C,lineStart:T,lineEnd:v,polygonStart:R,polygonEnd:$};function C(x,N){i(x,N)&&c.point(x,N)}function k(){for(var x=0,N=0,I=h.length;N<I;++N)for(var j=h[N],G=1,O=j.length,q=j[0],F,P,V=q[0],Z=q[1];G<O;++G)F=V,P=Z,q=j[G],V=q[0],Z=q[1],P<=r?Z>r&&(V-F)*(r-P)>(Z-P)*(e-F)&&++x:Z<=r&&(V-F)*(r-P)<(Z-P)*(e-F)&&--x;return x}function R(){c=l,d=[],h=[],M=!0}function $(){var x=k(),N=M&&x,I=(d=qh(d)).length;(N||I)&&(u.polygonStart(),N&&(u.lineStart(),o(null,null,1,u),u.lineEnd()),I&&k0(d,f,x,o,u),u.polygonEnd()),c=u,d=h=p=null}function T(){A.point=E,h&&h.push(p=[]),S=!0,w=!1,b=_=NaN}function v(){d&&(E(m,g),y&&w&&l.rejoin(),d.push(l.result())),A.point=C,w&&c.lineEnd()}function E(x,N){var I=i(x,N);if(h&&p.push([x,N]),S)m=x,g=N,y=I,S=!1,I&&(c.lineStart(),c.point(x,N));else if(I&&w)c.point(x,N);else{var j=[b=Math.max(Vi,Math.min(zr,b)),_=Math.max(Vi,Math.min(zr,_))],G=[x=Math.max(Vi,Math.min(zr,x)),N=Math.max(Vi,Math.min(zr,N))];A6(j,G,e,t,n,r)?(w||(c.lineStart(),c.point(j[0],j[1])),c.point(G[0],G[1]),I||c.lineEnd(),M=!1):I&&(c.lineStart(),c.point(x,N),M=!1)}b=x,_=N,w=I}return A}}const ks=e=>e;var Sf=new En,Ns=new En,L0,D0,Is,Ls,Ot={point:Xe,lineStart:Xe,lineEnd:Xe,polygonStart:function(){Ot.lineStart=C6,Ot.lineEnd=N6},polygonEnd:function(){Ot.lineStart=Ot.lineEnd=Ot.point=Xe,Sf.add(se(Ns)),Ns=new En},result:function(){var e=Sf/2;return Sf=new En,e}};function C6(){Ot.point=k6}function k6(e,t){Ot.point=R0,L0=Is=e,D0=Ls=t}function R0(e,t){Ns.add(Ls*e-Is*t),Is=e,Ls=t}function N6(){R0(L0,D0)}var ur=1/0,Fo=ur,oi=-ur,Po=oi,qo={point:I6,lineStart:Xe,lineEnd:Xe,polygonStart:Xe,polygonEnd:Xe,result:function(){var e=[[ur,Fo],[oi,Po]];return oi=Po=-(Fo=ur=1/0),e}};function I6(e,t){e<ur&&(ur=e),e>oi&&(oi=e),t<Fo&&(Fo=t),t>Po&&(Po=t)}var Ds=0,Rs=0,jr=0,zo=0,jo=0,Xn=0,Os=0,Fs=0,Br=0,O0,F0,gt,bt,Ye={point:Ln,lineStart:El,lineEnd:Al,polygonStart:function(){Ye.lineStart=R6,Ye.lineEnd=O6},polygonEnd:function(){Ye.point=Ln,Ye.lineStart=El,Ye.lineEnd=Al},result:function(){var e=Br?[Os/Br,Fs/Br]:Xn?[zo/Xn,jo/Xn]:jr?[Ds/jr,Rs/jr]:[NaN,NaN];return Ds=Rs=jr=zo=jo=Xn=Os=Fs=Br=0,e}};function Ln(e,t){Ds+=e,Rs+=t,++jr}function El(){Ye.point=L6}function L6(e,t){Ye.point=D6,Ln(gt=e,bt=t)}function D6(e,t){var n=e-gt,r=t-bt,i=Re(n*n+r*r);zo+=i*(gt+e)/2,jo+=i*(bt+t)/2,Xn+=i,Ln(gt=e,bt=t)}function Al(){Ye.point=Ln}function R6(){Ye.point=F6}function O6(){P0(O0,F0)}function F6(e,t){Ye.point=P0,Ln(O0=gt=e,F0=bt=t)}function P0(e,t){var n=e-gt,r=t-bt,i=Re(n*n+r*r);zo+=i*(gt+e)/2,jo+=i*(bt+t)/2,Xn+=i,i=bt*e-gt*t,Os+=i*(gt+e),Fs+=i*(bt+t),Br+=i*3,Ln(gt=e,bt=t)}function q0(e){this._context=e}q0.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,je);break}}},result:Xe};var Ps=new En,Mf,z0,j0,Ur,Gr,ai={point:Xe,lineStart:function(){ai.point=P6},lineEnd:function(){Mf&&B0(z0,j0),ai.point=Xe},polygonStart:function(){Mf=!0},polygonEnd:function(){Mf=null},result:function(){var e=+Ps;return Ps=new En,e}};function P6(e,t){ai.point=B0,z0=Ur=e,j0=Gr=t}function B0(e,t){Ur-=e,Gr-=t,Ps.add(Re(Ur*Ur+Gr*Gr)),Ur=e,Gr=t}let Cl,Bo,kl,Nl;class Il{constructor(t){this._append=t==null?U0:q6(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==kl||this._append!==Bo){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,kl=r,Bo=this._append,Nl=this._,this._=i}this._+=Nl;break}}}result(){const t=this._;return this._="",t.length?t:null}}function U0(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function q6(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return U0;if(t!==Cl){const n=10**t;Cl=t,Bo=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Bo}function Ta(e,t){let n=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),xn(f,i(o))),o.result()}return a.area=function(f){return xn(f,i(Ot)),Ot.result()},a.measure=function(f){return xn(f,i(ai)),ai.result()},a.bounds=function(f){return xn(f,i(qo)),qo.result()},a.centroid=function(f){return xn(f,i(Ye)),Ye.result()},a.projection=function(f){return arguments.length?(i=f==null?(e=null,ks):(e=f).stream,a):e},a.context=function(f){return arguments.length?(o=f==null?(t=null,new Il(n)):new q0(t=f),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const s=Math.floor(f);if(!(s>=0))throw new RangeError(`invalid digits: ${f}`);n=s}return t===null&&(o=new Il(n)),a},a.projection(e).digits(n).context(t)}function qs(e){return{stream:Sa(e)}}function Sa(e){return function(t){var n=new zs;for(var r in e)n[r]=e[r];return n.stream=t,n}}function zs(){}zs.prototype={constructor:zs,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function Su(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),xn(n,e.stream(qo)),t(qo.result()),r!=null&&e.clipExtent(r),e}function Mu(e,t,n){return Su(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,s=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([f,s])},n)}function G0(e,t,n){return Mu(e,[[0,0],t],n)}function Y0(e,t,n){return Su(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];e.scale(150*o).translate([a,f])},n)}function H0(e,t,n){return Su(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,f])},n)}var Ll=16,z6=ne(30*de);function Dl(e,t){return+t?B6(e,t):j6(e)}function j6(e){return Sa({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function B6(e,t){function n(r,i,o,a,f,s,u,c,l,d,h,p,m,g){var y=u-r,b=c-i,_=y*y+b*b;if(_>4*t&&m--){var w=a+d,S=f+h,M=s+p,A=Re(w*w+S*S+M*M),C=Ke(M/=A),k=se(se(M)-1)<ee||se(o-l)<ee?(o+l)/2:Gt(S,w),R=e(k,C),$=R[0],T=R[1],v=$-r,E=T-i,x=b*v-y*E;(x*x/_>t||se((y*v+b*E)/_-.5)>.3||a*d+f*h+s*p<z6)&&(n(r,i,o,a,f,s,$,T,k,w/=A,S/=A,M,m,g),g.point($,T),n($,T,k,w,S,M,u,c,l,d,h,p,m,g))}}return function(r){var i,o,a,f,s,u,c,l,d,h,p,m,g={point:y,lineStart:b,lineEnd:w,polygonStart:function(){r.polygonStart(),g.lineStart=S},polygonEnd:function(){r.polygonEnd(),g.lineStart=b}};function y(C,k){C=e(C,k),r.point(C[0],C[1])}function b(){l=NaN,g.point=_,r.lineStart()}function _(C,k){var R=sr([C,k]),$=e(C,k);n(l,d,c,h,p,m,l=$[0],d=$[1],c=C,h=R[0],p=R[1],m=R[2],Ll,r),r.point(l,d)}function w(){g.point=y,r.lineEnd()}function S(){b(),g.point=M,g.lineEnd=A}function M(C,k){_(i=C,k),o=l,a=d,f=h,s=p,u=m,g.point=_}function A(){n(l,d,c,h,p,m,o,a,i,f,s,u,Ll,r),g.lineEnd=w,w()}return g}}var U6=Sa({point:function(e,t){this.stream.point(e*de,t*de)}});function G6(e){return Sa({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Y6(e,t,n,r,i){function o(a,f){return a*=r,f*=i,[t+e*a,n-e*f]}return o.invert=function(a,f){return[(a-t)/e*r,(n-f)/e*i]},o}function Rl(e,t,n,r,i,o){if(!o)return Y6(e,t,n,r,i);var a=ne(o),f=Q(o),s=a*e,u=f*e,c=a/e,l=f/e,d=(f*n-a*t)/e,h=(f*t+a*n)/e;function p(m,g){return m*=r,g*=i,[s*m-u*g+t,n-u*m-s*g]}return p.invert=function(m,g){return[r*(c*m-l*g+d),i*(h-l*m-c*g)]},p}function ln(e){return W0(function(){return e})()}function W0(e){var t,n=150,r=480,i=250,o=0,a=0,f=0,s=0,u=0,c,l=0,d=1,h=1,p=null,m=$l,g=null,y,b,_,w=ks,S=.5,M,A,C,k,R;function $(x){return C(x[0]*de,x[1]*de)}function T(x){return x=C.invert(x[0],x[1]),x&&[x[0]*Ne,x[1]*Ne]}$.stream=function(x){return k&&R===x?k:k=U6(G6(c)(m(M(w(R=x)))))},$.preclip=function(x){return arguments.length?(m=x,p=void 0,E()):m},$.postclip=function(x){return arguments.length?(w=x,g=y=b=_=null,E()):w},$.clipAngle=function(x){return arguments.length?(m=+x?E6(p=x*de):(p=null,$l),E()):p*Ne},$.clipExtent=function(x){return arguments.length?(w=x==null?(g=y=b=_=null,ks):I0(g=+x[0][0],y=+x[0][1],b=+x[1][0],_=+x[1][1]),E()):g==null?null:[[g,y],[b,_]]},$.scale=function(x){return arguments.length?(n=+x,v()):n},$.translate=function(x){return arguments.length?(r=+x[0],i=+x[1],v()):[r,i]},$.center=function(x){return arguments.length?(o=x[0]%360*de,a=x[1]%360*de,v()):[o*Ne,a*Ne]},$.rotate=function(x){return arguments.length?(f=x[0]%360*de,s=x[1]%360*de,u=x.length>2?x[2]%360*de:0,v()):[f*Ne,s*Ne,u*Ne]},$.angle=function(x){return arguments.length?(l=x%360*de,v()):l*Ne},$.reflectX=function(x){return arguments.length?(d=x?-1:1,v()):d<0},$.reflectY=function(x){return arguments.length?(h=x?-1:1,v()):h<0},$.precision=function(x){return arguments.length?(M=Dl(A,S=x*x),E()):Re(S)},$.fitExtent=function(x,N){return Mu($,x,N)},$.fitSize=function(x,N){return G0($,x,N)},$.fitWidth=function(x,N){return Y0($,x,N)},$.fitHeight=function(x,N){return H0($,x,N)};function v(){var x=Rl(n,0,0,d,h,l).apply(null,t(o,a)),N=Rl(n,r-x[0],i-x[1],d,h,l);return c=A0(f,s,u),A=As(t,N),C=As(c,A),M=Dl(A,S),E()}function E(){return k=R=null,$}return function(){return t=e.apply(this,arguments),$.invert=t.invert&&T,v()}}function $u(e){var t=0,n=re/3,r=W0(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*de,n=o[1]*de):[t*Ne,n*Ne]},i}function H6(e){var t=ne(e);function n(r,i){return[r*t,Q(i)/t]}return n.invert=function(r,i){return[r/t,Ke(i*t)]},n}function W6(e,t){var n=Q(e),r=(n+Q(t))/2;if(se(r)<ee)return H6(e);var i=1+n*(2*r-n),o=Re(i)/r;function a(f,s){var u=Re(i-2*r*Q(s))/r;return[u*Q(f*=r),o-u*ne(f)]}return a.invert=function(f,s){var u=o-s,c=Gt(f,se(u))*We(u);return u*r<0&&(c-=re*We(f)*We(u)),[c/r,Ke((i-(f*f+u*u)*r*r)/(2*r))]},a}function Uo(){return $u(W6).scale(155.424).center([0,33.6442])}function X0(){return Uo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function X6(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function V6(){var e,t,n=X0(),r,i=Uo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Uo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,s,u={point:function(d,h){s=[d,h]}};function c(d){var h=d[0],p=d[1];return s=null,r.point(h,p),s||(o.point(h,p),s)||(f.point(h,p),s)}c.invert=function(d){var h=n.scale(),p=n.translate(),m=(d[0]-p[0])/h,g=(d[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?a:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=X6([n.stream(t=d),i.stream(d),a.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),a.precision(d),l()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),a.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],m=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(u),o=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+ee,m+.12*h+ee],[p-.214*h-ee,m+.234*h-ee]]).stream(u),f=a.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+ee,m+.166*h+ee],[p-.115*h-ee,m+.234*h-ee]]).stream(u),l()},c.fitExtent=function(d,h){return Mu(c,d,h)},c.fitSize=function(d,h){return G0(c,d,h)},c.fitWidth=function(d,h){return Y0(c,d,h)},c.fitHeight=function(d,h){return H0(c,d,h)};function l(){return e=t=null,c}return c.scale(1070)}function V0(e){return function(t,n){var r=ne(t),i=ne(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Q(t),o*Q(n)]}}function _i(e){return function(t,n){var r=Re(t*t+n*n),i=e(r),o=Q(i),a=ne(i);return[Gt(t*o,r*a),Ke(r&&n*o/r)]}}var Z0=V0(function(e){return Re(2/(1+e))});Z0.invert=_i(function(e){return 2*Ke(e/2)});function Z6(){return ln(Z0).scale(124.75).clipAngle(180-.001)}var K0=V0(function(e){return(e=E0(e))&&e/Q(e)});K0.invert=_i(function(e){return e});function K6(){return ln(K0).scale(79.4188).clipAngle(180-.001)}function Ma(e,t){return[e,Do(Tu((he+t)/2))]}Ma.invert=function(e,t){return[e,2*xr($0(t))-he]};function Q6(){return Q0(Ma).scale(961/je)}function Q0(e){var t=ln(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,a=null,f,s,u;t.scale=function(l){return arguments.length?(r(l),c()):r()},t.translate=function(l){return arguments.length?(i(l),c()):i()},t.center=function(l){return arguments.length?(n(l),c()):n()},t.clipExtent=function(l){return arguments.length?(l==null?a=f=s=u=null:(a=+l[0][0],f=+l[0][1],s=+l[1][0],u=+l[1][1]),c()):a==null?null:[[a,f],[s,u]]};function c(){var l=re*r(),d=t(w6(t.rotate()).invert([0,0]));return o(a==null?[[d[0]-l,d[1]-l],[d[0]+l,d[1]+l]]:e===Ma?[[Math.max(d[0]-l,a),f],[Math.min(d[0]+l,s),u]]:[[a,Math.max(d[1]-l,f)],[s,Math.min(d[1]+l,u)]])}return c()}function Zi(e){return Tu((he+e)/2)}function J6(e,t){var n=ne(e),r=e===t?Q(e):Do(n/ne(t))/Do(Zi(t)/Zi(e)),i=n*vf(Zi(e),r)/r;if(!r)return Ma;function o(a,f){i>0?f<-he+ee&&(f=-he+ee):f>he-ee&&(f=he-ee);var s=i/vf(Zi(f),r);return[s*Q(r*a),i-s*ne(r*a)]}return o.invert=function(a,f){var s=i-f,u=We(r)*Re(a*a+s*s),c=Gt(a,se(s))*We(s);return s*r<0&&(c-=re*We(a)*We(s)),[c/r,2*xr(vf(i/u,1/r))-he]},o}function e3(){return $u(J6).scale(109.5).parallels([30,30])}function Go(e,t){return[e,t]}Go.invert=Go;function t3(){return ln(Go).scale(152.63)}function n3(e,t){var n=ne(e),r=e===t?Q(e):(n-ne(t))/(t-e),i=n/r+e;if(se(r)<ee)return Go;function o(a,f){var s=i-f,u=r*a;return[s*Q(u),i-s*ne(u)]}return o.invert=function(a,f){var s=i-f,u=Gt(a,se(s))*We(s);return s*r<0&&(u-=re*We(a)*We(s)),[u/r,i-We(r)*Re(a*a+s*s)]},o}function r3(){return $u(n3).scale(131.154).center([0,13.9389])}var Xr=1.340264,Vr=-.081106,Zr=893e-6,Kr=.003796,Yo=Re(3)/2,i3=12;function J0(e,t){var n=Ke(Yo*Q(t)),r=n*n,i=r*r*r;return[e*ne(n)/(Yo*(Xr+3*Vr*r+i*(7*Zr+9*Kr*r))),n*(Xr+Vr*r+i*(Zr+Kr*r))]}J0.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,a,f,s;o<i3&&(f=n*(Xr+Vr*r+i*(Zr+Kr*r))-t,s=Xr+3*Vr*r+i*(7*Zr+9*Kr*r),n-=a=f/s,r=n*n,i=r*r*r,!(se(a)<M0));++o);return[Yo*e*(Xr+3*Vr*r+i*(7*Zr+9*Kr*r))/ne(n),Ke(Q(n)/Yo)]};function o3(){return ln(J0).scale(177.158)}function ep(e,t){var n=ne(t),r=ne(e)*n;return[n*Q(e)/r,Q(t)/r]}ep.invert=_i(xr);function a3(){return ln(ep).scale(144.049).clipAngle(60)}function tp(e,t){return[ne(t)*Q(e),Q(t)]}tp.invert=_i(Ke);function f3(){return ln(tp).scale(249.5).clipAngle(90+ee)}function np(e,t){var n=ne(t),r=1+ne(e)*n;return[n*Q(e)/r,Q(t)/r]}np.invert=_i(function(e){return 2*xr(e)});function s3(){return ln(np).scale(250).clipAngle(142)}function rp(e,t){return[Do(Tu((he+t)/2)),-e]}rp.invert=function(e,t){return[-t,2*xr($0(e))-he]};function u3(){var e=Q0(rp),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function Et(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function $a(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const js=Symbol("implicit");function Eu(){var e=new An,t=[],n=[],r=js;function i(o){let a=e.get(o);if(a===void 0){if(r!==js)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new An;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Eu(t,n).unknown(r)},Et.apply(i,arguments),i}function Ea(){var e=Eu().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,f=!1,s=0,u=0,c=.5;delete e.unknown;function l(){var d=t().length,h=i<r,p=h?i:r,m=h?r:i;o=(m-p)/Math.max(1,d-s+u*2),f&&(o=Math.floor(o)),p+=(m-p-o*(d-s))*c,a=o*(1-s),f&&(p=Math.round(p),a=Math.round(a));var g=ds(d).map(function(y){return p+o*y});return n(h?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),l()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,l()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,f=!0,l()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(f=!!d,l()):f},e.padding=function(d){return arguments.length?(s=Math.min(1,u=+d),l()):s},e.paddingInner=function(d){return arguments.length?(s=Math.min(1,d),l()):s},e.paddingOuter=function(d){return arguments.length?(u=+d,l()):u},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),l()):c},e.copy=function(){return Ea(t(),[r,i]).round(f).paddingInner(s).paddingOuter(u).align(c)},Et.apply(l(),arguments)}function ip(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return ip(t())},e}function c3(){return ip(Ea.apply(null,arguments).paddingInner(1))}function l3(e){return function(){return e}}function Bs(e){return+e}var Ol=[0,1];function Ve(e){return e}function Us(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:l3(isNaN(t)?NaN:.5)}function d3(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function h3(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Us(i,r),o=n(a,o)):(r=Us(r,i),o=n(o,a)),function(f){return o(r(f))}}function p3(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Us(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(f){var s=ha(e,f,1,r)-1;return o[s](i[s](f))}}function vi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Aa(){var e=Ol,t=Ol,n=wi,r,i,o,a=Ve,f,s,u;function c(){var d=Math.min(e.length,t.length);return a!==Ve&&(a=d3(e[0],e[d-1])),f=d>2?p3:h3,s=u=null,l}function l(d){return d==null||isNaN(d=+d)?o:(s||(s=f(e.map(r),t,n)))(r(a(d)))}return l.invert=function(d){return a(i((u||(u=f(t,e.map(r),$e)))(d)))},l.domain=function(d){return arguments.length?(e=Array.from(d,Bs),c()):e.slice()},l.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},l.rangeRound=function(d){return t=Array.from(d),n=bu,c()},l.clamp=function(d){return arguments.length?(a=d?!0:Ve,c()):a!==Ve},l.interpolate=function(d){return arguments.length?(n=d,c()):n},l.unknown=function(d){return arguments.length?(o=d,l):o},function(d,h){return r=d,i=h,c()}}function op(){return Aa()(Ve,Ve)}function m3(e,t,n,r){var i=cs(e,t,n),o;switch(r=ii(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=b6(i,a))&&(r.precision=o),S0(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=y6(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=g6(i))&&(r.precision=o-(r.type==="%")*2);break}}return vr(r)}function xi(e){var t=e.domain;return e.ticks=function(n){var r=t();return ei(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return m3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],f=r[o],s,u,c=10;for(f<a&&(u=a,a=f,f=u,u=i,i=o,o=u);c-- >0;){if(u=Mo(a,f,n),u===s)return r[i]=a,r[o]=f,t(r);if(u>0)a=Math.floor(a/u)*u,f=Math.ceil(f/u)*u;else if(u<0)a=Math.ceil(a*u)/u,f=Math.floor(f*u)/u;else break;s=u}return e},e}function Au(){var e=op();return e.copy=function(){return vi(e,Au())},Et.apply(e,arguments),xi(e)}function ap(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Bs),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return ap(e).unknown(t)},e=arguments.length?Array.from(e,Bs):[0,1],xi(n)}function fp(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Fl(e){return Math.log(e)}function Pl(e){return Math.exp(e)}function g3(e){return-Math.log(-e)}function b3(e){return-Math.exp(-e)}function y3(e){return isFinite(e)?+("1e"+e):e<0?0:e}function w3(e){return e===10?y3:e===Math.E?Math.exp:t=>Math.pow(e,t)}function _3(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function ql(e){return(t,n)=>-e(-t,n)}function sp(e){const t=e(Fl,Pl),n=t.domain;let r=10,i,o;function a(){return i=_3(r),o=w3(r),n()[0]<0?(i=ql(i),o=ql(o),e(g3,b3)):e(Fl,Pl),t}return t.base=function(f){return arguments.length?(r=+f,a()):r},t.domain=function(f){return arguments.length?(n(f),a()):n()},t.ticks=f=>{const s=n();let u=s[0],c=s[s.length-1];const l=c<u;l&&([u,c]=[c,u]);let d=i(u),h=i(c),p,m;const g=f==null?10:+f;let y=[];if(!(r%1)&&h-d<g){if(d=Math.floor(d),h=Math.ceil(h),u>0){for(;d<=h;++d)for(p=1;p<r;++p)if(m=d<0?p/o(-d):p*o(d),!(m<u)){if(m>c)break;y.push(m)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(m=d>0?p/o(-d):p*o(d),!(m<u)){if(m>c)break;y.push(m)}y.length*2<g&&(y=ei(u,c,g))}else y=ei(d,h,Math.min(h-d,g)).map(o);return l?y.reverse():y},t.tickFormat=(f,s)=>{if(f==null&&(f=10),s==null&&(s=r===10?"s":","),typeof s!="function"&&(!(r%1)&&(s=ii(s)).precision==null&&(s.trim=!0),s=vr(s)),f===1/0)return s;const u=Math.max(1,r*f/t.ticks().length);return c=>{let l=c/o(Math.round(i(c)));return l*r<r-.5&&(l*=r),l<=u?s(c):""}},t.nice=()=>n(fp(n(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),t}function up(){const e=sp(Aa()).domain([1,10]);return e.copy=()=>vi(e,up()).base(e.base()),Et.apply(e,arguments),e}function zl(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function jl(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function cp(e){var t=1,n=e(zl(t),jl(t));return n.constant=function(r){return arguments.length?e(zl(t=+r),jl(t)):t},xi(n)}function lp(){var e=cp(Aa());return e.copy=function(){return vi(e,lp()).constant(e.constant())},Et.apply(e,arguments)}function Bl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function v3(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function x3(e){return e<0?-e*e:e*e}function dp(e){var t=e(Ve,Ve),n=1;function r(){return n===1?e(Ve,Ve):n===.5?e(v3,x3):e(Bl(n),Bl(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},xi(t)}function hp(){var e=dp(Aa());return e.copy=function(){return vi(e,hp()).exponent(e.exponent())},Et.apply(e,arguments),e}function pp(){var e=[],t=[],n=[],r;function i(){var a=0,f=Math.max(1,t.length);for(n=new Array(f-1);++a<f;)n[a-1]=m2(e,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:t[ha(n,a)]}return o.invertExtent=function(a){var f=t.indexOf(a);return f<0?[NaN,NaN]:[f>0?n[f-1]:e[0],f<n.length?n[f]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let f of a)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(De),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return pp().domain(e).range(t).unknown(r)},Et.apply(o,arguments)}function mp(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[ha(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return mp().domain(e).range(t).unknown(n)},Et.apply(i,arguments)}const $f=new Date,Ef=new Date;function ge(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const s=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return s;let u;do s.push(u=new Date(+o)),t(o,f),e(o);while(u<o&&o<a);return s},i.filter=o=>ge(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;t(a,-1),!o(a););else for(;--f>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>($f.setTime(+o),Ef.setTime(+a),e($f),e(Ef),Math.floor(n($f,Ef))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Ho=ge(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Ho.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ge(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Ho);Ho.range;const Pt=1e3,Ze=Pt*60,qt=Ze*60,Yt=qt*24,Cu=Yt*7,Ul=Yt*30,Af=Yt*365,nt=ge(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pt)},(e,t)=>(t-e)/Pt,e=>e.getUTCSeconds());nt.range;const Ti=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pt)},(e,t)=>{e.setTime(+e+t*Ze)},(e,t)=>(t-e)/Ze,e=>e.getMinutes());Ti.range;const Si=ge(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ze)},(e,t)=>(t-e)/Ze,e=>e.getUTCMinutes());Si.range;const Mi=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pt-e.getMinutes()*Ze)},(e,t)=>{e.setTime(+e+t*qt)},(e,t)=>(t-e)/qt,e=>e.getHours());Mi.range;const $i=ge(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qt)},(e,t)=>(t-e)/qt,e=>e.getUTCHours());$i.range;const Fn=ge(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ze)/Yt,e=>e.getDate()-1);Fn.range;const Ca=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yt,e=>e.getUTCDate()-1);Ca.range;const ka=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yt,e=>Math.floor(e/Yt));ka.range;function Pn(e){return ge(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ze)/Cu)}const cr=Pn(0),fi=Pn(1),gp=Pn(2),bp=Pn(3),Dn=Pn(4),yp=Pn(5),wp=Pn(6);cr.range;fi.range;gp.range;bp.range;Dn.range;yp.range;wp.range;function qn(e){return ge(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/Cu)}const lr=qn(0),si=qn(1),_p=qn(2),vp=qn(3),Rn=qn(4),xp=qn(5),Tp=qn(6);lr.range;si.range;_p.range;vp.range;Rn.range;xp.range;Tp.range;const Ei=ge(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ei.range;const Ai=ge(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ai.range;const at=ge(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());at.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});at.range;const ft=ge(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ft.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ft.range;function Sp(e,t,n,r,i,o){const a=[[nt,1,Pt],[nt,5,5*Pt],[nt,15,15*Pt],[nt,30,30*Pt],[o,1,Ze],[o,5,5*Ze],[o,15,15*Ze],[o,30,30*Ze],[i,1,qt],[i,3,3*qt],[i,6,6*qt],[i,12,12*qt],[r,1,Yt],[r,2,2*Yt],[n,1,Cu],[t,1,Ul],[t,3,3*Ul],[e,1,Af]];function f(u,c,l){const d=c<u;d&&([u,c]=[c,u]);const h=l&&typeof l.range=="function"?l:s(u,c,l),p=h?h.range(u,+c+1):[];return d?p.reverse():p}function s(u,c,l){const d=Math.abs(c-u)/l,h=da(([,,g])=>g).right(a,d);if(h===a.length)return e.every(cs(u/Af,c/Af,l));if(h===0)return Ho.every(Math.max(cs(u,c,l),1));const[p,m]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return p.every(m)}return[f,s]}const[T3,Mp]=Sp(ft,Ai,lr,ka,$i,Si),[S3,M3]=Sp(at,Ei,cr,Fn,Mi,Ti);function Cf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function kf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cr(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function $3(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,f=e.months,s=e.shortMonths,u=kr(i),c=Nr(i),l=kr(o),d=Nr(o),h=kr(a),p=Nr(a),m=kr(f),g=Nr(f),y=kr(s),b=Nr(s),_={a:I,A:j,b:G,B:O,c:null,d:Vl,e:Vl,f:V3,g:o5,G:f5,H:H3,I:W3,j:X3,L:$p,m:Z3,M:K3,p:q,q:F,Q:Ql,s:Jl,S:Q3,u:J3,U:e5,V:t5,w:n5,W:r5,x:null,X:null,y:i5,Y:a5,Z:s5,"%":Kl},w={a:P,A:V,b:Z,B:W,c:null,d:Zl,e:Zl,f:d5,g:x5,G:S5,H:u5,I:c5,j:l5,L:Ap,m:h5,M:p5,p:Y,q:z,Q:Ql,s:Jl,S:m5,u:g5,U:b5,V:y5,w:w5,W:_5,x:null,X:null,y:v5,Y:T5,Z:M5,"%":Kl},S={a:R,A:$,b:T,B:v,c:E,d:Wl,e:Wl,f:B3,g:Hl,G:Yl,H:Xl,I:Xl,j:P3,L:j3,m:F3,M:q3,p:k,q:O3,Q:G3,s:Y3,S:z3,u:N3,U:I3,V:L3,w:k3,W:D3,x,X:N,y:Hl,Y:Yl,Z:R3,"%":U3};_.x=M(n,_),_.X=M(r,_),_.c=M(t,_),w.x=M(n,w),w.X=M(r,w),w.c=M(t,w);function M(L,B){return function(H){var D=[],ie=-1,X=0,oe=L.length,ae,ce,lt;for(H instanceof Date||(H=new Date(+H));++ie<oe;)L.charCodeAt(ie)===37&&(D.push(L.slice(X,ie)),(ce=Gl[ae=L.charAt(++ie)])!=null?ae=L.charAt(++ie):ce=ae==="e"?" ":"0",(lt=B[ae])&&(ae=lt(H,ce)),D.push(ae),X=ie+1);return D.push(L.slice(X,ie)),D.join("")}}function A(L,B){return function(H){var D=Cr(1900,void 0,1),ie=C(D,L,H+="",0),X,oe;if(ie!=H.length)return null;if("Q"in D)return new Date(D.Q);if("s"in D)return new Date(D.s*1e3+("L"in D?D.L:0));if(B&&!("Z"in D)&&(D.Z=0),"p"in D&&(D.H=D.H%12+D.p*12),D.m===void 0&&(D.m="q"in D?D.q:0),"V"in D){if(D.V<1||D.V>53)return null;"w"in D||(D.w=1),"Z"in D?(X=kf(Cr(D.y,0,1)),oe=X.getUTCDay(),X=oe>4||oe===0?si.ceil(X):si(X),X=Ca.offset(X,(D.V-1)*7),D.y=X.getUTCFullYear(),D.m=X.getUTCMonth(),D.d=X.getUTCDate()+(D.w+6)%7):(X=Cf(Cr(D.y,0,1)),oe=X.getDay(),X=oe>4||oe===0?fi.ceil(X):fi(X),X=Fn.offset(X,(D.V-1)*7),D.y=X.getFullYear(),D.m=X.getMonth(),D.d=X.getDate()+(D.w+6)%7)}else("W"in D||"U"in D)&&("w"in D||(D.w="u"in D?D.u%7:"W"in D?1:0),oe="Z"in D?kf(Cr(D.y,0,1)).getUTCDay():Cf(Cr(D.y,0,1)).getDay(),D.m=0,D.d="W"in D?(D.w+6)%7+D.W*7-(oe+5)%7:D.w+D.U*7-(oe+6)%7);return"Z"in D?(D.H+=D.Z/100|0,D.M+=D.Z%100,kf(D)):Cf(D)}}function C(L,B,H,D){for(var ie=0,X=B.length,oe=H.length,ae,ce;ie<X;){if(D>=oe)return-1;if(ae=B.charCodeAt(ie++),ae===37){if(ae=B.charAt(ie++),ce=S[ae in Gl?B.charAt(ie++):ae],!ce||(D=ce(L,H,D))<0)return-1}else if(ae!=H.charCodeAt(D++))return-1}return D}function k(L,B,H){var D=u.exec(B.slice(H));return D?(L.p=c.get(D[0].toLowerCase()),H+D[0].length):-1}function R(L,B,H){var D=h.exec(B.slice(H));return D?(L.w=p.get(D[0].toLowerCase()),H+D[0].length):-1}function $(L,B,H){var D=l.exec(B.slice(H));return D?(L.w=d.get(D[0].toLowerCase()),H+D[0].length):-1}function T(L,B,H){var D=y.exec(B.slice(H));return D?(L.m=b.get(D[0].toLowerCase()),H+D[0].length):-1}function v(L,B,H){var D=m.exec(B.slice(H));return D?(L.m=g.get(D[0].toLowerCase()),H+D[0].length):-1}function E(L,B,H){return C(L,t,B,H)}function x(L,B,H){return C(L,n,B,H)}function N(L,B,H){return C(L,r,B,H)}function I(L){return a[L.getDay()]}function j(L){return o[L.getDay()]}function G(L){return s[L.getMonth()]}function O(L){return f[L.getMonth()]}function q(L){return i[+(L.getHours()>=12)]}function F(L){return 1+~~(L.getMonth()/3)}function P(L){return a[L.getUTCDay()]}function V(L){return o[L.getUTCDay()]}function Z(L){return s[L.getUTCMonth()]}function W(L){return f[L.getUTCMonth()]}function Y(L){return i[+(L.getUTCHours()>=12)]}function z(L){return 1+~~(L.getUTCMonth()/3)}return{format:function(L){var B=M(L+="",_);return B.toString=function(){return L},B},parse:function(L){var B=A(L+="",!1);return B.toString=function(){return L},B},utcFormat:function(L){var B=M(L+="",w);return B.toString=function(){return L},B},utcParse:function(L){var B=A(L+="",!0);return B.toString=function(){return L},B}}}var Gl={"-":"",_:" ",0:"0"},ve=/^\s*\d+/,E3=/^%/,A3=/[\\^$*+?|[\]().{}]/g;function fe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function C3(e){return e.replace(A3,"\\$&")}function kr(e){return new RegExp("^(?:"+e.map(C3).join("|")+")","i")}function Nr(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function k3(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function N3(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function I3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function L3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function D3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Yl(e,t,n){var r=ve.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Hl(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function R3(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function O3(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function F3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Wl(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function P3(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Xl(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function q3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function z3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function j3(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function B3(e,t,n){var r=ve.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function U3(e,t,n){var r=E3.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function G3(e,t,n){var r=ve.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Y3(e,t,n){var r=ve.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Vl(e,t){return fe(e.getDate(),t,2)}function H3(e,t){return fe(e.getHours(),t,2)}function W3(e,t){return fe(e.getHours()%12||12,t,2)}function X3(e,t){return fe(1+Fn.count(at(e),e),t,3)}function $p(e,t){return fe(e.getMilliseconds(),t,3)}function V3(e,t){return $p(e,t)+"000"}function Z3(e,t){return fe(e.getMonth()+1,t,2)}function K3(e,t){return fe(e.getMinutes(),t,2)}function Q3(e,t){return fe(e.getSeconds(),t,2)}function J3(e){var t=e.getDay();return t===0?7:t}function e5(e,t){return fe(cr.count(at(e)-1,e),t,2)}function Ep(e){var t=e.getDay();return t>=4||t===0?Dn(e):Dn.ceil(e)}function t5(e,t){return e=Ep(e),fe(Dn.count(at(e),e)+(at(e).getDay()===4),t,2)}function n5(e){return e.getDay()}function r5(e,t){return fe(fi.count(at(e)-1,e),t,2)}function i5(e,t){return fe(e.getFullYear()%100,t,2)}function o5(e,t){return e=Ep(e),fe(e.getFullYear()%100,t,2)}function a5(e,t){return fe(e.getFullYear()%1e4,t,4)}function f5(e,t){var n=e.getDay();return e=n>=4||n===0?Dn(e):Dn.ceil(e),fe(e.getFullYear()%1e4,t,4)}function s5(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fe(t/60|0,"0",2)+fe(t%60,"0",2)}function Zl(e,t){return fe(e.getUTCDate(),t,2)}function u5(e,t){return fe(e.getUTCHours(),t,2)}function c5(e,t){return fe(e.getUTCHours()%12||12,t,2)}function l5(e,t){return fe(1+Ca.count(ft(e),e),t,3)}function Ap(e,t){return fe(e.getUTCMilliseconds(),t,3)}function d5(e,t){return Ap(e,t)+"000"}function h5(e,t){return fe(e.getUTCMonth()+1,t,2)}function p5(e,t){return fe(e.getUTCMinutes(),t,2)}function m5(e,t){return fe(e.getUTCSeconds(),t,2)}function g5(e){var t=e.getUTCDay();return t===0?7:t}function b5(e,t){return fe(lr.count(ft(e)-1,e),t,2)}function Cp(e){var t=e.getUTCDay();return t>=4||t===0?Rn(e):Rn.ceil(e)}function y5(e,t){return e=Cp(e),fe(Rn.count(ft(e),e)+(ft(e).getUTCDay()===4),t,2)}function w5(e){return e.getUTCDay()}function _5(e,t){return fe(si.count(ft(e)-1,e),t,2)}function v5(e,t){return fe(e.getUTCFullYear()%100,t,2)}function x5(e,t){return e=Cp(e),fe(e.getUTCFullYear()%100,t,2)}function T5(e,t){return fe(e.getUTCFullYear()%1e4,t,4)}function S5(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Rn(e):Rn.ceil(e),fe(e.getUTCFullYear()%1e4,t,4)}function M5(){return"+0000"}function Kl(){return"%"}function Ql(e){return+e}function Jl(e){return Math.floor(+e/1e3)}var Gn,ku,Ci;$5({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function $5(e){return Gn=$3(e),ku=Gn.format,Gn.parse,Ci=Gn.utcFormat,Gn.utcParse,Gn}function E5(e){return new Date(e)}function A5(e){return e instanceof Date?+e:+new Date(+e)}function Nu(e,t,n,r,i,o,a,f,s,u){var c=op(),l=c.invert,d=c.domain,h=u(".%L"),p=u(":%S"),m=u("%I:%M"),g=u("%I %p"),y=u("%a %d"),b=u("%b %d"),_=u("%B"),w=u("%Y");function S(M){return(s(M)<M?h:f(M)<M?p:a(M)<M?m:o(M)<M?g:r(M)<M?i(M)<M?y:b:n(M)<M?_:w)(M)}return c.invert=function(M){return new Date(l(M))},c.domain=function(M){return arguments.length?d(Array.from(M,A5)):d().map(E5)},c.ticks=function(M){var A=d();return e(A[0],A[A.length-1],M??10)},c.tickFormat=function(M,A){return A==null?S:u(A)},c.nice=function(M){var A=d();return(!M||typeof M.range!="function")&&(M=t(A[0],A[A.length-1],M??10)),M?d(fp(A,M)):c},c.copy=function(){return vi(c,Nu(e,t,n,r,i,o,a,f,s,u))},c}function C5(){return Et.apply(Nu(S3,M3,at,Ei,cr,Fn,Mi,Ti,nt,ku).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function k5(){return Et.apply(Nu(T3,Mp,ft,Ai,lr,Ca,$i,Si,nt,Ci).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Na(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ia(){var e=0,t=.5,n=1,r=1,i,o,a,f,s,u=Ve,c,l=!1,d;function h(m){return isNaN(m=+m)?d:(m=.5+((m=+c(m))-o)*(r*m<r*o?f:s),u(l?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),o=c(t=+t),a=c(n=+n),f=i===o?0:.5/(o-i),s=o===a?0:.5/(a-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(l=!!m,h):l},h.interpolator=function(m){return arguments.length?(u=m,h):u};function p(m){return function(g){var y,b,_;return arguments.length?([y,b,_]=g,u=_a(m,[y,b,_]),h):[u(0),u(.5),u(1)]}}return h.range=p(wi),h.rangeRound=p(bu),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return c=m,i=m(e),o=m(t),a=m(n),f=i===o?0:.5/(o-i),s=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function kp(){var e=xi(Ia()(Ve));return e.copy=function(){return Na(e,kp())},$a.apply(e,arguments)}function Np(){var e=sp(Ia()).domain([.1,1,10]);return e.copy=function(){return Na(e,Np()).base(e.base())},$a.apply(e,arguments)}function Ip(){var e=cp(Ia());return e.copy=function(){return Na(e,Ip()).constant(e.constant())},$a.apply(e,arguments)}function Lp(){var e=dp(Ia());return e.copy=function(){return Na(e,Lp()).exponent(e.exponent())},$a.apply(e,arguments)}function J(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const N5=J("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),I5=J("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),L5=J("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),D5=J("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),R5=J("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),O5=J("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),F5=J("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),P5=J("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),q5=J("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),z5=J("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),j5=J("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ue=e=>N_(e[e.length-1]);var Dp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(J);const Rp=ue(Dp);var Op=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(J);const Fp=ue(Op);var Pp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(J);const qp=ue(Pp);var zp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(J);const jp=ue(zp);var Gs=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(J);const Wo=ue(Gs);var Bp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(J);const Up=ue(Bp);var Ys=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(J);const Xo=ue(Ys);var Gp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(J);const Yp=ue(Gp);var Hp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(J);const Wp=ue(Hp);var Xp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(J);const Vp=ue(Xp);var Zp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(J);const Kp=ue(Zp);var Qp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(J);const Jp=ue(Qp);var em=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(J);const tm=ue(em);var nm=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(J);const rm=ue(nm);var im=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(J);const om=ue(im);var am=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(J);const fm=ue(am);var sm=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(J);const um=ue(sm);var cm=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(J);const lm=ue(cm);var dm=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(J);const hm=ue(dm);var pm=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(J);const mm=ue(pm);var gm=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(J);const bm=ue(gm);var ym=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(J);const wm=ue(ym);var _m=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(J);const vm=ue(_m);var xm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(J);const Tm=ue(xm);var Sm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(J);const Mm=ue(Sm);var $m=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(J);const Em=ue($m);var Am=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(J);const Cm=ue(Am);function km(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const Nm=yu(Tt(300,.5,0),Tt(-240,.5,1));var Im=yu(Tt(-100,.75,.35),Tt(80,1.5,.8)),Lm=yu(Tt(260,.75,.35),Tt(80,1.5,.8)),Ki=Tt();function Dm(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Ki.h=360*e-100,Ki.s=1.5-1.5*t,Ki.l=.8-.9*t,Ki+""}var Qi=an(),B5=Math.PI/3,U5=Math.PI*2/3;function Rm(e){var t;return e=(.5-e)*Math.PI,Qi.r=255*(t=Math.sin(e))*t,Qi.g=255*(t=Math.sin(e+B5))*t,Qi.b=255*(t=Math.sin(e+U5))*t,Qi+""}function Om(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function La(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Fm=La(J("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Pm=La(J("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),qm=La(J("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),zm=La(J("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function we(e){return function(){return e}}const jm=Math.cos,Iu=Math.min,Vo=Math.sin,be=Math.sqrt,ed=1e-12,Zo=Math.PI,Da=2*Zo;function Bm(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new x0(t)}function Um(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Gm(e){this._context=e}Gm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ki(e){return new Gm(e)}function Ym(e){return e[0]}function Hm(e){return e[1]}function Wm(e,t){var n=we(!0),r=null,i=ki,o=null,a=Bm(f);e=typeof e=="function"?e:e===void 0?Ym:we(e),t=typeof t=="function"?t:t===void 0?Hm:we(t);function f(s){var u,c=(s=Um(s)).length,l,d=!1,h;for(r==null&&(o=i(h=a())),u=0;u<=c;++u)!(u<c&&n(l=s[u],u,s))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(l,u,s),+t(l,u,s));if(h)return o=null,h+""||null}return f.x=function(s){return arguments.length?(e=typeof s=="function"?s:we(+s),f):e},f.y=function(s){return arguments.length?(t=typeof s=="function"?s:we(+s),f):t},f.defined=function(s){return arguments.length?(n=typeof s=="function"?s:we(!!s),f):n},f.curve=function(s){return arguments.length?(i=s,r!=null&&(o=i(r)),f):i},f.context=function(s){return arguments.length?(s==null?r=o=null:o=i(r=s),f):r},f}function G5(e,t,n){var r=null,i=we(!0),o=null,a=ki,f=null,s=Bm(u);e=typeof e=="function"?e:e===void 0?Ym:we(+e),t=typeof t=="function"?t:we(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Hm:we(+n);function u(l){var d,h,p,m=(l=Um(l)).length,g,y=!1,b,_=new Array(m),w=new Array(m);for(o==null&&(f=a(b=s())),d=0;d<=m;++d){if(!(d<m&&i(g=l[d],d,l))===y)if(y=!y)h=d,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),p=d-1;p>=h;--p)f.point(_[p],w[p]);f.lineEnd(),f.areaEnd()}y&&(_[d]=+e(g,d,l),w[d]=+t(g,d,l),f.point(r?+r(g,d,l):_[d],n?+n(g,d,l):w[d]))}if(b)return f=null,b+""||null}function c(){return Wm().defined(i).curve(a).context(o)}return u.x=function(l){return arguments.length?(e=typeof l=="function"?l:we(+l),r=null,u):e},u.x0=function(l){return arguments.length?(e=typeof l=="function"?l:we(+l),u):e},u.x1=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:we(+l),u):r},u.y=function(l){return arguments.length?(t=typeof l=="function"?l:we(+l),n=null,u):t},u.y0=function(l){return arguments.length?(t=typeof l=="function"?l:we(+l),u):t},u.y1=function(l){return arguments.length?(n=l==null?null:typeof l=="function"?l:we(+l),u):n},u.lineX0=u.lineY0=function(){return c().x(e).y(t)},u.lineY1=function(){return c().x(e).y(n)},u.lineX1=function(){return c().x(r).y(t)},u.defined=function(l){return arguments.length?(i=typeof l=="function"?l:we(!!l),u):i},u.curve=function(l){return arguments.length?(a=l,o!=null&&(f=a(o)),u):a},u.context=function(l){return arguments.length?(l==null?o=f=null:f=a(o=l),u):o},u}class Xm{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Y5(e){return new Xm(e,!0)}function H5(e){return new Xm(e,!1)}const W5=be(3),Vm={draw(e,t){const n=be(t+Iu(t/28,.75))*.59436,r=n/2,i=r*W5;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},Lu={draw(e,t){const n=be(t/Zo);e.moveTo(n,0),e.arc(0,0,n,0,Da)}},Zm={draw(e,t){const n=be(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Km=be(1/3),X5=Km*2,Qm={draw(e,t){const n=be(t/X5),r=n*Km;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Jm={draw(e,t){const n=be(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},e1={draw(e,t){const n=be(t-Iu(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},t1={draw(e,t){const n=be(t),r=-n/2;e.rect(r,r,n,n)}},n1={draw(e,t){const n=be(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},V5=.8908130915292852,r1=Vo(Zo/10)/Vo(7*Zo/10),Z5=Vo(Da/10)*r1,K5=-jm(Da/10)*r1,i1={draw(e,t){const n=be(t*V5),r=Z5*n,i=K5*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Da*o/5,f=jm(a),s=Vo(a);e.lineTo(s*n,-f*n),e.lineTo(f*r-s*i,s*r+f*i)}e.closePath()}},Nf=be(3),o1={draw(e,t){const n=-be(t/(Nf*3));e.moveTo(0,n*2),e.lineTo(-Nf*n,-n),e.lineTo(Nf*n,-n),e.closePath()}},Q5=be(3),a1={draw(e,t){const n=be(t)*.6824,r=n/2,i=n*Q5/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Be=-.5,Ue=be(3)/2,Hs=1/be(12),J5=(Hs/2+1)*3,f1={draw(e,t){const n=be(t/J5),r=n/2,i=n*Hs,o=r,a=n*Hs+n,f=-o,s=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(f,s),e.lineTo(Be*r-Ue*i,Ue*r+Be*i),e.lineTo(Be*o-Ue*a,Ue*o+Be*a),e.lineTo(Be*f-Ue*s,Ue*f+Be*s),e.lineTo(Be*r+Ue*i,Be*i-Ue*r),e.lineTo(Be*o+Ue*a,Be*a-Ue*o),e.lineTo(Be*f+Ue*s,Be*s-Ue*f),e.closePath()}},s1={draw(e,t){const n=be(t-Iu(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},e8=[Lu,Zm,Qm,t1,i1,o1,f1],t8=[Lu,e1,s1,a1,Vm,n1,Jm];function fn(){}function Ko(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Ra(e){this._context=e}Ra.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ko(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ko(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n8(e){return new Ra(e)}function u1(e){this._context=e}u1.prototype={areaStart:fn,areaEnd:fn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ko(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function r8(e){return new u1(e)}function c1(e){this._context=e}c1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ko(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function i8(e){return new c1(e)}function l1(e,t){this._basis=new Ra(e),this._beta=t}l1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,f=-1,s;++f<=n;)s=f/n,this._basis.point(this._beta*e[f]+(1-this._beta)*(r+s*o),this._beta*t[f]+(1-this._beta)*(i+s*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const o8=function e(t){function n(r){return t===1?new Ra(r):new l1(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Qo(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Du(e,t){this._context=e,this._k=(1-t)/6}Du.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Qo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Qo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const a8=function e(t){function n(r){return new Du(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Ru(e,t){this._context=e,this._k=(1-t)/6}Ru.prototype={areaStart:fn,areaEnd:fn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Qo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const f8=function e(t){function n(r){return new Ru(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Ou(e,t){this._context=e,this._k=(1-t)/6}Ou.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Qo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const s8=function e(t){function n(r){return new Ou(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Fu(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>ed){var f=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,s=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*f-e._x0*e._l12_2a+e._x2*e._l01_2a)/s,i=(i*f-e._y0*e._l12_2a+e._y2*e._l01_2a)/s}if(e._l23_a>ed){var u=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*u+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*u+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function d1(e,t){this._context=e,this._alpha=t}d1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Fu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const u8=function e(t){function n(r){return t?new d1(r,t):new Du(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function h1(e,t){this._context=e,this._alpha=t}h1.prototype={areaStart:fn,areaEnd:fn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Fu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const c8=function e(t){function n(r){return t?new h1(r,t):new Ru(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function p1(e,t){this._context=e,this._alpha=t}p1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fu(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const l8=function e(t){function n(r){return t?new p1(r,t):new Ou(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function m1(e){this._context=e}m1.prototype={areaStart:fn,areaEnd:fn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function d8(e){return new m1(e)}function td(e){return e<0?-1:1}function nd(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(td(o)+td(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function rd(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function If(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,f=(o-r)/3;e._context.bezierCurveTo(r+f,i+f*t,o-f,a-f*n,o,a)}function Jo(e){this._context=e}Jo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:If(this,this._t0,rd(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,If(this,rd(this,n=nd(this,e,t)),n);break;default:If(this,this._t0,n=nd(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function g1(e){this._context=new b1(e)}(g1.prototype=Object.create(Jo.prototype)).point=function(e,t){Jo.prototype.point.call(this,t,e)};function b1(e){this._context=e}b1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function h8(e){return new Jo(e)}function p8(e){return new g1(e)}function y1(e){this._context=e}y1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=id(e),i=id(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function id(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function m8(e){return new y1(e)}function Oa(e,t){this._context=e,this._t=t}Oa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function g8(e){return new Oa(e,.5)}function b8(e){return new Oa(e,0)}function y8(e){return new Oa(e,1)}function Yr(e,t,n){this.k=e,this.x=t,this.y=n}Yr.prototype={constructor:Yr,scale:function(e){return e===1?this:new Yr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Yr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Yr.prototype;function sn(e){return e!=null&&!Number.isNaN(e)}function st(e,t){return+sn(t)-+sn(e)||De(e,t)}function ea(e,t){return+sn(t)-+sn(e)||gi(e,t)}function Pu(e){return e!=null&&`${e}`!=""}function w1(e){return isFinite(e)?e:NaN}function qu(e){return e>0&&isFinite(e)?e:NaN}function _1(e){return e<0&&isFinite(e)?e:NaN}function w8(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${_8(e.getUTCFullYear())}-${Rt(e.getUTCMonth()+1,2)}-${Rt(e.getUTCDate(),2)}${n||r||i||o?`T${Rt(n,2)}:${Rt(r,2)}${i||o?`:${Rt(i,2)}${o?`.${Rt(o,3)}`:""}`:""}Z`:""}`}function _8(e){return e<0?`-${Rt(-e,6)}`:e>9999?`+${Rt(e,6)}`:Rt(e,4)}function Rt(e,t){return`${e}`.padStart(t,"0")}const v8=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function v1(e,t){return v8.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function dr(e){if(e==null)return;const t=e[0],n=e[e.length-1];return gi(t,n)}const Vn=1e3,tn=Vn*60,nn=tn*60,St=nn*24,mt=St*7,$n=St*30,Jt=St*365,Lf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Vn],["5 seconds",5*Vn],["15 seconds",15*Vn],["30 seconds",30*Vn],["minute",tn],["5 minutes",5*tn],["15 minutes",15*tn],["30 minutes",30*tn],["hour",nn],["3 hours",3*nn],["6 hours",6*nn],["12 hours",12*nn],["day",St],["2 days",2*St],["week",mt],["2 weeks",2*mt],["month",$n],["3 months",3*$n],["6 months",6*$n],["year",Jt],["2 years",2*Jt],["5 years",5*Jt],["10 years",10*Jt],["20 years",20*Jt],["50 years",50*Jt],["100 years",100*Jt]],zu=new Map([["second",Vn],["minute",tn],["hour",nn],["day",St],["monday",mt],["tuesday",mt],["wednesday",mt],["thursday",mt],["friday",mt],["saturday",mt],["sunday",mt],["week",mt],["month",$n],["year",Jt]]),x1=new Map([["second",nt],["minute",Ti],["hour",Mi],["day",Fn],["monday",fi],["tuesday",gp],["wednesday",bp],["thursday",Dn],["friday",yp],["saturday",wp],["sunday",cr],["week",cr],["month",Ei],["year",at]]),ju=new Map([["second",nt],["minute",Si],["hour",$i],["day",ka],["monday",si],["tuesday",_p],["wednesday",vp],["thursday",Rn],["friday",xp],["saturday",Tp],["sunday",lr],["week",lr],["month",Ai],["year",ft]]),Ni=Symbol("intervalDuration"),Fa=Symbol("intervalType");for(const[e,t]of x1)t[Ni]=zu.get(e),t[Fa]="time";for(const[e,t]of ju)t[Ni]=zu.get(e),t[Fa]="utc";const Hr=[["year",ft,"utc"],["month",Ai,"utc"],["day",ka,"utc",6*$n],["hour",$i,"utc",3*St],["minute",Si,"utc",6*nn],["second",nt,"utc",30*tn]],wo=[["year",at,"time"],["month",Ei,"time"],["day",Fn,"time",6*$n],["hour",Mi,"time",3*St],["minute",Ti,"time",6*nn],["second",nt,"time",30*tn]],x8=[Hr[0],wo[0],Hr[1],wo[1],Hr[2],wo[2],...Hr.slice(3)];function T1(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(t);switch(r&&(t=t.slice(r[0].length),n=+r[1]),t){case"quarter":t="month",n*=3;break;case"half":t="month",n*=6;break}let i=ju.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,n]}function S1(e){return M1(T1(e),"time")}function Bu(e){return M1(T1(e),"utc")}function M1([e,t],n){let r=(n==="time"?x1:ju).get(e);return t>1&&(r=r.every(t),r[Ni]=zu.get(e)*t,r[Fa]=n),r}function od(e,t){if(!(t>1))return;const n=e[Ni];if(!Lf.some(([,i])=>i===n)||n%St===0&&St<n&&n<$n)return;const[r]=Lf[da(([,i])=>Math.log(i)).center(Lf,Math.log(n*t))];return(e[Fa]==="time"?S1:Bu)(r)}function ad(e,t,n){const r=t==="time"?ku:Ci;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=T8(n);switch(e){case"millisecond":return Yn(r(".%L"),r(":%M:%S"),i);case"second":return Yn(r(":%S"),r("%-I:%M"),i);case"minute":return Yn(r("%-I:%M"),r("%p"),i);case"hour":return Yn(r("%-I %p"),r("%b %-d"),i);case"day":return Yn(r("%-d"),r("%b"),i);case"month":return Yn(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function T8(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function S8(e){return e==="time"?wo:e==="utc"?Hr:x8}function M8(e,t,n){const r=rt(_2(t,(i,o)=>Math.abs(o-i)));if(r<1e3)return ad("millisecond","utc",n);for(const[i,o,a,f]of S8(e)){if(r>f||i==="hour"&&!r)break;if(t.every(s=>o.floor(s)>=s))return ad(i,a,n)}}function Yn(e,t,n){return(r,i,o)=>{const a=e(r,i),f=t(r,i),s=i-dr(o);return i!==s&&o[s]!==void 0&&f===t(o[s],s)?a:n(a,f)}}const Uu=Object.getPrototypeOf(Uint8Array),$8=Object.prototype.toString;function dn(e){return e instanceof Array||e instanceof Uu}function $1(e){return e instanceof Uu&&!E8(e)}function E1(e){return(e==null?void 0:e.prototype)instanceof Uu&&!A8(e)}function E8(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function A8(e){return e===BigInt64Array||e===BigUint64Array}const A1=Symbol("reindex");function le(e,t,n){const r=typeof t;return r==="string"?P1(e)?Gu(e.getChild(t),n):fd(e,C1(t),n):r==="function"?fd(e,t,n):r==="number"||t instanceof Date||r==="boolean"?me(e,zt(t),n):typeof(t==null?void 0:t.transform)=="function"?Ws(t.transform(e),n):C8(Ws(t,n),e==null?void 0:e[A1])}function C8(e,t){return e!=null&&t?Vu(e,t):e}function fd(e,t,n){return me(e,E1(n)?(r,i)=>Hu(t(r,i)):t,n)}function Ws(e,t){return t===void 0?un(e):q1(e)?Gu(e,t):e instanceof t?e:t.from(e,E1(t)&&!$1(e)?Hu:void 0)}function Gu(e,t){return e==null?e:(t===void 0||t===Array)&&Z8(e.type)?k1(e.toArray()):Ws(e.toArray(),t)}const _o=[null],C1=e=>t=>{var r;const n=t[e];return n===void 0&&t.type==="Feature"?(r=t.properties)==null?void 0:r[e]:n},Ii={transform:Ht},xe={transform:e=>e},k8=()=>1,N8=()=>!0,Ie=e=>e==null?e:`${e}`,Ce=e=>e==null?e:+e,Yu=e=>e?e[0]:void 0,ta=e=>e?e[1]:void 0,zt=e=>()=>e;function I8(e){const t=+`${e}`.slice(1)/100;return(n,r)=>nr(n,t,r)}function hr(e){return $1(e)?e:me(e,Hu,Float64Array)}function Hu(e){return e==null?NaN:Number(e)}function k1(e){return me(e,N1)}function N1(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?v1(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function Qe(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:qa(e)?[void 0,e]:[e,void 0]}function Pe(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function I1(e,t,n){if(e!=null)return ct(e,t,n)}function ct(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function pr(e){return P1(e)?e:un(e)}function un(e){if(e==null||dn(e))return e;if(q1(e))return Gu(e);switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[e]}return Array.from(e)}function me(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function ui(e,t=Array){return e instanceof t?e.slice():t.from(e)}function L8({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function L1({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function D8(e){return L8(e)||L1(e)||e.interval!==void 0}function hn(e){return(e==null?void 0:e.toString)===$8}function Xs(e){return hn(e)&&(e.type!==void 0||e.domain!==void 0)}function Pa(e){return hn(e)&&typeof e.transform!="function"}function mr(e){return Pa(e)&&e.value===void 0&&e.channel===void 0}function R8(e,t,n,r=xe){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function Wu(e,t){return e===void 0&&t===void 0?[Yu,ta]:[e,t]}function Xu({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Qe(t)),e===void 0&&([e]=Qe(n)),e}function ci(e){return dn(e)?e.length:e==null?void 0:e.numRows}function Ht(e){const t=ci(e),n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function Vu(e,t){return dn(e)?me(t,n=>e[n],e.constructor):me(t,n=>e.at(n))}function O8(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function jt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function F8(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function na(e){let t;return[{transform:()=>t,label:pn(e)},n=>t=n]}function Le(e){return e==null?[e]:na(e)}function pn(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function Vs(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Oe(r)||Oe(i)?me(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):me(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:e.label}}function ra(e,t){const n=D1(t==null?void 0:t.interval,t==null?void 0:t.type);return n?me(e,n):e}function D1(e,t){const n=Zu(e,t);return n&&(r=>sn(r)?n.floor(r):r)}function Zu(e,t){if(e!=null){if(typeof e=="number")return P8(e);if(typeof e=="string")return(t==="time"?S1:Bu)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function P8(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:n=>Math.floor(n*t)/t,offset:(n,r=1)=>(n*t+Math.floor(r))/t,range:(n,r)=>ds(Math.ceil(n*t),r*t).map(i=>i/t)}:{floor:n=>Math.floor(n/t)*t,offset:(n,r=1)=>n+t*Math.floor(r),range:(n,r)=>ds(Math.ceil(n/t),r/t).map(i=>i*t)}}function Tr(e,t){if(e=Zu(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function q8(e,t){if(e=Tr(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function z8(e){return Zn(e)&&typeof(e==null?void 0:e.floor)=="function"&&e.floor()instanceof Date}function Zn(e){return typeof(e==null?void 0:e.range)=="function"}function Sr(e){return e===void 0||Pa(e)?e:{value:e}}function j8(e){return e==null?null:{transform:t=>le(t,e,Float64Array),label:pn(e)}}function mn(e){return e&&typeof e[Symbol.iterator]=="function"}function R1(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function sd(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Oe(e){for(const t of e)if(t!=null)return t instanceof Date}function B8(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&v1(t)}function U8(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function G8(e){for(const t of e)if(t!=null)return typeof t=="number"}function Df(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}const Y8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function qa(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||Y8.has(e))}function H8(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Ee(e){return e==null||li(e)}function li(e){return/^\s*none\s*$/i.test(e)}function W8(e){return/^\s*round\s*$/i.test(e)}function Zs(e,t){return I1(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Ku(e="middle"){return Zs(e,"frameAnchor")}function X8(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const o=r[i];n===e?n={...n,[i]:o}:n[i]=o}return n}function V8(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function O1(e){return mn(e)?V8(e):e}function F1(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=ct(e,"clip",["frame","sphere"])),e}function P1(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function q1(e){return e&&typeof e.toArray=="function"&&e.type}function Z8(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}const wt=Symbol("position"),Wt=Symbol("color"),Li=Symbol("radius"),Di=Symbol("length"),Ri=Symbol("opacity"),za=Symbol("symbol"),z1=Symbol("projection"),pe=new Map([["x",wt],["y",wt],["fx",wt],["fy",wt],["r",Li],["color",Wt],["opacity",Ri],["symbol",za],["length",Di],["projection",z1]]);function K8(e){return e===wt||e===z1}function Q8(e){return e===wt||e===Li||e===Di||e===Ri}const J8=Math.sqrt(3),e4=2/J8,t4={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*e4,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},Qu=new Map([["asterisk",Vm],["circle",Lu],["cross",Zm],["diamond",Qm],["diamond2",Jm],["hexagon",t4],["plus",e1],["square",t1],["square2",n1],["star",i1],["times",s1],["triangle",o1],["triangle2",a1],["wye",f1]]);function Ju(e){return e&&typeof e.draw=="function"}function n4(e){return Ju(e)?!0:typeof e!="string"?!1:Qu.has(e.toLowerCase())}function ec(e){if(e==null||Ju(e))return e;const t=Qu.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function HT(e){if(e==null||Ju(e))return[void 0,e];if(typeof e=="string"){const t=Qu.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function Oi({filter:e,sort:t,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(e!=null&&(r=j1(e)),t!=null&&!mr(t)&&(r=Rf(r,tc(t))),n&&(r=Rf(r,B1))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(t===null||mr(t))&&{sort:t},transform:Rf(r,a)}}function gr({filter:e,sort:t,reverse:n,initializer:r,...i}={},o){return r===void 0&&(e!=null&&(r=j1(e)),t!=null&&!mr(t)&&(r=Of(r,tc(t))),n&&(r=Of(r,B1))),{...i,...(t===null||mr(t))&&{sort:t},initializer:Of(r,o)}}function Rf(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,pr(n),r,i)}}function Of(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...o){let a,f,s,u,c,l;return{data:f=n,facets:s=r,channels:a}=e.call(this,n,r,i,...o),{data:c=f,facets:l=s,channels:u}=t.call(this,f,s,{...i,...a},...o),{data:c,facets:l,channels:{...a,...u}}}}function r4(e,t){return(e.initializer!=null?gr:Oi)(e,t)}function j1(e){return(t,n)=>{const r=le(t,e);return{data:t,facets:n.map(i=>i.filter(o=>r[o]))}}}function B1(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function WT(e,{sort:t,...n}={}){return{...(Pa(e)&&e.channel!==void 0?gr:r4)(n,tc(e)),sort:mr(t)?t:null}}function tc(e){return(typeof e=="function"&&e.length!==1?i4:o4)(e)}function i4(e){return(t,n)=>{const r=dn(t)?(i,o)=>e(t[i],t[o]):(i,o)=>e(t.get(i),t.get(o));return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function o4(e){let t,n;({channel:t,value:e,order:n}={...Sr(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?ea:st),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=st;break;case"descending":n=ea;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,a)=>{let f;if(t===void 0)f=le(i,e);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[t],!f)return{};f=f.value}const s=(u,c)=>n(f[u],f[c]);return{data:i,facets:o.map(u=>u.slice().sort(s))}}}function U1(e={y:"count"},t={}){const{x:n=xe}=t;if(n==null)throw new Error("missing channel: x");return a4(n,null,e,t)}function a4(e,t,{data:n=ic,filter:r,sort:i,reverse:o,...a}={},f={}){a=u4(a,f),n=W1(n,xe),i=i==null?void 0:Y1("sort",i,f),r=r==null?void 0:H1("filter",r,f);const[s,u]=Le(e),[c,l]=Le(t),{z:d,fill:h,stroke:p,x1:m,x2:g,y1:y,y2:b,..._}=f,[w,S]=Le(d),[M]=Qe(h),[A]=Qe(p),[C,k]=Le(M),[R,$]=Le(A);return{..."z"in f&&{z:w||d},..."fill"in f&&{fill:C||h},..."stroke"in f&&{stroke:R||p},...Oi(_,(T,v,E)=>{const x=ra(le(T,e),E==null?void 0:E.x),N=ra(le(T,t),E==null?void 0:E.y),I=le(T,d),j=le(T,M),G=le(T,A),O=X1(a,{z:I,fill:j,stroke:G}),q=[],F=[],P=x&&u([]),V=N&&l([]),Z=I&&S([]),W=j&&k([]),Y=G&&$([]);let z=0;for(const L of a)L.initialize(T);i&&i.initialize(T),r&&r.initialize(T);for(const L of v){const B=[];for(const H of a)H.scope("facet",L);i&&i.scope("facet",L),r&&r.scope("facet",L);for(const[H,D]of Jr(L,O))for(const[ie,X]of Jr(D,N))for(const[oe,ae]of Jr(X,x)){const ce={data:T};if(x&&(ce.x=oe),N&&(ce.y=ie),O&&(ce.z=H),!(r&&!r.reduce(ae,ce))){B.push(z++),F.push(n.reduceIndex(ae,T,ce)),x&&P.push(oe),N&&V.push(ie),I&&Z.push(O===I?H:I[ae[0]]),j&&W.push(O===j?H:j[ae[0]]),G&&Y.push(O===G?H:G[ae[0]]);for(const lt of a)lt.reduce(ae,ce);i&&i.reduce(ae,ce)}}q.push(B)}return V1(q,i,o),{data:F,facets:q}}),...!Qr(a,"x")&&(s?{x:s}:{x1:m,x2:g}),...!Qr(a,"y")&&(c?{y:c}:{y1:y,y2:b}),...Object.fromEntries(a.map(({name:T,output:v})=>[T,v]))}}function Qr(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function G1(e,t,n=nc){const r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",h4]),t.href!=null&&e.href===void 0&&r.push(["href",oc]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?f4(i):n(i,o,t))}function nc(e,t,n,r=rc){let i;hn(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);const o=r(e,t,n),[a,f]=na(o.label);let s;return{name:e,output:i===void 0?a:{value:a,scale:i},initialize(u){o.initialize(u),s=f([])},scope(u,c){o.scope(u,c)},reduce(u,c){s.push(o.reduce(u,c))}}}function f4(e){return{name:e,initialize(){},scope(){},reduce(){}}}function rc(e,t,n,r=ja){const i=F8(e,n),o=r(t,i);let a,f;return{label:pn(o===ia?null:i,o.label),initialize(s){a=i===void 0?s:le(s,i),o.scope==="data"&&(f=o.reduceIndex(Ht(s),a))},scope(s,u){o.scope===s&&(f=o.reduceIndex(u,a))},reduce(s,u){return o.scope==null?o.reduceIndex(s,a,u):o.reduceIndex(s,a,f,u)}}}function Jr(e,t){return t?ma(e,n=>t[n]):[[,e]]}function ja(e,t,n=s4){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&hn(e))return l4(e);if(typeof e=="function")return d4(e);if(/^p\d{2}$/i.test(e))return Dt(I8(e));switch(`${e}`.toLowerCase()){case"first":return oc;case"last":return p4;case"identity":return ic;case"count":return ia;case"distinct":return m4;case"sum":return t==null?ia:g4;case"proportion":return cd(t,"data");case"proportion-facet":return cd(t,"facet");case"deviation":return Dt(Nh);case"min":return Dt(Bt);case"min-index":return Dt(p2);case"max":return Dt(rt);case"max-index":return Dt(h2);case"mean":return ud(b2);case"median":return ud(ls);case"variance":return Dt(kh);case"mode":return Dt(w2)}return n(e)}function s4(e){throw new Error(`invalid reduce: ${e}`)}function u4(e,t){return G1(e,t,Y1)}function Y1(e,t,n){return nc(e,t,n,H1)}function H1(e,t,n){return rc(e,t,n,W1)}function W1(e,t){return ja(e,t,c4)}function c4(e){switch(`${e}`.toLowerCase()){case"x":return b4;case"y":return y4;case"z":return Z1}throw new Error(`invalid group reduce: ${e}`)}function X1(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function V1(e,t,n){if(t){const r=t.output.transform(),i=(o,a)=>st(r[o],r[a]);e.forEach(o=>o.sort(i))}n&&e.forEach(r=>r.reverse())}function l4(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function d4(e){return{reduceIndex(t,n,r){return e(Vu(n,t),r)}}}function Dt(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function ud(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Oe(n)?new Date(r):r}}}const ic={reduceIndex(e,t){return Vu(t,e)}},oc={reduceIndex(e,t){return t[e[0]]}},h4={reduceIndex(e,t){const r=xo(Kn(e,o=>o.length,o=>t[o]),ta),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[4]=[` ${o.length.toLocaleString("en-US")} more`,on(o,ta)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},p4={reduceIndex(e,t){return t[e[e.length-1]]}},ia={label:"Frequency",reduceIndex(e){return e.length}},m4={label:"Distinct",reduceIndex(e,t){const n=new pa;for(const r of e)n.add(t[r]);return n.size}},g4=Dt(on);function cd(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>on(n,o=>r[o])/i}}const b4={reduceIndex(e,t,{x:n}){return n}},y4={reduceIndex(e,t,{y:n}){return n}},Z1={reduceIndex(e,t,{z:n}){return n}};function oa(e){if(typeof e!="function")throw new Error(`invalid test function: ${e}`);return{reduceIndex(t,n,{data:r}){return n[t.find(dn(r)?i=>e(r[i],i,r):i=>e(r.get(i),i,r))]}}}function di(e,{scale:t,type:n,value:r,filter:i,hint:o,label:a=pn(r)},f){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),K1(f,{scale:t,type:n,value:le(e,r),label:a,filter:i,hint:o})}function w4(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,di(t,r,n)]))}function _4(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:o}])=>{const a=i==null?null:t[i];return[r,a==null?o:me(o,a)]}));return n.channels=e,n}function K1(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&Df(r,qa)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&Df(r,H8)?null:"opacity",t.defaultScale="opacity";break;case"symbol":n!==!0&&Df(r,n4)?(t.scale=null,t.value=me(r,ec)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=pe.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!pe.has(n))throw new Error(`unknown scale: ${n}`);return t}function v4(e,t,n,r,i){const{order:o,reverse:a,reduce:f=!0,limit:s}=i;for(const u in i){if(!pe.has(u))continue;let{value:c,order:l=o,reverse:d=a,reduce:h=f,limit:p=s}=Sr(i[u]);const m=c==null?void 0:c.startsWith("-");if(m&&(c=c.slice(1)),l=l===void 0?m!==(c==="width"||c==="height")?J1:Q1:S4(l),h==null||h===!1)continue;const g=u==="fx"||u==="fy"?T4(t,r[u]):x4(n,u);if(!g)throw new Error(`missing channel for scale: ${u}`);const y=g.value,[b=0,_=1/0]=mn(p)?p:p<0?[p]:[0,p];if(c==null)g.domain=()=>{let w=Array.from(new pa(y));return d&&(w=w.reverse()),(b!==0||_!==1/0)&&(w=w.slice(b,_)),w};else{const w=c==="data"?e:c==="height"?ld(n,"y1","y2"):c==="width"?ld(n,"x1","x2"):Ks(n,c,c==="y"?"y2":c==="x"?"x2":void 0),S=ja(h===!0?"max":h,w);g.domain=()=>{let M=f2(Ht(y),A=>S.reduceIndex(A,w),A=>y[A]);return l&&M.sort(l),d&&M.reverse(),(b!==0||_!==1/0)&&(M=M.slice(b,_)),M.map(Yu)}}}}function x4(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function T4(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const f of e[o])i[f]=a}return t}function ld(e,t,n){const r=Ks(e,t),i=Ks(e,n);return me(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Ks(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function S4(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return Q1;case"descending":return J1}throw new Error(`invalid order: ${e}`)}function Q1([e,t],[n,r]){return st(t,r)||st(e,n)}function J1([e,t],[n,r]){return ea(t,r)||st(e,n)}function dd(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const eg=new Map([["accent",I5],["category10",N5],["dark2",L5],["observable10",D5],["paired",R5],["pastel1",O5],["pastel2",F5],["set1",P5],["set2",q5],["set3",z5],["tableau10",j5]]);function M4(e){return e!=null&&eg.has(`${e}`.toLowerCase())}const hd=new Map([...eg,["brbg",kt(Dp,Rp)],["prgn",kt(Op,Fp)],["piyg",kt(Pp,qp)],["puor",kt(zp,jp)],["rdbu",kt(Gs,Wo)],["rdgy",kt(Bp,Up)],["rdylbu",kt(Ys,Xo)],["rdylgn",kt(Gp,Yp)],["spectral",kt(Hp,Wp)],["burd",pd(Gs,Wo)],["buylrd",pd(Ys,Xo)],["blues",ye(ym,wm)],["greens",ye(_m,vm)],["greys",ye(xm,Tm)],["oranges",ye(Am,Cm)],["purples",ye(Sm,Mm)],["reds",ye($m,Em)],["turbo",Nt(Om)],["viridis",Nt(Fm)],["magma",Nt(Pm)],["inferno",Nt(qm)],["plasma",Nt(zm)],["cividis",Nt(km)],["cubehelix",Nt(Nm)],["warm",Nt(Im)],["cool",Nt(Lm)],["bugn",ye(Xp,Vp)],["bupu",ye(Zp,Kp)],["gnbu",ye(Qp,Jp)],["orrd",ye(em,tm)],["pubu",ye(im,om)],["pubugn",ye(nm,rm)],["purd",ye(am,fm)],["rdpu",ye(sm,um)],["ylgn",ye(dm,hm)],["ylgnbu",ye(cm,lm)],["ylorbr",ye(pm,mm)],["ylorrd",ye(gm,bm)],["rainbow",md(Dm)],["sinebow",md(Rm)]]);function ye(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?ot(t,n):e[n])}function kt(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?ot(t,n):e[n])}function pd(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?ot(r=>t(1-r),n):e[n].slice().reverse())}function Nt(e){return({length:t})=>ot(e,Math.max(2,Math.floor(t)))}function md(e){return({length:t})=>ot(e,Math.floor(t)+1).slice(0,-1)}function tg(e){const t=`${e}`.toLowerCase();if(!hd.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return hd.get(t)}function Ba(e,t){const n=tg(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function $4(e,t="greys"){const n=new Set,[r,i]=Ba(t,2);for(const o of e)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const gd=new Map([["brbg",Rp],["prgn",Fp],["piyg",qp],["puor",jp],["rdbu",Wo],["rdgy",Up],["rdylbu",Xo],["rdylgn",Yp],["spectral",Wp],["burd",e=>Wo(1-e)],["buylrd",e=>Xo(1-e)],["blues",wm],["greens",vm],["greys",Tm],["purples",Mm],["reds",Em],["oranges",Cm],["turbo",Om],["viridis",Fm],["magma",Pm],["inferno",qm],["plasma",zm],["cividis",km],["cubehelix",Nm],["warm",Im],["cool",Lm],["bugn",Vp],["bupu",Kp],["gnbu",Jp],["orrd",tm],["pubugn",rm],["pubu",om],["purd",fm],["rdpu",um],["ylgnbu",lm],["ylgn",hm],["ylorbr",mm],["ylorrd",bm],["rainbow",Dm],["sinebow",Rm]]);function ac(e){const t=`${e}`.toLowerCase();if(!gd.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return gd.get(t)}const E4=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function A4(e){return e!=null&&E4.has(`${e}`.toLowerCase())}const ng=e=>t=>e(1-t),Ff=[0,1],bd=new Map([["number",$e],["rgb",Nn],["hsl",G_],["hcl",W_],["lab",Y_]]);function rg(e){const t=`${e}`.toLowerCase();if(!bd.has(t))throw new Error(`unknown interpolator: ${t}`);return bd.get(t)}function Fi(e,t,n,{type:r,nice:i,clamp:o,zero:a,domain:f=og(e,n),unknown:s,round:u,scheme:c,interval:l,range:d=pe.get(e)===Li?q4(n,f):pe.get(e)===Di?z4(n,f):pe.get(e)===Ri?Ff:void 0,interpolate:h=pe.get(e)===Wt?c==null&&d!==void 0?Nn:ac(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):u?bu:$e,reverse:p}){if(l=Tr(l,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=rg(h)),p=!!p,d!==void 0){const m=(f=un(f)).length,g=(d=un(d)).length;if(m!==g){if(h.length===1)throw new Error("invalid piecewise interpolator");h=_a(h,d),d=void 0}}if(h.length===1?(p&&(h=ng(h),p=!1),d===void 0&&(d=Float64Array.from(f,(m,g)=>g/(f.length-1)),d.length===2&&(d=Ff)),t.interpolate((d===Ff?zt:sc)(h))):t.interpolate(h),a){const[m,g]=He(f);(m>0||g<0)&&(f=ui(f),(dr(f)||1)===Math.sign(m)?f[0]=0:f[f.length-1]=0)}return p&&(f=$o(f)),t.domain(f).unknown(s),i&&(t.nice(C4(i,r)),f=t.domain()),d!==void 0&&t.range(d),o&&t.clamp(o),{type:r,domain:f,range:d,scale:t,interpolate:h,interval:l}}function C4(e,t){return e===!0?void 0:typeof e=="number"?e:q8(e,t)}function k4(e,t,n){return Fi(e,Au(),t,n)}function N4(e,t,n){return ig(e,t,{...n,exponent:.5})}function ig(e,t,{exponent:n=1,...r}){return Fi(e,hp().exponent(n),t,{...r,type:"pow"})}function I4(e,t,{base:n=10,domain:r=j4(t),...i}){return Fi(e,up().base(n),t,{...i,domain:r})}function L4(e,t,{constant:n=1,...r}){return Fi(e,lp().constant(n),t,r)}function D4(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=B4(t),unknown:f,interpolate:s,reverse:u}){return n===void 0&&(n=s!==void 0?ot(s,i):pe.get(e)===Wt?Ba(o,i):void 0),a.length>0&&(a=pp(a,n===void 0?{length:i}:n).quantiles()),fc(e,t,{domain:a,range:n,reverse:u,unknown:f})}function R4(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=og(e,t),unknown:a,interpolate:f,reverse:s}){const[u,c]=He(o);let l;return n===void 0?(l=ei(u,c,r),l[0]<=u&&l.splice(0,1),l[l.length-1]>=c&&l.pop(),r=l.length+1,n=f!==void 0?ot(f,r):pe.get(e)===Wt?Ba(i,r):void 0):(l=ot($e(u,c),r+1).slice(1,-1),u instanceof Date&&(l=l.map(d=>new Date(d)))),dr(un(o))<0&&l.reverse(),fc(e,t,{domain:l,range:n,reverse:s,unknown:a})}function fc(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?ot(o,n.length+1):pe.get(e)===Wt?Ba(i,n.length+1):void 0,reverse:f}){n=un(n);const s=dr(n);if(!isNaN(s)&&!O4(n,s))throw new Error(`the ${e} scale has a non-monotonic domain`);return f&&(a=$o(a)),{type:"threshold",scale:mp(s<0?$o(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function O4(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const o=gi(i,i=e[n]);if(o!==0&&o!==t)return!1}return!0}function F4(e){return{type:"identity",scale:Q8(pe.get(e))?ap():t=>t}}function hi(e,t=w1){return e.length?[Bt(e,({value:n})=>n===void 0?n:Bt(n,t)),rt(e,({value:n})=>n===void 0?n:rt(n,t))]:[0,1]}function og(e,t){const n=pe.get(e);return(n===Li||n===Ri||n===Di?P4:hi)(t)}function P4(e){return[0,e.length?rt(e,({value:t})=>t===void 0?t:rt(t,w1)):1]}function q4(e,t){const n=e.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=nr(e,.5,({value:a})=>a===void 0?NaN:nr(a,.25,qu)),i=t.map(a=>3*Math.sqrt(a/r)),o=30/rt(i);return o<1?i.map(a=>a*o):i}function z4(e,t){const n=ls(e,({value:o})=>o===void 0?NaN:ls(o,Math.abs)),r=t.map(o=>12*o/n),i=60/rt(r);return i<1?r.map(o=>o*i):r}function j4(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return hi(e,qu);if(n<0)return hi(e,_1)}return[1,10]}function B4(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function sc(e){return(t,n)=>r=>e(t+r*(n-t))}let Qs=0,Js;function U4(){const e=Qs;return Qs=0,Js=void 0,e}function rn(e){e!==Js&&(Js=e,console.warn(e),++Qs)}function Ua(e,t,n,r,{type:i,nice:o,clamp:a,domain:f=hi(r),unknown:s,pivot:u=0,scheme:c,range:l,symmetric:d=!0,interpolate:h=pe.get(e)===Wt?c==null&&l!==void 0?Nn:ac(c!==void 0?c:"rdbu"):$e,reverse:p}){u=+u,f=un(f);let[m,g]=f;if(f.length>2&&rn(`Warning: the diverging ${e} scale domain contains extra elements.`),gi(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,u),g=Math.max(g,u),typeof h!="function"&&(h=rg(h)),l!==void 0&&(h=h.length===1?sc(h)(...l):_a(h,l)),p&&(h=ng(h)),d){const y=n.apply(u),b=y-n.apply(m),_=n.apply(g)-y;b<_?m=n.invert(y-_):b>_&&(g=n.invert(y+b))}return t.domain([m,u,g]).unknown(s).interpolator(h),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[m,g],pivot:u,interpolate:h,scale:t}}function G4(e,t,n){return Ua(e,kp(),X4,t,n)}function Y4(e,t,n){return ag(e,t,{...n,exponent:.5})}function ag(e,t,{exponent:n=1,...r}){return Ua(e,Lp().exponent(n=+n),K4(n),t,{...r,type:"diverging-pow"})}function H4(e,t,{base:n=10,pivot:r=1,domain:i=hi(t,r<0?_1:qu),...o}){return Ua(e,Np().base(n=+n),V4,t,{domain:i,pivot:r,...o})}function W4(e,t,{constant:n=1,...r}){return Ua(e,Ip().constant(n=+n),Q4(n),t,r)}const X4={apply(e){return e},invert(e){return e}},V4={apply:Math.log,invert:Math.exp},Z4={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function K4(e){return e===.5?Z4:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function Q4(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function fg(e,t,n,r){return Fi(e,t,n,r)}function J4(e,t,n){return fg(e,C5(),t,n)}function ex(e,t,n){return fg(e,k5(),t,n)}const Pi=Symbol("ordinal");function sg(e,t,n,{type:r,interval:i,domain:o,range:a,reverse:f,hint:s}){return i=Tr(i,r),o===void 0&&(o=cg(n,i,e)),(r==="categorical"||r===Pi)&&(r="ordinal"),f&&(o=$o(o)),o=t.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:r,domain:o,range:a,scale:t,hint:s,interval:i}}function tx(e,t,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:f,...s}){r=Tr(r,n),i===void 0&&(i=cg(t,r,e));let u;if(pe.get(e)===za)u=ix(t),o=o===void 0?ox(u):me(o,ec);else if(pe.get(e)===Wt&&(o===void 0&&(n==="ordinal"||n===Pi)&&(o=$4(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const c=ac(a),l=o[0],d=o[1]-o[0];o=({length:h})=>ot(p=>c(l+d*p),h)}else o=tg(a);if(f===js)throw new Error(`implicit unknown on ${e} scale is not supported`);return sg(e,Eu().unknown(f),t,{...s,type:n,domain:i,range:o,hint:u})}function nx(e,t,{align:n=.5,padding:r=.5,...i}){return ug(c3().align(n).padding(r),t,i,e)}function rx(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=e==="fx"||e==="fy"?0:r,...a}){return ug(Ea().align(n).paddingInner(i).paddingOuter(o),t,a,e)}function ug(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=sg(r,e,t,n),e.round=i,e}function cg(e,t,n){const r=new pa;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(t!==void 0){const[i,o]=He(r).map(t.floor,t);return t.range(i,t.offset(o))}if(r.size>1e4&&pe.get(n)===wt)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return xo(r,st)}function yd(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function ix(e){return{fill:yd(e,"fill"),stroke:yd(e,"stroke")}}function ox(e){return Ee(e.fill)?t8:e8}function eu(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:f,nice:s,clamp:u,zero:c,align:l,padding:d,projection:h,facet:{label:p=t}={},...m}={}){const g={};for(const[y,b]of e){const _=m[y],w=ux(y,b,{round:pe.get(y)===wt?f:void 0,nice:s,clamp:u,zero:c,align:l,padding:d,projection:h,..._});if(w){let{label:S=y==="fx"||y==="fy"?p:t,percent:M,transform:A,inset:C,insetTop:k=C!==void 0?C:y==="y"?r:0,insetRight:R=C!==void 0?C:y==="x"?i:0,insetBottom:$=C!==void 0?C:y==="y"?o:0,insetLeft:T=C!==void 0?C:y==="x"?a:0}=_||{};if(A==null)A=void 0;else if(typeof A!="function")throw new Error("invalid scale transform; not a function");w.percent=!!M,w.label=S===void 0?fx(b,w):S,w.transform=A,y==="x"||y==="fx"?(w.insetLeft=+T,w.insetRight=+R):(y==="y"||y==="fy")&&(w.insetTop=+k,w.insetBottom=+$),g[y]=w}}return g}function wd(e){const t={},n={scales:t};for(const[r,i]of Object.entries(e)){const{scale:o,type:a,interval:f,label:s}=i;t[r]=px(i),n[r]=o,o.type=a,f!=null&&(o.interval=f),s!=null&&(o.label=s)}return n}function ax(e,t){const{x:n,y:r,fx:i,fy:o}=e,a=i||o?uc(t):t;i&&_d(i,a),o&&vd(o,a);const f=i||o?dg(e,t):t;n&&_d(n,f),r&&vd(r,f)}function fx(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!zn(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function lg(e){return Math.sign(dr(e.domain()))*Math.sign(dr(e.range()))}function uc(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:s,marginBottom:u,marginLeft:c}}=e;return{marginTop:Math.max(t,f),marginRight:Math.max(n,s),marginBottom:Math.max(r,u),marginLeft:Math.max(i,c),width:o,height:a}}function dg({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:s}=uc(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:e?e.scale.bandwidth()+a+i:f,height:t?t.scale.bandwidth()+r+o:s,facet:{width:f,height:s}}}function _d(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:o=0,marginRight:a=0}=t,f=o+n,s=i-a-r;e.range=[f,Math.max(f,s)],zn(e)||(e.range=pg(e)),e.scale.range(e.range)}hg(e)}function vd(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:o=0,marginBottom:a=0}=t,f=o+n,s=i-a-r;e.range=[Math.max(f,s),f],zn(e)?e.range.reverse():e.range=pg(e),e.scale.range(e.range)}hg(e)}function hg(e){e.round===void 0&&lx(e)&&sx(e)<=30&&e.scale.round(!0)}function sx({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),a=t-i,f=Math.abs(r-n)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function pg(e){const t=e.scale.domain().length+mg(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,o)=>n+o/(t-1)*(r-n))}function ux(e,t=[],n={}){const r=cx(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&zn({type:r})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Oe)?rn(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Hn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Hn(r)}".`):i.some(B8)?rn(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Hn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Hn(r)}".`):i.some(U8)&&rn(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Hn(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Hn(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Ji(t,n,hr);break;case"identity":switch(pe.get(e)){case wt:n=Ji(t,n,hr);break;case za:n=Ji(t,n,dx);break}break;case"utc":case"time":n=Ji(t,n,k1);break}switch(r){case"diverging":return G4(e,t,n);case"diverging-sqrt":return Y4(e,t,n);case"diverging-pow":return ag(e,t,n);case"diverging-log":return H4(e,t,n);case"diverging-symlog":return W4(e,t,n);case"categorical":case"ordinal":case Pi:return tx(e,t,n);case"cyclical":case"sequential":case"linear":return k4(e,t,n);case"sqrt":return N4(e,t,n);case"threshold":return fc(e,t,n);case"quantile":return D4(e,t,n);case"quantize":return R4(e,t,n);case"pow":return ig(e,t,n);case"log":return I4(e,t,n);case"symlog":return L4(e,t,n);case"utc":return ex(e,t,n);case"time":return J4(e,t,n);case"point":return nx(e,t,n);case"band":return rx(e,t,n);case"identity":return F4(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Hn(e){return typeof e=="symbol"?e.description:e}function xd(e){return typeof e=="string"?`${e}`.toLowerCase():e}const Td={toString:()=>"projection"};function cx(e,t,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(n=xd(n),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&f!=null&&(n=Td);for(const u of t){const c=xd(u.type);if(c!==void 0){if(n===void 0)n=c;else if(n!==c)throw new Error(`scale incompatible with channel: ${n} !== ${c}`)}}if(n===Td)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:u})=>u!==void 0))return;const s=pe.get(e);if(s===Li)return"sqrt";if(s===Ri||s===Di)return"linear";if(s===za)return"ordinal";if((r||i||[]).length>2)return Pf(s);if(r!==void 0){if(sd(r))return Pf(s);if(Oe(r))return"utc"}else{const u=t.map(({value:c})=>c).filter(c=>c!==void 0);if(u.some(sd))return Pf(s);if(u.some(Oe))return"utc"}if(s===Wt){if(a!=null||A4(o))return"diverging";if(M4(o))return"categorical"}return"linear"}function Pf(e){switch(e){case wt:return"point";case Wt:return Pi;default:return"ordinal"}}function zn({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Pi}function mg({type:e}){return e==="threshold"}function lx({type:e}){return e==="point"||e==="band"}function br(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Ji(e,{domain:t,...n},r){var i;for(const o of e)o.value!==void 0&&(t===void 0&&(t=(i=o.value)==null?void 0:i.domain),o.value=r(o.value));return{domain:t===void 0?t:r(t),...n}}function dx(e){return me(e,ec)}function hx(e){return t=>{if(!pe.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function px({scale:e,type:t,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:s}){if(t==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const u=e.unknown?e.unknown():void 0;return{type:t,domain:ui(n),...r!==void 0&&{range:ui(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...u!==void 0&&{unknown:u},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...s!==void 0&&{pivot:s,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:c=>e(c),...e.invert&&{invert:c=>e.invert(c)}}}function mx(e,t){const{fx:n,fy:r}=eu(e,t),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?o2(i,o).map(([a,f],s)=>({x:a,y:f,i:s})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function gx(e,{x:t,y:n}){return t&&(t=tu(t)),n&&(n=tu(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function cc(e,{fx:t,fy:n}){const r=Ht(e),i=t==null?void 0:t.value,o=n==null?void 0:n.value;return t&&n?Kn(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):t?Kn(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Kn(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function bx(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:o})=>`translate(${e(i)-r},${t(o)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function yx(e){const t=[],n=new Uint32Array(on(e,r=>r.length));for(const r of e){let i=0;for(const o of e)r!==o&&(n.set(o,i),i+=o.length);t.push(n.slice(0,i))}return t}const wx=new Map([["top",qf],["right",Bf],["bottom",zf],["left",jf],["top-left",eo(qf,jf)],["top-right",eo(qf,Bf)],["bottom-left",eo(zf,jf)],["bottom-right",eo(zf,Bf)],["top-empty",xx],["right-empty",Mx],["bottom-empty",Tx],["left-empty",Sx],["empty",$x]]);function _x(e){if(e==null)return null;const t=wx.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const Sd=new WeakMap;function tu(e){let t=Sd.get(e);return t||Sd.set(e,t=new An(me(e,(n,r)=>[n,r]))),t}function gn(e,t){return tu(e).get(t)}function vx(e,t,n){return t=jt(t),n=jt(n),e.find(r=>Object.is(jt(r.x),t)&&Object.is(jt(r.y),n))}function Ga(e,t,n){var r;return(r=vx(e,t,n))==null?void 0:r.empty}function qf(e,{y:t},{y:n}){return t?gn(t,n)===0:!0}function zf(e,{y:t},{y:n}){return t?gn(t,n)===t.length-1:!0}function jf(e,{x:t},{x:n}){return t?gn(t,n)===0:!0}function Bf(e,{x:t},{x:n}){return t?gn(t,n)===t.length-1:!0}function xx(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=gn(t,r);if(o>0)return Ga(e,n,t[o-1])}function Tx(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=gn(t,r);if(o<t.length-1)return Ga(e,n,t[o+1])}function Sx(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=gn(t,n);if(o>0)return Ga(e,t[o-1],r)}function Mx(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=gn(t,n);if(o<t.length-1)return Ga(e,t[o+1],r)}function $x(e,t,{empty:n}){return n}function eo(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function Uf(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}const gg=Math.PI,It=2*gg,Gf=.618;function Ex({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={},a){if(e==null)return;if(typeof e.stream=="function")return e;let f,s,u="frame";if(hn(e)){let S;if({type:e,domain:s,inset:S,insetTop:n=S!==void 0?S:n,insetRight:r=S!==void 0?S:r,insetBottom:i=S!==void 0?S:i,insetLeft:o=S!==void 0?S:o,clip:u=u,...f}=e,e==null)return}typeof e!="function"&&({type:e}=nu(e));const{width:c,height:l,marginLeft:d,marginRight:h,marginTop:p,marginBottom:m}=a,g=c-d-h-o-r,y=l-p-m-n-i;if(e=e==null?void 0:e({width:g,height:y,clip:u,...f}),e==null)return;u=Ax(u,d,p,c-h,l-m);let b=d+o,_=p+n,w;if(s!=null){const[[S,M],[A,C]]=Ta(e).bounds(s),k=Math.min(g/(A-S),y/(C-M));k>0?(b-=(k*(S+A)-g)/2,_-=(k*(M+C)-y)/2,w=qs({point(R,$){this.stream.point(R*k+b,$*k+_)}})):rn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return w??(w=b===0&&_===0?bg():qs({point(S,M){this.stream.point(S+b,M+_)}})),{stream:S=>e.stream(w.stream(u(S)))}}function nu(e){switch(`${e}`.toLowerCase()){case"albers-usa":return et(V6,.7463,.4673);case"albers":return to(X0,.7463,.4673);case"azimuthal-equal-area":return et(Z6,4,4);case"azimuthal-equidistant":return et(K6,It,It);case"conic-conformal":return to(e3,It,It);case"conic-equal-area":return to(Uo,6.1702,2.9781);case"conic-equidistant":return to(r3,7.312,3.6282);case"equal-earth":return et(o3,5.4133,2.6347);case"equirectangular":return et(t3,It,gg);case"gnomonic":return et(a3,3.4641,3.4641);case"identity":return{type:bg};case"reflect-y":return{type:Cx};case"mercator":return et(Q6,It,It);case"orthographic":return et(f3,2,2);case"stereographic":return et(s3,2,2);case"transverse-mercator":return et(u3,It,It);default:throw new Error(`unknown projection type: ${e}`)}}function Ax(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return I0(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function et(e,t,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{var u,c,l;const s=e();return a!=null&&((u=s.precision)==null||u.call(s,a)),o!=null&&((c=s.rotate)==null||c.call(s,o)),typeof f=="number"&&((l=s.clipAngle)==null||l.call(s,f)),r!=null&&(s.scale(Math.min(r/t,i/n)),s.translate([r/2,i/2])),s},aspectRatio:n/t}}function to(e,t,n){const{type:r,aspectRatio:i}=et(e,t,n);return{type:o=>{const{parallels:a,domain:f,width:s,height:u}=o,c=r(o);return a!=null&&(c.parallels(a),f===void 0&&s!=null&&c.fitSize([s,u],{type:"Sphere"})),c},aspectRatio:i}}const bg=zt({stream:e=>e}),Cx=zt(qs({point(e,t){this.stream.point(e,-t)}}));function kx(e,t,n,r){const i=n[e],o=n[t],a=i.length,f=n[e]=new Float64Array(a).fill(NaN),s=n[t]=new Float64Array(a).fill(NaN);let u;const c=r.stream({point(l,d){f[u]=l,s[u]=d}});for(u=0;u<a;++u)c.point(i[u],o[u])}function Nx({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(hn(e)&&(e=e.type),e!=null)}function Ix(e){if(typeof(e==null?void 0:e.stream)=="function")return Gf;if(hn(e)){let t,n;if({domain:t,type:e,...n}=e,t!=null&&e!=null){const r=typeof e=="string"?nu(e).type:e,[[i,o],[a,f]]=Ta(r({...n,width:100,height:100})).bounds(t),s=(f-o)/(a-i);return s&&isFinite(s)?s<.2?.2:s>5?5:s:Gf}}if(e!=null){if(typeof e!="function"){const{aspectRatio:t}=nu(e);if(t)return t}return Gf}}function Lx(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},o={point(a,f){t.push(a),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of e.value)xn(a,o);return[r,i]}function lc(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:F1(n)}}function Te(e,{document:t}){return Qn(ba(e).call(t.documentElement))}const ru=Symbol("unset");function dc(e){return(e.length===1?Dx:Rx)(e)}function Dx(e){let t,n=ru;return r=>(Object.is(n,r)||(n=r,t=e(r)),t)}function Rx(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>!Object.is(i,r[o])))&&(n=r,t=e(...r)),t)}const Ox=dc(e=>new Intl.NumberFormat(e));dc((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{month:t}}));dc((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{weekday:t}}));function Fx(e="en-US"){const t=Ox(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function Px(e){return w8(e,"Invalid Date")}function qx(e="en-US"){const t=Fx(e);return n=>(n instanceof Date?Px:typeof n=="number"?t:Ie)(n)}const yr=qx(),qe=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let zx=0;function yg(){return`plot-clip-${++zx}`}function jx(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:s,stroke:u,strokeWidth:c,strokeOpacity:l,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:y,mixBlendMode:b,imageFilter:_,paintOrder:w,pointerEvents:S,shapeRendering:M,channels:A},{ariaLabel:C,fill:k="currentColor",fillOpacity:R,stroke:$="none",strokeOpacity:T,strokeWidth:v,strokeLinecap:E,strokeLinejoin:x,strokeMiterlimit:N,paintOrder:I}){k===null&&(f=null,s=null),$===null&&(u=null,l=null),Ee(k)?!Ee($)&&(!Ee(f)||A!=null&&A.fill)&&($="none"):Ee($)&&(!Ee(u)||A!=null&&A.stroke)&&(k="none");const[j,G]=Qe(f,k),[O,q]=Pe(s,R),[F,P]=Qe(u,$),[V,Z]=Pe(l,T),[W,Y]=Pe(y);li(P)||(c===void 0&&(c=v),h===void 0&&(h=E),d===void 0&&(d=x),p===void 0&&!W8(d)&&(p=N),!li(G)&&w===void 0&&(w=I));const[z,L]=Pe(c);return k!==null&&(e.fill=Me(G,"currentColor"),e.fillOpacity=Ir(q,1)),$!==null&&(e.stroke=Me(P,"none"),e.strokeWidth=Ir(L,1),e.strokeOpacity=Ir(Z,1),e.strokeLinejoin=Me(d,"miter"),e.strokeLinecap=Me(h,"butt"),e.strokeMiterlimit=Ir(p,4),e.strokeDasharray=Me(m,"none"),e.strokeDashoffset=Me(g,"0")),e.target=Ie(a),e.ariaLabel=Ie(C),e.ariaDescription=Ie(i),e.ariaHidden=Ie(o),e.opacity=Ir(Y,1),e.mixBlendMode=Me(b,"normal"),e.imageFilter=Me(_,"none"),e.paintOrder=Me(w,"normal"),e.pointerEvents=Me(S,"auto"),e.shapeRendering=Me(M,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:j,scale:"auto",optional:!0},fillOpacity:{value:O,scale:"auto",optional:!0},stroke:{value:F,scale:"auto",optional:!0},strokeOpacity:{value:V,scale:"auto",optional:!0},strokeWidth:{value:z,optional:!0},opacity:{value:W,scale:"auto",optional:!0}}}function Bx(e,t){t&&e.filter(n=>Pu(t[n])).append("title").call(Gx,t)}function Ux(e,t){t&&e.filter(([n])=>Pu(t[n])).append("title").call(Yx,t)}function Gx(e,t){t&&e.text(n=>yr(t[n]))}function Yx(e,t){t&&e.text(([n])=>yr(t[n]))}function On(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:s,strokeWidth:u,opacity:c,href:l}){r&&K(e,"aria-label",d=>r[d]),o&&K(e,"fill",d=>o[d]),a&&K(e,"fill-opacity",d=>a[d]),f&&K(e,"stroke",d=>f[d]),s&&K(e,"stroke-opacity",d=>s[d]),u&&K(e,"stroke-width",d=>u[d]),c&&K(e,"opacity",d=>c[d]),l&&xg(e,d=>l[d],t),n||Bx(e,i)}function wg(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:s,strokeWidth:u,opacity:c,href:l}){r&&K(e,"aria-label",([d])=>r[d]),o&&K(e,"fill",([d])=>o[d]),a&&K(e,"fill-opacity",([d])=>a[d]),f&&K(e,"stroke",([d])=>f[d]),s&&K(e,"stroke-opacity",([d])=>s[d]),u&&K(e,"stroke-width",([d])=>u[d]),c&&K(e,"opacity",([d])=>c[d]),l&&xg(e,([d])=>l[d],t),n||Ux(e,i)}function Hx({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:s},{tip:u}){return[e,u?void 0:t,n,r,i,o,a,f,s].filter(c=>c!==void 0)}function Wx(e,t,n){const r=ma(e,i=>t[i]);return n===void 0&&r.size>1+e.length>>1&&rn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*_g(e,t,n,r){const{z:i}=n,{z:o}=r,a=Hx(r,n),f=[...t,...a];for(const s of o?Wx(e,o,i):[e]){let u,c;e:for(const l of s){for(const d of f)if(!sn(d[l])){c&&c.push(-1);continue e}if(u===void 0){c&&(yield c),u=a.map(d=>jt(d[l])),c=[l];continue}c.push(l);for(let d=0;d<a.length;++d)if(jt(a[d][l])!==u[d]){yield c,u=a.map(p=>jt(p[l])),c=[l];continue e}}c&&(yield c)}}function Xx(e,t,n,r){let i;const{clip:o=r.clip}=t;switch(o){case"frame":{e=Te("svg:g",r).each(function(){this.appendChild(e.node()),e.node=()=>this}),i=Vx(r,n);break}case"sphere":{i=Zx(r);break}}K(e,"aria-label",t.ariaLabel),K(e,"aria-description",t.ariaDescription),K(e,"aria-hidden",t.ariaHidden),K(e,"clip-path",i)}function vg(e){const t=new WeakMap;return(n,r)=>{let i=t.get(n);if(!i){const o=yg();Qn(n.ownerSVGElement).append("clipPath").attr("id",o).call(e,n,r),t.set(n,i=`url(#${o})`)}return i}}const Vx=vg((e,t,n)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:f,marginBottom:s}=n;e.append("rect").attr("x",o).attr("y",f).attr("width",r-a-o).attr("height",i-f-s)}),Zx=vg((e,t)=>{const{projection:n}=t;if(!n)throw new Error('the "sphere" clip option requires a projection');e.append("path").attr("d",Ta(n)({type:"Sphere"}))});function Xt(e,t,n,r){Xx(e,t,n,r),K(e,"class",t.className),K(e,"fill",t.fill),K(e,"fill-opacity",t.fillOpacity),K(e,"stroke",t.stroke),K(e,"stroke-width",t.strokeWidth),K(e,"stroke-opacity",t.strokeOpacity),K(e,"stroke-linejoin",t.strokeLinejoin),K(e,"stroke-linecap",t.strokeLinecap),K(e,"stroke-miterlimit",t.strokeMiterlimit),K(e,"stroke-dasharray",t.strokeDasharray),K(e,"stroke-dashoffset",t.strokeDashoffset),K(e,"shape-rendering",t.shapeRendering),K(e,"filter",t.imageFilter),K(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;K(e,"pointer-events",i)}function Mt(e,t){Kx(e,"mix-blend-mode",t.mixBlendMode),K(e,"opacity",t.opacity)}function xg(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const o=this.ownerDocument.createElementNS(rr.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(rr.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function K(e,t,n){n!=null&&e.attr(t,n)}function Kx(e,t,n){n!=null&&e.style(t,n)}function Vt(e,t,{x:n,y:r},i=qe,o=qe){i+=t.dx,o+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&e.attr("transform",`translate(${i},${o})`)}function Me(e,t){if((e=Ie(e))!==t)return e}function Ir(e,t){if((e=Ce(e))!==t)return e}const Qx=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Ya(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!Qx.test(e))throw new Error(`invalid class name: ${e}`);return e}function hc(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Ha({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(e)?a:/right$/.test(e)?t-i:(a+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-o:(r+n-o)/2]}class Je{constructor(t,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:s,sort:u,dx:c=0,dy:l=0,margin:d=0,marginTop:h=d,marginRight:p=d,marginBottom:m=d,marginLeft:g=d,className:y,clip:b=i==null?void 0:i.clip,channels:_,tip:w,render:S}=r;if(this.data=t,this.sort=mr(u)?u:null,this.initializer=gr(r).initializer,this.transform=this.initializer?r.transform:Oi(r).transform,o===null||o===!1?this.facet=null:(this.facet=ct(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=t===_o&&typeof f=="string"?[f]:f,this.fy=t===_o&&typeof s=="string"?[s]:s),this.facetAnchor=_x(a),n=O1(n),_!==void 0&&(n={...Jx(_),...n}),i!==void 0&&(n={...jx(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([M,A])=>{if(Pa(A.value)){const{value:C,label:k=A.label,scale:R=A.scale}=A.value;A={...A,label:k,scale:R,value:C}}if(t===_o&&typeof A.value=="string"){const{value:C}=A;A={...A,value:[C]}}return[M,A]}).filter(([M,{value:A,optional:C}])=>{if(A!=null)return!0;if(C)return!1;throw new Error(`missing channel value: ${M}`)})),this.dx=+c,this.dy=+l,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+g,this.clip=F1(b),this.tip=e7(w),this.className=y?Ya(y):null,this.facet==="super"){if(f||s)throw new Error("super-faceting cannot use fx or fy");for(const M in this.channels){const{scale:A}=n[M];if(!(A!=="x"&&A!=="y"))throw new Error("super-faceting cannot use x or y")}}S!=null&&(this.render=aa(S,this.render))}initialize(t,n,r){let i=pr(this.data);t===void 0&&i!=null&&(t=[Ht(i)]);const o=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=pr(i)),t!==void 0&&(t.original=o);const a=w4(this.channels,i);return this.sort!=null&&v4(i,t,a,n,this.sort),{data:i,facets:t,channels:a}}filter(t,n,r){for(const i in n){const{filter:o=sn}=n[i];if(o!==null){const a=r[i];t=t.filter(f=>o(a[f]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in t&&t[o].scale==="y"&&kx(i,o,n,r.projection)}}scale(t,n,r){const i=_4(t,n);return r.projection&&this.project(t,i,r),i}}function jn(...e){return e.plot=Je.prototype.plot,e}function aa(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,o,a,f){return e.call(this,n,r,i,o,a,(s,u,c,l,d)=>t.call(this,s,u,c,l,d,f))}}function Jx(e){return Object.fromEntries(Object.entries(O1(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:Sr(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function e7(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?ct(e,"tip",["x","y","xy"]):e}function qi(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:hn(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function t7(e,t,n={}){let r=.5-qe,i=.5+qe,o=.5+qe,a=.5-qe;for(const{marginTop:m,marginRight:g,marginBottom:y,marginLeft:b}of t)m>r&&(r=m),g>i&&(i=g),y>o&&(o=y),b>a&&(a=b);let{margin:f,marginTop:s=f!==void 0?f:r,marginRight:u=f!==void 0?f:i,marginBottom:c=f!==void 0?f:o,marginLeft:l=f!==void 0?f:a}=n;s=+s,u=+u,c=+c,l=+l;let{width:d=640,height:h=n7(e,n,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,s-r+c-o)}=n;d=+d,h=+h;const p={width:d,height:h,marginTop:s,marginRight:u,marginBottom:c,marginLeft:l};if(e.fx||e.fy){let{margin:m,marginTop:g=m!==void 0?m:s,marginRight:y=m!==void 0?m:u,marginBottom:b=m!==void 0?m:c,marginLeft:_=m!==void 0?m:l}=n.facet??{};g=+g,y=+y,b=+b,_=+_,p.facet={marginTop:g,marginRight:y,marginBottom:b,marginLeft:_}}return p}function n7({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:s,marginBottomDefault:u,marginLeftDefault:c}){const l=n&&n.scale.domain().length||1,d=Ix(i);if(d){const p=r?r.scale.domain().length:1,m=(1.1*l-.1)/(1.1*p-.1)*d,g=Math.max(.1,Math.min(10,m));return Math.round((a-c-s)*g+f+u)}const h=t?zn(t)?t.scale.domain().length||1:Math.max(7,17/l):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=Md("y",t)/(Md("x",e)*o),m=r?r.scale.bandwidth():1,g=n?n.scale.bandwidth():1,y=m*(a-c-s)-e.insetLeft-e.insetRight;return(p*y+t.insetTop+t.insetBottom)/g+f+u}return!!(t||n)*Math.max(1,Math.min(60,h*l))*20+!!r*30+60}function Md(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=t.scale.exponent();i=s=>Math.pow(s,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[o,a]=He(r);return Math.abs(i(a)-i(o))}const $d=new WeakMap;function pc(e,t,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:s,...u}={}){return a=+a,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),f={...f,py:{value:o,scale:"y"}}),{x:n,y:r,channels:f,...u,render:aa(function(c,l,d,h,p,m){p={...p,pointerSticky:!1};const g=p.ownerSVGElement,{data:y}=p.getMarkState(this);let b=$d.get(g);b||$d.set(g,b={sticky:!1,roots:[],renders:[]});let _=b.renders.push(P)-1;const{x:w,y:S,fx:M,fy:A}=l;let C=M?M(c.fx)-h.marginLeft:0,k=A?A(c.fy)-h.marginTop:0;w!=null&&w.bandwidth&&(C+=w.bandwidth()/2),S!=null&&S.bandwidth&&(k+=S.bandwidth()/2);const R=c.fi!=null;let $;if(R){let Y=b.facetStates;Y||(b.facetStates=Y=new Map),$=Y.get(this),$||Y.set(this,$=new Map)}const[T,v]=Ha(this,h),{px:E,py:x}=d,N=E?Y=>E[Y]:Tg(d,T),I=x?Y=>x[Y]:Sg(d,v);let j,G,O,q;function F(Y,z){if(R)if(q&&(q=cancelAnimationFrame(q)),Y==null)$.delete(c.fi);else{$.set(c.fi,z),q=requestAnimationFrame(()=>{q=null;for(const[L,B]of $)if(B<z||B===z&&L<c.fi){Y=null;break}P(Y)});return}P(Y)}function P(Y){if(j===Y&&O===b.sticky)return;j=Y,O=p.pointerSticky=b.sticky;const z=j==null?[]:[j];R&&(z.fx=c.fx,z.fy=c.fy,z.fi=c.fi);const L=m(z,l,d,h,p);if(G){if(R){const B=G.parentNode,H=G.getAttribute("transform"),D=L.getAttribute("transform");H?L.setAttribute("transform",H):L.removeAttribute("transform"),D?B.setAttribute("transform",D):B.removeAttribute("transform"),L.removeAttribute("aria-label"),L.removeAttribute("aria-description"),L.removeAttribute("aria-hidden")}G.replaceWith(L)}if(b.roots[_]=G=L,!(j==null&&($==null?void 0:$.size)>1)){const B=j==null?null:dn(y)?y[j]:y.get(j);p.dispatchValue(B)}return L}function V(Y){if(b.sticky||Y.pointerType==="mouse"&&Y.buttons===1)return;let[z,L]=d_(Y);z-=C,L-=k;const B=z<h.marginLeft||z>h.width-h.marginRight?1:e,H=L<h.marginTop||L>h.height-h.marginBottom?1:t;let D=null,ie=a*a;for(const X of c){const oe=B*(N(X)-z),ae=H*(I(X)-L),ce=oe*oe+ae*ae;ce<=ie&&(D=X,ie=ce)}if(D!=null&&(e!==1||t!==1)){const X=N(D)-z,oe=I(D)-L;ie=X*X+oe*oe}F(D,ie)}function Z(Y){Y.pointerType==="mouse"&&j!=null&&(b.sticky&&b.roots.some(z=>z==null?void 0:z.contains(Y.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(z=>z(null))):(b.sticky=!0,P(j)),Y.stopImmediatePropagation()))}function W(Y){Y.pointerType==="mouse"&&(b.sticky||F(null))}return g.addEventListener("pointerenter",V),g.addEventListener("pointermove",V),g.addEventListener("pointerdown",Z),g.addEventListener("pointerleave",W),P(null)},s)}}function r7(e){return pc(1,1,e)}function i7(e){return pc(1,.01,e)}function Ed(e){return pc(.01,1,e)}function Tg({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Sg({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function Mg(e){return zn(e)&&e.interval===void 0?void 0:"tabular-nums"}function o7(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:s=16+r,marginLeft:u=0,style:c,ticks:l=(i-u-f)/64,tickFormat:d,fontVariant:h=Mg(e),round:p=!0,opacity:m,className:g}=t;const y=lc(t);g=Ya(g),m=Pe(m)[1],d===null&&(d=()=>null);const b=Te("svg",y).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(T=>T.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(hc,c);let _=T=>T.selectAll(".tick line").attr("y1",a+s-o),w;const S=p?(T,v)=>T.rangeRound(v):(T,v)=>T.range(v),{type:M,domain:A,range:C,interpolate:k,scale:R,pivot:$}=e;if(k){const T=C===void 0?k:_a(k.length===1?sc(k):k,C);w=S(R.copy(),ot($e(u,i-f),Math.min(A.length+($!==void 0),C===void 0?1/0:C.length)));const v=256,E=y.document.createElement("canvas");E.width=v,E.height=1;const x=E.getContext("2d");for(let N=0,I=v-1;N<v;++N)x.fillStyle=T(N/I),x.fillRect(N,0,1,1);b.append("image").attr("opacity",m).attr("x",u).attr("y",a).attr("width",i-u-f).attr("height",o-a-s).attr("preserveAspectRatio","none").attr("xlink:href",E.toDataURL())}else if(M==="threshold"){const T=A,v=d===void 0?E=>E:typeof d=="string"?vr(d):d;w=S(Au().domain([-1,C.length-1]),[u,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(C).enter().append("rect").attr("x",(E,x)=>w(x-1)).attr("y",a).attr("width",(E,x)=>w(x)-w(x-1)).attr("height",o-a-s).attr("fill",E=>E),l=me(T,(E,x)=>x),d=E=>v(T[E],E)}else w=S(Ea().domain(A),[u,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(A).enter().append("rect").attr("x",w).attr("y",a).attr("width",Math.max(0,w.bandwidth()-1)).attr("height",o-a-s).attr("fill",R),_=()=>{};return b.append("g").attr("transform",`translate(0,${o-s})`).call(C2(w).ticks(Array.isArray(l)?null:l,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(r).tickValues(Array.isArray(l)?l:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Me(h,"normal")).call(_).call(T=>T.select(".domain").remove()),n!==void 0&&b.append("text").attr("x",u).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),b.node()}const $g=Math.PI/180;function mc(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=Yf(n),e.markerMid=Yf(r),e.markerEnd=Yf(i)}function Yf(e){if(e==null||e===!1)return null;if(e===!0)return Cd;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return Ad("auto");case"arrow-reverse":return Ad("auto-start-reverse");case"dot":return a7;case"circle":case"circle-fill":return Cd;case"circle-stroke":return f7;case"tick":return Hf("auto");case"tick-x":return Hf(90);case"tick-y":return Hf(0)}throw new Error(`invalid marker: ${e}`)}function Ad(e){return(t,n)=>Te("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function a7(e,t){return Te("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Cd(e,t){return Te("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function f7(e,t){return Te("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Hf(e){return(t,n)=>Te("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let s7=0;function Eg(e,t,{stroke:n},r){return Cg(e,t,n&&(i=>n[i]),null,r)}function u7(e,t,{stroke:n,z:r},i){return Cg(e,t,n&&(([o])=>n[o]),r,i)}const iu=1,Ag=2;function c7(e,t){const n=new Uint8Array(t.length),r=e.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=ru;o<i;++o){const f=r[o];if(f.length>1){const s=f[0];a!==(a=jt(t[s]))&&(n[s]|=iu)}}for(let o=i-1,a=ru;o>=0;--o){const f=r[o];if(f.length>1){const s=f[0];a!==(a=jt(t[s]))&&(n[s]|=Ag)}}return([o])=>n[o]}function Cg(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a,f){if(!t&&!n&&!r)return;const s=new Map,u=a&&c7(e,a);function c(l,d,h){return function(p){if(h&&!h(p))return;const m=o(p);let g=s.get(d);g||s.set(d,g=new Map);let y=g.get(m);if(!y){const b=this.parentNode.insertBefore(d(m,f),this),_=`plot-marker-${++s7}`;b.setAttribute("id",_),g.set(m,y=`url(#${_})`)}this.setAttribute(l,y)}}t&&e.each(c("marker-start",t,u&&(l=>u(l)&iu))),n&&u&&e.each(c("marker-start",n,l=>!(u(l)&iu))),n&&e.each(c("marker-mid",n)),r&&e.each(c("marker-end",r,u&&(l=>u(l)&Ag)))}function Wa({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=Ng(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function kg({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=Ng(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function Ng(e,t,n){return e===void 0&&t===void 0&&n===void 0?qe?[1,0]:[.5,.5]:[t,n]}function Ig(e,{interval:t}){return e={...Sr(e)},e.interval=Zu(e.interval===void 0?t:e.interval),e}function gc(e,t,n,r){const{[e]:i,[`${e}1`]:o,[`${e}2`]:a}=n,{value:f,interval:s}=Ig(i,n);if(f==null||s==null&&!r)return n;const u=pn(i);if(s==null){let h;const p={transform:m=>h||(h=le(m,f)),label:u};return{...n,[e]:void 0,[`${e}1`]:o===void 0?p:o,[`${e}2`]:a===void 0&&!(o===a&&r)?p:a}}let c,l;function d(h){return l!==void 0&&h===c?l:l=me(le(c=h,f),p=>s.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:o===void 0?{transform:d,label:u}:o,[`${e}2`]:a===void 0?{transform:h=>d(h).map(p=>s.offset(p)),label:u}:a})}function Lg(e,t,n){const{[e]:r}=n,{value:i,interval:o}=Ig(r,n);return i==null||o==null?n:t({...n,[e]:{label:pn(r),transform:a=>{const f=me(le(a,i),u=>o.floor(u)),s=f.map(u=>o.offset(u));return f.map(Oe(f)?(u,c)=>u==null||isNaN(u=+u)||(c=s[c],c==null)||isNaN(c=+c)?void 0:new Date((u+c)/2):(u,c)=>u==null||(c=s[c],c==null)?NaN:(+u+ +c)/2)}}})}function l7(e={}){return gc("x",Wa,e,!0)}function d7(e={}){return gc("x",Wa,e)}function h7(e={}){return gc("y",kg,e)}function p7(e={}){return Lg("x",Wa,e)}function m7(e={}){return Lg("y",kg,e)}const Dg={ariaLabel:"rule",fill:null,stroke:"currentColor"};class g7 extends Je{constructor(t,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:s=a}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},qi(n,"x"),Dg),this.insetTop=Ce(f),this.insetBottom=Ce(s),mc(this,n)}render(t,n,r,i,o){const{x:a,y:f}=n,{x:s,y1:u,y2:c}=r,{width:l,height:d,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetTop:y,insetBottom:b}=this;return Te("svg:g",o).call(Xt,this,i,o).call(Vt,this,{x:s&&a},qe,0).call(_=>_.selectAll().data(t).enter().append("line").call(Mt,this).attr("x1",s?w=>s[w]:(m+l-p)/2).attr("x2",s?w=>s[w]:(m+l-p)/2).attr("y1",u&&!br(f)?w=>u[w]+y:h+y).attr("y2",c&&!br(f)?f.bandwidth?w=>c[w]+f.bandwidth()-b:w=>c[w]-b:d-g-b).call(On,this,r).call(Eg,this,r,o)).node()}}class b7 extends Je{constructor(t,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:s=a}=n;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},qi(n,"y"),Dg),this.insetRight=Ce(f),this.insetLeft=Ce(s),mc(this,n)}render(t,n,r,i,o){const{x:a,y:f}=n,{y:s,x1:u,x2:c}=r,{width:l,height:d,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetLeft:y,insetRight:b}=this;return Te("svg:g",o).call(Xt,this,i,o).call(Vt,this,{y:s&&f},0,qe).call(_=>_.selectAll().data(t).enter().append("line").call(Mt,this).attr("x1",u&&!br(a)?w=>u[w]+y:m+y).attr("x2",c&&!br(a)?a.bandwidth?w=>c[w]+a.bandwidth()-b:w=>c[w]-b:l-p-b).attr("y1",s?w=>s[w]:(h+d-g)/2).attr("y2",s?w=>s[w]:(h+d-g)/2).call(On,this,r).call(Eg,this,r,o)).node()}}function Rg(e,t){let{x:n=xe,y:r,y1:i,y2:o,...a}=h7(t);return[i,o]=Og(r,i,o),new g7(e,{...a,x:n,y1:i,y2:o})}function Xa(e,t){let{y:n=xe,x:r,x1:i,x2:o,...a}=d7(t);return[i,o]=Og(r,i,o),new b7(e,{...a,y:n,x1:i,x2:o})}function Og(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Fg(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let o=0;o<n;++o)i+=t[o](r)+e[o+1];return i}}const y7={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Pg="";class bc extends Je{constructor(t,n={}){const{x:r,y:i,text:o=mn(t)&&R1(t)?xe:Ii,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:s=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:u=1,lineWidth:c=1/0,textOverflow:l,monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:y,rotate:b}=n,[_,w]=Pe(b,0),[S,M]=T7(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:S,optional:!0},rotate:{value:j8(_),optional:!0},text:{value:o,filter:Pu,optional:!0}},n,y7),this.rotate=w,this.textAnchor=Me(f,"middle"),this.lineAnchor=ct(s,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+u,this.lineWidth=+c,this.textOverflow=qg(l),this.monospace=!!d,this.fontFamily=Ie(h),this.fontSize=M,this.fontStyle=Ie(m),this.fontVariant=Ie(g),this.fontWeight=Ie(y),this.frameAnchor=Ku(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=Ug(this),this.clipLine=Gg(this)}render(t,n,r,i,o){const{x:a,y:f}=n,{x:s,y:u,rotate:c,text:l,title:d,fontSize:h}=r,{rotate:p}=this,[m,g]=Ha(this,i);return Te("svg:g",o).call(Xt,this,i,o).call(Bg,this,l,i).call(Vt,this,{x:s&&a,y:u&&f}).call(y=>y.selectAll().data(t).enter().append("text").call(Mt,this).call(w7,this,l,d).attr("transform",Fg`translate(${s?b=>s[b]:m},${u?b=>u[b]:g})${c?b=>` rotate(${c[b]})`:p?` rotate(${p})`:""}`).call(K,"font-size",h&&(b=>h[b])).call(On,this,r)).node()}}function qg(e){return e==null?null:ct(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function w7(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:s}=t;e.each(function(u){const c=f(yr(n[u])??"").map(s),l=c.length,d=i==="top"?.71:i==="bottom"?1-l:(164-l*100)/200;if(l>1){let h=0;for(let p=0;p<l;++p){if(++h,!c[p])continue;const m=this.ownerDocument.createElementNS(rr.svg,"tspan");m.setAttribute("x",0),p===h-1?m.setAttribute("y",`${(d+p)*o}em`):m.setAttribute("dy",`${h*o}em`),m.textContent=c[p],this.appendChild(m),h=0}}else d&&this.setAttribute("y",`${d*o}em`),this.textContent=c[0];if(a&&!r&&c[0]!==n[u]){const h=this.ownerDocument.createElementNS(rr.svg,"title");h.textContent=n[u],this.appendChild(h)}})}function zg(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Wu(t,n)),new bc(e,{...r,x:t,y:n})}function jg(e,{x:t=xe,...n}={}){return new bc(e,m7({...n,x:t}))}function _7(e,{y:t=xe,...n}={}){return new bc(e,p7({...n,y:t}))}function Bg(e,t,n){K(e,"text-anchor",t.textAnchor),K(e,"font-family",t.fontFamily),K(e,"font-size",t.fontSize),K(e,"font-style",t.fontStyle),K(e,"font-variant",t.fontVariant===void 0?v7(n):t.fontVariant),K(e,"font-weight",t.fontWeight)}function v7(e){return e&&(G8(e)||Oe(e))?"tabular-nums":void 0}const x7=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function T7(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),x7.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function S7(e,t,n){const r=[];let i,o=0;for(const[a,f,s]of M7(e)){if(i===void 0&&(i=a),o>i&&n(e,i,f)>t&&(r.push(e.slice(i,o)+(e[o-1]===Pg?"-":"")),i=a),s){r.push(e.slice(i,f)),i=void 0;continue}o=f}return r}function*M7(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case Pg:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const kd={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function yc(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Mr(e,i))r+=kd[e[i]]??(Hg(e,i)?120:kd.e);return r}function wc(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Mr(e,i))r+=Hg(e,i)?126:63;return r}function Ug({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);const r=e?wc:yc,i=t*100;return o=>S7(o,i,r)}function Gg({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return o=>o;const r=e?wc:yc,i=t*100;switch(n){case"clip-start":return o=>Id(o,i,r,"");case"clip-end":return o=>Nd(o,i,r,"");case"ellipsis-start":return o=>Id(o,i,r,tr);case"ellipsis-middle":return o=>$7(o,i,r,tr);case"ellipsis-end":return o=>Nd(o,i,r,tr)}}const tr="";function wr(e,t,n,r){const i=[];let o=0;for(let a=0,f=0,s=e.length;a<s;a=f){f=Mr(e,a);const u=n(e,a,f);if(o+u>t){for(o+=r;o>t&&a>0;)f=a,a=i.pop(),o-=n(e,a,f);return[a,t-o]}o+=u,i.push(a)}return[-1,0]}function Nd(e,t,n,r){e=e.trim();const i=n(r),[o]=wr(e,t,n,i);return o<0?e:e.slice(0,o).trimEnd()+r}function $7(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r)/2,[a,f]=wr(e,t/2,n,o),[s]=wr(e,i-t/2-f+o,n,-o);return s<0?r:e.slice(0,a).trimEnd()+r+e.slice(Mr(e,s)).trimStart()}function Id(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r),[a]=wr(e,i-t+o,n,-o);return a<0?r:r+e.slice(Mr(e,a)).trimStart()}const ou=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Ld=new RegExp("\\p{Extended_Pictographic}","uy");function Mr(e,t){return t+=E7(e,t)?2:1,C7(e,t)&&(t=ou.lastIndex),A7(e,t)?Mr(e,t+1):t}function Yg(e,t){return e.charCodeAt(t)<128}function E7(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function A7(e,t){return e.charCodeAt(t)===8205}function C7(e,t){return Yg(e,t)?!1:(ou.lastIndex=t,ou.test(e))}function Hg(e,t){return Yg(e,t)?!1:(Ld.lastIndex=t,Ld.test(e))}const k7={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Wg=3.5,N7=Wg*5,Xg={draw(e,t,n){const r=t*n/N7;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},I7={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},L7=new Map([["arrow",Xg],["spike",I7]]);function D7(e){return e&&typeof e.draw=="function"}function R7(e){if(D7(e))return e;const t=L7.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class Vg extends Je{constructor(t,n={}){const{x:r,y:i,r:o=Wg,length:a,rotate:f,shape:s=Xg,anchor:u="middle",frameAnchor:c}=n,[l,d]=Pe(a,12),[h,p]=Pe(f,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:l,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,k7),this.r=+o,this.length=d,this.rotate=p,this.shape=R7(s),this.anchor=ct(u,"anchor",["start","middle","end"]),this.frameAnchor=Ku(c)}render(t,n,r,i,o){const{x:a,y:f}=n,{x:s,y:u,length:c,rotate:l}=r,{length:d,rotate:h,anchor:p,shape:m,r:g}=this,[y,b]=Ha(this,i);return Te("svg:g",o).call(Xt,this,i,o).call(Vt,this,{x:s&&a,y:u&&f}).call(_=>_.selectAll().data(t).enter().append("path").call(Mt,this).attr("transform",Fg`translate(${s?w=>s[w]:y},${u?w=>u[w]:b})${l?w=>` rotate(${l[w]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?c?w=>` translate(0,${c[w]})`:` translate(0,${d})`:c?w=>` translate(0,${c[w]/2})`:` translate(0,${d/2})`}`).attr("d",c?w=>{const S=Ss();return m.draw(S,c[w],g),S}:(()=>{const w=Ss();return m.draw(w,d,g),w})()).call(On,this,r)).node()}}function O7(e,t={}){const{x:n=xe,...r}=t;return new Vg(e,{...r,x:n})}function F7(e,t={}){const{y:n=xe,...r}=t;return new Vg(e,{...r,y:n})}function bn(e,t){return arguments.length<2&&!mn(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function Va({anchor:e}={},t){return e===void 0?t[0]:ct(e,"anchor",t)}function Zg(e){return Va(e,["left","right"])}function Kg(e){return Va(e,["right","left"])}function Qg(e){return Va(e,["bottom","top"])}function Jg(e){return Va(e,["top","bottom"])}function eb(){const[e,t]=bn(...arguments);return nb("y",Zg(t),e,t)}function P7(){const[e,t]=bn(...arguments);return nb("fy",Kg(t),e,t)}function tb(){const[e,t]=bn(...arguments);return rb("x",Qg(t),e,t)}function q7(){const[e,t]=bn(...arguments);return rb("fx",Jg(t),e,t)}function nb(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:s=r,fillOpacity:u=i,textAnchor:c,textStroke:l,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="y"?6:0,tickPadding:m,tickRotate:g,x:y,margin:b,marginTop:_=b===void 0?20:b,marginRight:w=b===void 0?t==="right"?40:0:b,marginBottom:S=b===void 0?20:b,marginLeft:M=b===void 0?t==="left"?40:0:b,label:A,labelAnchor:C,labelArrow:k,labelOffset:R,...$}){return p=Ce(p),m=Ce(m),g=Ce(g),C!==void 0&&(C=ct(C,"labelAnchor",["center","top","bottom"])),k=lb(k),jn(p&&!Ee(o)?z7(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,x:y,...$}):null,Ee(s)?null:B7(e,t,n,{fill:s,fillOpacity:u,stroke:l,strokeOpacity:d,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:g,x:y,marginTop:_,marginRight:w,marginBottom:S,marginLeft:M,...$}),!Ee(s)&&A!==null?zg([],fb({fill:s,fillOpacity:u,...$},function(T,v,E,x,N){const I=x[e],{marginTop:j,marginRight:G,marginBottom:O,marginLeft:q}=e==="y"&&N.inset||N,F=C??(I.bandwidth?"center":"top"),P=R??(t==="right"?G:q)-3;return F==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=F,this.frameAnchor=`${F}-${t}`,this.rotate=0),this.dy=F==="top"?3-j:F==="bottom"?O-3:0,this.dx=t==="right"?P:-P,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[cb(e,I,{anchor:t,label:A,labelAnchor:F,labelArrow:k})]}}}})):null)}function rb(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:s=r,fillOpacity:u=i,textAnchor:c,textStroke:l,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="x"?6:0,tickPadding:m,tickRotate:g,y,margin:b,marginTop:_=b===void 0?t==="top"?30:0:b,marginRight:w=b===void 0?20:b,marginBottom:S=b===void 0?t==="bottom"?30:0:b,marginLeft:M=b===void 0?20:b,label:A,labelAnchor:C,labelArrow:k,labelOffset:R,...$}){return p=Ce(p),m=Ce(m),g=Ce(g),C!==void 0&&(C=ct(C,"labelAnchor",["center","left","right"])),k=lb(k),jn(p&&!Ee(o)?j7(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,y,...$}):null,Ee(s)?null:U7(e,t,n,{fill:s,fillOpacity:u,stroke:l,strokeOpacity:d,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:g,y,marginTop:_,marginRight:w,marginBottom:S,marginLeft:M,...$}),!Ee(s)&&A!==null?zg([],fb({fill:s,fillOpacity:u,...$},function(T,v,E,x,N){const I=x[e],{marginTop:j,marginRight:G,marginBottom:O,marginLeft:q}=e==="x"&&N.inset||N,F=C??(I.bandwidth?"center":"right"),P=R??(t==="top"?j:O)-3;return F==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${F}`,this.textAnchor=F==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-P:P,this.dx=F==="right"?G-3:F==="left"?3-q:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[cb(e,I,{anchor:t,label:A,labelAnchor:F,labelArrow:k})]}}}})):null)}function z7(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="y"?"-empty":""),frameAnchor:f=t,tickSize:s,inset:u=0,insetLeft:c=u,insetRight:l=u,dx:d=0,y:h=e==="y"?void 0:null,...p}){return $r(F7,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:h,...p,dx:t==="left"?+d-qe+ +c:+d+qe-l,anchor:"start",length:s,shape:t==="left"?K7:Q7})}function j7(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="x"?"-empty":""),frameAnchor:f=t,tickSize:s,inset:u=0,insetTop:c=u,insetBottom:l=u,dy:d=0,x:h=e==="x"?void 0:null,...p}){return $r(O7,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:h,...p,dy:t==="bottom"?+d-qe-l:+d+qe+ +c,anchor:"start",length:s,shape:t==="bottom"?V7:Z7})}function B7(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*$g):0),text:s,textAnchor:u=Math.abs(a)>60?"middle":t==="left"?"end":"start",lineAnchor:c=a>60?"top":a<-60?"bottom":"middle",fontVariant:l,inset:d=0,insetLeft:h=d,insetRight:p=d,dx:m=0,y:g=e==="y"?void 0:null,...y}){return $r(_7,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:s,textAnchor:u,lineAnchor:c,fontVariant:l,rotate:a,y:g,...y,dx:t==="left"?+m-o-f+ +h:+m+ +o+ +f-p},function(b,_,w,S,M){l===void 0&&(this.fontVariant=ub(b)),s===void 0&&(M.text=sb(b,_,w,S,t))})}function U7(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*$g):0),text:s,textAnchor:u=Math.abs(a)>=10?a<0^t==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(a)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:l,inset:d=0,insetTop:h=d,insetBottom:p=d,dy:m=0,x:g=e==="x"?void 0:null,...y}){return $r(jg,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:s===void 0?null:s,textAnchor:u,lineAnchor:c,fontVariant:l,rotate:a,x:g,...y,dy:t==="bottom"?+m+ +o+ +f-p:+m-o-f+ +h},function(b,_,w,S,M){l===void 0&&(this.fontVariant=ub(b)),s===void 0&&(M.text=sb(b,_,w,S,t))})}function G7(){const[e,t]=bn(...arguments);return ib("y",Zg(t),e,t)}function Y7(){const[e,t]=bn(...arguments);return ib("fy",Kg(t),e,t)}function H7(){const[e,t]=bn(...arguments);return ob("x",Qg(t),e,t)}function W7(){const[e,t]=bn(...arguments);return ob("fx",Jg(t),e,t)}function ib(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:o=t==="left"?i:null,x2:a=t==="right"?i:null,...f}){return $r(Xa,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...ab(f)})}function ob(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:o=t==="top"?i:null,y2:a=t==="bottom"?i:null,...f}){return $r(Rg,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...ab(f)})}function ab({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function fb({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:s,shapeRendering:u,clip:c=!1},l){return[,e]=Qe(e),[,t]=Pe(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:s,shapeRendering:u,clip:c,initializer:l}}function $r(e,t,n,r,i,o){let a;function f(c,l,d,h,p,m){const g=c==null&&(t==="fx"||t==="fy"),{[t]:y}=h;if(!y)throw new Error(`missing scale: ${t}`);const b=y.domain();let{interval:_,ticks:w,tickFormat:S,tickSpacing:M=t==="x"?80:35}=i;if(typeof w=="string"&&db(y)&&(_=w,w=void 0),w===void 0&&(w=Tr(_,y.type)??X7(y,M)),c==null){if(mn(w))c=un(w);else if(Zn(w))c=Wf(w,...He(b));else if(y.interval){let C=y.interval;if(y.ticks){const[k,R]=He(b),$=(R-k)/C[Ni];C=od(C,$/w)??C,c=Wf(C,k,R)}else{c=b;const k=c.length;C=od(C,k/w)??C,C!==y.interval&&(c=Wf(C,...He(c)))}if(C===y.interval){const k=Math.round(c.length/w);k>1&&(c=c.filter((R,$)=>$%k===0))}}else y.ticks?c=y.ticks(w):c=b;if(!y.ticks&&c.length&&c!==b){const C=new pa(b);c=c.filter(k=>C.has(k)),c.length||rn(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?l=[Ht(c)]:a[t]={scale:t,value:xe}}o==null||o.call(this,y,c,w,S,a);const A=Object.fromEntries(Object.entries(a).map(([C,k])=>[C,{...k,value:le(c,k.value)}]));return g&&(l=m.filterFacets(c,A)),{data:c,facets:l,channels:A}}const s=gr(i).initializer,u=e(n,gr({...i,initializer:f},s));return n==null?(a=u.channels,u.channels={}):a={},r!==void 0&&Object.assign(u,r),u.clip===void 0&&(u.clip=!1),u}function X7(e,t){const[n,r]=He(e.range());return(r-n)/t}function sb(e,t,n,r,i){return{value:_c(e,t,n,r,i)}}function _c(e,t,n,r,i){return typeof r=="function"&&!(e.type==="log"&&e.tickFormat)?r:r===void 0&&t&&Oe(t)?M8(e.type,t,i)??yr:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):r===void 0?yr:typeof r=="string"?(Oe(e.domain())?Ci:vr)(r):zt(r)}function Wf(e,t,n){return e.range(t,e.offset(e.floor(n)))}const V7={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},Z7={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},K7={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},Q7={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function ub(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function cb(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&db(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!t.bandwidth||t.interval)&&!/[]/.test(r)),!o)return r;if(o===!0){const a=lg(t);a&&(o=/x$/.test(e)||i==="center"?/x$/.test(e)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return n==="right"?`${r} `:` ${r}`;case"down":return n==="right"?`${r} `:` ${r}`}return r}}function lb(e="auto"){return Ee(e)?!1:typeof e=="boolean"?e:ct(e,"labelArrow",["auto","up","right","down","left"])}function db(e){return Oe(e.domain())}function Dd(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function J7(e,{opacity:t,...n}={}){if(!zn(e)&&!mg(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return hb(e,n,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Pe(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function e9(e,{fill:t=(u=>(u=e.hint)==null?void 0:u.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(c=>(c=e.hint)==null?void 0:c.stroke)()!==void 0?e.hint.stroke:Ee(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},s){const[l,d]=Qe(t),[h,p]=Qe(r),m=Dd(s,l),g=Dd(s,h),y=a*a*Math.PI;return n=Pe(n)[1],i=Pe(i)[1],o=Pe(o)[1],hb(e,f,(b,_,w,S)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",w).attr("height",S).attr("fill",l==="color"?M=>m.scale(M):d).attr("fill-opacity",n).attr("stroke",h==="color"?M=>g.scale(M):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",M=>{const A=Ss();return e.scale(M).draw(A,y),A}))}function hb(e,t={},n){let{columns:r,tickFormat:i,fontVariant:o=Mg(e),swatchSize:a=15,swatchWidth:f=a,swatchHeight:s=a,marginLeft:u=0,className:c,style:l,width:d}=t;const h=lc(t);c=Ya(c),i=_c(e.scale,e.domain,void 0,i);const p=Te("div",h).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${c}-swatches-columns .${c}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${c}-swatches-columns .${c}-swatch::before) {
  flex-shrink: 0;
}
:where(.${c}-swatches-columns .${c}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,e,f,s).call(g=>g.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${c}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${c}-swatches-wrap .${c}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(e.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,e,f,s).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(g=>g.insert("style","*").text(`:where(.${c}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${c}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",u?`${+u}px`:null).style("width",d===void 0?null:`${+d}px`).style("font-variant",Me(o,"normal")).call(hc,l).node()}const au=new Map([["symbol",e9],["color",mb],["opacity",n9]]);function t9(e,t,n={}){return(r,i)=>{if(!au.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return au.get(r)(e[r],pb(t,n[r],i),o=>e[o])}}function pb({className:e,...t},{label:n,ticks:r,tickFormat:i}={},o){return X8(o,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function mb(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return J7(e,n);case"ramp":return o7(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function n9({type:e,interpolate:t,...n},{legend:r=!0,color:i=an(0,0,0),...o}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return mb({type:e,...n,interpolate:r9(i)},{legend:r,...o})}function r9(e){const{r:t,g:n,b:r}=an(e)||an(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function i9(e,t,n){const r=[];for(const[i,o]of au){const a=n[i];if(a!=null&&a.legend&&i in e){const f=o(e[i],pb(t,e[i],a),s=>e[s]);f!=null&&r.push(f)}}return r}function gb(e={}){return L1(e)?e:{...e,y:xe}}function o9(e,t){if(t.length===1)return{data:e,facets:t};const n=ci(e),r=new Uint8Array(n);let i=0;for(const f of t)for(const s of f)r[s]&&++i,r[s]=1;if(i===0)return{data:e,facets:t};e=ui(e);const o=e[A1]=new Uint32Array(n+i);t=t.map(f=>ui(f,Uint32Array));let a=n;r.fill(0);for(const f of t)for(let s=0,u=f.length;s<u;++s){const c=f[s];r[c]?(f[s]=a,e[a]=e[c],o[a]=c,++a):o[c]=c,r[c]=1}return{data:e,facets:t}}function a9(e={},t={}){arguments.length===1&&([e,t]=f9(e));const{x1:n,x:r=n,y:i,...o}=t,[a,f,s,u]=u9(r,i,"x","y",e,o);return{...a,x1:n,x:f,y1:s,y2:u,y:Vs(s,u)}}function bb({y:e,y1:t,y2:n,...r}={}){return r=qi(r,"x"),t===void 0&&n===void 0?a9({y:e,...r}):([t,n]=R8(e,t,n),{...r,y1:t,y2:n})}function f9(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const s9={length:!0};function u9(e,t=k8,n,r,{offset:i,order:o,reverse:a},f){if(t===null)throw new Error(`stack requires ${r}`);const s=Xu(f),[u,c]=Le(e),[l,d]=na(t),[h,p]=na(t);return l.hint=h.hint=s9,i=c9(i),o=h9(o,i,r),[Oi(f,(m,g,y)=>{({data:m,facets:g}=o9(m,g));const b=e==null?void 0:c(ra(le(m,e),y==null?void 0:y[n])),_=le(m,t,Float64Array),w=le(m,s),S=o&&o(m,b,_,w),M=ci(m),A=d(new Float64Array(M)),C=p(new Float64Array(M)),k=[];for(const R of g){const $=b?Array.from(ma(R,T=>b[T]).values()):[R];if(S)for(const T of $)T.sort(S);for(const T of $){let v=0,E=0;a&&T.reverse();for(const x of T){const N=_[x];N<0?v=C[x]=(A[x]=v)+N:N>0?E=C[x]=(A[x]=E)+N:C[x]=A[x]=E}}k.push($)}return i&&i(k,A,C,w),{data:m,facets:g}}),u,l,h]}function c9(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return l9;case"center":case"silhouette":return d9;case"wiggle":return wb}throw new Error(`unknown offset: ${e}`)}}function yb(e,t){let n=0,r=0;for(const i of e){const o=t[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function l9(e,t,n){for(const r of e)for(const i of r){const[o,a]=yb(i,n);for(const f of i){const s=1/(a-o||1);t[f]=s*(t[f]-o),n[f]=s*(n[f]-o)}}}function d9(e,t,n){for(const r of e){for(const i of r){const[o,a]=yb(i,n);for(const f of i){const s=(a+o)/2;t[f]-=s,n[f]-=s}}_b(r,t,n)}vb(e,t,n)}function wb(e,t,n,r){for(const i of e){const o=new An;let a=0;for(const f of i){let s=-1;const u=f.map(h=>Math.abs(n[h]-t[h])),c=f.map(h=>{s=r?r[h]:++s;const p=n[h]-t[h],m=o.has(s)?p-o.get(s):0;return o.set(s,p),m}),l=[0,...a2(c)];for(const h of f)t[h]+=a,n[h]+=a;const d=on(u);d&&(a-=on(u,(h,p)=>(c[p]/2+l[p])*h)/d)}_b(i,t,n)}vb(e,t,n)}function _b(e,t,n){const r=Bt(e,i=>Bt(i,o=>t[o]));for(const i of e)for(const o of i)t[o]-=r,n[o]-=r}function vb(e,t,n){const r=e.length;if(r===1)return;const i=e.map(f=>f.flat()),o=i.map(f=>(Bt(f,s=>t[s])+rt(f,s=>n[s]))/2),a=Bt(o);for(let f=0;f<r;f++){const s=a-o[f];for(const u of i[f])t[u]+=s,n[u]+=s}}function h9(e,t,n){if(e===void 0&&t===wb)return Rd(st);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?ea:st;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return p9(i);case"z":return m9(i);case"sum":return g9(i);case"appearance":return b9(i);case"inside-out":return Rd(i)}return Od(C1(e))}if(typeof e=="function")return(e.length===1?Od:y9)(e);if(dn(e))return w9(e);throw new Error(`invalid order: ${e}`)}}function p9(e){return(t,n,r)=>(i,o)=>e(r[i],r[o])}function m9(e){return(t,n,r,i)=>(o,a)=>e(i[o],i[a])}function g9(e){return Za(e,(t,n,r,i)=>cu(Ht(t),o=>on(o,a=>r[a]),o=>i[o]))}function b9(e){return Za(e,(t,n,r,i)=>cu(Ht(t),o=>n[Fh(o,a=>r[a])],o=>i[o]))}function Rd(e){return Za(e,(t,n,r,i)=>{const o=Ht(t),a=cu(o,l=>n[Fh(l,d=>r[d])],l=>i[l]),f=Kn(o,l=>on(l,d=>r[d]),l=>i[l]),s=[],u=[];let c=0;for(const l of a)c<0?(c+=f.get(l),s.push(l)):(c-=f.get(l),u.push(l));return u.reverse().concat(s)})}function Od(e){return t=>{const n=le(t,e);return(r,i)=>st(n[r],n[i])}}function y9(e){return t=>dn(t)?(n,r)=>e(t[n],t[r]):(n,r)=>e(t.get(n),t.get(r))}function w9(e){return Za(st,()=>e)}function Za(e,t){return(n,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new An(t(n,r,i,o).map((f,s)=>[f,s]));return(f,s)=>e(a.get(o[f]),a.get(o[s]))}}const _9={ariaLabel:"rect"};class v9 extends Je{constructor(t,n={}){const{x1:r,y1:i,x2:o,y2:a}=n;super(t,{x1:{value:r,scale:"x",type:r!=null&&o==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&a==null?"band":void 0,optional:!0},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,_9),xb(this,n),Tb(this,n)}render(t,n,r,i,o){const{x:a,y:f}=n;let{x1:s,y1:u,x2:c,y2:l}=r;const{marginTop:d,marginRight:h,marginBottom:p,marginLeft:m,width:g,height:y}=i,{projection:b}=o,{insetTop:_,insetRight:w,insetBottom:S,insetLeft:M}=this,{rx:A,ry:C,rx1y1:k,rx1y2:R,rx2y1:$,rx2y2:T}=this;(s||c)&&!b&&br(a)&&(s=c=null),(u||l)&&!b&&br(f)&&(u=l=null);const v=a!=null&&a.bandwidth?a.bandwidth():0,E=f!=null&&f.bandwidth?f.bandwidth():0;return Te("svg:g",o).call(Xt,this,i,o).call(Vt,this,{},0,0).call(x=>x.selectAll().data(t).enter().call(k||R||$||T?N=>N.append("path").call(Mt,this).call(Sb,s&&c?I=>s[I]+(c[I]<s[I]?-w:M):s?I=>s[I]+M:m+M,u&&l?I=>u[I]+(l[I]<u[I]?-S:_):u?I=>u[I]+_:d+_,s&&c?I=>c[I]-(c[I]<s[I]?-M:w):s?I=>s[I]+v-w:g-h-w,u&&l?I=>l[I]-(l[I]<u[I]?-_:S):u?I=>u[I]+E-S:y-p-S,this).call(On,this,r):N=>N.append("rect").call(Mt,this).attr("x",s?c?I=>Math.min(s[I],c[I])+M:I=>s[I]+M:m+M).attr("y",u?l?I=>Math.min(u[I],l[I])+_:I=>u[I]+_:d+_).attr("width",s?c?I=>Math.max(0,Math.abs(c[I]-s[I])+v-M-w):v-M-w:g-h-m-w-M).attr("height",u?l?I=>Math.max(0,Math.abs(u[I]-l[I])+E-_-S):E-_-S:y-d-p-_-S).call(K,"rx",A).call(K,"ry",C).call(On,this,r))).node()}}function xb(e,{inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={}){e.insetTop=Ce(n),e.insetRight=Ce(r),e.insetBottom=Ce(i),e.insetLeft=Ce(o)}function Tb(e,{r:t,rx:n,ry:r,rx1:i=t,ry1:o=t,rx2:a=t,ry2:f=t,rx1y1:s=i!==void 0?+i:o!==void 0?+o:0,rx1y2:u=i!==void 0?+i:f!==void 0?+f:0,rx2y1:c=a!==void 0?+a:o!==void 0?+o:0,rx2y2:l=a!==void 0?+a:f!==void 0?+f:0}={}){s||u||c||l?(e.rx1y1=s,e.rx1y2=u,e.rx2y1=c,e.rx2y2=l):(e.rx=Me(n,"auto"),e.ry=Me(r,"auto"))}function Sb(e,t,n,r,i,o){const{rx1y1:a,rx1y2:f,rx2y1:s,rx2y2:u}=o;typeof t!="function"&&(t=zt(t)),typeof n!="function"&&(n=zt(n)),typeof r!="function"&&(r=zt(r)),typeof i!="function"&&(i=zt(i));const c=Math.max(Math.abs(a+s),Math.abs(f+u)),l=Math.max(Math.abs(a+f),Math.abs(s+u));e.attr("d",d=>{const h=t(d),p=n(d),m=r(d),g=i(d),y=h>m,b=p>g,_=y?m:h,w=y?h:m,S=b?g:p,M=b?p:g,A=Math.min(1,(w-_)/c,(M-S)/l),C=A*(y?b?u:s:b?f:a),k=A*(y?b?f:a:b?u:s),R=A*(y?b?a:f:b?s:u),$=A*(y?b?s:u:b?a:f);return`M${_},${S+ro(C,$)}A${C},${C} 0 0 ${C<0?0:1} ${_+no(C,$)},${S}H${w-no(k,R)}A${k},${k} 0 0 ${k<0?0:1} ${w},${S+ro(k,R)}V${M-ro(R,k)}A${R},${R} 0 0 ${R<0?0:1} ${w-no(R,k)},${M}H${_+no($,C)}A${$},${$} 0 0 ${$<0?0:1} ${_},${M-ro($,C)}Z`})}function no(e,t){return t<0?e:Math.abs(e)}function ro(e,t){return t<0?Math.abs(e):e}function XT(e,t={}){return D8(t)||(t={...t,x:Ii,y2:xe,interval:1}),new v9(e,bb(l7(gb(t))))}const x9={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},T9={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class S9 extends Je{constructor(t={}){const{anchor:n=null}=t;super(_o,void 0,t,n==null?x9:T9),this.anchor=I1(n,"anchor",["top","right","bottom","left"]),xb(this,t),n||Tb(this,t)}render(t,n,r,i,o){const{marginTop:a,marginRight:f,marginBottom:s,marginLeft:u,width:c,height:l}=i,{anchor:d,insetTop:h,insetRight:p,insetBottom:m,insetLeft:g}=this,{rx:y,ry:b,rx1y1:_,rx1y2:w,rx2y1:S,rx2y2:M}=this,A=u+g,C=c-f-p,k=a+h,R=l-s-m;return Te(d?"svg:line":_||w||S||M?"svg:path":"svg:rect",o).datum(0).call(Xt,this,i,o).call(Mt,this).call(On,this,r).call(Vt,this,{}).call(d==="left"?$=>$.attr("x1",A).attr("x2",A).attr("y1",k).attr("y2",R):d==="right"?$=>$.attr("x1",C).attr("x2",C).attr("y1",k).attr("y2",R):d==="top"?$=>$.attr("x1",A).attr("x2",C).attr("y1",k).attr("y2",k):d==="bottom"?$=>$.attr("x1",A).attr("x2",C).attr("y1",R).attr("y2",R):_||w||S||M?$=>$.call(Sb,A,k,C,R,this):$=>$.attr("x",A).attr("y",k).attr("width",C-A).attr("height",R-k).attr("rx",y).attr("ry",b)).node()}}function M9(e){return new S9(e)}const Xf={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},$9=new Set(["geometry","href","src","ariaLabel","scales"]);class E9 extends Je{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&mn(t)&&R1(t)&&(n={...n,title:xe});const{x:r,y:i,x1:o,x2:a,y1:f,y2:s,anchor:u,preferredAnchor:c="bottom",monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:m,fontWeight:g,lineHeight:y=1,lineWidth:b=20,frameAnchor:_,format:w,textAnchor:S="start",textOverflow:M,textPadding:A=8,title:C,pointerSize:k=12,pathFilter:R="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&s!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:s==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:s,scale:"y",optional:f==null},title:{value:C,optional:!0}},n,Xf),this.anchor=Zs(u,"anchor"),this.preferredAnchor=Zs(c,"preferredAnchor"),this.frameAnchor=Ku(_),this.textAnchor=Me(S,"middle"),this.textPadding=+A,this.pointerSize=+k,this.pathFilter=Ie(R),this.lineHeight=+y,this.lineWidth=+b,this.textOverflow=qg(M),this.monospace=!!l,this.fontFamily=Ie(d),this.fontSize=Ce(h),this.fontStyle=Ie(p),this.fontVariant=Ie(m),this.fontWeight=Ie(g);for(const $ in Xf)$ in this.channels&&(this[$]=Xf[$]);this.splitLines=Ug(this),this.clipLine=Gg(this),this.format=typeof w=="string"||typeof w=="function"?{title:w}:{...w}}render(t,n,r,i,o){const a=this,{x:f,y:s,fx:u,fy:c}=n,{ownerSVGElement:l,document:d}=o,{anchor:h,monospace:p,lineHeight:m,lineWidth:g}=this,{textPadding:y,pointerSize:b,pathFilter:_}=this,{marginTop:w,marginLeft:S}=i,{x1:M,y1:A,x2:C,y2:k,x:R=M??C,y:$=A??k}=r,T=u?u(t.fx)-S:0,v=c?c(t.fy)-w:0,[E,x]=Ha(this,i),N=Tg(r,E),I=Sg(r,x),j=p?wc:yc,G=j(tr);let O,q;"title"in r?(O=Fd.call(this,{title:r.channels.title},n),q=I9):(O=Fd.call(this,r.channels,n),q=L9);const F=Te("svg:g",o).call(Xt,this,i,o).call(Bg,this).call(Vt,this,{x:R&&f,y:$&&s}).call(Z=>Z.selectAll().data(t).enter().append("g").attr("transform",W=>`translate(${Math.round(N(W))},${Math.round(I(W))})`).call(Mt,this).call(W=>W.append("path").attr("filter",_)).call(W=>W.append("text").each(function(Y){const z=Qn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const L=q.call(a,Y,t,O,n,r);if(typeof L=="string")for(const B of a.splitLines(L))P(z,{value:a.clipLine(B)});else{const B=new Set;for(const H of L){const{label:D=""}=H;D&&B.has(D)||(B.add(D),P(z,H))}}})));function P(Z,{label:W,value:Y,color:z,opacity:L}){W??(W=""),Y??(Y="");const B=z!=null||L!=null;let H,D=g*100;const[ie]=wr(W,D,j,G);if(ie>=0)W=W.slice(0,ie).trimEnd()+tr,H=Y.trim(),Y="";else{(W||!Y&&!B)&&(Y=" "+Y);const[oe]=wr(Y,D-j(W),j,G);oe>=0&&(H=Y.trim(),Y=Y.slice(0,oe).trimEnd()+tr)}const X=Z.append("tspan").attr("x",0).attr("dy",`${m}em`).text("");W&&X.append("tspan").attr("font-weight","bold").text(W),Y&&X.append(()=>d.createTextNode(Y)),B&&X.append("tspan").text(" ").attr("fill",z).attr("fill-opacity",L).style("user-select","none"),H&&X.append("title").text(H)}function V(){const{width:Z,height:W}=i.facet??i;F.selectChildren().each(function(Y){let{x:z,width:L,height:B}=this.getBBox();L=Math.round(L),B=Math.round(B);let H=h;if(H===void 0){const X=N(Y)+T,oe=I(Y)+v,ae=X+L+b+y*2<Z,ce=X-L-b-y*2>0,lt=oe+B+b+y*2<W,yn=oe-B-b-y*2>0;H=ae&&ce?lt&&yn?a.preferredAnchor:yn?"bottom":"top":lt&&yn?ae?"left":"right":(ae||ce)&&(lt||yn)?`${yn?"bottom":"top"}-${ae?"left":"right"}`:a.preferredAnchor}const D=this.firstChild,ie=this.lastChild;if(D.setAttribute("d",N9(H,b,y,L,B)),z)for(const X of ie.childNodes)X.setAttribute("x",-z);ie.setAttribute("y",`${+C9(H,ie.childNodes.length,m).toFixed(6)}em`),ie.setAttribute("transform",`translate(${k9(H,b,y,L,B)})`)}),F.attr("visibility",null)}return t.length&&(F.attr("visibility","hidden"),l.isConnected?Promise.resolve().then(V):typeof requestAnimationFrame<"u"&&requestAnimationFrame(V)),F.node()}}function A9(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Wu(t,n)),new E9(e,{...r,x:t,y:n})}function C9(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function k9(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function N9(e,t,n,r,i){const o=r+n*2,a=i+n*2;switch(e){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${t},${t}h${o-t}v${a}h${-o}z`;case"top":return`M0,0l${t/2},${t/2}h${(o-t)/2}v${a}h${-o}v${-a}h${(o-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-o}v${a}h${o}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-a/2}h${-o}v${a}h${o}v${t/2-a/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${o-t}v${-a}h${-o}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(o-t)/2}v${-a}h${-o}v${a}h${(o-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-o}v${-a}h${o}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-a/2}h${o}v${a}h${-o}v${t/2-a/2}z`}}function Fd(e,t){var i,o;const n={};let r=this.format;r=Pd(r,e,"x"),r=Pd(r,e,"y"),this.format=r;for(const a in r){const f=r[a];if(!(f===null||f===!1))if(a==="fx"||a==="fy")n[a]=!0;else{const s=dd(e,a);s&&(n[a]=s)}}for(const a in e){if(a in n||a in r||$9.has(a)||(a==="x"||a==="y")&&e.geometry)continue;const f=dd(e,a);if(f){if(f.scale==null&&f.defaultScale==="color")continue;n[a]=f}}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(const a in n){const f=this.format[a];if(typeof f=="string"){const s=((i=n[a])==null?void 0:i.value)??((o=t[a])==null?void 0:o.domain())??[];this.format[a]=(Oe(s)?Ci:vr)(f)}else if(f===void 0||f===!0){const s=t[a];this.format[a]=s!=null&&s.bandwidth?_c(s,s.domain()):yr}}return n}function Pd(e,t,n){if(!(n in e))return e;const r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;const o=Object.entries(e),a=e[n];return o.splice(o.findIndex(([f])=>f===n)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function I9(e,t,{title:n}){return this.format.title(n.value[e],e)}function*L9(e,t,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:fa(r,n,o),value:this.format[o](t[o],e)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const a=n[o];if(o==="x2"&&"x1"in n)yield{label:zd(r,n,"x"),value:qd(this.format.x2,n.x1,a,e)};else if(o==="y2"&&"y1"in n)yield{label:zd(r,n,"y"),value:qd(this.format.y2,n.y1,a,e)};else{const f=a.value[e],s=a.scale;if(!sn(f)&&s==null)continue;yield{label:fa(r,n,o),value:this.format[o](f,e),color:s==="color"?i[o][e]:null,opacity:s==="opacity"?i[o][e]:null}}}}function qd(e,t,n,r){var i;return(i=n.hint)!=null&&i.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}${e(n.value[r],r)}`}function zd(e,t,n){const r=fa(e,t,`${n}1`,n),i=fa(e,t,`${n}2`,n);return r===i?r:`${r}${i}`}function fa(e,t,n,r=n){const i=t[n],o=e[(i==null?void 0:i.scale)??n];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function D9(e={}){var G;const{facet:t,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=e,s=Ya(e.className),u=e.marks===void 0?[]:Bd(e.marks);u.push(...j9(u));const c=q9(t,e),l=new Map;for(const O of u){const q=Ud(O,c,e);q&&l.set(O,q)}const d=new Map;c&&Lr(d,[c],e),Lr(d,l,e);const h=Bd(B9(u,d,e));for(const O of h){const q=Ud(O,c,e);q&&l.set(O,q)}u.unshift(...h);let p=mx(d,e);if(p!==void 0){const O=c?Uf(p,c):void 0;for(const F of u){if(F.facet===null||F.facet==="super")continue;const P=l.get(F);P!==void 0&&(P.facetsIndex=F.fx!=null||F.fy!=null?Uf(p,P):O)}const q=new Set;for(const{facetsIndex:F}of l.values())F==null||F.forEach((P,V)=>{(P==null?void 0:P.length)>0&&q.add(V)});p.forEach(0<q.size&&q.size<p.length?(F,P)=>F.empty=!q.has(P):F=>F.empty=!1);for(const F of u)if(F.facet==="exclude"){const P=l.get(F);P!==void 0&&(P.facetsIndex=yx(P.facetsIndex))}}for(const O of pe.keys())Xs(e[O])&&O!=="fx"&&O!=="fy"&&d.set(O,[]);const m=new Map;for(const O of u){if(m.has(O))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:q,channels:F}=l.get(O)??{},{data:P,facets:V,channels:Z}=O.initialize(q,F,e);vc(Z,e),m.set(O,{data:P,facets:V,channels:Z})}const g=eu(Lr(d,m,e),e),y=t7(g,u,e);ax(g,y);const b=wd(g),{fx:_,fy:w}=b,S=_||w?dg(g,y):y,M=_||w?V9(b,y):y,A=lc(e),C=A.document,k=ba("svg").call(C.documentElement);let R=k;A.ownerSVGElement=k,A.className=s,A.projection=Ex(e,S),A.filterFacets=(O,q)=>Uf(p,{channels:q,groups:cc(O,q)}),A.getMarkState=O=>{const q=m.get(O),F=l.get(O);return{...q,channels:{...q.channels,...F==null?void 0:F.channels}}},A.dispatchValue=O=>{R.value!==O&&(R.value=O,R.dispatchEvent(new Event("input",{bubbles:!0})))};const $=new Set;for(const[O,q]of m)if(O.initializer!=null){const F=O.facet==="super"?M:S,P=O.initializer(q.data,q.facets,q.channels,b,F,A);if(P.data!==void 0&&(q.data=P.data),P.facets!==void 0&&(q.facets=P.facets),P.channels!==void 0){const{fx:V,fy:Z,...W}=P.channels;P9(W),Object.assign(q.channels,W);for(const Y of Object.values(W)){const{scale:z}=Y;z!=null&&!K8(pe.get(z))&&(Mb(Y,e),$.add(z))}(V!=null||Z!=null)&&l.set(O,!0)}}if($.size){const O=new Map;Lr(O,m,e,V=>$.has(V)),Lr(d,m,e,V=>$.has(V));const q=X9(eu(O,e),g),{scales:F,...P}=wd(q);Object.assign(g,q),Object.assign(b,P),Object.assign(b.scales,F)}let T,v;p!==void 0&&(T={x:_==null?void 0:_.domain(),y:w==null?void 0:w.domain()},p=gx(p,T),v=bx(_,w,y));for(const[O,q]of m)q.values=O.scale(q.channels,b,A);const{width:E,height:x}=y;Qn(k).attr("class",s).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",E).attr("height",x).attr("viewBox",`0 0 ${E} ${x}`).attr("aria-label",a).attr("aria-description",f).call(O=>O.append("style").text(`:where(.${s}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${s} text),
:where(.${s} tspan) {
  white-space: pre;
}`)).call(hc,n);for(const O of u){const{channels:q,values:F,facets:P}=m.get(O);if(p===void 0||O.facet==="super"){let V=null;if(P&&(V=P[0],V=O.filter(V,q,F),V.length===0))continue;const Z=O.render(V,b,F,M,A);if(Z==null)continue;k.appendChild(Z)}else{let V;for(const Z of p){if(!(((G=O.facetAnchor)==null?void 0:G.call(O,p,T,Z))??!Z.empty))continue;let W=null;if(P){const z=l.has(O);if(W=P[z?Z.i:0],W=O.filter(W,q,F),W.length===0)continue;!z&&W===P[0]&&(W=O8(W)),W.fx=Z.x,W.fy=Z.y,W.fi=Z.i}const Y=O.render(W,b,F,S,A);if(Y!=null){(V??(V=Qn(k).append("g"))).append(()=>Y).datum(Z);for(const z of["aria-label","aria-description","aria-hidden","transform"])Y.hasAttribute(z)&&(V.attr(z,Y.getAttribute(z)),Y.removeAttribute(z))}}V==null||V.selectChildren().attr("transform",v)}}const N=i9(g,A,e),{figure:I=r!=null||i!=null||o!=null||N.length>0}=e;I&&(R=C.createElement("figure"),R.className=`${s}-figure`,R.style.maxWidth="initial",r!=null&&R.append(jd(C,r,"h2")),i!=null&&R.append(jd(C,i,"h3")),R.append(...N,k),o!=null&&R.append(R9(C,o)),"value"in k&&(R.value=k.value,delete k.value)),R.scale=hx(b.scales),R.legend=t9(g,A,e);const j=U4();return j>0&&Qn(k).append("text").attr("x",E).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${j.toLocaleString("en-US")} warning${j===1?"":"s"}. Please check the console.`),R}function jd(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(t),r}function R9(e,t){const n=e.createElement("figcaption");return n.append(t),n}function Bd(e){return e.flat(1/0).filter(t=>t!=null).map(O9)}function O9(e){return typeof e.render=="function"?e:new F9(e)}class F9 extends Je{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function vc(e,t){for(const n in e)Mb(e[n],t);return e}function Mb(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?s=>s==null?NaN:s*100:D1(a,i)}=t[n]??{};f!=null&&(e.value=me(e.value,f),e.transform=!1)}function P9(e){for(const t in e)K1(t,e[t])}function Lr(e,t,n,r=N8){var i,o;for(const{channels:a}of t.values())for(const f in a){const s=a[f],{scale:u}=s;if(u!=null&&r(u))if(u==="projection"){if(!Nx(n)){const c=((i=n.x)==null?void 0:i.domain)===void 0,l=((o=n.y)==null?void 0:o.domain)===void 0;if(c||l){const[d,h]=Lx(s);c&&Vf(e,"x",d),l&&Vf(e,"y",h)}}}else Vf(e,u,s)}return e}function Vf(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function q9(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=pr(e.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=di(i,{value:n,scale:"fx"})),r!=null&&(o.fy=di(i,{value:r,scale:"fy"})),vc(o,t);const a=cc(i,o);return{channels:o,groups:a,data:e.data}}function Ud(e,t,n){if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const s=pr(e.data??r??i);if(s===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(s===null)return;const u={};return r!=null&&(u.fx=di(s,{value:r,scale:"fx"})),i!=null&&(u.fy=di(s,{value:i,scale:"fy"})),vc(u,n),{channels:u,groups:cc(s,u)}}if(t===void 0)return;const{channels:o,groups:a,data:f}=t;if(e.facet!=="auto"||e.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&ci(pr(e.data))===ci(f)&&rn(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function z9(e,t={}){return gr({...t,x:null,y:null},(n,r,i,o,a,f)=>f.getMarkState(e))}function j9(e){const t=[];for(const n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?i7:/^y$/i.test(i)?Ed:r7,r=i(z9(n,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===Ed?"left":"bottom");const a=A9(n.data,r);a.facet=n.facet,a.facetAnchor=n.facetAnchor,t.push(a)}}return t}function B9(e,t,n){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:s,grid:u,facet:c={},facet:{axis:l=s,grid:d}=c,x:{axis:h=s,grid:p=h===null?null:u}=i,y:{axis:m=s,grid:g=m===null?null:u}=o,fx:{axis:y=l,grid:b=y===null?null:d}=a,fy:{axis:_=l,grid:w=_===null?null:d}=f}=n;(r||!Xs(i)&&!Gd("x",e))&&(h=p=null),(r||!Xs(o)&&!Gd("y",e))&&(m=g=null),t.has("fx")||(y=b=null),t.has("fy")||(_=w=null),h===void 0&&(h=!ao(e,"x")),m===void 0&&(m=!ao(e,"y")),y===void 0&&(y=!ao(e,"fx")),_===void 0&&(_=!ao(e,"fy")),h===!0&&(h="bottom"),m===!0&&(m="left"),y===!0&&(y=h==="top"||h===null?"bottom":"top"),_===!0&&(_=m==="right"||m===null?"left":"right");const S=[];return oo(S,w,Y7,f),io(S,_,P7,"right","left",c,f),oo(S,b,W7,a),io(S,y,q7,"top","bottom",c,a),oo(S,g,G7,o),io(S,m,eb,"left","right",n,o),oo(S,p,H7,i),io(S,h,tb,"bottom","top",n,i),S}function io(e,t,n,r,i,o,a){if(!t)return;const f=U9(t);a=G9(f?r:t,o,a);const{line:s}=a;(n===eb||n===tb)&&s&&!li(s)&&e.push(M9(Y9(a))),e.push(n(a)),f&&e.push(n({...a,anchor:i,label:null}))}function oo(e,t,n,r){!t||li(t)||e.push(n(H9(t,r)))}function U9(e){return/^\s*both\s*$/i.test(e)}function G9(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:s,fontVariant:u,ariaLabel:c,ariaDescription:l,label:d=t.label,labelAnchor:h,labelArrow:p=t.labelArrow,labelOffset:m}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:s,fontVariant:u,ariaLabel:c,ariaDescription:l,label:d,labelAnchor:h,labelArrow:p,labelOffset:m}}function Y9(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function H9(e,{stroke:t=qa(e)?e:void 0,ticks:n=W9(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function W9(e){switch(typeof e){case"number":return!0;case"string":return!qa(e)}return mn(e)||typeof(e==null?void 0:e.range)=="function"}function ao(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function Gd(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function X9(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function V9({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:s}=uc(n),u=e&&Yd(e),c=t&&Yd(t);return{marginTop:t?c[0]:r,marginRight:e?f-u[1]:i,marginBottom:t?s-c[1]:o,marginLeft:e?u[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:s}}function Yd(e){const t=e.domain();if(t.length===0)return[0,e.bandwidth()];let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const Z9=new Map([["basis",n8],["basis-closed",r8],["basis-open",i8],["bundle",o8],["bump-x",Y5],["bump-y",H5],["cardinal",a8],["cardinal-closed",f8],["cardinal-open",s8],["catmull-rom",u8],["catmull-rom-closed",c8],["catmull-rom-open",l8],["linear",ki],["linear-closed",d8],["monotone-x",h8],["monotone-y",p8],["natural",m8],["step",g8],["step-after",y8],["step-before",b8]]);function $b(e=ki,t){if(typeof e=="function")return e;const n=Z9.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function K9(e=sa,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?sa:$b(e,t)}function sa(e){return ki(e)}function Q9(e={y:"count"},t={}){[e,t]=tT(e,t);const{x:n,y:r}=t;return eT(nT(n,t,xe),null,null,r,e,Wa(t))}function J9(e,t,n={}){if((n==null?void 0:n.interval)==null)return n;const{reduce:r=oc}=n,i={filter:null};return n[t]!=null&&(i[t]=r),n[`${t}1`]!=null&&(i[`${t}1`]=r),n[`${t}2`]!=null&&(i[`${t}2`]=r),e(i,n)}function Eb(e={}){return J9(Q9,"y",qi(e,"x"))}function eT(e,t,n,r,{data:i=ic,filter:o=ia,sort:a,reverse:f,...s}={},u={}){e=Hd(e),t=Hd(t),s=iT(s,u),i=kb(i,xe),a=a==null?void 0:Ab("sort",a,u),o=o==null?void 0:Cb("filter",o,u),r!=null&&Qr(s,"y","y1","y2")&&(r=null);const[c,l]=Le(e),[d,h]=Le(e),[p,m]=Le(t),[g,y]=Le(t),[b,_]=r!=null?[r,"y"]:[],[w,S]=Le(b),{x:M,y:A,z:C,fill:k,stroke:R,x1:$,x2:T,y1:v,y2:E,domain:x,cumulative:N,thresholds:I,interval:j,...G}=u,[O,q]=Le(C),[F]=Qe(k),[P]=Qe(R),[V,Z]=Le(F),[W,Y]=Le(P);return{..."z"in u&&{z:O||C},..."fill"in u&&{fill:V||k},..."stroke"in u&&{stroke:W||R},...Oi(G,(z,L,B)=>{const H=ra(le(z,b),B==null?void 0:B[_]),D=le(z,C),ie=le(z,F),X=le(z,P),oe=X1(s,{z:D,fill:ie,stroke:X}),ae=[],ce=[],lt=H&&S([]),yn=D&&q([]),Xb=ie&&Z([]),Vb=X&&Y([]),Sc=e&&l([]),Zb=e&&h([]),Mc=t&&m([]),Kb=t&&y([]),Qb=fT(e,t,z);let Jb=0;for(const Bn of s)Bn.initialize(z);a&&a.initialize(z),o&&o.initialize(z);for(const Bn of L){const $c=[];for(const Un of s)Un.scope("facet",Bn);a&&a.scope("facet",Bn),o&&o.scope("facet",Bn);for(const[Un,ey]of Jr(Bn,oe))for(const[ty,zi]of Jr(ey,H))for(const[dt,At]of Qb(zi))if(oe&&(At.z=Un),!(o&&!o.reduce(dt,At))){$c.push(Jb++),ce.push(i.reduceIndex(dt,z,At)),H&&lt.push(ty),D&&yn.push(oe===D?Un:D[(dt.length>0?dt:zi)[0]]),ie&&Xb.push(oe===ie?Un:ie[(dt.length>0?dt:zi)[0]]),X&&Vb.push(oe===X?Un:X[(dt.length>0?dt:zi)[0]]),Sc&&(Sc.push(At.x1),Zb.push(At.x2)),Mc&&(Mc.push(At.y1),Kb.push(At.y2));for(const ny of s)ny.reduce(dt,At);a&&a.reduce(dt,At)}ae.push($c)}return V1(ae,a,f),{data:ce,facets:ae}}),...!Qr(s,"x")&&(c?{x1:c,x2:d,x:Vs(c,d)}:{x:M,x1:$,x2:T}),...!Qr(s,"y")&&(p?{y1:p,y2:g,y:Vs(p,g)}:{y:A,y1:v,y2:E}),...w&&{[_]:w},...Object.fromEntries(s.map(({name:z,output:L})=>[z,L]))}}function tT({cumulative:e,domain:t,thresholds:n,interval:r,...i},o){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...o}]}function nT(e,{cumulative:t,domain:n,thresholds:r,interval:i},o){return e={...Sr(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=o),e.thresholds=rT(e.thresholds,e.interval),e}function Hd(e){if(e==null)return;const{value:t,cumulative:n,domain:r=He,thresholds:i}=e,o=a=>{let f=le(a,t),s;if(Oe(f)||aT(i)){f=me(f,N1,Float64Array);let[c,l]=typeof r=="function"?r(f):r,d=typeof i=="function"&&!Zn(i)?i(f,c,l):i;typeof d=="number"&&(d=Mp(c,l,d)),Zn(d)&&(r===He&&(c=d.floor(c),l=d.offset(d.floor(l))),d=d.range(c,d.offset(l))),s=d}else{f=hr(f);let[c,l]=typeof r=="function"?r(f):r,d=typeof i=="function"&&!Zn(i)?i(f,c,l):i;if(typeof d=="number")if(r===He){let h=Mo(c,l,d);if(isFinite(h))if(h>0){let p=Math.round(c/h),m=Math.round(l/h);p*h<=c||--p,m*h>l||++m;let g=m-p+1;d=new Float64Array(g);for(let y=0;y<g;++y)d[y]=(p+y)*h}else if(h<0){h=-h;let p=Math.round(c*h),m=Math.round(l*h);p/h<=c||--p,m/h>l||++m;let g=m-p+1;d=new Float64Array(g);for(let y=0;y<g;++y)d[y]=(p+y)/h}else d=[c];else d=[c]}else d=ei(c,l,d);else Zn(d)&&(r===He&&(c=d.floor(c),l=d.offset(d.floor(l))),d=d.range(c,d.offset(l)));s=d}const u=[];if(s.length===1)u.push([s[0],s[0]]);else for(let c=1;c<s.length;++c)u.push([s[c-1],s[c]]);return u.bin=(n<0?uT:n>0?sT:xc)(u,s,f),u};return o.label=pn(t),o}function rT(e,t,n=Wd){if(e===void 0)return t===void 0?n:Tr(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return g2;case"scott":return Ph;case"sturges":return d2;case"auto":return Wd}return Bu(e)}return e}function iT(e,t){return G1(e,t,Ab)}function Ab(e,t,n){return nc(e,t,n,Cb)}function Cb(e,t,n){return rc(e,t,n,kb)}function kb(e,t){return ja(e,t,oT)}function oT(e){switch(`${e}`.toLowerCase()){case"x":return cT;case"x1":return dT;case"x2":return hT;case"y":return lT;case"y1":return pT;case"y2":return mT;case"z":return Z1}throw new Error(`invalid bin reduce: ${e}`)}function Wd(e,t,n){return Math.min(200,Ph(e,t,n))}function aT(e){return z8(e)||mn(e)&&Oe(e)}function fT(e,t,n){const r=e==null?void 0:e(n),i=t==null?void 0:t(n);return r&&i?function*(o){const a=r.bin(o);for(const[f,[s,u]]of r.entries()){const c=i.bin(a[f]);for(const[l,[d,h]]of i.entries())yield[c[l],{data:n,x1:s,y1:d,x2:u,y2:h}]}}:r?function*(o){const a=r.bin(o);for(const[f,[s,u]]of r.entries())yield[a[f],{data:n,x1:s,x2:u}]}:function*(o){const a=i.bin(o);for(const[f,[s,u]]of i.entries())yield[a[f],{data:n,y1:s,y2:u}]}}function xc(e,t,n){return t=hr(t),r=>{var o;const i=e.map(()=>[]);for(const a of r)(o=i[ha(t,n[a])-1])==null||o.push(a);return i}}function sT(e,t,n){const r=xc(e,t,n);return i=>{const o=r(i);for(let a=1,f=o.length;a<f;++a){const s=o[a-1],u=o[a];for(const c of s)u.push(c)}return o}}function uT(e,t,n){const r=xc(e,t,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const f=o[a+1],s=o[a];for(const u of f)s.push(u)}return o}}function Nb(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const cT={reduceIndex(e,t,{x1:n,x2:r}){return Nb(n,r)}},lT={reduceIndex(e,t,{y1:n,y2:r}){return Nb(n,r)}},dT={reduceIndex(e,t,{x1:n}){return n}},hT={reduceIndex(e,t,{x2:n}){return n}},pT={reduceIndex(e,t,{y1:n}){return n}},mT={reduceIndex(e,t,{y2:n}){return n}},gT={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Ib extends Je{constructor(t,n={}){const{x1:r,y1:i,x2:o,y2:a,z:f,curve:s,tension:u}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0},z:{value:Xu(n),optional:!0}},n,gT),this.z=f,this.curve=$b(s,u)}filter(t){return t}render(t,n,r,i,o){const{x1:a,y1:f,x2:s=a,y2:u=f}=r;return Te("svg:g",o).call(Xt,this,i,o).call(Vt,this,n,0,0).call(c=>c.selectAll().data(_g(t,[a,f,s,u],this,r)).enter().append("path").call(Mt,this).call(wg,this,r).attr("d",G5().curve(this.curve).defined(l=>l>=0).x0(l=>a[l]).y0(l=>f[l]).x1(l=>s[l]).y1(l=>u[l]))).node()}}function Xd(e,t){return t===void 0?Tc(e,{x:Yu,y:ta}):new Ib(e,t)}function Tc(e,t){const{x:n=Ii,...r}=Eb(t);return new Ib(e,bb(gb({...r,x1:n,x2:void 0})))}const bT={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Lb extends Je{constructor(t,n={}){const{x:r,y:i,z:o,curve:a,tension:f}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Xu(n),optional:!0}},n,bT),this.z=o,this.curve=K9(a,f),mc(this,n)}filter(t){return t}project(t,n,r){this.curve!==sa&&super.project(t,n,r)}render(t,n,r,i,o){const{x:a,y:f}=r,{curve:s}=this;return Te("svg:g",o).call(Xt,this,i,o).call(Vt,this,n).call(u=>u.selectAll().data(_g(t,[a,f],this,r)).enter().append("path").call(Mt,this).call(wg,this,r).call(u7,this,r,o).attr("d",s===sa&&o.projection?yT(o.projection,a,f):Wm().curve(s).defined(c=>c>=0).x(c=>a[c]).y(c=>f[c]))).node()}}function yT(e,t,n){const r=Ta(e);return t=hr(t),n=hr(n),i=>{let o=[];const a=[o];for(const f of i)f===-1?(o=[],a.push(o)):o.push([t[f],n[f]]);return r({type:"MultiLineString",coordinates:a})}}function wT(e,{x:t,y:n,...r}={}){return[t,n]=Wu(t,n),new Lb(e,{...r,x:t,y:n})}function Ka(e,{x:t=Ii,y:n=xe,...r}={}){return new Lb(e,Eb({...r,x:t,y:n}))}function Db(e,t){return _T("y",e,t)}function _T(e,t,{x1:n,x2:r,y1:i,y2:o,x:a=n===void 0&&r===void 0?Ii:void 0,y:f=i===void 0&&o===void 0?xe:void 0,fill:s,positiveFill:u="#3ca951",negativeFill:c="#4269d0",fillOpacity:l=1,positiveFillOpacity:d=l,negativeFillOpacity:h=l,stroke:p,strokeOpacity:m,z:g=Qe(p)[0],clip:y,tip:b,render:_,...w}={}){return[n,r]=Vd(a,n,r),[i,o]=Vd(f,i,o),n===r&&i===o&&(i=en(0)),{tip:b}=qi({tip:b},"x"),jn(Ee(u)?null:Object.assign(Xd(t,{x1:n,x2:r,y1:i,y2:o,z:g,fill:u,fillOpacity:d,render:aa(_,Zd(e,!0)),clip:y,...w}),{ariaLabel:"positive difference"}),Ee(c)?null:Object.assign(Xd(t,{x1:n,x2:r,y1:i,y2:o,z:g,fill:c,fillOpacity:h,render:aa(_,Zd(e,!1)),clip:y,...w}),{ariaLabel:"negative difference"}),wT(t,{x:r,y:o,z:g,stroke:p,strokeOpacity:m,tip:b,clip:!0,...w}))}function Vd(e,t,n){return t===void 0&&n===void 0?t=n=en(e):t===void 0?(n=en(n),t=e===void 0?n:en(e)):n===void 0?(t=en(t),n=e===void 0?t:en(e)):(t=en(t),n=en(n)),[t,n]}function en(e){let t;const{value:n,label:r=pn(n)}=Sr(e);return{transform:i=>t||(t=le(i,n)),label:r}}function Zd(e,t){const n="x",r=`${n}1`,i=`${n}2`,o=`${e}1`,a=`${e}2`;return(f,s,u,c,l,d)=>{const{[r]:h,[i]:p}=u,m=new Float32Array(h.length),g=new Float32Array(p.length),y=c.height;(t===lg(s[e])<0?m:g).fill(y);const b=d(f,s,{...u,[i]:h,[a]:g},c,l),_=d(f,s,{...u,[r]:p,[o]:m},c,l),w=b.querySelector("g")??b,S=_.querySelector("g")??_;for(let M=0;w.firstChild;M+=2){const A=yg(),C=Te("svg:clipPath",l).attr("id",A).node();C.appendChild(w.firstChild),S.childNodes[M].setAttribute("clip-path",`url(#${A})`),S.insertBefore(C,S.childNodes[M])}return _}}Je.prototype.plot=function({marks:e=[],...t}={}){return D9({...t,marks:[...e,this]})};function Kd(e){const t=document.createElement("template");return t.innerHTML=e,document.importNode(t.content,!0)}function Qd(e){const t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e,t}Object.assign(ca(Kd,e=>{if(e.firstChild===null)return null;if(e.firstChild===e.lastChild)return e.removeChild(e.firstChild);const t=document.createElement("span");return t.appendChild(e),t}),{fragment:ca(Kd,e=>e)});const vT=Object.assign(ca(Qd,e=>e.firstChild===null?null:e.firstChild===e.lastChild?e.removeChild(e.firstChild):e),{fragment:ca(Qd,e=>{const t=document.createDocumentFragment();for(;e.firstChild;)t.appendChild(e.firstChild);return t})}),xT=9,TT=10,ST=12,MT=13,$T=32,ET=65,AT=90,CT=97,kT=122,fo=60,ke=62,Zt=47,ht=45,Zf=33,Kf=61,Jd=34,eh=39,NT=63,Se=1,th=2,nh=3,Qf=4,so=5,Kt=6,Jf=7,uo=8,co=9,es=10,ts=11,lo=12,ns=13,Dr=14,rh=15,ih=16,Lt=17,oh=18,ah=19,fh=20,sh=21,rs=22,Rr=23,uh=24,ch=25,pt=26,lh=27,dh=28,hh=29,IT=128,ph=1,LT=8,DT=1,Rb="http://www.w3.org/2000/svg",wn="http://www.w3.org/1999/xlink",mh="http://www.w3.org/XML/1998/namespace",gh="http://www.w3.org/2000/xmlns/",Ob=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),ua=new Map([["xlink:actuate",wn],["xlink:arcrole",wn],["xlink:href",wn],["xlink:role",wn],["xlink:show",wn],["xlink:title",wn],["xlink:type",wn],["xml:lang",mh],["xml:space",mh],["xmlns",gh],["xmlns:xlink",gh]]);function ca(e,t){return function({raw:n}){let r=Se,i="",o,a,f,s,u=0;for(let h=0,p=arguments.length;h<p;++h){const m=n[h];if(h>0){const g=arguments[h];switch(r){case pt:{if(g!=null){const y=`${g}`;if(Fb(a))i+=y.replace(/[<]/g,Wn);else{if(new RegExp(`</${a}[\\s>/]`,"i").test(i.slice(-a.length-2)+y))throw new Error("unsafe raw text");i+=y}}break}case Se:{g==null||(g instanceof Node||typeof g!="string"&&g[Symbol.iterator]||/(?:^|>)$/.test(n[h-1])&&/^(?:<|$)/.test(m)?(i+="<!--::"+h+"-->",u|=IT):i+=`${g}`.replace(/[<&]/g,Wn));break}case co:{r=lo;let y;if(/^[\s>]/.test(m)){if(g==null||g===!1){i=i.slice(0,f-n[h-1].length);break}if(g===!0||(y=`${g}`)==""){i+="''";break}if(n[h-1].slice(f,s)==="style"&&is(g)||typeof g=="function"){i+="::"+h,u|=ph;break}}if(y===void 0&&(y=`${g}`),y==="")throw new Error("unsafe unquoted empty string");i+=y.replace(/^['"]|[\s>&]/g,Wn);break}case lo:{i+=`${g}`.replace(/[\s>&]/g,Wn);break}case ts:{i+=`${g}`.replace(/['&]/g,Wn);break}case es:{i+=`${g}`.replace(/["&]/g,Wn);break}case Kt:{if(is(g)){i+="::"+h+"=''",u|=ph;break}throw new Error("invalid binding")}case Lt:break;default:throw new Error("invalid binding")}}for(let g=0,y=m.length;g<y;++g){const b=m.charCodeAt(g);switch(r){case Se:{b===fo&&(r=th);break}case th:{b===Zf?r=ch:b===Zt?r=nh:ho(b)?(o=g,a=void 0,r=Qf,--g):b===NT?(r=so,--g):(r=Se,--g);break}case nh:{ho(b)?(r=Qf,--g):b===ke?r=Se:(r=so,--g);break}case Qf:{Qt(b)?(r=Kt,a=Fr(m,o,g)):b===Zt?r=Dr:b===ke&&(a=Fr(m,o,g),r=Or(a)?pt:Se);break}case Kt:{Qt(b)||(b===Zt||b===ke?(r=Jf,--g):b===Kf?(r=uo,f=g+1,s=void 0):(r=uo,--g,f=g+1,s=void 0));break}case uo:{Qt(b)||b===Zt||b===ke?(r=Jf,--g,s=g):b===Kf&&(r=co,s=g);break}case Jf:{Qt(b)||(b===Zt?r=Dr:b===Kf?r=co:b===ke?r=Or(a)?pt:Se:(r=uo,--g,f=g+1,s=void 0));break}case co:{Qt(b)||(b===Jd?r=es:b===eh?r=ts:b===ke?r=Or(a)?pt:Se:(r=lo,--g));break}case es:{b===Jd&&(r=ns);break}case ts:{b===eh&&(r=ns);break}case lo:{Qt(b)?r=Kt:b===ke&&(r=Or(a)?pt:Se);break}case ns:{Qt(b)?r=Kt:b===Zt?r=Dr:b===ke?r=Or(a)?pt:Se:(r=Kt,--g);break}case Dr:{b===ke?r=Se:(r=Kt,--g);break}case so:{b===ke&&(r=Se);break}case rh:{b===ht?r=ih:b===ke?r=Se:(r=Lt,--g);break}case ih:{b===ht?r=Rr:b===ke?r=Se:(r=Lt,--g);break}case Lt:{b===fo?r=oh:b===ht&&(r=rs);break}case oh:{b===Zf?r=ah:b!==fo&&(r=Lt,--g);break}case ah:{b===ht?r=fh:(r=Lt,--g);break}case fh:{b===ht?r=sh:(r=Rr,--g);break}case sh:{r=Rr,--g;break}case rs:{b===ht?r=Rr:(r=Lt,--g);break}case Rr:{b===ke?r=Se:b===Zf?r=uh:b!==ht&&(r=Lt,--g);break}case uh:{b===ht?r=rs:b===ke?r=Se:(r=Lt,--g);break}case ch:{b===ht&&m.charCodeAt(g+1)===ht?(r=rh,++g):(r=so,--g);break}case pt:{b===fo&&(r=lh);break}case lh:{b===Zt?r=dh:(r=pt,--g);break}case dh:{ho(b)?(o=g,r=hh,--g):(r=pt,--g);break}case hh:{Qt(b)&&a===Fr(m,o,g)?r=Kt:b===Zt&&a===Fr(m,o,g)?r=Dr:b===ke&&a===Fr(m,o,g)?r=Se:ho(b)||(r=pt,--g);break}default:{r=void 0;break}}}i+=m}const c=e(i),l=document.createTreeWalker(c,u,null,!1),d=[];for(;l.nextNode();){const h=l.currentNode;switch(h.nodeType){case DT:{const p=h.attributes;for(let m=0,g=p.length;m<g;++m){const{name:y,value:b}=p[m];if(/^::/.test(y)){const _=arguments[+y.slice(2)];bh(h,y),--m,--g;for(const w in _){const S=_[w];S==null||S===!1||(typeof S=="function"?h[w]=S:w==="style"&&is(S)?yh(h[w],S):RT(h,w,S===!0?"":S))}}else if(/^::/.test(b)){const _=arguments[+b.slice(2)];bh(h,y),--m,--g,typeof _=="function"?h[y]=_:yh(h[y],_)}}break}case LT:{if(/^::/.test(h.data)){const p=h.parentNode,m=arguments[+h.data.slice(2)];if(m instanceof Node)p.insertBefore(m,h);else if(typeof m!="string"&&m[Symbol.iterator])if(m instanceof NodeList||m instanceof HTMLCollection)for(let g=m.length-1,y=h;g>=0;--g)y=p.insertBefore(m[g],y);else for(const g of m)g!=null&&p.insertBefore(g instanceof Node?g:document.createTextNode(g),h);else p.insertBefore(document.createTextNode(m),h);d.push(h)}break}}}for(const h of d)h.parentNode.removeChild(h);return t(c)}}function Wn(e){return`&#${e.charCodeAt(0).toString()};`}function ho(e){return ET<=e&&e<=AT||CT<=e&&e<=kT}function Qt(e){return e===xT||e===TT||e===ST||e===$T||e===MT}function is(e){return e&&e.toString===Object.prototype.toString}function Or(e){return e==="script"||e==="style"||Fb(e)}function Fb(e){return e==="textarea"||e==="title"}function Fr(e,t,n){return e.slice(t,n).toLowerCase()}function RT(e,t,n){if(e.namespaceURI===Rb&&(t=t.toLowerCase(),t=Ob.get(t)||t,ua.has(t))){e.setAttributeNS(ua.get(t),t,n);return}e.setAttribute(t,n)}function bh(e,t){if(e.namespaceURI===Rb&&(t=t.toLowerCase(),t=Ob.get(t)||t,ua.has(t))){e.removeAttributeNS(ua.get(t),t);return}e.removeAttribute(t)}function yh(e,t){for(const n in t){const r=t[n];n.startsWith("--")?e.setProperty(n,r):e[n]=r}}function Pb(e){return[Xa([0]),Rg(e,{x:t=>new Date(t.date),stroke:yt.slate[500],opacity:.3}),jg(e,{x:t=>new Date(t.date),text:t=>t.name,frameAnchor:"top",textAnchor:"start",fill:yt.slate[500],stroke:yt.slate[950],strokeWidth:5,dx:1,dy:-17})]}const qb={stroke:yt.slate[700],fill:yt.slate[800],fillOpacity:.9,format:{x:!1,y:!1,z:!1,amount:e=>e.toLocaleString("en-AU",{style:"currency",currency:"AUD"}),date:e=>wh(e).format("D MMMM, YYYY")}},zb={marginTop:20,marginBottom:30,marginLeft:60,marginRight:20,x:{grid:!1},y:{grid:!0,transform:e=>e/1e3,label:"AUD (K)",labelArrow:"none",labelOffset:47}};function jb({width:e,height:t,timeseries:n,scenarioEvents:r,color:i=yt.violet[700],opacity:o=.5}){const a=te.useRef(null);return te.useEffect(()=>{var s;const f=jn([()=>vT`<defs>
        <linearGradient id="gradient" gradientTransform="rotate(90)">
          <stop offset="20%" stop-color="${i}" stop-opacity="0.5" />
          <stop offset="100%" stop-color="${i}" stop-opacity="0" />
        </linearGradient>
      </defs>`,...Pb(r),Tc(n,{x:u=>new Date(u.date),y:"amount",fill:"url(#gradient)",opacity:o}),Ka(n,{x:u=>new Date(u.date),y:"amount",stroke:i,marker:"dot",channels:{amount:{label:"",value:"amount"},date:{label:"",value:"date"}},tip:qb})]).plot({...zb,width:e,height:t});return(s=a.current)==null||s.append(f),()=>f.remove()},[i,n,t,o,r,e]),U.jsx("div",{ref:a,className:"h-full w-full"})}jb.__docgenInfo={description:"",methods:[],displayName:"AreaChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},scenarioEvents:{required:!0,tsType:{name:"ScenarioStartEvents"},description:""},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"twColors.violet[700]",computed:!0}},opacity:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}}}};const _t={primaryLight:yt.violet[600],primary:yt.violet[700],secondary:yt.amber[400],secondaryDark:yt.amber[500]};function Bb({width:e,height:t,timeseries:n,scenarioEvents:r}){const i=te.useRef(null);return te.useEffect(()=>{var a;const o=jn([...Pb(r),Db(n,U1({y1:oa(f=>f.name==="highlighted"),y2:oa(f=>f.name==="pinned")},{x:f=>new Date(f.date),y:"amount",positiveFill:_t.secondary,negativeFill:_t.primary,fillOpacity:.2})),Ka(n,{x:f=>new Date(f.date),y:"amount",stroke:f=>f.name==="highlighted"?_t.primaryLight:_t.secondary,marker:"dot",channels:{amount:{label:"",value:"amount"},date:{label:"",value:"date"}},tip:qb})]).plot({...zb,width:e,height:t});return(a=i.current)==null||a.append(o),()=>o.remove()},[n,t,e,r]),U.jsx("div",{ref:i,className:"h-full w-full"})}Bb.__docgenInfo={description:"",methods:[],displayName:"DifferenceChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},scenarioEvents:{required:!0,tsType:{name:"ScenarioStartEvents"},description:""}}};function OT(e,t){if(e.length<=2)return e;const[n,r]=t;let i=Math.floor((e.length-1)*(n/100)),o=Math.floor((e.length-1)*(r/100));if(o-i===0)if(o+1<e.length)o+=1;else if(i-1>=0)i-=1;else throw new Error("Invalid selection (should have at least two data points)");const a=e[i].date,f=e[o].date;return e.filter(s=>s.date>=a&&s.date<=f)}function FT(e,t){if(t.length<2)return[];const n=t[0].date,r=t[t.length-1].date;return e.filter(i=>i.date>=n&&i.date<=r)}function Ub({type:e,timeseries:t,scenarioEvents:n,selection:r}){const i=te.useMemo(()=>OT(t,r),[t,r]),o=te.useMemo(()=>FT(n,i),[n,i]);if(i.length<2){const a=i.length===0?"No data":"Insufficient data";return U.jsx("div",{className:"flex h-full items-center justify-center text-lg font-medium text-slate-600",children:a})}return U.jsx("div",{className:"h-full pt-1",children:U.jsx(fu,{children:({width:a,height:f})=>e==="area"?U.jsx(jb,{width:a,height:f,timeseries:i,scenarioEvents:o}):U.jsx(Bb,{width:a,height:f,timeseries:i,scenarioEvents:o})})})}Ub.__docgenInfo={description:"",methods:[],displayName:"ScenarioChart",props:{type:{required:!0,tsType:{name:"union",raw:"'area' | 'difference'",elements:[{name:"literal",value:"'area'"},{name:"literal",value:"'difference'"}]},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},scenarioEvents:{required:!0,tsType:{name:"ScenarioStartEvents"},description:""},selection:{required:!0,tsType:{name:"TimeScrubberSelection"},description:""}}};function Gb({width:e,height:t,data:n}){const r=te.useRef(null);return te.useEffect(()=>{var o;const i=jn([Xa([0]),Tc(n,{x:a=>new Date(a.date),y:"amount",fill:_t.primary,opacity:.5}),Ka(n,{x:a=>new Date(a.date),y:"amount",stroke:_t.primary})]).plot({width:e,height:t,marginLeft:0,marginRight:0,marginTop:16,y:{axis:null}});return(o=r.current)==null||o.append(i),()=>i.remove()},[n,t,e]),U.jsx("div",{ref:r,className:"h-full w-full"})}Gb.__docgenInfo={description:"",methods:[],displayName:"TimelineAreaChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""}}};function Yb({width:e,height:t,data:n}){const r=te.useRef(null);return te.useEffect(()=>{var o;const i=jn([Xa([0]),Db(n,U1({y1:oa(a=>a.name==="highlighted"),y2:oa(a=>a.name==="pinned")},{x:a=>new Date(a.date),y:"amount",positiveFill:_t.secondary,negativeFill:_t.primary,fillOpacity:.2})),Ka(n,{x:a=>new Date(a.date),y:"amount",stroke:a=>a.name==="highlighted"?_t.primaryLight:_t.secondary})]).plot({width:e,height:t,marginLeft:0,marginRight:0,marginTop:16,y:{axis:null}});return(o=r.current)==null||o.append(i),()=>i.remove()},[n,t,e]),U.jsx("div",{ref:r,className:"h-full w-full"})}Yb.__docgenInfo={description:"",methods:[],displayName:"TimelineDifferenceChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""}}};function PT({disabled:e=!1,leftPanelRef:t,rightPanelRef:n,selection:r,onUpdateSelection:i}){const[o,a]=r,f=te.useCallback(c=>{i&&i([c,a])},[i,a]),s=te.useCallback(c=>{i&&i([o,100-c])},[i,o]),u=te.useCallback(()=>{var l,d;a-o!==100&&((l=t.current)==null||l.resize(0),(d=n.current)==null||d.resize(0),i&&i([0,100]))},[o,a,t,n,i]);return te.useEffect(()=>{var c,l;e&&((c=t.current)==null||c.resize(o),(l=n.current)==null||l.resize(100-a))},[e,a,t,n,o]),{start:o,end:a,updateStart:f,updateEnd:s,maximize:u}}function Hb({disabled:e=!1,selection:t,onUpdateSelection:n}){const r=te.useRef(null),i=te.useRef(null),{start:o,end:a,updateStart:f,updateEnd:s,maximize:u}=PT({leftPanelRef:r,rightPanelRef:i,selection:t,onUpdateSelection:n,disabled:e}),c=a-o===999;return U.jsxs(dy,{direction:"horizontal",onDoubleClick:u,children:[U.jsx(Qa,{className:"bg-gradient-to-tr from-slate-600/5 to-slate-600/20 backdrop-blur-[1px]",ref:r,defaultSize:o,onResize:f}),U.jsx(Cc,{className:"flex w-[5px] flex-col items-center justify-center bg-slate-700",disabled:e,children:U.jsx(Ec,{className:"text-slate-950",size:16})}),U.jsx(Qa,{className:`border-b border-t border-slate-700 ${c&&"cursor-grab"}`}),U.jsx(Cc,{className:"flex w-[5px] flex-col items-center justify-center bg-slate-700",disabled:e,children:U.jsx(Ec,{className:"text-slate-950",size:16})}),U.jsx(Qa,{className:"border-t-slate-50/5x border-b border-b-slate-800 bg-gradient-to-tr from-slate-600/5 to-slate-600/20 backdrop-blur-[1px]",ref:i,defaultSize:100-a,onResize:s})]})}Hb.__docgenInfo={description:"",methods:[],displayName:"TimelineSelector",props:{disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},selection:{required:!0,tsType:{name:"TimeScrubberSelection"},description:""},onUpdateSelection:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection: TimeScrubberSelection) => void",signature:{arguments:[{type:{name:"TimeScrubberSelection"},name:"selection"}],return:{name:"void"}}},description:""}}};function Wb({data:e,type:t,selection:n,onUpdateSelection:r}){const i=e&&Array.from(e).length<2;return U.jsxs("div",{className:"relative h-20 bg-slate-900",children:[!i&&U.jsx(fu,{children:({width:o,height:a})=>t==="area"?U.jsx(Gb,{width:o,height:a,data:e}):U.jsx(Yb,{width:o,height:a,data:e})}),U.jsx("div",{className:"absolute bottom-0 left-0 right-0 top-0",children:U.jsx(Hb,{selection:n,onUpdateSelection:r,disabled:i})})]})}Wb.__docgenInfo={description:"",methods:[],displayName:"TimelineScrubber",props:{type:{required:!0,tsType:{name:"union",raw:"'area' | 'difference'",elements:[{name:"literal",value:"'area'"},{name:"literal",value:"'difference'"}]},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""},selection:{required:!0,tsType:{name:"TimeScrubberSelection"},description:""},onUpdateSelection:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection: TimeScrubberSelection) => void",signature:{arguments:[{type:{name:"TimeScrubberSelection"},name:"selection"}],return:{name:"void"}}},description:""}}};export{Rg as A,zg as B,gr as C,r7 as D,dd as E,Tc as F,Db as G,Iy as H,Ka as I,U1 as J,oa as K,jg as L,Je as M,a9 as N,vT as O,fu as R,Ah as S,Wb as T,Eh as a,Ub as b,hy as c,Vy as d,Ky as e,XT as f,Q9 as g,p7 as h,xe as i,HT as j,Ku as k,Te as l,jn as m,Xt as n,Vt as o,qu as p,Mt as q,Xa as r,Ss as s,Fg as t,On as u,WT as v,Lu as w,Pe as x,Ha as y,_1 as z};
