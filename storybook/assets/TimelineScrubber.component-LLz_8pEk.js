import{j as K}from"./jsx-runtime-D_zvdyIk.js";import{C as Fb}from"./CollapsibleTree.component-DSHTWi39.js";import"./Header.component-BGqI9wSV.js";import{c as Oi,g as qb,r as le}from"./index-PahMPgEy.js";import{u as jn,p as ms,h as oh}from"./ScenarioGraph.component-8XjDygki.js";import{t as gt}from"./colors-Cuw9ST8W.js";import{D as gs}from"./Fire.icon-Di-S4vvp.js";import{P as zb,a as Ha,b as bs}from"./react-resizable-panels.browser.esm-zIh8wNIw.js";var ja,ys;function ah(){if(ys)return ja;ys=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return ja=e,ja}var Wa,_s;function Ub(){if(_s)return Wa;_s=1;var e=typeof Oi=="object"&&Oi&&Oi.Object===Object&&Oi;return Wa=e,Wa}var Ga,ws;function fh(){if(ws)return Ga;ws=1;var e=Ub(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Ga=n,Ga}var Xa,vs;function Bb(){if(vs)return Xa;vs=1;var e=fh(),t=function(){return e.Date.now()};return Xa=t,Xa}var Va,xs;function Yb(){if(xs)return Va;xs=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Va=t,Va}var Za,Ts;function Hb(){if(Ts)return Za;Ts=1;var e=Yb(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Za=n,Za}var Ka,Ms;function uh(){if(Ms)return Ka;Ms=1;var e=fh(),t=e.Symbol;return Ka=t,Ka}var Qa,Ss;function jb(){if(Ss)return Qa;Ss=1;var e=uh(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var f=n.call(a,i),u=a[i];try{a[i]=void 0;var c=!0}catch{}var s=r.call(a);return c&&(f?a[i]=u:delete a[i]),s}return Qa=o,Qa}var Ja,$s;function Wb(){if($s)return Ja;$s=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Ja=n,Ja}var ef,As;function Gb(){if(As)return ef;As=1;var e=uh(),t=jb(),n=Wb(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(f){return f==null?f===void 0?i:r:o&&o in Object(f)?t(f):n(f)}return ef=a,ef}var tf,Es;function Xb(){if(Es)return tf;Es=1;function e(t){return t!=null&&typeof t=="object"}return tf=e,tf}var nf,Cs;function Vb(){if(Cs)return nf;Cs=1;var e=Gb(),t=Xb(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return nf=r,nf}var rf,ks;function Zb(){if(ks)return rf;ks=1;var e=Hb(),t=ah(),n=Vb(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,f=parseInt;function u(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var s=typeof c.valueOf=="function"?c.valueOf():c;c=t(s)?s+"":s}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=o.test(c);return d||a.test(c)?f(c.slice(2),d?2:8):i.test(c)?r:+c}return rf=u,rf}var of,Ns;function Kb(){if(Ns)return of;Ns=1;var e=ah(),t=Bb(),n=Zb(),r="Expected a function",i=Math.max,o=Math.min;function a(f,u,c){var s,d,l,h,p,m,g=0,y=!1,b=!1,w=!0;if(typeof f!="function")throw new TypeError(r);u=n(u)||0,e(c)&&(y=!!c.leading,b="maxWait"in c,l=b?i(n(c.maxWait)||0,u):l,w="trailing"in c?!!c.trailing:w);function _(N){var I=s,$=d;return s=d=void 0,g=N,h=f.apply($,I),h}function v(N){return g=N,p=setTimeout(S,u),y?_(N):h}function x(N){var I=N-m,$=N-g,L=u-I;return b?o(L,l-$):L}function M(N){var I=N-m,$=N-g;return m===void 0||I>=u||I<0||b&&$>=l}function S(){var N=t();if(M(N))return A(N);p=setTimeout(S,x(N))}function A(N){return p=void 0,w&&s?_(N):(s=d=void 0,h)}function k(){p!==void 0&&clearTimeout(p),g=0,s=m=d=p=void 0}function T(){return p===void 0?h:A(t())}function D(){var N=t(),I=M(N);if(s=arguments,d=this,m=N,I){if(p===void 0)return v(m);if(b)return clearTimeout(p),p=setTimeout(S,u),_(m)}return p===void 0&&(p=setTimeout(S,u)),h}return D.cancel=k,D.flush=T,D}return of=a,of}var Qb=Kb();const Jb=qb(Qb),ey=[],Ds={width:0,height:0,top:0,left:0};function ty({initialSize:e=Ds,debounceTime:t=300,ignoreDimensions:n=ey,enableDebounceLeadingCall:r=!0,resizeObserverPolyfill:i}={}){const o=le.useRef(null),a=le.useRef(0),[f,u]=le.useState({...Ds,...e}),c=le.useMemo(()=>{const s=Array.isArray(n)?n:[n];return Jb(d=>{u(l=>Object.keys(l).filter(g=>l[g]!==d[g]).every(g=>s.includes(g))?l:d)},t,{leading:r})},[t,r,n]);return le.useEffect(()=>{const s=i||window.ResizeObserver,d=new s(l=>{l.forEach(h=>{const{left:p,top:m,width:g,height:y}=(h==null?void 0:h.contentRect)??{};a.current=window.requestAnimationFrame(()=>{c({width:g,height:y,top:m,left:p})})})});return o.current&&d.observe(o.current),()=>{window.cancelAnimationFrame(a.current),d.disconnect(),c.cancel()}},[c,i]),{parentRef:o,resize:c,...f}}const ny={width:"100%",height:"100%"};function Vu({className:e,children:t,debounceTime:n,ignoreDimensions:r,initialSize:i,parentSizeStyles:o=ny,enableDebounceLeadingCall:a=!0,resizeObserverPolyfill:f,...u}){const{parentRef:c,resize:s,...d}=ty({initialSize:i,debounceTime:n,ignoreDimensions:r,enableDebounceLeadingCall:a,resizeObserverPolyfill:f});return K.jsx("div",{style:o,ref:c,className:e,...u,children:t({...d,ref:c.current,resize:s})})}Vu.__docgenInfo={description:"",methods:[],displayName:"ResponsiveContainer",props:{className:{required:!1,tsType:{name:"string"},description:"Optional `className` to add to the parent `div` wrapper used for size measurement."},parentSizeStyles:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:"@deprecated - use `style` prop as all other props are passed directly to the parent `div`.\n@TODO remove in the next major version.\nOptional `style` object to apply to the parent `div` wrapper used for size measurement.",defaultValue:{value:"{ width: '100%', height: '100%' }",computed:!1}},children:{required:!0,tsType:{name:"signature",type:"function",raw:"(args: ParentSizeProvidedProps) => React.ReactNode",signature:{arguments:[{type:{name:"intersection",raw:`ParentSizeState & {
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"signature",type:"object",raw:`{
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,signature:{properties:[{key:"ref",value:{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}],required:!0}},{key:"resize",value:{name:"signature",type:"function",raw:"(state: ParentSizeState) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},name:"state"}],return:{name:"void"}},required:!0}}]}}]},name:"args"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Child render function `({ width, height, top, left, ref, resize }) => ReactNode`."},initialSize:{required:!1,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}}],raw:"Partial<ParentSizeState>"},description:"Initial size before measuring the parent."},resizeObserverPolyfill:{required:!1,tsType:{name:"ResizeObserverPolyfill"},description:"Optionally inject a ResizeObserver polyfill, else this *must* be globally available."},ignoreDimensions:{required:!1,tsType:{name:"union",raw:"keyof ParentSizeState | (keyof ParentSizeState)[]",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"Array",elements:[{name:"unknown"}],raw:"(keyof ParentSizeState)[]"}]},description:"Optional dimensions provided won't trigger a state change when changed."},debounceTime:{required:!1,tsType:{name:"number"},description:"Child render updates upon resize are delayed until `debounceTime` milliseconds _after_ the last resize event is observed. Defaults to `300`."},enableDebounceLeadingCall:{required:!1,tsType:{name:"boolean"},description:"Optional flag to toggle leading debounce calls. When set to true this will ensure that the component always renders immediately. Defaults to `true`.",defaultValue:{value:"true",computed:!1}}}};const ry=[0,100];function iy(){const e=jn(a=>a.selection),t=jn(a=>a.setSelection),n=jn(a=>a.periods),r=jn(a=>a.highlightedPlotData),i=jn(a=>a.pinnedPlotData),o=le.useMemo(()=>{const f="month",u=ms({data:r,interval:f,cumulative:!0}),c=i?ms({data:i,interval:f,cumulative:!0}):[];return[...u,...c].sort((d,l)=>oh(d.date).diff(l.date))},[r,i]);return K.jsxs(K.Fragment,{children:[K.jsx(Eb,{type:i?"difference":"area",data:o,initialSelection:ry,onUpdateSelection:t}),K.jsx(Mb,{type:i?"difference":"area",timeseries:o,periods:n,selection:e})]})}iy.__docgenInfo={description:"",methods:[],displayName:"ScenarioBrushChart"};function ch({budget:e}){return K.jsxs("div",{className:"flex h-full w-full select-none flex-col bg-slate-900 text-slate-300",children:[K.jsx("div",{className:"bg-slate-800 px-4 py-1 text-sm font-medium text-slate-500",children:"Budget Details"}),e?K.jsxs("div",{className:"flex-grow overflow-y-auto pb-4",children:[K.jsx("div",{className:"px-4 pb-2 pt-4 text-lg font-medium",children:e.name}),K.jsx(Fb,{tree:e.categories,expanded:!0,parentContainerClasses:"cursor-pointer hover:bg-slate-800 px-4",childContainerClasses:"cursor-default px-4",renderCollapsibleItemContent:t=>K.jsxs("div",{className:"flex flex-row py-2",children:[K.jsx("div",{className:"grow",children:t.name}),K.jsx("div",{className:"text-gray-500",children:Is(t.value)})]}),renderLeafItemContent:t=>K.jsxs("div",{className:"flex flex-row py-2",children:[K.jsx("div",{className:"grow",children:t.name}),K.jsx("div",{children:Is(t.value)})]})},e.name)]}):K.jsx("div",{className:"px-4 pb-2 pt-4 text-lg font-medium text-slate-600",children:"No budget selected"})]})}function Is(e){return e>=0?e.toFixed(0).toString():`(${Math.abs(e).toFixed(0)})`}ch.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudget",props:{budget:{required:!0,tsType:{name:"union",raw:"BudgetCategories | null",elements:[{name:"BudgetCategories"},{name:"null"}]},description:""}}};function oy(){const e=jn(t=>t.selectedBudget);return K.jsx(ch,{budget:e})}oy.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudget"};function Re(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function li(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ia(e){let t,n,r;e.length!==2?(t=Re,n=(f,u)=>Re(e(f),u),r=(f,u)=>e(f)-u):(t=e===Re||e===li?e:ay,n=e,r=e);function i(f,u,c=0,s=f.length){if(c<s){if(t(u,u)!==0)return s;do{const d=c+s>>>1;n(f[d],u)<0?c=d+1:s=d}while(c<s)}return c}function o(f,u,c=0,s=f.length){if(c<s){if(t(u,u)!==0)return s;do{const d=c+s>>>1;n(f[d],u)<=0?c=d+1:s=d}while(c<s)}return c}function a(f,u,c=0,s=f.length){const d=i(f,u,c,s-1);return d>c&&r(f[d-1],u)>-r(f[d],u)?d-1:d}return{left:i,center:a,right:o}}function ay(){return 0}function sh(e){return e===null?NaN:+e}function*fy(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const uy=ia(Re),oa=uy.right;ia(sh).center;function Zu(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function cy(e){return e.length|0}function sy(e){return!(e>0)}function ly(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function dy(e){return t=>e(...t)}function hy(...e){const t=typeof e[e.length-1]=="function"&&dy(e.pop());e=e.map(ly);const n=e.map(cy),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(sy))return o;for(;;){o.push(i.map((f,u)=>e[u][f]));let a=r;for(;++i[a]===n[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function py(e,t){var n=0;return Float64Array.from(e,r=>n+=+r||0)}function lh(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let f of e)(f=t(f,++a,e))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,o+=r*(f-i))}if(n>1)return o/(n-1)}function dh(e,t){const n=lh(e,t);return n&&Math.sqrt(n)}function He(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Mn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=t+o,f=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);f&&(n[r++]=f),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class Sn extends Map{constructor(t,n=mh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Zf(this,t))}has(t){return super.has(Zf(this,t))}set(t,n){return super.set(hh(this,t),n)}delete(t){return super.delete(ph(this,t))}}class aa extends Set{constructor(t,n=mh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Zf(this,t))}add(t){return super.add(hh(this,t))}delete(t){return super.delete(ph(this,t))}}function Zf({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function hh({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function ph({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function mh(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Kf(e){return e}function fa(e,...t){return Ku(e,Kf,Kf,t)}function Vn(e,t,...n){return Ku(e,Kf,t,n)}function my(e,t,...n){return Ku(e,Array.from,t,n)}function Ku(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const f=new Sn,u=r[a++];let c=-1;for(const s of o){const d=u(s,++c,o),l=f.get(d);l?l.push(s):f.set(d,[s])}for(const[s,d]of f)f.set(s,i(d,a));return t(f)}(e,0)}function gy(e,t){return Array.from(t,n=>e[n])}function mo(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const a of t){const f=go(a[i],a[o]);if(f)return f}})):(n=e.map(n),r.sort((i,o)=>go(n[i],n[o]))),gy(e,r)}return e.sort(gh(n))}function gh(e=Re){if(e===Re)return go;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function go(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Qu(e,t,n){return(t.length!==2?mo(Vn(e,t,n),([r,i],[o,a])=>Re(i,a)||Re(r,o)):mo(fa(e,n),([r,i],[o,a])=>t(i,a)||Re(r,o))).map(([r])=>r)}const by=Math.sqrt(50),yy=Math.sqrt(10),_y=Math.sqrt(2);function bo(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=by?10:o>=yy?5:o>=_y?2:1;let f,u,c;return i<0?(c=Math.pow(10,-i)/a,f=Math.round(e*c),u=Math.round(t*c),f/c<e&&++f,u/c>t&&--u,c=-c):(c=Math.pow(10,i)*a,f=Math.round(e/c),u=Math.round(t/c),f*c<e&&++f,u*c>t&&--u),u<f&&.5<=n&&n<2?bo(e,t,n*2):[f,u,c]}function Kr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?bo(t,e,n):bo(e,t,n);if(!(o>=i))return[];const f=o-i+1,u=new Array(f);if(r)if(a<0)for(let c=0;c<f;++c)u[c]=(o-c)/-a;else for(let c=0;c<f;++c)u[c]=(o-c)*a;else if(a<0)for(let c=0;c<f;++c)u[c]=(i+c)/-a;else for(let c=0;c<f;++c)u[c]=(i+c)*a;return u}function yo(e,t,n){return t=+t,e=+e,n=+n,bo(e,t,n)[2]}function Qf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?yo(t,e,n):yo(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function wy(e){return Math.max(1,Math.ceil(Math.log(Zu(e))/Math.LN2)+1)}function tt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function vy(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function zt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function xy(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function bh(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?go:gh(i);r>n;){if(r-n>600){const u=r-n+1,c=t-n+1,s=Math.log(u),d=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*d*(u-d)/u)*(c-u/2<0?-1:1),h=Math.max(n,Math.floor(t-c*d/u+l)),p=Math.min(r,Math.floor(t+(u-c)*d/u+l));bh(e,t,h,p,i)}const o=e[t];let a=n,f=r;for(Sr(e,n,t),i(e[r],o)>0&&Sr(e,n,r);a<f;){for(Sr(e,a,f),++a,--f;i(e[a],o)<0;)++a;for(;i(e[f],o)>0;)--f}i(e[n],o)===0?Sr(e,n,f):(++f,Sr(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}return e}function Sr(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function yh(e,t=Re){let n,r=!1;if(t.length===1){let i;for(const o of e){const a=t(o);(r?Re(a,i)>0:Re(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function er(e,t,n){if(e=Float64Array.from(fy(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return zt(e);if(t>=1)return tt(e);var r,i=(r-1)*t,o=Math.floor(i),a=tt(bh(e,o).subarray(0,o+1)),f=zt(e.subarray(o+1));return a+(f-a)*(i-o)}}function Ty(e,t,n=sh){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),f=+n(e[o+1],o+1,e);return a+(f-a)*(i-o)}}function My(e,t,n){const r=Zu(e),i=er(e,.75)-er(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function _h(e,t,n){const r=Zu(e),i=dh(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function Sy(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Jf(e,t){return er(e,.5,t)}function*$y(e){for(const t of e)yield*t}function wh(e){return Array.from($y(e))}function Ay(e,t){const n=new Sn;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function Ey(e,t=Cy){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n}function Cy(e,t){return[e,t]}function eu(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function nn(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function _o(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function ky(e){return e}var Ny=3,Rs=1e-6;function Dy(e){return"translate("+e+",0)"}function Iy(e){return t=>+e(t)}function Ry(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Ly(){return!this.__axis}function Oy(e,t){var n=[],r=null,i=null,o=6,a=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,s="y",d=Dy;function l(h){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):ky),g=Math.max(o,0)+f,y=t.range(),b=+y[0]+u,w=+y[y.length-1]+u,_=(t.bandwidth?Ry:Iy)(t.copy(),u),v=h.selection?h.selection():h,x=v.selectAll(".domain").data([null]),M=v.selectAll(".tick").data(p,t).order(),S=M.exit(),A=M.enter().append("g").attr("class","tick"),k=M.select("line"),T=M.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(A),k=k.merge(A.append("line").attr("stroke","currentColor").attr(s+"2",c*o)),T=T.merge(A.append("text").attr("fill","currentColor").attr(s,c*g).attr("dy","0.71em")),h!==v&&(x=x.transition(h),M=M.transition(h),k=k.transition(h),T=T.transition(h),S=S.transition(h).attr("opacity",Rs).attr("transform",function(D){return isFinite(D=_(D))?d(D+u):this.getAttribute("transform")}),A.attr("opacity",Rs).attr("transform",function(D){var N=this.parentNode.__axis;return d((N&&isFinite(N=N(D))?N:_(D))+u)})),S.remove(),x.attr("d",a?"M"+b+","+c*a+"V"+u+"H"+w+"V"+c*a:"M"+b+","+u+"H"+w),M.attr("opacity",1).attr("transform",function(D){return d(_(D)+u)}),k.attr(s+"2",c*o),T.attr(s,c*g).text(m),v.filter(Ly).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),v.each(function(){this.__axis=_})}return l.scale=function(h){return arguments.length?(t=h,l):t},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),l):n.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(o=a=+h,l):o},l.tickSizeInner=function(h){return arguments.length?(o=+h,l):o},l.tickSizeOuter=function(h){return arguments.length?(a=+h,l):a},l.tickPadding=function(h){return arguments.length?(f=+h,l):f},l.offset=function(h){return arguments.length?(u=+h,l):u},l}function Py(e){return Oy(Ny,e)}var Fy={value:()=>{}};function vh(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new uo(n)}function uo(e){this._=e}function qy(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}uo.prototype=vh.prototype={constructor:uo,on:function(e,t){var n=this._,r=qy(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=zy(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=Ls(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Ls(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new uo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function zy(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Ls(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Fy,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var tu="http://www.w3.org/1999/xhtml";const tr={svg:"http://www.w3.org/2000/svg",xhtml:tu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ua(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),tr.hasOwnProperty(t)?{space:tr[t],local:e}:e}function Uy(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===tu&&t.documentElement.namespaceURI===tu?t.createElement(e):t.createElementNS(n,e)}}function By(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ca(e){var t=ua(e);return(t.local?By:Uy)(t)}function Yy(){}function Ju(e){return e==null?Yy:function(){return this.querySelector(e)}}function Hy(e){typeof e!="function"&&(e=Ju(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,f=r[i]=new Array(a),u,c,s=0;s<a;++s)(u=o[s])&&(c=e.call(u,u.__data__,s,o))&&("__data__"in u&&(c.__data__=u.__data__),f[s]=c);return new qe(r,this._parents)}function jy(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Wy(){return[]}function xh(e){return e==null?Wy:function(){return this.querySelectorAll(e)}}function Gy(e){return function(){return jy(e.apply(this,arguments))}}function Xy(e){typeof e=="function"?e=Gy(e):e=xh(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],f=a.length,u,c=0;c<f;++c)(u=a[c])&&(r.push(e.call(u,u.__data__,c,a)),i.push(u));return new qe(r,i)}function Th(e){return function(){return this.matches(e)}}function Mh(e){return function(t){return t.matches(e)}}var Vy=Array.prototype.find;function Zy(e){return function(){return Vy.call(this.children,e)}}function Ky(){return this.firstElementChild}function Qy(e){return this.select(e==null?Ky:Zy(typeof e=="function"?e:Mh(e)))}var Jy=Array.prototype.filter;function e2(){return Array.from(this.children)}function t2(e){return function(){return Jy.call(this.children,e)}}function n2(e){return this.selectAll(e==null?e2:t2(typeof e=="function"?e:Mh(e)))}function r2(e){typeof e!="function"&&(e=Th(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,f=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&f.push(u);return new qe(r,this._parents)}function Sh(e){return new Array(e.length)}function i2(){return new qe(this._enter||this._groups.map(Sh),this._parents)}function wo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}wo.prototype={constructor:wo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function o2(e){return function(){return e}}function a2(e,t,n,r,i,o){for(var a=0,f,u=t.length,c=o.length;a<c;++a)(f=t[a])?(f.__data__=o[a],r[a]=f):n[a]=new wo(e,o[a]);for(;a<u;++a)(f=t[a])&&(i[a]=f)}function f2(e,t,n,r,i,o,a){var f,u,c=new Map,s=t.length,d=o.length,l=new Array(s),h;for(f=0;f<s;++f)(u=t[f])&&(l[f]=h=a.call(u,u.__data__,f,t)+"",c.has(h)?i[f]=u:c.set(h,u));for(f=0;f<d;++f)h=a.call(e,o[f],f,o)+"",(u=c.get(h))?(r[f]=u,u.__data__=o[f],c.delete(h)):n[f]=new wo(e,o[f]);for(f=0;f<s;++f)(u=t[f])&&c.get(l[f])===u&&(i[f]=u)}function u2(e){return e.__data__}function c2(e,t){if(!arguments.length)return Array.from(this,u2);var n=t?f2:a2,r=this._parents,i=this._groups;typeof e!="function"&&(e=o2(e));for(var o=i.length,a=new Array(o),f=new Array(o),u=new Array(o),c=0;c<o;++c){var s=r[c],d=i[c],l=d.length,h=s2(e.call(s,s&&s.__data__,c,r)),p=h.length,m=f[c]=new Array(p),g=a[c]=new Array(p),y=u[c]=new Array(l);n(s,d,m,g,y,h,t);for(var b=0,w=0,_,v;b<p;++b)if(_=m[b]){for(b>=w&&(w=b+1);!(v=g[w])&&++w<p;);_._next=v||null}}return a=new qe(a,r),a._enter=f,a._exit=u,a}function s2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function l2(){return new qe(this._exit||this._groups.map(Sh),this._parents)}function d2(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function h2(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),f=new Array(i),u=0;u<a;++u)for(var c=n[u],s=r[u],d=c.length,l=f[u]=new Array(d),h,p=0;p<d;++p)(h=c[p]||s[p])&&(l[p]=h);for(;u<i;++u)f[u]=n[u];return new qe(f,this._parents)}function p2(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function m2(e){e||(e=g2);function t(d,l){return d&&l?e(d.__data__,l.__data__):!d-!l}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],f=a.length,u=i[o]=new Array(f),c,s=0;s<f;++s)(c=a[s])&&(u[s]=c);u.sort(t)}return new qe(i,this._parents).order()}function g2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function b2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function y2(){return Array.from(this)}function _2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function w2(){let e=0;for(const t of this)++e;return e}function v2(){return!this.node()}function x2(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,f;o<a;++o)(f=i[o])&&e.call(f,f.__data__,o,i);return this}function T2(e){return function(){this.removeAttribute(e)}}function M2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function S2(e,t){return function(){this.setAttribute(e,t)}}function $2(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function A2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function E2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function C2(e,t){var n=ua(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?M2:T2:typeof t=="function"?n.local?E2:A2:n.local?$2:S2)(n,t))}function $h(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function k2(e){return function(){this.style.removeProperty(e)}}function N2(e,t,n){return function(){this.style.setProperty(e,t,n)}}function D2(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function I2(e,t,n){return arguments.length>1?this.each((t==null?k2:typeof t=="function"?D2:N2)(e,t,n??"")):nr(this.node(),e)}function nr(e,t){return e.style.getPropertyValue(t)||$h(e).getComputedStyle(e,null).getPropertyValue(t)}function R2(e){return function(){delete this[e]}}function L2(e,t){return function(){this[e]=t}}function O2(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function P2(e,t){return arguments.length>1?this.each((t==null?R2:typeof t=="function"?O2:L2)(e,t)):this.node()[e]}function Ah(e){return e.trim().split(/^|\s+/)}function ec(e){return e.classList||new Eh(e)}function Eh(e){this._node=e,this._names=Ah(e.getAttribute("class")||"")}Eh.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ch(e,t){for(var n=ec(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function kh(e,t){for(var n=ec(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function F2(e){return function(){Ch(this,e)}}function q2(e){return function(){kh(this,e)}}function z2(e,t){return function(){(t.apply(this,arguments)?Ch:kh)(this,e)}}function U2(e,t){var n=Ah(e+"");if(arguments.length<2){for(var r=ec(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?z2:t?F2:q2)(n,t))}function B2(){this.textContent=""}function Y2(e){return function(){this.textContent=e}}function H2(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function j2(e){return arguments.length?this.each(e==null?B2:(typeof e=="function"?H2:Y2)(e)):this.node().textContent}function W2(){this.innerHTML=""}function G2(e){return function(){this.innerHTML=e}}function X2(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function V2(e){return arguments.length?this.each(e==null?W2:(typeof e=="function"?X2:G2)(e)):this.node().innerHTML}function Z2(){this.nextSibling&&this.parentNode.appendChild(this)}function K2(){return this.each(Z2)}function Q2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function J2(){return this.each(Q2)}function e_(e){var t=typeof e=="function"?e:ca(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function t_(){return null}function n_(e,t){var n=typeof e=="function"?e:ca(e),r=t==null?t_:typeof t=="function"?t:Ju(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function r_(){var e=this.parentNode;e&&e.removeChild(this)}function i_(){return this.each(r_)}function o_(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function a_(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function f_(e){return this.select(e?a_:o_)}function u_(e){return arguments.length?this.property("__data__",e):this.node().__data__}function c_(e){return function(t){e.call(this,t,this.__data__)}}function s_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function l_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function d_(e,t,n){return function(){var r=this.__on,i,o=c_(t);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function h_(e,t,n){var r=s_(e+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,c=f.length,s;u<c;++u)for(i=0,s=f[u];i<o;++i)if((a=r[i]).type===s.type&&a.name===s.name)return s.value}return}for(f=t?d_:l_,i=0;i<o;++i)this.each(f(r[i],t,n));return this}function Nh(e,t,n){var r=$h(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function p_(e,t){return function(){return Nh(this,e,t)}}function m_(e,t){return function(){return Nh(this,e,t.apply(this,arguments))}}function g_(e,t){return this.each((typeof t=="function"?m_:p_)(e,t))}function*b_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Dh=[null];function qe(e,t){this._groups=e,this._parents=t}function di(){return new qe([[document.documentElement]],Dh)}function y_(){return this}qe.prototype=di.prototype={constructor:qe,select:Hy,selectAll:Xy,selectChild:Qy,selectChildren:n2,filter:r2,data:c2,enter:i2,exit:l2,join:d2,merge:h2,selection:y_,order:p2,sort:m2,call:b2,nodes:y2,node:_2,size:w2,empty:v2,each:x2,attr:C2,style:I2,property:P2,classed:U2,text:j2,html:V2,raise:K2,lower:J2,append:e_,insert:n_,remove:i_,clone:f_,datum:u_,on:h_,dispatch:g_,[Symbol.iterator]:b_};function Zn(e){return typeof e=="string"?new qe([[document.querySelector(e)]],[document.documentElement]):new qe([[e]],Dh)}function __(e){let t;for(;t=e.sourceEvent;)e=t;return e}function w_(e,t){if(e=__(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function yr(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function hi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function un(){}var $n=.7,rr=1/$n,Kn="\\s*([+-]?\\d+)\\s*",Qr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",v_=/^#([0-9a-f]{3,8})$/,x_=new RegExp(`^rgb\\(${Kn},${Kn},${Kn}\\)$`),T_=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),M_=new RegExp(`^rgba\\(${Kn},${Kn},${Kn},${Qr}\\)$`),S_=new RegExp(`^rgba\\(${_t},${_t},${_t},${Qr}\\)$`),$_=new RegExp(`^hsl\\(${Qr},${_t},${_t}\\)$`),A_=new RegExp(`^hsla\\(${Qr},${_t},${_t},${Qr}\\)$`),Os={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};yr(un,An,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Ps,formatHex:Ps,formatHex8:E_,formatHsl:C_,formatRgb:Fs,toString:Fs});function Ps(){return this.rgb().formatHex()}function E_(){return this.rgb().formatHex8()}function C_(){return Ih(this).formatHsl()}function Fs(){return this.rgb().formatRgb()}function An(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=v_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?qs(t):n===3?new we(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Pi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Pi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=x_.exec(e))?new we(t[1],t[2],t[3],1):(t=T_.exec(e))?new we(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=M_.exec(e))?Pi(t[1],t[2],t[3],t[4]):(t=S_.exec(e))?Pi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=$_.exec(e))?Bs(t[1],t[2]/100,t[3]/100,1):(t=A_.exec(e))?Bs(t[1],t[2]/100,t[3]/100,t[4]):Os.hasOwnProperty(e)?qs(Os[e]):e==="transparent"?new we(NaN,NaN,NaN,0):null}function qs(e){return new we(e>>16&255,e>>8&255,e&255,1)}function Pi(e,t,n,r){return r<=0&&(e=t=n=NaN),new we(e,t,n,r)}function tc(e){return e instanceof un||(e=An(e)),e?(e=e.rgb(),new we(e.r,e.g,e.b,e.opacity)):new we}function rn(e,t,n,r){return arguments.length===1?tc(e):new we(e,t,n,r??1)}function we(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}yr(we,rn,hi(un,{brighter(e){return e=e==null?rr:Math.pow(rr,e),new we(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$n:Math.pow($n,e),new we(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new we(vn(this.r),vn(this.g),vn(this.b),vo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:zs,formatHex:zs,formatHex8:k_,formatRgb:Us,toString:Us}));function zs(){return`#${wn(this.r)}${wn(this.g)}${wn(this.b)}`}function k_(){return`#${wn(this.r)}${wn(this.g)}${wn(this.b)}${wn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Us(){const e=vo(this.opacity);return`${e===1?"rgb(":"rgba("}${vn(this.r)}, ${vn(this.g)}, ${vn(this.b)}${e===1?")":`, ${e})`}`}function vo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wn(e){return e=vn(e),(e<16?"0":"")+e.toString(16)}function Bs(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new Je(e,t,n,r)}function Ih(e){if(e instanceof Je)return new Je(e.h,e.s,e.l,e.opacity);if(e instanceof un||(e=An(e)),!e)return new Je;if(e instanceof Je)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,f=o-i,u=(o+i)/2;return f?(t===o?a=(n-r)/f+(n<r)*6:n===o?a=(r-t)/f+2:a=(t-n)/f+4,f/=u<.5?o+i:2-o-i,a*=60):f=u>0&&u<1?0:a,new Je(a,f,u,e.opacity)}function nu(e,t,n,r){return arguments.length===1?Ih(e):new Je(e,t,n,r??1)}function Je(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yr(Je,nu,hi(un,{brighter(e){return e=e==null?rr:Math.pow(rr,e),new Je(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$n:Math.pow($n,e),new Je(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new we(af(e>=240?e-240:e+120,i,r),af(e,i,r),af(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new Je(Ys(this.h),Fi(this.s),Fi(this.l),vo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vo(this.opacity);return`${e===1?"hsl(":"hsla("}${Ys(this.h)}, ${Fi(this.s)*100}%, ${Fi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Ys(e){return e=(e||0)%360,e<0?e+360:e}function Fi(e){return Math.max(0,Math.min(1,e||0))}function af(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Rh=Math.PI/180,Lh=180/Math.PI,xo=18,Oh=.96422,Ph=1,Fh=.82521,qh=4/29,Qn=6/29,zh=3*Qn*Qn,N_=Qn*Qn*Qn;function Uh(e){if(e instanceof wt)return new wt(e.l,e.a,e.b,e.opacity);if(e instanceof Lt)return Bh(e);e instanceof we||(e=tc(e));var t=sf(e.r),n=sf(e.g),r=sf(e.b),i=ff((.2225045*t+.7168786*n+.0606169*r)/Ph),o,a;return t===n&&n===r?o=a=i:(o=ff((.4360747*t+.3850649*n+.1430804*r)/Oh),a=ff((.0139322*t+.0971045*n+.7141733*r)/Fh)),new wt(116*i-16,500*(o-i),200*(i-a),e.opacity)}function ru(e,t,n,r){return arguments.length===1?Uh(e):new wt(e,t,n,r??1)}function wt(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}yr(wt,ru,hi(un,{brighter(e){return new wt(this.l+xo*(e??1),this.a,this.b,this.opacity)},darker(e){return new wt(this.l-xo*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Oh*uf(t),e=Ph*uf(e),n=Fh*uf(n),new we(cf(3.1338561*t-1.6168667*e-.4906146*n),cf(-.9787684*t+1.9161415*e+.033454*n),cf(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function ff(e){return e>N_?Math.pow(e,1/3):e/zh+qh}function uf(e){return e>Qn?e*e*e:zh*(e-qh)}function cf(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function sf(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function D_(e){if(e instanceof Lt)return new Lt(e.h,e.c,e.l,e.opacity);if(e instanceof wt||(e=Uh(e)),e.a===0&&e.b===0)return new Lt(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Lh;return new Lt(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function iu(e,t,n,r){return arguments.length===1?D_(e):new Lt(e,t,n,r??1)}function Lt(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function Bh(e){if(isNaN(e.h))return new wt(e.l,0,0,e.opacity);var t=e.h*Rh;return new wt(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}yr(Lt,iu,hi(un,{brighter(e){return new Lt(this.h,this.c,this.l+xo*(e??1),this.opacity)},darker(e){return new Lt(this.h,this.c,this.l-xo*(e??1),this.opacity)},rgb(){return Bh(this).rgb()}}));var Yh=-.14861,nc=1.78277,rc=-.29227,sa=-.90649,Jr=1.97294,Hs=Jr*sa,js=Jr*nc,Ws=nc*rc-sa*Yh;function I_(e){if(e instanceof xn)return new xn(e.h,e.s,e.l,e.opacity);e instanceof we||(e=tc(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(Ws*r+Hs*t-js*n)/(Ws+Hs-js),o=r-i,a=(Jr*(n-i)-rc*o)/sa,f=Math.sqrt(a*a+o*o)/(Jr*i*(1-i)),u=f?Math.atan2(a,o)*Lh-120:NaN;return new xn(u<0?u+360:u,f,i,e.opacity)}function vt(e,t,n,r){return arguments.length===1?I_(e):new xn(e,t,n,r??1)}function xn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}yr(xn,vt,hi(un,{brighter(e){return e=e==null?rr:Math.pow(rr,e),new xn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$n:Math.pow($n,e),new xn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Rh,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new we(255*(t+n*(Yh*r+nc*i)),255*(t+n*(rc*r+sa*i)),255*(t+n*(Jr*r)),this.opacity)}}));function R_(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function L_(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,f=r<t-1?e[r+2]:2*o-i;return R_((n-r/t)*t,a,i,o,f)}}const la=e=>()=>e;function Hh(e,t){return function(n){return e+n*t}}function O_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function ic(e,t){var n=t-e;return n?Hh(e,n>180||n<-180?n-360*Math.round(n/360):n):la(isNaN(e)?t:e)}function P_(e){return(e=+e)==1?Ee:function(t,n){return n-t?O_(t,n,e):la(isNaN(t)?n:t)}}function Ee(e,t){var n=t-e;return n?Hh(e,n):la(isNaN(e)?t:e)}const En=function e(t){var n=P_(t);function r(i,o){var a=n((i=rn(i)).r,(o=rn(o)).r),f=n(i.g,o.g),u=n(i.b,o.b),c=Ee(i.opacity,o.opacity);return function(s){return i.r=a(s),i.g=f(s),i.b=u(s),i.opacity=c(s),i+""}}return r.gamma=e,r}(1);function F_(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,f;for(a=0;a<n;++a)f=rn(t[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=e(r),i=e(i),o=e(o),f.opacity=1,function(u){return f.r=r(u),f.g=i(u),f.b=o(u),f+""}}}var q_=F_(L_);function z_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function U_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function B_(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=pi(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function Y_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $e(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function H_(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=pi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var ou=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,lf=new RegExp(ou.source,"g");function j_(e){return function(){return e}}function W_(e){return function(t){return e(t)+""}}function jh(e,t){var n=ou.lastIndex=lf.lastIndex=0,r,i,o,a=-1,f=[],u=[];for(e=e+"",t=t+"";(r=ou.exec(e))&&(i=lf.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,u.push({i:a,x:$e(r,i)})),n=lf.lastIndex;return n<t.length&&(o=t.slice(n),f[a]?f[a]+=o:f[++a]=o),f.length<2?u[0]?W_(u[0].x):j_(t):(t=u.length,function(c){for(var s=0,d;s<t;++s)f[(d=u[s]).i]=d.x(c);return f.join("")})}function pi(e,t){var n=typeof t,r;return t==null||n==="boolean"?la(t):(n==="number"?$e:n==="string"?(r=An(t))?(t=r,En):jh:t instanceof An?En:t instanceof Date?Y_:U_(t)?z_:Array.isArray(t)?B_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?H_:$e)(e,t)}function oc(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Gs=180/Math.PI,au={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Wh(e,t,n,r,i,o){var a,f,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,u/=f),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Gs,skewX:Math.atan(u)*Gs,scaleX:a,scaleY:f}}var qi;function G_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?au:Wh(t.a,t.b,t.c,t.d,t.e,t.f)}function X_(e){return e==null||(qi||(qi=document.createElementNS("http://www.w3.org/2000/svg","g")),qi.setAttribute("transform",e),!(e=qi.transform.baseVal.consolidate()))?au:(e=e.matrix,Wh(e.a,e.b,e.c,e.d,e.e,e.f))}function Gh(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,s,d,l,h,p){if(c!==d||s!==l){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:$e(c,d)},{i:m-2,x:$e(s,l)})}else(d||l)&&h.push("translate("+d+t+l+n)}function a(c,s,d,l){c!==s?(c-s>180?s+=360:s-c>180&&(c+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:$e(c,s)})):s&&d.push(i(d)+"rotate("+s+r)}function f(c,s,d,l){c!==s?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:$e(c,s)}):s&&d.push(i(d)+"skewX("+s+r)}function u(c,s,d,l,h,p){if(c!==d||s!==l){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:$e(c,d)},{i:m-2,x:$e(s,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(c,s){var d=[],l=[];return c=e(c),s=e(s),o(c.translateX,c.translateY,s.translateX,s.translateY,d,l),a(c.rotate,s.rotate,d,l),f(c.skewX,s.skewX,d,l),u(c.scaleX,c.scaleY,s.scaleX,s.scaleY,d,l),c=s=null,function(h){for(var p=-1,m=l.length,g;++p<m;)d[(g=l[p]).i]=g.x(h);return d.join("")}}}var V_=Gh(G_,"px, ","px)","deg)"),Z_=Gh(X_,", ",")",")");function K_(e){return function(t,n){var r=e((t=nu(t)).h,(n=nu(n)).h),i=Ee(t.s,n.s),o=Ee(t.l,n.l),a=Ee(t.opacity,n.opacity);return function(f){return t.h=r(f),t.s=i(f),t.l=o(f),t.opacity=a(f),t+""}}}const Q_=K_(ic);function J_(e,t){var n=Ee((e=ru(e)).l,(t=ru(t)).l),r=Ee(e.a,t.a),i=Ee(e.b,t.b),o=Ee(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function ew(e){return function(t,n){var r=e((t=iu(t)).h,(n=iu(n)).h),i=Ee(t.c,n.c),o=Ee(t.l,n.l),a=Ee(t.opacity,n.opacity);return function(f){return t.h=r(f),t.c=i(f),t.l=o(f),t.opacity=a(f),t+""}}}const tw=ew(ic);function Xh(e){return function t(n){n=+n;function r(i,o){var a=e((i=vt(i)).h,(o=vt(o)).h),f=Ee(i.s,o.s),u=Ee(i.l,o.l),c=Ee(i.opacity,o.opacity);return function(s){return i.h=a(s),i.s=f(s),i.l=u(Math.pow(s,n)),i.opacity=c(s),i+""}}return r.gamma=t,r}(1)}Xh(ic);var ac=Xh(Ee);function da(e,t){t===void 0&&(t=e,e=pi);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function nt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var ir=0,Or=0,$r=0,Vh=1e3,To,Pr,Mo=0,Cn=0,ha=0,ei=typeof performance=="object"&&performance.now?performance:Date,Zh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function fc(){return Cn||(Zh(nw),Cn=ei.now()+ha)}function nw(){Cn=0}function So(){this._call=this._time=this._next=null}So.prototype=Kh.prototype={constructor:So,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?fc():+n)+(t==null?0:+t),!this._next&&Pr!==this&&(Pr?Pr._next=this:To=this,Pr=this),this._call=e,this._time=n,fu()},stop:function(){this._call&&(this._call=null,this._time=1/0,fu())}};function Kh(e,t,n){var r=new So;return r.restart(e,t,n),r}function rw(){fc(),++ir;for(var e=To,t;e;)(t=Cn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ir}function Xs(){Cn=(Mo=ei.now())+ha,ir=Or=0;try{rw()}finally{ir=0,ow(),Cn=0}}function iw(){var e=ei.now(),t=e-Mo;t>Vh&&(ha-=t,Mo=e)}function ow(){for(var e,t=To,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:To=n);Pr=e,fu(r)}function fu(e){if(!ir){Or&&(Or=clearTimeout(Or));var t=e-Cn;t>24?(e<1/0&&(Or=setTimeout(Xs,e-ei.now()-ha)),$r&&($r=clearInterval($r))):($r||(Mo=ei.now(),$r=setInterval(iw,Vh)),ir=1,Zh(Xs))}}function Vs(e,t,n){var r=new So;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var aw=vh("start","end","cancel","interrupt"),fw=[],Qh=0,Zs=1,uu=2,co=3,Ks=4,cu=5,so=6;function pa(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;uw(e,n,{name:t,index:r,group:i,on:aw,tween:fw,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Qh})}function uc(e,t){var n=ft(e,t);if(n.state>Qh)throw new Error("too late; already scheduled");return n}function Mt(e,t){var n=ft(e,t);if(n.state>co)throw new Error("too late; already running");return n}function ft(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function uw(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Kh(o,0,n.time);function o(c){n.state=Zs,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var s,d,l,h;if(n.state!==Zs)return u();for(s in r)if(h=r[s],h.name===n.name){if(h.state===co)return Vs(a);h.state===Ks?(h.state=so,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[s]):+s<t&&(h.state=so,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[s])}if(Vs(function(){n.state===co&&(n.state=Ks,n.timer.restart(f,n.delay,n.time),f(c))}),n.state=uu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===uu){for(n.state=co,i=new Array(l=n.tween.length),s=0,d=-1;s<l;++s)(h=n.tween[s].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function f(c){for(var s=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=cu,1),d=-1,l=i.length;++d<l;)i[d].call(e,s);n.state===cu&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=so,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function cw(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>uu&&r.state<cu,r.state=so,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function sw(e){return this.each(function(){cw(this,e)})}function lw(e,t){var n,r;return function(){var i=Mt(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function dw(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Mt(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:t,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===t){i[u]=f;break}u===c&&i.push(f)}o.tween=i}}function hw(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ft(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?lw:dw)(n,e,t))}function cc(e,t,n){var r=e._id;return e.each(function(){var i=Mt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ft(i,r).value[t]}}function Jh(e,t){var n;return(typeof t=="number"?$e:t instanceof An?En:(n=An(t))?(t=n,En):jh)(e,t)}function pw(e){return function(){this.removeAttribute(e)}}function mw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function gw(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function bw(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function yw(e,t,n){var r,i,o;return function(){var a,f=n(this),u;return f==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=f+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,f)))}}function _w(e,t,n){var r,i,o;return function(){var a,f=n(this),u;return f==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=f+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,f)))}}function ww(e,t){var n=ua(e),r=n==="transform"?Z_:Jh;return this.attrTween(e,typeof t=="function"?(n.local?_w:yw)(n,r,cc(this,"attr."+e,t)):t==null?(n.local?mw:pw)(n):(n.local?bw:gw)(n,r,t))}function vw(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function xw(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function Tw(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&xw(e,o)),n}return i._value=t,i}function Mw(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&vw(e,o)),n}return i._value=t,i}function Sw(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ua(e);return this.tween(n,(r.local?Tw:Mw)(r,t))}function $w(e,t){return function(){uc(this,e).delay=+t.apply(this,arguments)}}function Aw(e,t){return t=+t,function(){uc(this,e).delay=t}}function Ew(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?$w:Aw)(t,e)):ft(this.node(),t).delay}function Cw(e,t){return function(){Mt(this,e).duration=+t.apply(this,arguments)}}function kw(e,t){return t=+t,function(){Mt(this,e).duration=t}}function Nw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?Cw:kw)(t,e)):ft(this.node(),t).duration}function Dw(e,t){if(typeof t!="function")throw new Error;return function(){Mt(this,e).ease=t}}function Iw(e){var t=this._id;return arguments.length?this.each(Dw(t,e)):ft(this.node(),t).ease}function Rw(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Mt(this,e).ease=n}}function Lw(e){if(typeof e!="function")throw new Error;return this.each(Rw(this._id,e))}function Ow(e){typeof e!="function"&&(e=Th(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,f=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&f.push(u);return new Ut(r,this._parents,this._name,this._id)}function Pw(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var u=t[f],c=n[f],s=u.length,d=a[f]=new Array(s),l,h=0;h<s;++h)(l=u[h]||c[h])&&(d[h]=l);for(;f<r;++f)a[f]=t[f];return new Ut(a,this._parents,this._name,this._id)}function Fw(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function qw(e,t,n){var r,i,o=Fw(t)?uc:Mt;return function(){var a=o(this,e),f=a.on;f!==r&&(i=(r=f).copy()).on(t,n),a.on=i}}function zw(e,t){var n=this._id;return arguments.length<2?ft(this.node(),n).on.on(e):this.each(qw(n,e,t))}function Uw(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Bw(){return this.on("end.remove",Uw(this._id))}function Yw(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Ju(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],u=f.length,c=o[a]=new Array(u),s,d,l=0;l<u;++l)(s=f[l])&&(d=e.call(s,s.__data__,l,f))&&("__data__"in s&&(d.__data__=s.__data__),c[l]=d,pa(c[l],t,n,l,c,ft(s,n)));return new Ut(o,this._parents,t,n)}function Hw(e){var t=this._name,n=this._id;typeof e!="function"&&(e=xh(e));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var u=r[f],c=u.length,s,d=0;d<c;++d)if(s=u[d]){for(var l=e.call(s,s.__data__,d,u),h,p=ft(s,n),m=0,g=l.length;m<g;++m)(h=l[m])&&pa(h,t,n,m,l,p);o.push(l),a.push(s)}return new Ut(o,a,t,n)}var jw=di.prototype.constructor;function Ww(){return new jw(this._groups,this._parents)}function Gw(e,t){var n,r,i;return function(){var o=nr(this,e),a=(this.style.removeProperty(e),nr(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function e0(e){return function(){this.style.removeProperty(e)}}function Xw(e,t,n){var r,i=n+"",o;return function(){var a=nr(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function Vw(e,t,n){var r,i,o;return function(){var a=nr(this,e),f=n(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(e),nr(this,e))),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,f))}}function Zw(e,t){var n,r,i,o="style."+t,a="end."+o,f;return function(){var u=Mt(this,e),c=u.on,s=u.value[o]==null?f||(f=e0(t)):void 0;(c!==n||i!==s)&&(r=(n=c).copy()).on(a,i=s),u.on=r}}function Kw(e,t,n){var r=(e+="")=="transform"?V_:Jh;return t==null?this.styleTween(e,Gw(e,r)).on("end.style."+e,e0(e)):typeof t=="function"?this.styleTween(e,Vw(e,r,cc(this,"style."+e,t))).each(Zw(this._id,e)):this.styleTween(e,Xw(e,r,t),n).on("end.style."+e,null)}function Qw(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Jw(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Qw(e,a,n)),r}return o._value=t,o}function e6(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Jw(e,t,n??""))}function t6(e){return function(){this.textContent=e}}function n6(e){return function(){var t=e(this);this.textContent=t??""}}function r6(e){return this.tween("text",typeof e=="function"?n6(cc(this,"text",e)):t6(e==null?"":e+""))}function i6(e){return function(t){this.textContent=e.call(this,t)}}function o6(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&i6(i)),t}return r._value=e,r}function a6(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,o6(e))}function f6(){for(var e=this._name,t=this._id,n=t0(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,u,c=0;c<f;++c)if(u=a[c]){var s=ft(u,t);pa(u,e,n,c,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Ut(r,this._parents,e,n)}function u6(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var f={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var c=Mt(this,r),s=c.on;s!==e&&(t=(e=s).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(u)),c.on=t}),i===0&&o()})}var c6=0;function Ut(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function t0(){return++c6}var At=di.prototype;Ut.prototype={constructor:Ut,select:Yw,selectAll:Hw,selectChild:At.selectChild,selectChildren:At.selectChildren,filter:Ow,merge:Pw,selection:Ww,transition:f6,call:At.call,nodes:At.nodes,node:At.node,size:At.size,empty:At.empty,each:At.each,on:zw,attr:ww,attrTween:Sw,style:Kw,styleTween:e6,text:r6,textTween:a6,remove:Bw,tween:hw,delay:Ew,duration:Nw,ease:Iw,easeVarying:Lw,end:u6,[Symbol.iterator]:At[Symbol.iterator]};function s6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var l6={time:null,delay:0,duration:250,ease:s6};function d6(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function h6(e){var t,n;e instanceof Ut?(t=e._id,e=e._name):(t=t0(),(n=l6).time=fc(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,u,c=0;c<f;++c)(u=a[c])&&pa(u,e,t,c,a,n||d6(u,t));return new Ut(r,this._parents,e,t)}di.prototype.interrupt=sw;di.prototype.transition=h6;const su=Math.PI,lu=2*su,yn=1e-6,p6=lu-yn;function n0(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function m6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return n0;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class r0{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?n0:m6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,u=r-t,c=i-n,s=a-t,d=f-n,l=s*s+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(l>yn)if(!(Math.abs(d*u-c*s)>yn)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,p=i-f,m=u*u+c*c,g=h*h+p*p,y=Math.sqrt(m),b=Math.sqrt(l),w=o*Math.tan((su-Math.acos((m+l-g)/(2*y*b)))/2),_=w/b,v=w/y;Math.abs(_-1)>yn&&this._append`L${t+_*s},${n+_*d}`,this._append`A${o},${o},0,0,${+(d*h>s*p)},${this._x1=t+v*u},${this._y1=n+v*c}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),u=r*Math.sin(i),c=t+f,s=n+u,d=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${c},${s}`:(Math.abs(this._x1-c)>yn||Math.abs(this._y1-s)>yn)&&this._append`L${c},${s}`,r&&(l<0&&(l=l%lu+lu),l>p6?this._append`A${r},${r},0,1,${d},${t-f},${n-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=s}`:l>yn&&this._append`A${r},${r},0,${+(l>=su)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function du(e=3){return new r0(+e)}function g6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $o(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function or(e){return e=$o(Math.abs(e)),e?e[1]:NaN}function b6(e,t){return function(n,r){for(var i=n.length,o=[],a=0,f=e[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),o.push(n.substring(i-=f,i+f)),!((u+=f+1)>r));)f=e[a=(a+1)%e.length];return o.reverse().join(t)}}function y6(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var _6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ti(e){if(!(t=_6.exec(e)))throw new Error("invalid format: "+e);var t;return new sc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ti.prototype=sc.prototype;function sc(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}sc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function w6(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var i0;function v6(e,t){var n=$o(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(i0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$o(e,Math.max(0,t+o-1))[0]}function Qs(e,t){var n=$o(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Js={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:g6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Qs(e*100,t),r:Qs,s:v6,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function el(e){return e}var tl=Array.prototype.map,nl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function x6(e){var t=e.grouping===void 0||e.thousands===void 0?el:b6(tl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?el:y6(tl.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(d){d=ti(d);var l=d.fill,h=d.align,p=d.sign,m=d.symbol,g=d.zero,y=d.width,b=d.comma,w=d.precision,_=d.trim,v=d.type;v==="n"?(b=!0,v="g"):Js[v]||(w===void 0&&(w=12),_=!0,v="g"),(g||l==="0"&&h==="=")&&(g=!0,l="0",h="=");var x=m==="$"?n:m==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",M=m==="$"?r:/[%p]/.test(v)?a:"",S=Js[v],A=/[defgprs%]/.test(v);w=w===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function k(T){var D=x,N=M,I,$,L;if(v==="c")N=S(T)+N,T="";else{T=+T;var R=T<0||1/T<0;if(T=isNaN(T)?u:S(Math.abs(T),w),_&&(T=w6(T)),R&&+T==0&&p!=="+"&&(R=!1),D=(R?p==="("?p:f:p==="-"||p==="("?"":p)+D,N=(v==="s"?nl[8+i0/3]:"")+N+(R&&p==="("?")":""),A){for(I=-1,$=T.length;++I<$;)if(L=T.charCodeAt(I),48>L||L>57){N=(L===46?i+T.slice(I+1):T.slice(I))+N,T=T.slice(0,I);break}}}b&&!g&&(T=t(T,1/0));var H=D.length+T.length+N.length,j=H<y?new Array(y-H+1).join(l):"";switch(b&&g&&(T=t(j+T,j.length?y-N.length:1/0),j=""),h){case"<":T=D+T+N+j;break;case"=":T=D+j+T+N;break;case"^":T=j.slice(0,H=j.length>>1)+D+T+N+j.slice(H);break;default:T=j+D+T+N;break}return o(T)}return k.toString=function(){return d+""},k}function s(d,l){var h=c((d=ti(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(or(l)/3)))*3,m=Math.pow(10,-p),g=nl[8+p/3];return function(y){return h(m*y)+g}}return{format:c,formatPrefix:s}}var zi,_r,o0;T6({thousands:",",grouping:[3],currency:["$",""]});function T6(e){return zi=x6(e),_r=zi.format,o0=zi.formatPrefix,zi}function M6(e){return Math.max(0,-or(Math.abs(e)))}function S6(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(or(t)/3)))*3-or(Math.abs(e)))}function $6(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,or(t)-or(e))+1}var Q=1e-6,a0=1e-12,ne=Math.PI,he=ne/2,rl=ne/4,ze=ne*2,Ne=180/ne,de=ne/180,fe=Math.abs,wr=Math.atan,Bt=Math.atan2,ee=Math.cos,f0=Math.exp,Ao=Math.log,df=Math.pow,V=Math.sin,je=Math.sign||function(e){return e>0?1:e<0?-1:0},Le=Math.sqrt,lc=Math.tan;function u0(e){return e>1?0:e<-1?ne:Math.acos(e)}function Ve(e){return e>1?he:e<-1?-he:Math.asin(e)}function We(){}function Eo(e,t){e&&ol.hasOwnProperty(e.type)&&ol[e.type](e,t)}var il={Feature:function(e,t){Eo(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Eo(n[r].geometry,t)}},ol={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){hu(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)hu(n[r],t,0)},Polygon:function(e,t){al(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)al(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Eo(n[r],t)}};function hu(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function al(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)hu(e[n],t,1);t.polygonEnd()}function _n(e,t){e&&il.hasOwnProperty(e.type)?il[e.type](e,t):Eo(e,t)}function pu(e){return[Bt(e[1],e[0]),Ve(e[2])]}function ar(e){var t=e[0],n=e[1],r=ee(n);return[r*ee(t),r*V(t),V(n)]}function Ui(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Co(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function hf(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Bi(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function mu(e){var t=Le(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function gu(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function bu(e,t){return fe(e)>ne&&(e-=Math.round(e/ze)*ze),[e,t]}bu.invert=bu;function c0(e,t,n){return(e%=ze)?t||n?gu(ul(e),cl(t,n)):ul(e):t||n?cl(t,n):bu}function fl(e){return function(t,n){return t+=e,fe(t)>ne&&(t-=Math.round(t/ze)*ze),[t,n]}}function ul(e){var t=fl(e);return t.invert=fl(-e),t}function cl(e,t){var n=ee(e),r=V(e),i=ee(t),o=V(t);function a(f,u){var c=ee(u),s=ee(f)*c,d=V(f)*c,l=V(u),h=l*n+s*r;return[Bt(d*i-h*o,s*n-l*r),Ve(h*i+d*o)]}return a.invert=function(f,u){var c=ee(u),s=ee(f)*c,d=V(f)*c,l=V(u),h=l*i-d*o;return[Bt(d*i+l*o,s*n+h*r),Ve(h*n-s*r)]},a}function A6(e){e=c0(e[0]*de,e[1]*de,e.length>2?e[2]*de:0);function t(n){return n=e(n[0]*de,n[1]*de),n[0]*=Ne,n[1]*=Ne,n}return t.invert=function(n){return n=e.invert(n[0]*de,n[1]*de),n[0]*=Ne,n[1]*=Ne,n},t}function E6(e,t,n,r,i,o){if(n){var a=ee(t),f=V(t),u=r*n;i==null?(i=t+r*ze,o=t-u/2):(i=sl(a,i),o=sl(a,o),(r>0?i<o:i>o)&&(i+=r*ze));for(var c,s=i;r>0?s>o:s<o;s-=u)c=pu([a,-f*ee(s),-f*V(s)]),e.point(c[0],c[1])}}function sl(e,t){t=ar(t),t[0]-=e,mu(t);var n=u0(-t[1]);return((-t[2]<0?-n:n)+ze-Q)%ze}function s0(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:We,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function lo(e,t){return fe(e[0]-t[0])<Q&&fe(e[1]-t[1])<Q}function Yi(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function l0(e,t,n,r,i){var o=[],a=[],f,u;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],b;if(lo(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),f=0;f<m;++f)i.point((g=p[f])[0],g[1]);i.lineEnd();return}y[0]+=2*Q}o.push(b=new Yi(g,p,null,!0)),a.push(b.o=new Yi(g,null,b,!1)),o.push(b=new Yi(y,p,null,!1)),a.push(b.o=new Yi(y,null,b,!0))}}),!!o.length){for(a.sort(t),ll(o),ll(a),f=0,u=a.length;f<u;++f)a[f].e=n=!n;for(var c=o[0],s,d;;){for(var l=c,h=!0;l.v;)if((l=l.n)===c)return;s=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,u=s.length;f<u;++f)i.point((d=s[f])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(s=l.p.z,f=s.length-1;f>=0;--f)i.point((d=s[f])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,s=l.z,h=!h}while(!l.v);i.lineEnd()}}}function ll(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function pf(e){return fe(e[0])<=ne?e[0]:je(e[0])*((fe(e[0])+ne)%ze-ne)}function C6(e,t){var n=pf(t),r=t[1],i=V(r),o=[V(n),-ee(n),0],a=0,f=0,u=new Mn;i===1?r=he+Q:i===-1&&(r=-he-Q);for(var c=0,s=e.length;c<s;++c)if(l=(d=e[c]).length)for(var d,l,h=d[l-1],p=pf(h),m=h[1]/2+rl,g=V(m),y=ee(m),b=0;b<l;++b,p=_,g=x,y=M,h=w){var w=d[b],_=pf(w),v=w[1]/2+rl,x=V(v),M=ee(v),S=_-p,A=S>=0?1:-1,k=A*S,T=k>ne,D=g*x;if(u.add(Bt(D*A*V(k),y*M+D*ee(k))),a+=T?S+A*ze:S,T^p>=n^_>=n){var N=Co(ar(h),ar(w));mu(N);var I=Co(o,N);mu(I);var $=(T^S>=0?-1:1)*Ve(I[2]);(r>$||r===$&&(N[0]||N[1]))&&(f+=T^S>=0?1:-1)}}return(a<-Q||a<Q&&u<-a0)^f&1}function d0(e,t,n,r){return function(i){var o=t(i),a=s0(),f=t(a),u=!1,c,s,d,l={point:h,lineStart:m,lineEnd:g,polygonStart:function(){l.point=y,l.lineStart=b,l.lineEnd=w,s=[],c=[]},polygonEnd:function(){l.point=h,l.lineStart=m,l.lineEnd=g,s=wh(s);var _=C6(c,r);s.length?(u||(i.polygonStart(),u=!0),l0(s,N6,_,n,i)):_&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),s=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(_,v){e(_,v)&&i.point(_,v)}function p(_,v){o.point(_,v)}function m(){l.point=p,o.lineStart()}function g(){l.point=h,o.lineEnd()}function y(_,v){d.push([_,v]),f.point(_,v)}function b(){f.lineStart(),d=[]}function w(){y(d[0][0],d[0][1]),f.lineEnd();var _=f.clean(),v=a.result(),x,M=v.length,S,A,k;if(d.pop(),c.push(d),d=null,!!M){if(_&1){if(A=v[0],(S=A.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),x=0;x<S;++x)i.point((k=A[x])[0],k[1]);i.lineEnd()}return}M>1&&_&2&&v.push(v.pop().concat(v.shift())),s.push(v.filter(k6))}}return l}}function k6(e){return e.length>1}function N6(e,t){return((e=e.x)[0]<0?e[1]-he-Q:he-e[1])-((t=t.x)[0]<0?t[1]-he-Q:he-t[1])}const dl=d0(function(){return!0},D6,R6,[-ne,-he]);function D6(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var f=o>0?ne:-ne,u=fe(o-t);fe(u-ne)<Q?(e.point(t,n=(n+a)/2>0?he:-he),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),e.point(o,n),i=0):r!==f&&u>=ne&&(fe(t-r)<Q&&(t-=r*Q),fe(o-f)<Q&&(o-=f*Q),n=I6(t,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),i=0),e.point(t=o,n=a),r=f},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function I6(e,t,n,r){var i,o,a=V(e-n);return fe(a)>Q?wr((V(t)*(o=ee(r))*V(n)-V(r)*(i=ee(t))*V(e))/(i*o*a)):(t+r)/2}function R6(e,t,n,r){var i;if(e==null)i=n*he,r.point(-ne,i),r.point(0,i),r.point(ne,i),r.point(ne,0),r.point(ne,-i),r.point(0,-i),r.point(-ne,-i),r.point(-ne,0),r.point(-ne,i);else if(fe(e[0]-t[0])>Q){var o=e[0]<t[0]?ne:-ne;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function L6(e){var t=ee(e),n=2*de,r=t>0,i=fe(t)>Q;function o(s,d,l,h){E6(h,e,n,l,s,d)}function a(s,d){return ee(s)*ee(d)>t}function f(s){var d,l,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var b=[g,y],w,_=a(g,y),v=r?_?0:c(g,y):_?c(g+(g<0?ne:-ne),y):0;if(!d&&(p=h=_)&&s.lineStart(),_!==h&&(w=u(d,b),(!w||lo(d,w)||lo(b,w))&&(b[2]=1)),_!==h)m=0,_?(s.lineStart(),w=u(b,d),s.point(w[0],w[1])):(w=u(d,b),s.point(w[0],w[1],2),s.lineEnd()),d=w;else if(i&&d&&r^_){var x;!(v&l)&&(x=u(b,d,!0))&&(m=0,r?(s.lineStart(),s.point(x[0][0],x[0][1]),s.point(x[1][0],x[1][1]),s.lineEnd()):(s.point(x[1][0],x[1][1]),s.lineEnd(),s.lineStart(),s.point(x[0][0],x[0][1],3)))}_&&(!d||!lo(d,b))&&s.point(b[0],b[1]),d=b,h=_,l=v},lineEnd:function(){h&&s.lineEnd(),d=null},clean:function(){return m|(p&&h)<<1}}}function u(s,d,l){var h=ar(s),p=ar(d),m=[1,0,0],g=Co(h,p),y=Ui(g,g),b=g[0],w=y-b*b;if(!w)return!l&&s;var _=t*y/w,v=-t*b/w,x=Co(m,g),M=Bi(m,_),S=Bi(g,v);hf(M,S);var A=x,k=Ui(M,A),T=Ui(A,A),D=k*k-T*(Ui(M,M)-1);if(!(D<0)){var N=Le(D),I=Bi(A,(-k-N)/T);if(hf(I,M),I=pu(I),!l)return I;var $=s[0],L=d[0],R=s[1],H=d[1],j;L<$&&(j=$,$=L,L=j);var O=L-$,F=fe(O-ne)<Q,P=F||O<Q;if(!F&&H<R&&(j=R,R=H,H=j),P?F?R+H>0^I[1]<(fe(I[0]-$)<Q?R:H):R<=I[1]&&I[1]<=H:O>ne^($<=I[0]&&I[0]<=L)){var z=Bi(A,(-k+N)/T);return hf(z,M),[I,pu(z)]}}}function c(s,d){var l=r?e:ne-e,h=0;return s<-l?h|=1:s>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return d0(a,f,o,r?[0,-e]:[-ne,e-ne])}function O6(e,t,n,r,i,o){var a=e[0],f=e[1],u=t[0],c=t[1],s=0,d=1,l=u-a,h=c-f,p;if(p=n-a,!(!l&&p>0)){if(p/=l,l<0){if(p<s)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>s&&(s=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>s&&(s=p)}else if(l>0){if(p<s)return;p<d&&(d=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<s)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>s&&(s=p)}if(p=o-f,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>s&&(s=p)}else if(h>0){if(p<s)return;p<d&&(d=p)}return s>0&&(e[0]=a+s*l,e[1]=f+s*h),d<1&&(t[0]=a+d*l,t[1]=f+d*h),!0}}}}}var Fr=1e9,Hi=-Fr;function h0(e,t,n,r){function i(c,s){return e<=c&&c<=n&&t<=s&&s<=r}function o(c,s,d,l){var h=0,p=0;if(c==null||(h=a(c,d))!==(p=a(s,d))||u(c,s)<0^d>0)do l.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+d+4)%4)!==p);else l.point(s[0],s[1])}function a(c,s){return fe(c[0]-e)<Q?s>0?0:3:fe(c[0]-n)<Q?s>0?2:1:fe(c[1]-t)<Q?s>0?1:0:s>0?3:2}function f(c,s){return u(c.x,s.x)}function u(c,s){var d=a(c,1),l=a(s,1);return d!==l?d-l:d===0?s[1]-c[1]:d===1?c[0]-s[0]:d===2?c[1]-s[1]:s[0]-c[0]}return function(c){var s=c,d=s0(),l,h,p,m,g,y,b,w,_,v,x,M={point:S,lineStart:D,lineEnd:N,polygonStart:k,polygonEnd:T};function S($,L){i($,L)&&s.point($,L)}function A(){for(var $=0,L=0,R=h.length;L<R;++L)for(var H=h[L],j=1,O=H.length,F=H[0],P,z,J=F[0],te=F[1];j<O;++j)P=J,z=te,F=H[j],J=F[0],te=F[1],z<=r?te>r&&(J-P)*(r-z)>(te-z)*(e-P)&&++$:te<=r&&(J-P)*(r-z)<(te-z)*(e-P)&&--$;return $}function k(){s=d,l=[],h=[],x=!0}function T(){var $=A(),L=x&&$,R=(l=wh(l)).length;(L||R)&&(c.polygonStart(),L&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),R&&l0(l,f,$,o,c),c.polygonEnd()),s=c,l=h=p=null}function D(){M.point=I,h&&h.push(p=[]),v=!0,_=!1,b=w=NaN}function N(){l&&(I(m,g),y&&_&&d.rejoin(),l.push(d.result())),M.point=S,_&&s.lineEnd()}function I($,L){var R=i($,L);if(h&&p.push([$,L]),v)m=$,g=L,y=R,v=!1,R&&(s.lineStart(),s.point($,L));else if(R&&_)s.point($,L);else{var H=[b=Math.max(Hi,Math.min(Fr,b)),w=Math.max(Hi,Math.min(Fr,w))],j=[$=Math.max(Hi,Math.min(Fr,$)),L=Math.max(Hi,Math.min(Fr,L))];O6(H,j,e,t,n,r)?(_||(s.lineStart(),s.point(H[0],H[1])),s.point(j[0],j[1]),R||s.lineEnd(),x=!1):R&&(s.lineStart(),s.point($,L),x=!1)}b=$,w=L,_=R}return M}}const yu=e=>e;var mf=new Mn,_u=new Mn,p0,m0,wu,vu,Rt={point:We,lineStart:We,lineEnd:We,polygonStart:function(){Rt.lineStart=P6,Rt.lineEnd=q6},polygonEnd:function(){Rt.lineStart=Rt.lineEnd=Rt.point=We,mf.add(fe(_u)),_u=new Mn},result:function(){var e=mf/2;return mf=new Mn,e}};function P6(){Rt.point=F6}function F6(e,t){Rt.point=g0,p0=wu=e,m0=vu=t}function g0(e,t){_u.add(vu*e-wu*t),wu=e,vu=t}function q6(){g0(p0,m0)}var fr=1/0,ko=fr,ni=-fr,No=ni,Do={point:z6,lineStart:We,lineEnd:We,polygonStart:We,polygonEnd:We,result:function(){var e=[[fr,ko],[ni,No]];return ni=No=-(ko=fr=1/0),e}};function z6(e,t){e<fr&&(fr=e),e>ni&&(ni=e),t<ko&&(ko=t),t>No&&(No=t)}var xu=0,Tu=0,qr=0,Io=0,Ro=0,Wn=0,Mu=0,Su=0,zr=0,b0,y0,pt,mt,Ye={point:kn,lineStart:hl,lineEnd:pl,polygonStart:function(){Ye.lineStart=Y6,Ye.lineEnd=H6},polygonEnd:function(){Ye.point=kn,Ye.lineStart=hl,Ye.lineEnd=pl},result:function(){var e=zr?[Mu/zr,Su/zr]:Wn?[Io/Wn,Ro/Wn]:qr?[xu/qr,Tu/qr]:[NaN,NaN];return xu=Tu=qr=Io=Ro=Wn=Mu=Su=zr=0,e}};function kn(e,t){xu+=e,Tu+=t,++qr}function hl(){Ye.point=U6}function U6(e,t){Ye.point=B6,kn(pt=e,mt=t)}function B6(e,t){var n=e-pt,r=t-mt,i=Le(n*n+r*r);Io+=i*(pt+e)/2,Ro+=i*(mt+t)/2,Wn+=i,kn(pt=e,mt=t)}function pl(){Ye.point=kn}function Y6(){Ye.point=j6}function H6(){_0(b0,y0)}function j6(e,t){Ye.point=_0,kn(b0=pt=e,y0=mt=t)}function _0(e,t){var n=e-pt,r=t-mt,i=Le(n*n+r*r);Io+=i*(pt+e)/2,Ro+=i*(mt+t)/2,Wn+=i,i=mt*e-pt*t,Mu+=i*(pt+e),Su+=i*(mt+t),zr+=i*3,kn(pt=e,mt=t)}function w0(e){this._context=e}w0.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,ze);break}}},result:We};var $u=new Mn,gf,v0,x0,Ur,Br,ri={point:We,lineStart:function(){ri.point=W6},lineEnd:function(){gf&&T0(v0,x0),ri.point=We},polygonStart:function(){gf=!0},polygonEnd:function(){gf=null},result:function(){var e=+$u;return $u=new Mn,e}};function W6(e,t){ri.point=T0,v0=Ur=e,x0=Br=t}function T0(e,t){Ur-=e,Br-=t,$u.add(Le(Ur*Ur+Br*Br)),Ur=e,Br=t}let ml,Lo,gl,bl;class yl{constructor(t){this._append=t==null?M0:G6(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==gl||this._append!==Lo){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,gl=r,Lo=this._append,bl=this._,this._=i}this._+=bl;break}}}result(){const t=this._;return this._="",t.length?t:null}}function M0(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function G6(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return M0;if(t!==ml){const n=10**t;ml=t,Lo=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Lo}function ma(e,t){let n=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),_n(f,i(o))),o.result()}return a.area=function(f){return _n(f,i(Rt)),Rt.result()},a.measure=function(f){return _n(f,i(ri)),ri.result()},a.bounds=function(f){return _n(f,i(Do)),Do.result()},a.centroid=function(f){return _n(f,i(Ye)),Ye.result()},a.projection=function(f){return arguments.length?(i=f==null?(e=null,yu):(e=f).stream,a):e},a.context=function(f){return arguments.length?(o=f==null?(t=null,new yl(n)):new w0(t=f),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);n=u}return t===null&&(o=new yl(n)),a},a.projection(e).digits(n).context(t)}function Au(e){return{stream:ga(e)}}function ga(e){return function(t){var n=new Eu;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Eu(){}Eu.prototype={constructor:Eu,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function dc(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),_n(n,e.stream(Do)),t(Do.result()),r!=null&&e.clipExtent(r),e}function hc(e,t,n){return dc(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([f,u])},n)}function S0(e,t,n){return hc(e,[[0,0],t],n)}function $0(e,t,n){return dc(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];e.scale(150*o).translate([a,f])},n)}function A0(e,t,n){return dc(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,f])},n)}var _l=16,X6=ee(30*de);function wl(e,t){return+t?Z6(e,t):V6(e)}function V6(e){return ga({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function Z6(e,t){function n(r,i,o,a,f,u,c,s,d,l,h,p,m,g){var y=c-r,b=s-i,w=y*y+b*b;if(w>4*t&&m--){var _=a+l,v=f+h,x=u+p,M=Le(_*_+v*v+x*x),S=Ve(x/=M),A=fe(fe(x)-1)<Q||fe(o-d)<Q?(o+d)/2:Bt(v,_),k=e(A,S),T=k[0],D=k[1],N=T-r,I=D-i,$=b*N-y*I;($*$/w>t||fe((y*N+b*I)/w-.5)>.3||a*l+f*h+u*p<X6)&&(n(r,i,o,a,f,u,T,D,A,_/=M,v/=M,x,m,g),g.point(T,D),n(T,D,A,_,v,x,c,s,d,l,h,p,m,g))}}return function(r){var i,o,a,f,u,c,s,d,l,h,p,m,g={point:y,lineStart:b,lineEnd:_,polygonStart:function(){r.polygonStart(),g.lineStart=v},polygonEnd:function(){r.polygonEnd(),g.lineStart=b}};function y(S,A){S=e(S,A),r.point(S[0],S[1])}function b(){d=NaN,g.point=w,r.lineStart()}function w(S,A){var k=ar([S,A]),T=e(S,A);n(d,l,s,h,p,m,d=T[0],l=T[1],s=S,h=k[0],p=k[1],m=k[2],_l,r),r.point(d,l)}function _(){g.point=y,r.lineEnd()}function v(){b(),g.point=x,g.lineEnd=M}function x(S,A){w(i=S,A),o=d,a=l,f=h,u=p,c=m,g.point=w}function M(){n(d,l,s,h,p,m,o,a,i,f,u,c,_l,r),g.lineEnd=_,_()}return g}}var K6=ga({point:function(e,t){this.stream.point(e*de,t*de)}});function Q6(e){return ga({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function J6(e,t,n,r,i){function o(a,f){return a*=r,f*=i,[t+e*a,n-e*f]}return o.invert=function(a,f){return[(a-t)/e*r,(n-f)/e*i]},o}function vl(e,t,n,r,i,o){if(!o)return J6(e,t,n,r,i);var a=ee(o),f=V(o),u=a*e,c=f*e,s=a/e,d=f/e,l=(f*n-a*t)/e,h=(f*t+a*n)/e;function p(m,g){return m*=r,g*=i,[u*m-c*g+t,n-c*m-u*g]}return p.invert=function(m,g){return[r*(s*m-d*g+l),i*(h-d*m-s*g)]},p}function cn(e){return E0(function(){return e})()}function E0(e){var t,n=150,r=480,i=250,o=0,a=0,f=0,u=0,c=0,s,d=0,l=1,h=1,p=null,m=dl,g=null,y,b,w,_=yu,v=.5,x,M,S,A,k;function T($){return S($[0]*de,$[1]*de)}function D($){return $=S.invert($[0],$[1]),$&&[$[0]*Ne,$[1]*Ne]}T.stream=function($){return A&&k===$?A:A=K6(Q6(s)(m(x(_(k=$)))))},T.preclip=function($){return arguments.length?(m=$,p=void 0,I()):m},T.postclip=function($){return arguments.length?(_=$,g=y=b=w=null,I()):_},T.clipAngle=function($){return arguments.length?(m=+$?L6(p=$*de):(p=null,dl),I()):p*Ne},T.clipExtent=function($){return arguments.length?(_=$==null?(g=y=b=w=null,yu):h0(g=+$[0][0],y=+$[0][1],b=+$[1][0],w=+$[1][1]),I()):g==null?null:[[g,y],[b,w]]},T.scale=function($){return arguments.length?(n=+$,N()):n},T.translate=function($){return arguments.length?(r=+$[0],i=+$[1],N()):[r,i]},T.center=function($){return arguments.length?(o=$[0]%360*de,a=$[1]%360*de,N()):[o*Ne,a*Ne]},T.rotate=function($){return arguments.length?(f=$[0]%360*de,u=$[1]%360*de,c=$.length>2?$[2]%360*de:0,N()):[f*Ne,u*Ne,c*Ne]},T.angle=function($){return arguments.length?(d=$%360*de,N()):d*Ne},T.reflectX=function($){return arguments.length?(l=$?-1:1,N()):l<0},T.reflectY=function($){return arguments.length?(h=$?-1:1,N()):h<0},T.precision=function($){return arguments.length?(x=wl(M,v=$*$),I()):Le(v)},T.fitExtent=function($,L){return hc(T,$,L)},T.fitSize=function($,L){return S0(T,$,L)},T.fitWidth=function($,L){return $0(T,$,L)},T.fitHeight=function($,L){return A0(T,$,L)};function N(){var $=vl(n,0,0,l,h,d).apply(null,t(o,a)),L=vl(n,r-$[0],i-$[1],l,h,d);return s=c0(f,u,c),M=gu(t,L),S=gu(s,M),x=wl(M,v),I()}function I(){return A=k=null,T}return function(){return t=e.apply(this,arguments),T.invert=t.invert&&D,N()}}function pc(e){var t=0,n=ne/3,r=E0(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*de,n=o[1]*de):[t*Ne,n*Ne]},i}function ev(e){var t=ee(e);function n(r,i){return[r*t,V(i)/t]}return n.invert=function(r,i){return[r/t,Ve(i*t)]},n}function tv(e,t){var n=V(e),r=(n+V(t))/2;if(fe(r)<Q)return ev(e);var i=1+n*(2*r-n),o=Le(i)/r;function a(f,u){var c=Le(i-2*r*V(u))/r;return[c*V(f*=r),o-c*ee(f)]}return a.invert=function(f,u){var c=o-u,s=Bt(f,fe(c))*je(c);return c*r<0&&(s-=ne*je(f)*je(c)),[s/r,Ve((i-(f*f+c*c)*r*r)/(2*r))]},a}function Oo(){return pc(tv).scale(155.424).center([0,33.6442])}function C0(){return Oo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function nv(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function rv(){var e,t,n=C0(),r,i=Oo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Oo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(l,h){u=[l,h]}};function s(l){var h=l[0],p=l[1];return u=null,r.point(h,p),u||(o.point(h,p),u)||(f.point(h,p),u)}s.invert=function(l){var h=n.scale(),p=n.translate(),m=(l[0]-p[0])/h,g=(l[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?a:n).invert(l)},s.stream=function(l){return e&&t===l?e:e=nv([n.stream(t=l),i.stream(l),a.stream(l)])},s.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),a.precision(l),d()):n.precision()},s.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),a.scale(l),s.translate(n.translate())):n.scale()},s.translate=function(l){if(!arguments.length)return n.translate();var h=n.scale(),p=+l[0],m=+l[1];return r=n.translate(l).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(c),o=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+Q,m+.12*h+Q],[p-.214*h-Q,m+.234*h-Q]]).stream(c),f=a.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+Q,m+.166*h+Q],[p-.115*h-Q,m+.234*h-Q]]).stream(c),d()},s.fitExtent=function(l,h){return hc(s,l,h)},s.fitSize=function(l,h){return S0(s,l,h)},s.fitWidth=function(l,h){return $0(s,l,h)},s.fitHeight=function(l,h){return A0(s,l,h)};function d(){return e=t=null,s}return s.scale(1070)}function k0(e){return function(t,n){var r=ee(t),i=ee(n),o=e(r*i);return o===1/0?[2,0]:[o*i*V(t),o*V(n)]}}function mi(e){return function(t,n){var r=Le(t*t+n*n),i=e(r),o=V(i),a=ee(i);return[Bt(t*o,r*a),Ve(r&&n*o/r)]}}var N0=k0(function(e){return Le(2/(1+e))});N0.invert=mi(function(e){return 2*Ve(e/2)});function iv(){return cn(N0).scale(124.75).clipAngle(180-.001)}var D0=k0(function(e){return(e=u0(e))&&e/V(e)});D0.invert=mi(function(e){return e});function ov(){return cn(D0).scale(79.4188).clipAngle(180-.001)}function ba(e,t){return[e,Ao(lc((he+t)/2))]}ba.invert=function(e,t){return[e,2*wr(f0(t))-he]};function av(){return I0(ba).scale(961/ze)}function I0(e){var t=cn(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,a=null,f,u,c;t.scale=function(d){return arguments.length?(r(d),s()):r()},t.translate=function(d){return arguments.length?(i(d),s()):i()},t.center=function(d){return arguments.length?(n(d),s()):n()},t.clipExtent=function(d){return arguments.length?(d==null?a=f=u=c=null:(a=+d[0][0],f=+d[0][1],u=+d[1][0],c=+d[1][1]),s()):a==null?null:[[a,f],[u,c]]};function s(){var d=ne*r(),l=t(A6(t.rotate()).invert([0,0]));return o(a==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:e===ba?[[Math.max(l[0]-d,a),f],[Math.min(l[0]+d,u),c]]:[[a,Math.max(l[1]-d,f)],[u,Math.min(l[1]+d,c)]])}return s()}function ji(e){return lc((he+e)/2)}function fv(e,t){var n=ee(e),r=e===t?V(e):Ao(n/ee(t))/Ao(ji(t)/ji(e)),i=n*df(ji(e),r)/r;if(!r)return ba;function o(a,f){i>0?f<-he+Q&&(f=-he+Q):f>he-Q&&(f=he-Q);var u=i/df(ji(f),r);return[u*V(r*a),i-u*ee(r*a)]}return o.invert=function(a,f){var u=i-f,c=je(r)*Le(a*a+u*u),s=Bt(a,fe(u))*je(u);return u*r<0&&(s-=ne*je(a)*je(u)),[s/r,2*wr(df(i/c,1/r))-he]},o}function uv(){return pc(fv).scale(109.5).parallels([30,30])}function Po(e,t){return[e,t]}Po.invert=Po;function cv(){return cn(Po).scale(152.63)}function sv(e,t){var n=ee(e),r=e===t?V(e):(n-ee(t))/(t-e),i=n/r+e;if(fe(r)<Q)return Po;function o(a,f){var u=i-f,c=r*a;return[u*V(c),i-u*ee(c)]}return o.invert=function(a,f){var u=i-f,c=Bt(a,fe(u))*je(u);return u*r<0&&(c-=ne*je(a)*je(u)),[c/r,i-je(r)*Le(a*a+u*u)]},o}function lv(){return pc(sv).scale(131.154).center([0,13.9389])}var jr=1.340264,Wr=-.081106,Gr=893e-6,Xr=.003796,Fo=Le(3)/2,dv=12;function R0(e,t){var n=Ve(Fo*V(t)),r=n*n,i=r*r*r;return[e*ee(n)/(Fo*(jr+3*Wr*r+i*(7*Gr+9*Xr*r))),n*(jr+Wr*r+i*(Gr+Xr*r))]}R0.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,a,f,u;o<dv&&(f=n*(jr+Wr*r+i*(Gr+Xr*r))-t,u=jr+3*Wr*r+i*(7*Gr+9*Xr*r),n-=a=f/u,r=n*n,i=r*r*r,!(fe(a)<a0));++o);return[Fo*e*(jr+3*Wr*r+i*(7*Gr+9*Xr*r))/ee(n),Ve(V(n)/Fo)]};function hv(){return cn(R0).scale(177.158)}function L0(e,t){var n=ee(t),r=ee(e)*n;return[n*V(e)/r,V(t)/r]}L0.invert=mi(wr);function pv(){return cn(L0).scale(144.049).clipAngle(60)}function O0(e,t){return[ee(t)*V(e),V(t)]}O0.invert=mi(Ve);function mv(){return cn(O0).scale(249.5).clipAngle(90+Q)}function P0(e,t){var n=ee(t),r=1+ee(e)*n;return[n*V(e)/r,V(t)/r]}P0.invert=mi(function(e){return 2*wr(e)});function gv(){return cn(P0).scale(250).clipAngle(142)}function F0(e,t){return[Ao(lc((he+t)/2)),-e]}F0.invert=function(e,t){return[-t,2*wr(f0(e))-he]};function bv(){var e=I0(F0),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function St(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ya(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Cu=Symbol("implicit");function mc(){var e=new Sn,t=[],n=[],r=Cu;function i(o){let a=e.get(o);if(a===void 0){if(r!==Cu)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Sn;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return mc(t,n).unknown(r)},St.apply(i,arguments),i}function _a(){var e=mc().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,f=!1,u=0,c=0,s=.5;delete e.unknown;function d(){var l=t().length,h=i<r,p=h?i:r,m=h?r:i;o=(m-p)/Math.max(1,l-u+c*2),f&&(o=Math.floor(o)),p+=(m-p-o*(l-u))*s,a=o*(1-u),f&&(p=Math.round(p),a=Math.round(a));var g=eu(l).map(function(y){return p+o*y});return n(h?g.reverse():g)}return e.domain=function(l){return arguments.length?(t(l),d()):t()},e.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,d()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(l){return arguments.length?(f=!!l,d()):f},e.padding=function(l){return arguments.length?(u=Math.min(1,c=+l),d()):u},e.paddingInner=function(l){return arguments.length?(u=Math.min(1,l),d()):u},e.paddingOuter=function(l){return arguments.length?(c=+l,d()):c},e.align=function(l){return arguments.length?(s=Math.max(0,Math.min(1,l)),d()):s},e.copy=function(){return _a(t(),[r,i]).round(f).paddingInner(u).paddingOuter(c).align(s)},St.apply(d(),arguments)}function q0(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return q0(t())},e}function yv(){return q0(_a.apply(null,arguments).paddingInner(1))}function _v(e){return function(){return e}}function ku(e){return+e}var xl=[0,1];function Ge(e){return e}function Nu(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:_v(isNaN(t)?NaN:.5)}function wv(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function vv(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=Nu(i,r),o=n(a,o)):(r=Nu(r,i),o=n(o,a)),function(f){return o(r(f))}}function xv(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=Nu(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(f){var u=oa(e,f,1,r)-1;return o[u](i[u](f))}}function gi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wa(){var e=xl,t=xl,n=pi,r,i,o,a=Ge,f,u,c;function s(){var l=Math.min(e.length,t.length);return a!==Ge&&(a=wv(e[0],e[l-1])),f=l>2?xv:vv,u=c=null,d}function d(l){return l==null||isNaN(l=+l)?o:(u||(u=f(e.map(r),t,n)))(r(a(l)))}return d.invert=function(l){return a(i((c||(c=f(t,e.map(r),$e)))(l)))},d.domain=function(l){return arguments.length?(e=Array.from(l,ku),s()):e.slice()},d.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},d.rangeRound=function(l){return t=Array.from(l),n=oc,s()},d.clamp=function(l){return arguments.length?(a=l?!0:Ge,s()):a!==Ge},d.interpolate=function(l){return arguments.length?(n=l,s()):n},d.unknown=function(l){return arguments.length?(o=l,d):o},function(l,h){return r=l,i=h,s()}}function z0(){return wa()(Ge,Ge)}function Tv(e,t,n,r){var i=Qf(e,t,n),o;switch(r=ti(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=S6(i,a))&&(r.precision=o),o0(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=$6(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=M6(i))&&(r.precision=o-(r.type==="%")*2);break}}return _r(r)}function bi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Kr(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return Tv(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],f=r[o],u,c,s=10;for(f<a&&(c=a,a=f,f=c,c=i,i=o,o=c);s-- >0;){if(c=yo(a,f,n),c===u)return r[i]=a,r[o]=f,t(r);if(c>0)a=Math.floor(a/c)*c,f=Math.ceil(f/c)*c;else if(c<0)a=Math.ceil(a*c)/c,f=Math.floor(f*c)/c;else break;u=c}return e},e}function gc(){var e=z0();return e.copy=function(){return gi(e,gc())},St.apply(e,arguments),bi(e)}function U0(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,ku),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return U0(e).unknown(t)},e=arguments.length?Array.from(e,ku):[0,1],bi(n)}function B0(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Tl(e){return Math.log(e)}function Ml(e){return Math.exp(e)}function Mv(e){return-Math.log(-e)}function Sv(e){return-Math.exp(-e)}function $v(e){return isFinite(e)?+("1e"+e):e<0?0:e}function Av(e){return e===10?$v:e===Math.E?Math.exp:t=>Math.pow(e,t)}function Ev(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Sl(e){return(t,n)=>-e(-t,n)}function Y0(e){const t=e(Tl,Ml),n=t.domain;let r=10,i,o;function a(){return i=Ev(r),o=Av(r),n()[0]<0?(i=Sl(i),o=Sl(o),e(Mv,Sv)):e(Tl,Ml),t}return t.base=function(f){return arguments.length?(r=+f,a()):r},t.domain=function(f){return arguments.length?(n(f),a()):n()},t.ticks=f=>{const u=n();let c=u[0],s=u[u.length-1];const d=s<c;d&&([c,s]=[s,c]);let l=i(c),h=i(s),p,m;const g=f==null?10:+f;let y=[];if(!(r%1)&&h-l<g){if(l=Math.floor(l),h=Math.ceil(h),c>0){for(;l<=h;++l)for(p=1;p<r;++p)if(m=l<0?p/o(-l):p*o(l),!(m<c)){if(m>s)break;y.push(m)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(m=l>0?p/o(-l):p*o(l),!(m<c)){if(m>s)break;y.push(m)}y.length*2<g&&(y=Kr(c,s,g))}else y=Kr(l,h,Math.min(h-l,g)).map(o);return d?y.reverse():y},t.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=ti(u)).precision==null&&(u.trim=!0),u=_r(u)),f===1/0)return u;const c=Math.max(1,r*f/t.ticks().length);return s=>{let d=s/o(Math.round(i(s)));return d*r<r-.5&&(d*=r),d<=c?u(s):""}},t.nice=()=>n(B0(n(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),t}function H0(){const e=Y0(wa()).domain([1,10]);return e.copy=()=>gi(e,H0()).base(e.base()),St.apply(e,arguments),e}function $l(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function Al(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function j0(e){var t=1,n=e($l(t),Al(t));return n.constant=function(r){return arguments.length?e($l(t=+r),Al(t)):t},bi(n)}function W0(){var e=j0(wa());return e.copy=function(){return gi(e,W0()).constant(e.constant())},St.apply(e,arguments)}function El(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function Cv(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function kv(e){return e<0?-e*e:e*e}function G0(e){var t=e(Ge,Ge),n=1;function r(){return n===1?e(Ge,Ge):n===.5?e(Cv,kv):e(El(n),El(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},bi(t)}function X0(){var e=G0(wa());return e.copy=function(){return gi(e,X0()).exponent(e.exponent())},St.apply(e,arguments),e}function V0(){var e=[],t=[],n=[],r;function i(){var a=0,f=Math.max(1,t.length);for(n=new Array(f-1);++a<f;)n[a-1]=Ty(e,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:t[oa(n,a)]}return o.invertExtent=function(a){var f=t.indexOf(a);return f<0?[NaN,NaN]:[f>0?n[f-1]:e[0],f<n.length?n[f]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let f of a)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(Re),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return V0().domain(e).range(t).unknown(r)},St.apply(o,arguments)}function Z0(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[oa(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return Z0().domain(e).range(t).unknown(n)},St.apply(i,arguments)}const bf=new Date,yf=new Date;function ge(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const u=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return u;let c;do u.push(c=new Date(+o)),t(o,f),e(o);while(c<o&&o<a);return u},i.filter=o=>ge(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;t(a,-1),!o(a););else for(;--f>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(bf.setTime(+o),yf.setTime(+a),e(bf),e(yf),Math.floor(n(bf,yf))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const qo=ge(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qo.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ge(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):qo);qo.range;const Ot=1e3,Xe=Ot*60,Pt=Xe*60,Yt=Pt*24,bc=Yt*7,Cl=Yt*30,_f=Yt*365,et=ge(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ot)},(e,t)=>(t-e)/Ot,e=>e.getUTCSeconds());et.range;const yi=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ot)},(e,t)=>{e.setTime(+e+t*Xe)},(e,t)=>(t-e)/Xe,e=>e.getMinutes());yi.range;const _i=ge(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Xe)},(e,t)=>(t-e)/Xe,e=>e.getUTCMinutes());_i.range;const wi=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ot-e.getMinutes()*Xe)},(e,t)=>{e.setTime(+e+t*Pt)},(e,t)=>(t-e)/Pt,e=>e.getHours());wi.range;const vi=ge(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Pt)},(e,t)=>(t-e)/Pt,e=>e.getUTCHours());vi.range;const Rn=ge(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Xe)/Yt,e=>e.getDate()-1);Rn.range;const va=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yt,e=>e.getUTCDate()-1);va.range;const xa=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yt,e=>Math.floor(e/Yt));xa.range;function Ln(e){return ge(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Xe)/bc)}const ur=Ln(0),ii=Ln(1),K0=Ln(2),Q0=Ln(3),Nn=Ln(4),J0=Ln(5),ep=Ln(6);ur.range;ii.range;K0.range;Q0.range;Nn.range;J0.range;ep.range;function On(e){return ge(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/bc)}const cr=On(0),oi=On(1),tp=On(2),np=On(3),Dn=On(4),rp=On(5),ip=On(6);cr.range;oi.range;tp.range;np.range;Dn.range;rp.range;ip.range;const xi=ge(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());xi.range;const Ti=ge(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ti.range;const rt=ge(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());rt.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});rt.range;const ot=ge(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());ot.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});ot.range;function op(e,t,n,r,i,o){const a=[[et,1,Ot],[et,5,5*Ot],[et,15,15*Ot],[et,30,30*Ot],[o,1,Xe],[o,5,5*Xe],[o,15,15*Xe],[o,30,30*Xe],[i,1,Pt],[i,3,3*Pt],[i,6,6*Pt],[i,12,12*Pt],[r,1,Yt],[r,2,2*Yt],[n,1,bc],[t,1,Cl],[t,3,3*Cl],[e,1,_f]];function f(c,s,d){const l=s<c;l&&([c,s]=[s,c]);const h=d&&typeof d.range=="function"?d:u(c,s,d),p=h?h.range(c,+s+1):[];return l?p.reverse():p}function u(c,s,d){const l=Math.abs(s-c)/d,h=ia(([,,g])=>g).right(a,l);if(h===a.length)return e.every(Qf(c/_f,s/_f,d));if(h===0)return qo.every(Math.max(Qf(c,s,d),1));const[p,m]=a[l/a[h-1][2]<a[h][2]/l?h-1:h];return p.every(m)}return[f,u]}const[Nv,ap]=op(ot,Ti,cr,xa,vi,_i),[Dv,Iv]=op(rt,xi,ur,Rn,wi,yi);function wf(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function vf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Ar(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function Rv(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,f=e.months,u=e.shortMonths,c=Er(i),s=Cr(i),d=Er(o),l=Cr(o),h=Er(a),p=Cr(a),m=Er(f),g=Cr(f),y=Er(u),b=Cr(u),w={a:R,A:H,b:j,B:O,c:null,d:Ll,e:Ll,f:r3,g:h3,G:m3,H:e3,I:t3,j:n3,L:fp,m:i3,M:o3,p:F,q:P,Q:Fl,s:ql,S:a3,u:f3,U:u3,V:c3,w:s3,W:l3,x:null,X:null,y:d3,Y:p3,Z:g3,"%":Pl},_={a:z,A:J,b:te,B:G,c:null,d:Ol,e:Ol,f:w3,g:k3,G:D3,H:b3,I:y3,j:_3,L:cp,m:v3,M:x3,p:B,q:Y,Q:Fl,s:ql,S:T3,u:M3,U:S3,V:$3,w:A3,W:E3,x:null,X:null,y:C3,Y:N3,Z:I3,"%":Pl},v={a:k,A:T,b:D,B:N,c:I,d:Il,e:Il,f:Zv,g:Dl,G:Nl,H:Rl,I:Rl,j:Wv,L:Vv,m:jv,M:Gv,p:A,q:Hv,Q:Qv,s:Jv,S:Xv,u:qv,U:zv,V:Uv,w:Fv,W:Bv,x:$,X:L,y:Dl,Y:Nl,Z:Yv,"%":Kv};w.x=x(n,w),w.X=x(r,w),w.c=x(t,w),_.x=x(n,_),_.X=x(r,_),_.c=x(t,_);function x(C,q){return function(U){var E=[],re=-1,W=0,ie=C.length,oe,ce,ct;for(U instanceof Date||(U=new Date(+U));++re<ie;)C.charCodeAt(re)===37&&(E.push(C.slice(W,re)),(ce=kl[oe=C.charAt(++re)])!=null?oe=C.charAt(++re):ce=oe==="e"?" ":"0",(ct=q[oe])&&(oe=ct(U,ce)),E.push(oe),W=re+1);return E.push(C.slice(W,re)),E.join("")}}function M(C,q){return function(U){var E=Ar(1900,void 0,1),re=S(E,C,U+="",0),W,ie;if(re!=U.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(q&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(W=vf(Ar(E.y,0,1)),ie=W.getUTCDay(),W=ie>4||ie===0?oi.ceil(W):oi(W),W=va.offset(W,(E.V-1)*7),E.y=W.getUTCFullYear(),E.m=W.getUTCMonth(),E.d=W.getUTCDate()+(E.w+6)%7):(W=wf(Ar(E.y,0,1)),ie=W.getDay(),W=ie>4||ie===0?ii.ceil(W):ii(W),W=Rn.offset(W,(E.V-1)*7),E.y=W.getFullYear(),E.m=W.getMonth(),E.d=W.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),ie="Z"in E?vf(Ar(E.y,0,1)).getUTCDay():wf(Ar(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(ie+5)%7:E.w+E.U*7-(ie+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,vf(E)):wf(E)}}function S(C,q,U,E){for(var re=0,W=q.length,ie=U.length,oe,ce;re<W;){if(E>=ie)return-1;if(oe=q.charCodeAt(re++),oe===37){if(oe=q.charAt(re++),ce=v[oe in kl?q.charAt(re++):oe],!ce||(E=ce(C,U,E))<0)return-1}else if(oe!=U.charCodeAt(E++))return-1}return E}function A(C,q,U){var E=c.exec(q.slice(U));return E?(C.p=s.get(E[0].toLowerCase()),U+E[0].length):-1}function k(C,q,U){var E=h.exec(q.slice(U));return E?(C.w=p.get(E[0].toLowerCase()),U+E[0].length):-1}function T(C,q,U){var E=d.exec(q.slice(U));return E?(C.w=l.get(E[0].toLowerCase()),U+E[0].length):-1}function D(C,q,U){var E=y.exec(q.slice(U));return E?(C.m=b.get(E[0].toLowerCase()),U+E[0].length):-1}function N(C,q,U){var E=m.exec(q.slice(U));return E?(C.m=g.get(E[0].toLowerCase()),U+E[0].length):-1}function I(C,q,U){return S(C,t,q,U)}function $(C,q,U){return S(C,n,q,U)}function L(C,q,U){return S(C,r,q,U)}function R(C){return a[C.getDay()]}function H(C){return o[C.getDay()]}function j(C){return u[C.getMonth()]}function O(C){return f[C.getMonth()]}function F(C){return i[+(C.getHours()>=12)]}function P(C){return 1+~~(C.getMonth()/3)}function z(C){return a[C.getUTCDay()]}function J(C){return o[C.getUTCDay()]}function te(C){return u[C.getUTCMonth()]}function G(C){return f[C.getUTCMonth()]}function B(C){return i[+(C.getUTCHours()>=12)]}function Y(C){return 1+~~(C.getUTCMonth()/3)}return{format:function(C){var q=x(C+="",w);return q.toString=function(){return C},q},parse:function(C){var q=M(C+="",!1);return q.toString=function(){return C},q},utcFormat:function(C){var q=x(C+="",_);return q.toString=function(){return C},q},utcParse:function(C){var q=M(C+="",!0);return q.toString=function(){return C},q}}}var kl={"-":"",_:" ",0:"0"},ve=/^\s*\d+/,Lv=/^%/,Ov=/[\\^$*+?|[\]().{}]/g;function ae(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function Pv(e){return e.replace(Ov,"\\$&")}function Er(e){return new RegExp("^(?:"+e.map(Pv).join("|")+")","i")}function Cr(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function Fv(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function qv(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function zv(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function Uv(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function Bv(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Nl(e,t,n){var r=ve.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Dl(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function Yv(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function Hv(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function jv(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Il(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function Wv(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Rl(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function Gv(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function Xv(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function Vv(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function Zv(e,t,n){var r=ve.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function Kv(e,t,n){var r=Lv.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function Qv(e,t,n){var r=ve.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Jv(e,t,n){var r=ve.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Ll(e,t){return ae(e.getDate(),t,2)}function e3(e,t){return ae(e.getHours(),t,2)}function t3(e,t){return ae(e.getHours()%12||12,t,2)}function n3(e,t){return ae(1+Rn.count(rt(e),e),t,3)}function fp(e,t){return ae(e.getMilliseconds(),t,3)}function r3(e,t){return fp(e,t)+"000"}function i3(e,t){return ae(e.getMonth()+1,t,2)}function o3(e,t){return ae(e.getMinutes(),t,2)}function a3(e,t){return ae(e.getSeconds(),t,2)}function f3(e){var t=e.getDay();return t===0?7:t}function u3(e,t){return ae(ur.count(rt(e)-1,e),t,2)}function up(e){var t=e.getDay();return t>=4||t===0?Nn(e):Nn.ceil(e)}function c3(e,t){return e=up(e),ae(Nn.count(rt(e),e)+(rt(e).getDay()===4),t,2)}function s3(e){return e.getDay()}function l3(e,t){return ae(ii.count(rt(e)-1,e),t,2)}function d3(e,t){return ae(e.getFullYear()%100,t,2)}function h3(e,t){return e=up(e),ae(e.getFullYear()%100,t,2)}function p3(e,t){return ae(e.getFullYear()%1e4,t,4)}function m3(e,t){var n=e.getDay();return e=n>=4||n===0?Nn(e):Nn.ceil(e),ae(e.getFullYear()%1e4,t,4)}function g3(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ae(t/60|0,"0",2)+ae(t%60,"0",2)}function Ol(e,t){return ae(e.getUTCDate(),t,2)}function b3(e,t){return ae(e.getUTCHours(),t,2)}function y3(e,t){return ae(e.getUTCHours()%12||12,t,2)}function _3(e,t){return ae(1+va.count(ot(e),e),t,3)}function cp(e,t){return ae(e.getUTCMilliseconds(),t,3)}function w3(e,t){return cp(e,t)+"000"}function v3(e,t){return ae(e.getUTCMonth()+1,t,2)}function x3(e,t){return ae(e.getUTCMinutes(),t,2)}function T3(e,t){return ae(e.getUTCSeconds(),t,2)}function M3(e){var t=e.getUTCDay();return t===0?7:t}function S3(e,t){return ae(cr.count(ot(e)-1,e),t,2)}function sp(e){var t=e.getUTCDay();return t>=4||t===0?Dn(e):Dn.ceil(e)}function $3(e,t){return e=sp(e),ae(Dn.count(ot(e),e)+(ot(e).getUTCDay()===4),t,2)}function A3(e){return e.getUTCDay()}function E3(e,t){return ae(oi.count(ot(e)-1,e),t,2)}function C3(e,t){return ae(e.getUTCFullYear()%100,t,2)}function k3(e,t){return e=sp(e),ae(e.getUTCFullYear()%100,t,2)}function N3(e,t){return ae(e.getUTCFullYear()%1e4,t,4)}function D3(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Dn(e):Dn.ceil(e),ae(e.getUTCFullYear()%1e4,t,4)}function I3(){return"+0000"}function Pl(){return"%"}function Fl(e){return+e}function ql(e){return Math.floor(+e/1e3)}var Un,yc,Mi;R3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function R3(e){return Un=Rv(e),yc=Un.format,Un.parse,Mi=Un.utcFormat,Un.utcParse,Un}function L3(e){return new Date(e)}function O3(e){return e instanceof Date?+e:+new Date(+e)}function _c(e,t,n,r,i,o,a,f,u,c){var s=z0(),d=s.invert,l=s.domain,h=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),b=c("%b %d"),w=c("%B"),_=c("%Y");function v(x){return(u(x)<x?h:f(x)<x?p:a(x)<x?m:o(x)<x?g:r(x)<x?i(x)<x?y:b:n(x)<x?w:_)(x)}return s.invert=function(x){return new Date(d(x))},s.domain=function(x){return arguments.length?l(Array.from(x,O3)):l().map(L3)},s.ticks=function(x){var M=l();return e(M[0],M[M.length-1],x??10)},s.tickFormat=function(x,M){return M==null?v:c(M)},s.nice=function(x){var M=l();return(!x||typeof x.range!="function")&&(x=t(M[0],M[M.length-1],x??10)),x?l(B0(M,x)):s},s.copy=function(){return gi(s,_c(e,t,n,r,i,o,a,f,u,c))},s}function P3(){return St.apply(_c(Dv,Iv,rt,xi,ur,Rn,wi,yi,et,yc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function F3(){return St.apply(_c(Nv,ap,ot,Ti,cr,va,vi,_i,et,Mi).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ta(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ma(){var e=0,t=.5,n=1,r=1,i,o,a,f,u,c=Ge,s,d=!1,l;function h(m){return isNaN(m=+m)?l:(m=.5+((m=+s(m))-o)*(r*m<r*o?f:u),c(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=s(e=+e),o=s(t=+t),a=s(n=+n),f=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(c=m,h):c};function p(m){return function(g){var y,b,w;return arguments.length?([y,b,w]=g,c=da(m,[y,b,w]),h):[c(0),c(.5),c(1)]}}return h.range=p(pi),h.rangeRound=p(oc),h.unknown=function(m){return arguments.length?(l=m,h):l},function(m){return s=m,i=m(e),o=m(t),a=m(n),f=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function lp(){var e=bi(Ma()(Ge));return e.copy=function(){return Ta(e,lp())},ya.apply(e,arguments)}function dp(){var e=Y0(Ma()).domain([.1,1,10]);return e.copy=function(){return Ta(e,dp()).base(e.base())},ya.apply(e,arguments)}function hp(){var e=j0(Ma());return e.copy=function(){return Ta(e,hp()).constant(e.constant())},ya.apply(e,arguments)}function pp(){var e=G0(Ma());return e.copy=function(){return Ta(e,pp()).exponent(e.exponent())},ya.apply(e,arguments)}function Z(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const q3=Z("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),z3=Z("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),U3=Z("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),B3=Z("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Y3=Z("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),H3=Z("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),j3=Z("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),W3=Z("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),G3=Z("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),X3=Z("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),V3=Z("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ue=e=>q_(e[e.length-1]);var mp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Z);const gp=ue(mp);var bp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Z);const yp=ue(bp);var _p=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Z);const wp=ue(_p);var vp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Z);const xp=ue(vp);var Du=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Z);const zo=ue(Du);var Tp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Z);const Mp=ue(Tp);var Iu=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Z);const Uo=ue(Iu);var Sp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Z);const $p=ue(Sp);var Ap=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Z);const Ep=ue(Ap);var Cp=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Z);const kp=ue(Cp);var Np=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Z);const Dp=ue(Np);var Ip=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Z);const Rp=ue(Ip);var Lp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Z);const Op=ue(Lp);var Pp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Z);const Fp=ue(Pp);var qp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Z);const zp=ue(qp);var Up=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Z);const Bp=ue(Up);var Yp=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Z);const Hp=ue(Yp);var jp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Z);const Wp=ue(jp);var Gp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Z);const Xp=ue(Gp);var Vp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Z);const Zp=ue(Vp);var Kp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Z);const Qp=ue(Kp);var Jp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Z);const e1=ue(Jp);var t1=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Z);const n1=ue(t1);var r1=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Z);const i1=ue(r1);var o1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Z);const a1=ue(o1);var f1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Z);const u1=ue(f1);var c1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Z);const s1=ue(c1);function l1(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const d1=ac(vt(300,.5,0),vt(-240,.5,1));var h1=ac(vt(-100,.75,.35),vt(80,1.5,.8)),p1=ac(vt(260,.75,.35),vt(80,1.5,.8)),Wi=vt();function m1(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Wi.h=360*e-100,Wi.s=1.5-1.5*t,Wi.l=.8-.9*t,Wi+""}var Gi=rn(),Z3=Math.PI/3,K3=Math.PI*2/3;function g1(e){var t;return e=(.5-e)*Math.PI,Gi.r=255*(t=Math.sin(e))*t,Gi.g=255*(t=Math.sin(e+Z3))*t,Gi.b=255*(t=Math.sin(e+K3))*t,Gi+""}function b1(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Sa(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const y1=Sa(Z("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var _1=Sa(Z("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),w1=Sa(Z("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),v1=Sa(Z("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function _e(e){return function(){return e}}const x1=Math.cos,wc=Math.min,Bo=Math.sin,be=Math.sqrt,zl=1e-12,Yo=Math.PI,$a=2*Yo;function T1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new r0(t)}function M1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function S1(e){this._context=e}S1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Si(e){return new S1(e)}function $1(e){return e[0]}function A1(e){return e[1]}function E1(e,t){var n=_e(!0),r=null,i=Si,o=null,a=T1(f);e=typeof e=="function"?e:e===void 0?$1:_e(e),t=typeof t=="function"?t:t===void 0?A1:_e(t);function f(u){var c,s=(u=M1(u)).length,d,l=!1,h;for(r==null&&(o=i(h=a())),c=0;c<=s;++c)!(c<s&&n(d=u[c],c,u))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+e(d,c,u),+t(d,c,u));if(h)return o=null,h+""||null}return f.x=function(u){return arguments.length?(e=typeof u=="function"?u:_e(+u),f):e},f.y=function(u){return arguments.length?(t=typeof u=="function"?u:_e(+u),f):t},f.defined=function(u){return arguments.length?(n=typeof u=="function"?u:_e(!!u),f):n},f.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),f):i},f.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),f):r},f}function Q3(e,t,n){var r=null,i=_e(!0),o=null,a=Si,f=null,u=T1(c);e=typeof e=="function"?e:e===void 0?$1:_e(+e),t=typeof t=="function"?t:_e(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?A1:_e(+n);function c(d){var l,h,p,m=(d=M1(d)).length,g,y=!1,b,w=new Array(m),_=new Array(m);for(o==null&&(f=a(b=u())),l=0;l<=m;++l){if(!(l<m&&i(g=d[l],l,d))===y)if(y=!y)h=l,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),p=l-1;p>=h;--p)f.point(w[p],_[p]);f.lineEnd(),f.areaEnd()}y&&(w[l]=+e(g,l,d),_[l]=+t(g,l,d),f.point(r?+r(g,l,d):w[l],n?+n(g,l,d):_[l]))}if(b)return f=null,b+""||null}function s(){return E1().defined(i).curve(a).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:_e(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:_e(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:_e(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:_e(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:_e(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:_e(+d),c):n},c.lineX0=c.lineY0=function(){return s().x(e).y(t)},c.lineY1=function(){return s().x(e).y(n)},c.lineX1=function(){return s().x(r).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:_e(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,o!=null&&(f=a(o)),c):a},c.context=function(d){return arguments.length?(d==null?o=f=null:f=a(o=d),c):o},c}class C1{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function J3(e){return new C1(e,!0)}function e5(e){return new C1(e,!1)}const t5=be(3),k1={draw(e,t){const n=be(t+wc(t/28,.75))*.59436,r=n/2,i=r*t5;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},vc={draw(e,t){const n=be(t/Yo);e.moveTo(n,0),e.arc(0,0,n,0,$a)}},N1={draw(e,t){const n=be(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},D1=be(1/3),n5=D1*2,I1={draw(e,t){const n=be(t/n5),r=n*D1;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},R1={draw(e,t){const n=be(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},L1={draw(e,t){const n=be(t-wc(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},O1={draw(e,t){const n=be(t),r=-n/2;e.rect(r,r,n,n)}},P1={draw(e,t){const n=be(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},r5=.8908130915292852,F1=Bo(Yo/10)/Bo(7*Yo/10),i5=Bo($a/10)*F1,o5=-x1($a/10)*F1,q1={draw(e,t){const n=be(t*r5),r=i5*n,i=o5*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=$a*o/5,f=x1(a),u=Bo(a);e.lineTo(u*n,-f*n),e.lineTo(f*r-u*i,u*r+f*i)}e.closePath()}},xf=be(3),z1={draw(e,t){const n=-be(t/(xf*3));e.moveTo(0,n*2),e.lineTo(-xf*n,-n),e.lineTo(xf*n,-n),e.closePath()}},a5=be(3),U1={draw(e,t){const n=be(t)*.6824,r=n/2,i=n*a5/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Ue=-.5,Be=be(3)/2,Ru=1/be(12),f5=(Ru/2+1)*3,B1={draw(e,t){const n=be(t/f5),r=n/2,i=n*Ru,o=r,a=n*Ru+n,f=-o,u=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(f,u),e.lineTo(Ue*r-Be*i,Be*r+Ue*i),e.lineTo(Ue*o-Be*a,Be*o+Ue*a),e.lineTo(Ue*f-Be*u,Be*f+Ue*u),e.lineTo(Ue*r+Be*i,Ue*i-Be*r),e.lineTo(Ue*o+Be*a,Ue*a-Be*o),e.lineTo(Ue*f+Be*u,Ue*u-Be*f),e.closePath()}},Y1={draw(e,t){const n=be(t-wc(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},u5=[vc,N1,I1,O1,q1,z1,B1],c5=[vc,L1,Y1,U1,k1,P1,R1];function on(){}function Ho(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Aa(e){this._context=e}Aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ho(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ho(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function s5(e){return new Aa(e)}function H1(e){this._context=e}H1.prototype={areaStart:on,areaEnd:on,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ho(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function l5(e){return new H1(e)}function j1(e){this._context=e}j1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ho(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function d5(e){return new j1(e)}function W1(e,t){this._basis=new Aa(e),this._beta=t}W1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,f=-1,u;++f<=n;)u=f/n,this._basis.point(this._beta*e[f]+(1-this._beta)*(r+u*o),this._beta*t[f]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const h5=function e(t){function n(r){return t===1?new Aa(r):new W1(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function jo(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function xc(e,t){this._context=e,this._k=(1-t)/6}xc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:jo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:jo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const p5=function e(t){function n(r){return new xc(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Tc(e,t){this._context=e,this._k=(1-t)/6}Tc.prototype={areaStart:on,areaEnd:on,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:jo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const m5=function e(t){function n(r){return new Tc(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Mc(e,t){this._context=e,this._k=(1-t)/6}Mc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const g5=function e(t){function n(r){return new Mc(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Sc(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>zl){var f=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*f-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*f-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>zl){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,s=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/s,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/s}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function G1(e,t){this._context=e,this._alpha=t}G1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Sc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const b5=function e(t){function n(r){return t?new G1(r,t):new xc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function X1(e,t){this._context=e,this._alpha=t}X1.prototype={areaStart:on,areaEnd:on,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Sc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const y5=function e(t){function n(r){return t?new X1(r,t):new Tc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function V1(e,t){this._context=e,this._alpha=t}V1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Sc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const _5=function e(t){function n(r){return t?new V1(r,t):new Mc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function Z1(e){this._context=e}Z1.prototype={areaStart:on,areaEnd:on,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function w5(e){return new Z1(e)}function Ul(e){return e<0?-1:1}function Bl(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(Ul(o)+Ul(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function Yl(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Tf(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,f=(o-r)/3;e._context.bezierCurveTo(r+f,i+f*t,o-f,a-f*n,o,a)}function Wo(e){this._context=e}Wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Tf(this,this._t0,Yl(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Tf(this,Yl(this,n=Bl(this,e,t)),n);break;default:Tf(this,this._t0,n=Bl(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function K1(e){this._context=new Q1(e)}(K1.prototype=Object.create(Wo.prototype)).point=function(e,t){Wo.prototype.point.call(this,t,e)};function Q1(e){this._context=e}Q1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function v5(e){return new Wo(e)}function x5(e){return new K1(e)}function J1(e){this._context=e}J1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Hl(e),i=Hl(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Hl(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function T5(e){return new J1(e)}function Ea(e,t){this._context=e,this._t=t}Ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function M5(e){return new Ea(e,.5)}function S5(e){return new Ea(e,0)}function $5(e){return new Ea(e,1)}function Yr(e,t,n){this.k=e,this.x=t,this.y=n}Yr.prototype={constructor:Yr,scale:function(e){return e===1?this:new Yr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Yr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Yr.prototype;function an(e){return e!=null&&!Number.isNaN(e)}function at(e,t){return+an(t)-+an(e)||Re(e,t)}function Go(e,t){return+an(t)-+an(e)||li(e,t)}function $c(e){return e!=null&&`${e}`!=""}function em(e){return isFinite(e)?e:NaN}function Ac(e){return e>0&&isFinite(e)?e:NaN}function tm(e){return e<0&&isFinite(e)?e:NaN}function A5(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${E5(e.getUTCFullYear())}-${It(e.getUTCMonth()+1,2)}-${It(e.getUTCDate(),2)}${n||r||i||o?`T${It(n,2)}:${It(r,2)}${i||o?`:${It(i,2)}${o?`.${It(o,3)}`:""}`:""}Z`:""}`}function E5(e){return e<0?`-${It(-e,6)}`:e>9999?`+${It(e,6)}`:It(e,4)}function It(e,t){return`${e}`.padStart(t,"0")}const C5=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function nm(e,t){return C5.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function sr(e){if(e==null)return;const t=e[0],n=e[e.length-1];return li(t,n)}const Gn=1e3,Jt=Gn*60,en=Jt*60,xt=en*24,ht=xt*7,Tn=xt*30,Kt=xt*365,Mf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Gn],["5 seconds",5*Gn],["15 seconds",15*Gn],["30 seconds",30*Gn],["minute",Jt],["5 minutes",5*Jt],["15 minutes",15*Jt],["30 minutes",30*Jt],["hour",en],["3 hours",3*en],["6 hours",6*en],["12 hours",12*en],["day",xt],["2 days",2*xt],["week",ht],["2 weeks",2*ht],["month",Tn],["3 months",3*Tn],["6 months",6*Tn],["year",Kt],["2 years",2*Kt],["5 years",5*Kt],["10 years",10*Kt],["20 years",20*Kt],["50 years",50*Kt],["100 years",100*Kt]],Ec=new Map([["second",Gn],["minute",Jt],["hour",en],["day",xt],["monday",ht],["tuesday",ht],["wednesday",ht],["thursday",ht],["friday",ht],["saturday",ht],["sunday",ht],["week",ht],["month",Tn],["year",Kt]]),rm=new Map([["second",et],["minute",yi],["hour",wi],["day",Rn],["monday",ii],["tuesday",K0],["wednesday",Q0],["thursday",Nn],["friday",J0],["saturday",ep],["sunday",ur],["week",ur],["month",xi],["year",rt]]),Cc=new Map([["second",et],["minute",_i],["hour",vi],["day",xa],["monday",oi],["tuesday",tp],["wednesday",np],["thursday",Dn],["friday",rp],["saturday",ip],["sunday",cr],["week",cr],["month",Ti],["year",ot]]),$i=Symbol("intervalDuration"),Ca=Symbol("intervalType");for(const[e,t]of rm)t[$i]=Ec.get(e),t[Ca]="time";for(const[e,t]of Cc)t[$i]=Ec.get(e),t[Ca]="utc";const Hr=[["year",ot,"utc"],["month",Ti,"utc"],["day",xa,"utc",6*Tn],["hour",vi,"utc",3*xt],["minute",_i,"utc",6*en],["second",et,"utc",30*Jt]],ho=[["year",rt,"time"],["month",xi,"time"],["day",Rn,"time",6*Tn],["hour",wi,"time",3*xt],["minute",yi,"time",6*en],["second",et,"time",30*Jt]],k5=[Hr[0],ho[0],Hr[1],ho[1],Hr[2],ho[2],...Hr.slice(3)];function im(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(t);switch(r&&(t=t.slice(r[0].length),n=+r[1]),t){case"quarter":t="month",n*=3;break;case"half":t="month",n*=6;break}let i=Cc.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,n]}function om(e){return am(im(e),"time")}function kc(e){return am(im(e),"utc")}function am([e,t],n){let r=(n==="time"?rm:Cc).get(e);return t>1&&(r=r.every(t),r[$i]=Ec.get(e)*t,r[Ca]=n),r}function jl(e,t){if(!(t>1))return;const n=e[$i];if(!Mf.some(([,i])=>i===n)||n%xt===0&&xt<n&&n<Tn)return;const[r]=Mf[ia(([,i])=>Math.log(i)).center(Mf,Math.log(n*t))];return(e[Ca]==="time"?om:kc)(r)}function Wl(e,t,n){const r=t==="time"?yc:Mi;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=N5(n);switch(e){case"millisecond":return Bn(r(".%L"),r(":%M:%S"),i);case"second":return Bn(r(":%S"),r("%-I:%M"),i);case"minute":return Bn(r("%-I:%M"),r("%p"),i);case"hour":return Bn(r("%-I %p"),r("%b %-d"),i);case"day":return Bn(r("%-d"),r("%b"),i);case"month":return Bn(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function N5(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function D5(e){return e==="time"?ho:e==="utc"?Hr:k5}function I5(e,t,n){const r=tt(Ey(t,(i,o)=>Math.abs(o-i)));if(r<1e3)return Wl("millisecond","utc",n);for(const[i,o,a,f]of D5(e)){if(r>f||i==="hour"&&!r)break;if(t.every(u=>o.floor(u)>=u))return Wl(i,a,n)}}function Bn(e,t,n){return(r,i,o)=>{const a=e(r,i),f=t(r,i),u=i-sr(o);return i!==u&&o[u]!==void 0&&f===t(o[u],u)?a:n(a,f)}}const Nc=Object.getPrototypeOf(Uint8Array),R5=Object.prototype.toString;function sn(e){return e instanceof Array||e instanceof Nc}function fm(e){return e instanceof Nc&&!L5(e)}function um(e){return(e==null?void 0:e.prototype)instanceof Nc&&!O5(e)}function L5(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function O5(e){return e===BigInt64Array||e===BigUint64Array}const cm=Symbol("reindex");function se(e,t,n){const r=typeof t;return r==="string"?_m(e)?Dc(e.getChild(t),n):Gl(e,sm(t),n):r==="function"?Gl(e,t,n):r==="number"||t instanceof Date||r==="boolean"?me(e,Ft(t),n):typeof(t==null?void 0:t.transform)=="function"?Lu(t.transform(e),n):P5(Lu(t,n),e==null?void 0:e[cm])}function P5(e,t){return e!=null&&t?Pc(e,t):e}function Gl(e,t,n){return me(e,um(n)?(r,i)=>Rc(t(r,i)):t,n)}function Lu(e,t){return t===void 0?fn(e):wm(e)?Dc(e,t):e instanceof t?e:t.from(e,um(t)&&!fm(e)?Rc:void 0)}function Dc(e,t){return e==null?e:(t===void 0||t===Array)&&i8(e.type)?lm(e.toArray()):Lu(e.toArray(),t)}const po=[null],sm=e=>t=>{var r;const n=t[e];return n===void 0&&t.type==="Feature"?(r=t.properties)==null?void 0:r[e]:n},Ai={transform:Ht},xe={transform:e=>e},F5=()=>1,q5=()=>!0,De=e=>e==null?e:`${e}`,Ce=e=>e==null?e:+e,Ic=e=>e?e[0]:void 0,Xo=e=>e?e[1]:void 0,Ft=e=>()=>e;function z5(e){const t=+`${e}`.slice(1)/100;return(n,r)=>er(n,t,r)}function lr(e){return fm(e)?e:me(e,Rc,Float64Array)}function Rc(e){return e==null?NaN:Number(e)}function lm(e){return me(e,dm)}function dm(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?nm(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function Ze(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Na(e)?[void 0,e]:[e,void 0]}function Pe(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function hm(e,t,n){if(e!=null)return ut(e,t,n)}function ut(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function dr(e){return _m(e)?e:fn(e)}function fn(e){if(e==null||sn(e))return e;if(wm(e))return Dc(e);switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[e]}return Array.from(e)}function me(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function ai(e,t=Array){return e instanceof t?e.slice():t.from(e)}function U5({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function pm({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function B5(e){return U5(e)||pm(e)||e.interval!==void 0}function ln(e){return(e==null?void 0:e.toString)===R5}function Ou(e){return ln(e)&&(e.type!==void 0||e.domain!==void 0)}function ka(e){return ln(e)&&typeof e.transform!="function"}function hr(e){return ka(e)&&e.value===void 0&&e.channel===void 0}function Y5(e,t,n,r=xe){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function Lc(e,t){return e===void 0&&t===void 0?[Ic,Xo]:[e,t]}function Oc({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Ze(t)),e===void 0&&([e]=Ze(n)),e}function fi(e){return sn(e)?e.length:e==null?void 0:e.numRows}function Ht(e){const t=fi(e),n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function Pc(e,t){return sn(e)?me(t,n=>e[n],e.constructor):me(t,n=>e.at(n))}function H5(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function qt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function j5(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function Vo(e){let t;return[{transform:()=>t,label:dn(e)},n=>t=n]}function Ie(e){return e==null?[e]:Vo(e)}function dn(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function Pu(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Oe(r)||Oe(i)?me(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):me(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:e.label}}function Zo(e,t){const n=mm(t==null?void 0:t.interval,t==null?void 0:t.type);return n?me(e,n):e}function mm(e,t){const n=Fc(e,t);return n&&(r=>an(r)?n.floor(r):r)}function Fc(e,t){if(e!=null){if(typeof e=="number")return W5(e);if(typeof e=="string")return(t==="time"?om:kc)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function W5(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:n=>Math.floor(n*t)/t,offset:(n,r=1)=>(n*t+Math.floor(r))/t,range:(n,r)=>eu(Math.ceil(n*t),r*t).map(i=>i/t)}:{floor:n=>Math.floor(n/t)*t,offset:(n,r=1)=>n+t*Math.floor(r),range:(n,r)=>eu(Math.ceil(n/t),r/t).map(i=>i*t)}}function vr(e,t){if(e=Fc(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function G5(e,t){if(e=vr(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function X5(e){return Xn(e)&&typeof(e==null?void 0:e.floor)=="function"&&e.floor()instanceof Date}function Xn(e){return typeof(e==null?void 0:e.range)=="function"}function xr(e){return e===void 0||ka(e)?e:{value:e}}function V5(e){return e==null?null:{transform:t=>se(t,e,Float64Array),label:dn(e)}}function hn(e){return e&&typeof e[Symbol.iterator]=="function"}function gm(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function Xl(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Oe(e){for(const t of e)if(t!=null)return t instanceof Date}function Z5(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&nm(t)}function K5(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function Q5(e){for(const t of e)if(t!=null)return typeof t=="number"}function Sf(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}const J5=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Na(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||J5.has(e))}function e8(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Ae(e){return e==null||ui(e)}function ui(e){return/^\s*none\s*$/i.test(e)}function t8(e){return/^\s*round\s*$/i.test(e)}function Fu(e,t){return hm(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function qc(e="middle"){return Fu(e,"frameAnchor")}function n8(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const o=r[i];n===e?n={...n,[i]:o}:n[i]=o}return n}function r8(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function bm(e){return hn(e)?r8(e):e}function ym(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=ut(e,"clip",["frame","sphere"])),e}function _m(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function wm(e){return e&&typeof e.toArray=="function"&&e.type}function i8(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}const bt=Symbol("position"),jt=Symbol("color"),Ei=Symbol("radius"),Ci=Symbol("length"),ki=Symbol("opacity"),Da=Symbol("symbol"),vm=Symbol("projection"),pe=new Map([["x",bt],["y",bt],["fx",bt],["fy",bt],["r",Ei],["color",jt],["opacity",ki],["symbol",Da],["length",Ci],["projection",vm]]);function o8(e){return e===bt||e===vm}function a8(e){return e===bt||e===Ei||e===Ci||e===ki}const f8=Math.sqrt(3),u8=2/f8,c8={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*u8,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},zc=new Map([["asterisk",k1],["circle",vc],["cross",N1],["diamond",I1],["diamond2",R1],["hexagon",c8],["plus",L1],["square",O1],["square2",P1],["star",q1],["times",Y1],["triangle",z1],["triangle2",U1],["wye",B1]]);function Uc(e){return e&&typeof e.draw=="function"}function s8(e){return Uc(e)?!0:typeof e!="string"?!1:zc.has(e.toLowerCase())}function Bc(e){if(e==null||Uc(e))return e;const t=zc.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function tT(e){if(e==null||Uc(e))return[void 0,e];if(typeof e=="string"){const t=zc.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function Ni({filter:e,sort:t,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(e!=null&&(r=xm(e)),t!=null&&!hr(t)&&(r=$f(r,Yc(t))),n&&(r=$f(r,Tm))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(t===null||hr(t))&&{sort:t},transform:$f(r,a)}}function pr({filter:e,sort:t,reverse:n,initializer:r,...i}={},o){return r===void 0&&(e!=null&&(r=xm(e)),t!=null&&!hr(t)&&(r=Af(r,Yc(t))),n&&(r=Af(r,Tm))),{...i,...(t===null||hr(t))&&{sort:t},initializer:Af(r,o)}}function $f(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,dr(n),r,i)}}function Af(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...o){let a,f,u,c,s,d;return{data:f=n,facets:u=r,channels:a}=e.call(this,n,r,i,...o),{data:s=f,facets:d=u,channels:c}=t.call(this,f,u,{...i,...a},...o),{data:s,facets:d,channels:{...a,...c}}}}function l8(e,t){return(e.initializer!=null?pr:Ni)(e,t)}function xm(e){return(t,n)=>{const r=se(t,e);return{data:t,facets:n.map(i=>i.filter(o=>r[o]))}}}function Tm(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function nT(e,{sort:t,...n}={}){return{...(ka(e)&&e.channel!==void 0?pr:l8)(n,Yc(e)),sort:hr(t)?t:null}}function Yc(e){return(typeof e=="function"&&e.length!==1?d8:h8)(e)}function d8(e){return(t,n)=>{const r=sn(t)?(i,o)=>e(t[i],t[o]):(i,o)=>e(t.get(i),t.get(o));return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function h8(e){let t,n;({channel:t,value:e,order:n}={...xr(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?Go:at),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=at;break;case"descending":n=Go;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,a)=>{let f;if(t===void 0)f=se(i,e);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[t],!f)return{};f=f.value}const u=(c,s)=>n(f[c],f[s]);return{data:i,facets:o.map(c=>c.slice().sort(u))}}}function Mm(e={y:"count"},t={}){const{x:n=xe}=t;if(n==null)throw new Error("missing channel: x");return p8(n,null,e,t)}function p8(e,t,{data:n=Wc,filter:r,sort:i,reverse:o,...a}={},f={}){a=b8(a,f),n=Em(n,xe),i=i==null?void 0:$m("sort",i,f),r=r==null?void 0:Am("filter",r,f);const[u,c]=Ie(e),[s,d]=Ie(t),{z:l,fill:h,stroke:p,x1:m,x2:g,y1:y,y2:b,...w}=f,[_,v]=Ie(l),[x]=Ze(h),[M]=Ze(p),[S,A]=Ie(x),[k,T]=Ie(M);return{..."z"in f&&{z:_||l},..."fill"in f&&{fill:S||h},..."stroke"in f&&{stroke:k||p},...Ni(w,(D,N,I)=>{const $=Zo(se(D,e),I==null?void 0:I.x),L=Zo(se(D,t),I==null?void 0:I.y),R=se(D,l),H=se(D,x),j=se(D,M),O=Cm(a,{z:R,fill:H,stroke:j}),F=[],P=[],z=$&&c([]),J=L&&d([]),te=R&&v([]),G=H&&A([]),B=j&&T([]);let Y=0;for(const C of a)C.initialize(D);i&&i.initialize(D),r&&r.initialize(D);for(const C of N){const q=[];for(const U of a)U.scope("facet",C);i&&i.scope("facet",C),r&&r.scope("facet",C);for(const[U,E]of Zr(C,O))for(const[re,W]of Zr(E,L))for(const[ie,oe]of Zr(W,$)){const ce={data:D};if($&&(ce.x=ie),L&&(ce.y=re),O&&(ce.z=U),!(r&&!r.reduce(oe,ce))){q.push(Y++),P.push(n.reduceIndex(oe,D,ce)),$&&z.push(ie),L&&J.push(re),R&&te.push(O===R?U:R[oe[0]]),H&&G.push(O===H?U:H[oe[0]]),j&&B.push(O===j?U:j[oe[0]]);for(const ct of a)ct.reduce(oe,ce);i&&i.reduce(oe,ce)}}F.push(q)}return km(F,i,o),{data:P,facets:F}}),...!Vr(a,"x")&&(u?{x:u}:{x1:m,x2:g}),...!Vr(a,"y")&&(s?{y:s}:{y1:y,y2:b}),...Object.fromEntries(a.map(({name:D,output:N})=>[D,N]))}}function Vr(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function Sm(e,t,n=Hc){const r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",v8]),t.href!=null&&e.href===void 0&&r.push(["href",Gc]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?m8(i):n(i,o,t))}function Hc(e,t,n,r=jc){let i;ln(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);const o=r(e,t,n),[a,f]=Vo(o.label);let u;return{name:e,output:i===void 0?a:{value:a,scale:i},initialize(c){o.initialize(c),u=f([])},scope(c,s){o.scope(c,s)},reduce(c,s){u.push(o.reduce(c,s))}}}function m8(e){return{name:e,initialize(){},scope(){},reduce(){}}}function jc(e,t,n,r=Ia){const i=j5(e,n),o=r(t,i);let a,f;return{label:dn(o===Ko?null:i,o.label),initialize(u){a=i===void 0?u:se(u,i),o.scope==="data"&&(f=o.reduceIndex(Ht(u),a))},scope(u,c){o.scope===u&&(f=o.reduceIndex(c,a))},reduce(u,c){return o.scope==null?o.reduceIndex(u,a,c):o.reduceIndex(u,a,f,c)}}}function Zr(e,t){return t?fa(e,n=>t[n]):[[,e]]}function Ia(e,t,n=g8){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&ln(e))return _8(e);if(typeof e=="function")return w8(e);if(/^p\d{2}$/i.test(e))return Dt(z5(e));switch(`${e}`.toLowerCase()){case"first":return Gc;case"last":return x8;case"identity":return Wc;case"count":return Ko;case"distinct":return T8;case"sum":return t==null?Ko:M8;case"proportion":return Zl(t,"data");case"proportion-facet":return Zl(t,"facet");case"deviation":return Dt(dh);case"min":return Dt(zt);case"min-index":return Dt(xy);case"max":return Dt(tt);case"max-index":return Dt(vy);case"mean":return Vl(Sy);case"median":return Vl(Jf);case"variance":return Dt(lh);case"mode":return Dt(Ay)}return n(e)}function g8(e){throw new Error(`invalid reduce: ${e}`)}function b8(e,t){return Sm(e,t,$m)}function $m(e,t,n){return Hc(e,t,n,Am)}function Am(e,t,n){return jc(e,t,n,Em)}function Em(e,t){return Ia(e,t,y8)}function y8(e){switch(`${e}`.toLowerCase()){case"x":return S8;case"y":return $8;case"z":return Nm}throw new Error(`invalid group reduce: ${e}`)}function Cm(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function km(e,t,n){if(t){const r=t.output.transform(),i=(o,a)=>at(r[o],r[a]);e.forEach(o=>o.sort(i))}n&&e.forEach(r=>r.reverse())}function _8(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function w8(e){return{reduceIndex(t,n,r){return e(Pc(n,t),r)}}}function Dt(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function Vl(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Oe(n)?new Date(r):r}}}const Wc={reduceIndex(e,t){return Pc(t,e)}},Gc={reduceIndex(e,t){return t[e[0]]}},v8={reduceIndex(e,t){const r=mo(Vn(e,o=>o.length,o=>t[o]),Xo),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[4]=[`… ${o.length.toLocaleString("en-US")} more`,nn(o,Xo)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},x8={reduceIndex(e,t){return t[e[e.length-1]]}},Ko={label:"Frequency",reduceIndex(e){return e.length}},T8={label:"Distinct",reduceIndex(e,t){const n=new aa;for(const r of e)n.add(t[r]);return n.size}},M8=Dt(nn);function Zl(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>nn(n,o=>r[o])/i}}const S8={reduceIndex(e,t,{x:n}){return n}},$8={reduceIndex(e,t,{y:n}){return n}},Nm={reduceIndex(e,t,{z:n}){return n}};function Qo(e){if(typeof e!="function")throw new Error(`invalid test function: ${e}`);return{reduceIndex(t,n,{data:r}){return n[t.find(sn(r)?i=>e(r[i],i,r):i=>e(r.get(i),i,r))]}}}function ci(e,{scale:t,type:n,value:r,filter:i,hint:o,label:a=dn(r)},f){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),Dm(f,{scale:t,type:n,value:se(e,r),label:a,filter:i,hint:o})}function A8(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,ci(t,r,n)]))}function E8(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:o}])=>{const a=i==null?null:t[i];return[r,a==null?o:me(o,a)]}));return n.channels=e,n}function Dm(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&Sf(r,Na)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&Sf(r,e8)?null:"opacity",t.defaultScale="opacity";break;case"symbol":n!==!0&&Sf(r,s8)?(t.scale=null,t.value=me(r,Bc)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=pe.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!pe.has(n))throw new Error(`unknown scale: ${n}`);return t}function C8(e,t,n,r,i){const{order:o,reverse:a,reduce:f=!0,limit:u}=i;for(const c in i){if(!pe.has(c))continue;let{value:s,order:d=o,reverse:l=a,reduce:h=f,limit:p=u}=xr(i[c]);const m=s==null?void 0:s.startsWith("-");if(m&&(s=s.slice(1)),d=d===void 0?m!==(s==="width"||s==="height")?Rm:Im:D8(d),h==null||h===!1)continue;const g=c==="fx"||c==="fy"?N8(t,r[c]):k8(n,c);if(!g)throw new Error(`missing channel for scale: ${c}`);const y=g.value,[b=0,w=1/0]=hn(p)?p:p<0?[p]:[0,p];if(s==null)g.domain=()=>{let _=Array.from(new aa(y));return l&&(_=_.reverse()),(b!==0||w!==1/0)&&(_=_.slice(b,w)),_};else{const _=s==="data"?e:s==="height"?Kl(n,"y1","y2"):s==="width"?Kl(n,"x1","x2"):qu(n,s,s==="y"?"y2":s==="x"?"x2":void 0),v=Ia(h===!0?"max":h,_);g.domain=()=>{let x=my(Ht(y),M=>v.reduceIndex(M,_),M=>y[M]);return d&&x.sort(d),l&&x.reverse(),(b!==0||w!==1/0)&&(x=x.slice(b,w)),x.map(Ic)}}}}function k8(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function N8(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const f of e[o])i[f]=a}return t}function Kl(e,t,n){const r=qu(e,t),i=qu(e,n);return me(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function qu(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function D8(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return Im;case"descending":return Rm}throw new Error(`invalid order: ${e}`)}function Im([e,t],[n,r]){return at(t,r)||at(e,n)}function Rm([e,t],[n,r]){return Go(t,r)||at(e,n)}function Ql(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const Lm=new Map([["accent",z3],["category10",q3],["dark2",U3],["observable10",B3],["paired",Y3],["pastel1",H3],["pastel2",j3],["set1",W3],["set2",G3],["set3",X3],["tableau10",V3]]);function I8(e){return e!=null&&Lm.has(`${e}`.toLowerCase())}const Jl=new Map([...Lm,["brbg",Et(mp,gp)],["prgn",Et(bp,yp)],["piyg",Et(_p,wp)],["puor",Et(vp,xp)],["rdbu",Et(Du,zo)],["rdgy",Et(Tp,Mp)],["rdylbu",Et(Iu,Uo)],["rdylgn",Et(Sp,$p)],["spectral",Et(Ap,Ep)],["burd",ed(Du,zo)],["buylrd",ed(Iu,Uo)],["blues",ye(Jp,e1)],["greens",ye(t1,n1)],["greys",ye(r1,i1)],["oranges",ye(c1,s1)],["purples",ye(o1,a1)],["reds",ye(f1,u1)],["turbo",Ct(b1)],["viridis",Ct(y1)],["magma",Ct(_1)],["inferno",Ct(w1)],["plasma",Ct(v1)],["cividis",Ct(l1)],["cubehelix",Ct(d1)],["warm",Ct(h1)],["cool",Ct(p1)],["bugn",ye(Cp,kp)],["bupu",ye(Np,Dp)],["gnbu",ye(Ip,Rp)],["orrd",ye(Lp,Op)],["pubu",ye(qp,zp)],["pubugn",ye(Pp,Fp)],["purd",ye(Up,Bp)],["rdpu",ye(Yp,Hp)],["ylgn",ye(Gp,Xp)],["ylgnbu",ye(jp,Wp)],["ylorbr",ye(Vp,Zp)],["ylorrd",ye(Kp,Qp)],["rainbow",td(m1)],["sinebow",td(g1)]]);function ye(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?nt(t,n):e[n])}function Et(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?nt(t,n):e[n])}function ed(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?nt(r=>t(1-r),n):e[n].slice().reverse())}function Ct(e){return({length:t})=>nt(e,Math.max(2,Math.floor(t)))}function td(e){return({length:t})=>nt(e,Math.floor(t)+1).slice(0,-1)}function Om(e){const t=`${e}`.toLowerCase();if(!Jl.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Jl.get(t)}function Ra(e,t){const n=Om(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function R8(e,t="greys"){const n=new Set,[r,i]=Ra(t,2);for(const o of e)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const nd=new Map([["brbg",gp],["prgn",yp],["piyg",wp],["puor",xp],["rdbu",zo],["rdgy",Mp],["rdylbu",Uo],["rdylgn",$p],["spectral",Ep],["burd",e=>zo(1-e)],["buylrd",e=>Uo(1-e)],["blues",e1],["greens",n1],["greys",i1],["purples",a1],["reds",u1],["oranges",s1],["turbo",b1],["viridis",y1],["magma",_1],["inferno",w1],["plasma",v1],["cividis",l1],["cubehelix",d1],["warm",h1],["cool",p1],["bugn",kp],["bupu",Dp],["gnbu",Rp],["orrd",Op],["pubugn",Fp],["pubu",zp],["purd",Bp],["rdpu",Hp],["ylgnbu",Wp],["ylgn",Xp],["ylorbr",Zp],["ylorrd",Qp],["rainbow",m1],["sinebow",g1]]);function Xc(e){const t=`${e}`.toLowerCase();if(!nd.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return nd.get(t)}const L8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function O8(e){return e!=null&&L8.has(`${e}`.toLowerCase())}const Pm=e=>t=>e(1-t),Ef=[0,1],rd=new Map([["number",$e],["rgb",En],["hsl",Q_],["hcl",tw],["lab",J_]]);function Fm(e){const t=`${e}`.toLowerCase();if(!rd.has(t))throw new Error(`unknown interpolator: ${t}`);return rd.get(t)}function Di(e,t,n,{type:r,nice:i,clamp:o,zero:a,domain:f=zm(e,n),unknown:u,round:c,scheme:s,interval:d,range:l=pe.get(e)===Ei?G8(n,f):pe.get(e)===Ci?X8(n,f):pe.get(e)===ki?Ef:void 0,interpolate:h=pe.get(e)===jt?s==null&&l!==void 0?En:Xc(s!==void 0?s:r==="cyclical"?"rainbow":"turbo"):c?oc:$e,reverse:p}){if(d=vr(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=Fm(h)),p=!!p,l!==void 0){const m=(f=fn(f)).length,g=(l=fn(l)).length;if(m!==g){if(h.length===1)throw new Error("invalid piecewise interpolator");h=da(h,l),l=void 0}}if(h.length===1?(p&&(h=Pm(h),p=!1),l===void 0&&(l=Float64Array.from(f,(m,g)=>g/(f.length-1)),l.length===2&&(l=Ef)),t.interpolate((l===Ef?Ft:Zc)(h))):t.interpolate(h),a){const[m,g]=He(f);(m>0||g<0)&&(f=ai(f),(sr(f)||1)===Math.sign(m)?f[0]=0:f[f.length-1]=0)}return p&&(f=_o(f)),t.domain(f).unknown(u),i&&(t.nice(P8(i,r)),f=t.domain()),l!==void 0&&t.range(l),o&&t.clamp(o),{type:r,domain:f,range:l,scale:t,interpolate:h,interval:d}}function P8(e,t){return e===!0?void 0:typeof e=="number"?e:G5(e,t)}function F8(e,t,n){return Di(e,gc(),t,n)}function q8(e,t,n){return qm(e,t,{...n,exponent:.5})}function qm(e,t,{exponent:n=1,...r}){return Di(e,X0().exponent(n),t,{...r,type:"pow"})}function z8(e,t,{base:n=10,domain:r=V8(t),...i}){return Di(e,H0().base(n),t,{...i,domain:r})}function U8(e,t,{constant:n=1,...r}){return Di(e,W0().constant(n),t,r)}function B8(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=Z8(t),unknown:f,interpolate:u,reverse:c}){return n===void 0&&(n=u!==void 0?nt(u,i):pe.get(e)===jt?Ra(o,i):void 0),a.length>0&&(a=V0(a,n===void 0?{length:i}:n).quantiles()),Vc(e,t,{domain:a,range:n,reverse:c,unknown:f})}function Y8(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=zm(e,t),unknown:a,interpolate:f,reverse:u}){const[c,s]=He(o);let d;return n===void 0?(d=Kr(c,s,r),d[0]<=c&&d.splice(0,1),d[d.length-1]>=s&&d.pop(),r=d.length+1,n=f!==void 0?nt(f,r):pe.get(e)===jt?Ra(i,r):void 0):(d=nt($e(c,s),r+1).slice(1,-1),c instanceof Date&&(d=d.map(l=>new Date(l)))),sr(fn(o))<0&&d.reverse(),Vc(e,t,{domain:d,range:n,reverse:u,unknown:a})}function Vc(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?nt(o,n.length+1):pe.get(e)===jt?Ra(i,n.length+1):void 0,reverse:f}){n=fn(n);const u=sr(n);if(!isNaN(u)&&!H8(n,u))throw new Error(`the ${e} scale has a non-monotonic domain`);return f&&(a=_o(a)),{type:"threshold",scale:Z0(u<0?_o(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function H8(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const o=li(i,i=e[n]);if(o!==0&&o!==t)return!1}return!0}function j8(e){return{type:"identity",scale:a8(pe.get(e))?U0():t=>t}}function si(e,t=em){return e.length?[zt(e,({value:n})=>n===void 0?n:zt(n,t)),tt(e,({value:n})=>n===void 0?n:tt(n,t))]:[0,1]}function zm(e,t){const n=pe.get(e);return(n===Ei||n===ki||n===Ci?W8:si)(t)}function W8(e){return[0,e.length?tt(e,({value:t})=>t===void 0?t:tt(t,em)):1]}function G8(e,t){const n=e.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=er(e,.5,({value:a})=>a===void 0?NaN:er(a,.25,Ac)),i=t.map(a=>3*Math.sqrt(a/r)),o=30/tt(i);return o<1?i.map(a=>a*o):i}function X8(e,t){const n=Jf(e,({value:o})=>o===void 0?NaN:Jf(o,Math.abs)),r=t.map(o=>12*o/n),i=60/tt(r);return i<1?r.map(o=>o*i):r}function V8(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return si(e,Ac);if(n<0)return si(e,tm)}return[1,10]}function Z8(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function Zc(e){return(t,n)=>r=>e(t+r*(n-t))}let zu=0,Uu;function K8(){const e=zu;return zu=0,Uu=void 0,e}function tn(e){e!==Uu&&(Uu=e,console.warn(e),++zu)}function La(e,t,n,r,{type:i,nice:o,clamp:a,domain:f=si(r),unknown:u,pivot:c=0,scheme:s,range:d,symmetric:l=!0,interpolate:h=pe.get(e)===jt?s==null&&d!==void 0?En:Xc(s!==void 0?s:"rdbu"):$e,reverse:p}){c=+c,f=fn(f);let[m,g]=f;if(f.length>2&&tn(`Warning: the diverging ${e} scale domain contains extra elements.`),li(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,c),g=Math.max(g,c),typeof h!="function"&&(h=Fm(h)),d!==void 0&&(h=h.length===1?Zc(h)(...d):da(h,d)),p&&(h=Pm(h)),l){const y=n.apply(c),b=y-n.apply(m),w=n.apply(g)-y;b<w?m=n.invert(y-w):b>w&&(g=n.invert(y+b))}return t.domain([m,c,g]).unknown(u).interpolator(h),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[m,g],pivot:c,interpolate:h,scale:t}}function Q8(e,t,n){return La(e,lp(),n4,t,n)}function J8(e,t,n){return Um(e,t,{...n,exponent:.5})}function Um(e,t,{exponent:n=1,...r}){return La(e,pp().exponent(n=+n),o4(n),t,{...r,type:"diverging-pow"})}function e4(e,t,{base:n=10,pivot:r=1,domain:i=si(t,r<0?tm:Ac),...o}){return La(e,dp().base(n=+n),r4,t,{domain:i,pivot:r,...o})}function t4(e,t,{constant:n=1,...r}){return La(e,hp().constant(n=+n),a4(n),t,r)}const n4={apply(e){return e},invert(e){return e}},r4={apply:Math.log,invert:Math.exp},i4={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function o4(e){return e===.5?i4:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function a4(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function Bm(e,t,n,r){return Di(e,t,n,r)}function f4(e,t,n){return Bm(e,P3(),t,n)}function u4(e,t,n){return Bm(e,F3(),t,n)}const Ii=Symbol("ordinal");function Ym(e,t,n,{type:r,interval:i,domain:o,range:a,reverse:f,hint:u}){return i=vr(i,r),o===void 0&&(o=jm(n,i,e)),(r==="categorical"||r===Ii)&&(r="ordinal"),f&&(o=_o(o)),o=t.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:r,domain:o,range:a,scale:t,hint:u,interval:i}}function c4(e,t,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:f,...u}){r=vr(r,n),i===void 0&&(i=jm(t,r,e));let c;if(pe.get(e)===Da)c=d4(t),o=o===void 0?h4(c):me(o,Bc);else if(pe.get(e)===jt&&(o===void 0&&(n==="ordinal"||n===Ii)&&(o=R8(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const s=Xc(a),d=o[0],l=o[1]-o[0];o=({length:h})=>nt(p=>s(d+l*p),h)}else o=Om(a);if(f===Cu)throw new Error(`implicit unknown on ${e} scale is not supported`);return Ym(e,mc().unknown(f),t,{...u,type:n,domain:i,range:o,hint:c})}function s4(e,t,{align:n=.5,padding:r=.5,...i}){return Hm(yv().align(n).padding(r),t,i,e)}function l4(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=e==="fx"||e==="fy"?0:r,...a}){return Hm(_a().align(n).paddingInner(i).paddingOuter(o),t,a,e)}function Hm(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=Ym(r,e,t,n),e.round=i,e}function jm(e,t,n){const r=new aa;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(t!==void 0){const[i,o]=He(r).map(t.floor,t);return t.range(i,t.offset(o))}if(r.size>1e4&&pe.get(n)===bt)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return mo(r,at)}function id(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function d4(e){return{fill:id(e,"fill"),stroke:id(e,"stroke")}}function h4(e){return Ae(e.fill)?c5:u5}function Bu(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:f,nice:u,clamp:c,zero:s,align:d,padding:l,projection:h,facet:{label:p=t}={},...m}={}){const g={};for(const[y,b]of e){const w=m[y],_=b4(y,b,{round:pe.get(y)===bt?f:void 0,nice:u,clamp:c,zero:s,align:d,padding:l,projection:h,...w});if(_){let{label:v=y==="fx"||y==="fy"?p:t,percent:x,transform:M,inset:S,insetTop:A=S!==void 0?S:y==="y"?r:0,insetRight:k=S!==void 0?S:y==="x"?i:0,insetBottom:T=S!==void 0?S:y==="y"?o:0,insetLeft:D=S!==void 0?S:y==="x"?a:0}=w||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");_.percent=!!x,_.label=v===void 0?m4(b,_):v,_.transform=M,y==="x"||y==="fx"?(_.insetLeft=+D,_.insetRight=+k):(y==="y"||y==="fy")&&(_.insetTop=+A,_.insetBottom=+T),g[y]=_}}return g}function od(e){const t={},n={scales:t};for(const[r,i]of Object.entries(e)){const{scale:o,type:a,interval:f,label:u}=i;t[r]=x4(i),n[r]=o,o.type=a,f!=null&&(o.interval=f),u!=null&&(o.label=u)}return n}function p4(e,t){const{x:n,y:r,fx:i,fy:o}=e,a=i||o?Kc(t):t;i&&ad(i,a),o&&fd(o,a);const f=i||o?Gm(e,t):t;n&&ad(n,f),r&&fd(r,f)}function m4(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Pn(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function Wm(e){return Math.sign(sr(e.domain()))*Math.sign(sr(e.range()))}function Kc(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:u,marginBottom:c,marginLeft:s}}=e;return{marginTop:Math.max(t,f),marginRight:Math.max(n,u),marginBottom:Math.max(r,c),marginLeft:Math.max(i,s),width:o,height:a}}function Gm({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:u}=Kc(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:e?e.scale.bandwidth()+a+i:f,height:t?t.scale.bandwidth()+r+o:u,facet:{width:f,height:u}}}function ad(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:o=0,marginRight:a=0}=t,f=o+n,u=i-a-r;e.range=[f,Math.max(f,u)],Pn(e)||(e.range=Vm(e)),e.scale.range(e.range)}Xm(e)}function fd(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:o=0,marginBottom:a=0}=t,f=o+n,u=i-a-r;e.range=[Math.max(f,u),f],Pn(e)?e.range.reverse():e.range=Vm(e),e.scale.range(e.range)}Xm(e)}function Xm(e){e.round===void 0&&_4(e)&&g4(e)<=30&&e.scale.round(!0)}function g4({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),a=t-i,f=Math.abs(r-n)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function Vm(e){const t=e.scale.domain().length+Zm(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,o)=>n+o/(t-1)*(r-n))}function b4(e,t=[],n={}){const r=y4(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Pn({type:r})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Oe)?tn(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Yn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Yn(r)}".`):i.some(Z5)?tn(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Yn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Yn(r)}".`):i.some(K5)&&tn(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Yn(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Yn(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Xi(t,n,lr);break;case"identity":switch(pe.get(e)){case bt:n=Xi(t,n,lr);break;case Da:n=Xi(t,n,w4);break}break;case"utc":case"time":n=Xi(t,n,lm);break}switch(r){case"diverging":return Q8(e,t,n);case"diverging-sqrt":return J8(e,t,n);case"diverging-pow":return Um(e,t,n);case"diverging-log":return e4(e,t,n);case"diverging-symlog":return t4(e,t,n);case"categorical":case"ordinal":case Ii:return c4(e,t,n);case"cyclical":case"sequential":case"linear":return F8(e,t,n);case"sqrt":return q8(e,t,n);case"threshold":return Vc(e,t,n);case"quantile":return B8(e,t,n);case"quantize":return Y8(e,t,n);case"pow":return qm(e,t,n);case"log":return z8(e,t,n);case"symlog":return U8(e,t,n);case"utc":return u4(e,t,n);case"time":return f4(e,t,n);case"point":return s4(e,t,n);case"band":return l4(e,t,n);case"identity":return j8(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Yn(e){return typeof e=="symbol"?e.description:e}function ud(e){return typeof e=="string"?`${e}`.toLowerCase():e}const cd={toString:()=>"projection"};function y4(e,t,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(n=ud(n),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&f!=null&&(n=cd);for(const c of t){const s=ud(c.type);if(s!==void 0){if(n===void 0)n=s;else if(n!==s)throw new Error(`scale incompatible with channel: ${n} !== ${s}`)}}if(n===cd)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:c})=>c!==void 0))return;const u=pe.get(e);if(u===Ei)return"sqrt";if(u===ki||u===Ci)return"linear";if(u===Da)return"ordinal";if((r||i||[]).length>2)return Cf(u);if(r!==void 0){if(Xl(r))return Cf(u);if(Oe(r))return"utc"}else{const c=t.map(({value:s})=>s).filter(s=>s!==void 0);if(c.some(Xl))return Cf(u);if(c.some(Oe))return"utc"}if(u===jt){if(a!=null||O8(o))return"diverging";if(I8(o))return"categorical"}return"linear"}function Cf(e){switch(e){case bt:return"point";case jt:return Ii;default:return"ordinal"}}function Pn({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Ii}function Zm({type:e}){return e==="threshold"}function _4({type:e}){return e==="point"||e==="band"}function mr(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Xi(e,{domain:t,...n},r){var i;for(const o of e)o.value!==void 0&&(t===void 0&&(t=(i=o.value)==null?void 0:i.domain),o.value=r(o.value));return{domain:t===void 0?t:r(t),...n}}function w4(e){return me(e,Bc)}function v4(e){return t=>{if(!pe.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function x4({scale:e,type:t,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:u}){if(t==="identity")return{type:"identity",apply:s=>s,invert:s=>s};const c=e.unknown?e.unknown():void 0;return{type:t,domain:ai(n),...r!==void 0&&{range:ai(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...c!==void 0&&{unknown:c},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:s=>e(s),...e.invert&&{invert:s=>e.invert(s)}}}function T4(e,t){const{fx:n,fy:r}=Bu(e,t),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?hy(i,o).map(([a,f],u)=>({x:a,y:f,i:u})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function M4(e,{x:t,y:n}){return t&&(t=Yu(t)),n&&(n=Yu(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Qc(e,{fx:t,fy:n}){const r=Ht(e),i=t==null?void 0:t.value,o=n==null?void 0:n.value;return t&&n?Vn(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):t?Vn(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Vn(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function S4(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:o})=>`translate(${e(i)-r},${t(o)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function $4(e){const t=[],n=new Uint32Array(nn(e,r=>r.length));for(const r of e){let i=0;for(const o of e)r!==o&&(n.set(o,i),i+=o.length);t.push(n.slice(0,i))}return t}const A4=new Map([["top",kf],["right",If],["bottom",Nf],["left",Df],["top-left",Vi(kf,Df)],["top-right",Vi(kf,If)],["bottom-left",Vi(Nf,Df)],["bottom-right",Vi(Nf,If)],["top-empty",k4],["right-empty",I4],["bottom-empty",N4],["left-empty",D4],["empty",R4]]);function E4(e){if(e==null)return null;const t=A4.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const sd=new WeakMap;function Yu(e){let t=sd.get(e);return t||sd.set(e,t=new Sn(me(e,(n,r)=>[n,r]))),t}function pn(e,t){return Yu(e).get(t)}function C4(e,t,n){return t=qt(t),n=qt(n),e.find(r=>Object.is(qt(r.x),t)&&Object.is(qt(r.y),n))}function Oa(e,t,n){var r;return(r=C4(e,t,n))==null?void 0:r.empty}function kf(e,{y:t},{y:n}){return t?pn(t,n)===0:!0}function Nf(e,{y:t},{y:n}){return t?pn(t,n)===t.length-1:!0}function Df(e,{x:t},{x:n}){return t?pn(t,n)===0:!0}function If(e,{x:t},{x:n}){return t?pn(t,n)===t.length-1:!0}function k4(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=pn(t,r);if(o>0)return Oa(e,n,t[o-1])}function N4(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=pn(t,r);if(o<t.length-1)return Oa(e,n,t[o+1])}function D4(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=pn(t,n);if(o>0)return Oa(e,t[o-1],r)}function I4(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=pn(t,n);if(o<t.length-1)return Oa(e,t[o+1],r)}function R4(e,t,{empty:n}){return n}function Vi(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function Rf(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}const Km=Math.PI,kt=2*Km,Lf=.618;function L4({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={},a){if(e==null)return;if(typeof e.stream=="function")return e;let f,u,c="frame";if(ln(e)){let v;if({type:e,domain:u,inset:v,insetTop:n=v!==void 0?v:n,insetRight:r=v!==void 0?v:r,insetBottom:i=v!==void 0?v:i,insetLeft:o=v!==void 0?v:o,clip:c=c,...f}=e,e==null)return}typeof e!="function"&&({type:e}=Hu(e));const{width:s,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:m}=a,g=s-l-h-o-r,y=d-p-m-n-i;if(e=e==null?void 0:e({width:g,height:y,clip:c,...f}),e==null)return;c=O4(c,l,p,s-h,d-m);let b=l+o,w=p+n,_;if(u!=null){const[[v,x],[M,S]]=ma(e).bounds(u),A=Math.min(g/(M-v),y/(S-x));A>0?(b-=(A*(v+M)-g)/2,w-=(A*(x+S)-y)/2,_=Au({point(k,T){this.stream.point(k*A+b,T*A+w)}})):tn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??(_=b===0&&w===0?Qm():Au({point(v,x){this.stream.point(v+b,x+w)}})),{stream:v=>e.stream(_.stream(c(v)))}}function Hu(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Qe(rv,.7463,.4673);case"albers":return Zi(C0,.7463,.4673);case"azimuthal-equal-area":return Qe(iv,4,4);case"azimuthal-equidistant":return Qe(ov,kt,kt);case"conic-conformal":return Zi(uv,kt,kt);case"conic-equal-area":return Zi(Oo,6.1702,2.9781);case"conic-equidistant":return Zi(lv,7.312,3.6282);case"equal-earth":return Qe(hv,5.4133,2.6347);case"equirectangular":return Qe(cv,kt,Km);case"gnomonic":return Qe(pv,3.4641,3.4641);case"identity":return{type:Qm};case"reflect-y":return{type:P4};case"mercator":return Qe(av,kt,kt);case"orthographic":return Qe(mv,2,2);case"stereographic":return Qe(gv,2,2);case"transverse-mercator":return Qe(bv,kt,kt);default:throw new Error(`unknown projection type: ${e}`)}}function O4(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return h0(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Qe(e,t,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{var c,s,d;const u=e();return a!=null&&((c=u.precision)==null||c.call(u,a)),o!=null&&((s=u.rotate)==null||s.call(u,o)),typeof f=="number"&&((d=u.clipAngle)==null||d.call(u,f)),r!=null&&(u.scale(Math.min(r/t,i/n)),u.translate([r/2,i/2])),u},aspectRatio:n/t}}function Zi(e,t,n){const{type:r,aspectRatio:i}=Qe(e,t,n);return{type:o=>{const{parallels:a,domain:f,width:u,height:c}=o,s=r(o);return a!=null&&(s.parallels(a),f===void 0&&u!=null&&s.fitSize([u,c],{type:"Sphere"})),s},aspectRatio:i}}const Qm=Ft({stream:e=>e}),P4=Ft(Au({point(e,t){this.stream.point(e,-t)}}));function F4(e,t,n,r){const i=n[e],o=n[t],a=i.length,f=n[e]=new Float64Array(a).fill(NaN),u=n[t]=new Float64Array(a).fill(NaN);let c;const s=r.stream({point(d,l){f[c]=d,u[c]=l}});for(c=0;c<a;++c)s.point(i[c],o[c])}function q4({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(ln(e)&&(e=e.type),e!=null)}function z4(e){if(typeof(e==null?void 0:e.stream)=="function")return Lf;if(ln(e)){let t,n;if({domain:t,type:e,...n}=e,t!=null&&e!=null){const r=typeof e=="string"?Hu(e).type:e,[[i,o],[a,f]]=ma(r({...n,width:100,height:100})).bounds(t),u=(f-o)/(a-i);return u&&isFinite(u)?u<.2?.2:u>5?5:u:Lf}}if(e!=null){if(typeof e!="function"){const{aspectRatio:t}=Hu(e);if(t)return t}return Lf}}function U4(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},o={point(a,f){t.push(a),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of e.value)_n(a,o);return[r,i]}function Jc(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:ym(n)}}function Te(e,{document:t}){return Zn(ca(e).call(t.documentElement))}const ju=Symbol("unset");function es(e){return(e.length===1?B4:Y4)(e)}function B4(e){let t,n=ju;return r=>(Object.is(n,r)||(n=r,t=e(r)),t)}function Y4(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>!Object.is(i,r[o])))&&(n=r,t=e(...r)),t)}const H4=es(e=>new Intl.NumberFormat(e));es((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{month:t}}));es((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{weekday:t}}));function j4(e="en-US"){const t=H4(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function W4(e){return A5(e,"Invalid Date")}function G4(e="en-US"){const t=j4(e);return n=>(n instanceof Date?W4:typeof n=="number"?t:De)(n)}const gr=G4(),Fe=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let X4=0;function Jm(){return`plot-clip-${++X4}`}function V4(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:u,stroke:c,strokeWidth:s,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:y,mixBlendMode:b,imageFilter:w,paintOrder:_,pointerEvents:v,shapeRendering:x,channels:M},{ariaLabel:S,fill:A="currentColor",fillOpacity:k,stroke:T="none",strokeOpacity:D,strokeWidth:N,strokeLinecap:I,strokeLinejoin:$,strokeMiterlimit:L,paintOrder:R}){A===null&&(f=null,u=null),T===null&&(c=null,d=null),Ae(A)?!Ae(T)&&(!Ae(f)||M!=null&&M.fill)&&(T="none"):Ae(T)&&(!Ae(c)||M!=null&&M.stroke)&&(A="none");const[H,j]=Ze(f,A),[O,F]=Pe(u,k),[P,z]=Ze(c,T),[J,te]=Pe(d,D),[G,B]=Pe(y);ui(z)||(s===void 0&&(s=N),h===void 0&&(h=I),l===void 0&&(l=$),p===void 0&&!t8(l)&&(p=L),!ui(j)&&_===void 0&&(_=R));const[Y,C]=Pe(s);return A!==null&&(e.fill=Se(j,"currentColor"),e.fillOpacity=kr(F,1)),T!==null&&(e.stroke=Se(z,"none"),e.strokeWidth=kr(C,1),e.strokeOpacity=kr(te,1),e.strokeLinejoin=Se(l,"miter"),e.strokeLinecap=Se(h,"butt"),e.strokeMiterlimit=kr(p,4),e.strokeDasharray=Se(m,"none"),e.strokeDashoffset=Se(g,"0")),e.target=De(a),e.ariaLabel=De(S),e.ariaDescription=De(i),e.ariaHidden=De(o),e.opacity=kr(B,1),e.mixBlendMode=Se(b,"normal"),e.imageFilter=Se(w,"none"),e.paintOrder=Se(_,"normal"),e.pointerEvents=Se(v,"auto"),e.shapeRendering=Se(x,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:H,scale:"auto",optional:!0},fillOpacity:{value:O,scale:"auto",optional:!0},stroke:{value:P,scale:"auto",optional:!0},strokeOpacity:{value:J,scale:"auto",optional:!0},strokeWidth:{value:Y,optional:!0},opacity:{value:G,scale:"auto",optional:!0}}}function Z4(e,t){t&&e.filter(n=>$c(t[n])).append("title").call(Q4,t)}function K4(e,t){t&&e.filter(([n])=>$c(t[n])).append("title").call(J4,t)}function Q4(e,t){t&&e.text(n=>gr(t[n]))}function J4(e,t){t&&e.text(([n])=>gr(t[n]))}function In(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:d}){r&&X(e,"aria-label",l=>r[l]),o&&X(e,"fill",l=>o[l]),a&&X(e,"fill-opacity",l=>a[l]),f&&X(e,"stroke",l=>f[l]),u&&X(e,"stroke-opacity",l=>u[l]),c&&X(e,"stroke-width",l=>c[l]),s&&X(e,"opacity",l=>s[l]),d&&rg(e,l=>d[l],t),n||Z4(e,i)}function eg(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:d}){r&&X(e,"aria-label",([l])=>r[l]),o&&X(e,"fill",([l])=>o[l]),a&&X(e,"fill-opacity",([l])=>a[l]),f&&X(e,"stroke",([l])=>f[l]),u&&X(e,"stroke-opacity",([l])=>u[l]),c&&X(e,"stroke-width",([l])=>c[l]),s&&X(e,"opacity",([l])=>s[l]),d&&rg(e,([l])=>d[l],t),n||K4(e,i)}function e7({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:u},{tip:c}){return[e,c?void 0:t,n,r,i,o,a,f,u].filter(s=>s!==void 0)}function t7(e,t,n){const r=fa(e,i=>t[i]);return n===void 0&&r.size>1+e.length>>1&&tn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*tg(e,t,n,r){const{z:i}=n,{z:o}=r,a=e7(r,n),f=[...t,...a];for(const u of o?t7(e,o,i):[e]){let c,s;e:for(const d of u){for(const l of f)if(!an(l[d])){s&&s.push(-1);continue e}if(c===void 0){s&&(yield s),c=a.map(l=>qt(l[d])),s=[d];continue}s.push(d);for(let l=0;l<a.length;++l)if(qt(a[l][d])!==c[l]){yield s,c=a.map(p=>qt(p[d])),s=[d];continue e}}s&&(yield s)}}function n7(e,t,n,r){let i;const{clip:o=r.clip}=t;switch(o){case"frame":{e=Te("svg:g",r).each(function(){this.appendChild(e.node()),e.node=()=>this}),i=r7(r,n);break}case"sphere":{i=i7(r);break}}X(e,"aria-label",t.ariaLabel),X(e,"aria-description",t.ariaDescription),X(e,"aria-hidden",t.ariaHidden),X(e,"clip-path",i)}function ng(e){const t=new WeakMap;return(n,r)=>{let i=t.get(n);if(!i){const o=Jm();Zn(n.ownerSVGElement).append("clipPath").attr("id",o).call(e,n,r),t.set(n,i=`url(#${o})`)}return i}}const r7=ng((e,t,n)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:f,marginBottom:u}=n;e.append("rect").attr("x",o).attr("y",f).attr("width",r-a-o).attr("height",i-f-u)}),i7=ng((e,t)=>{const{projection:n}=t;if(!n)throw new Error('the "sphere" clip option requires a projection');e.append("path").attr("d",ma(n)({type:"Sphere"}))});function Wt(e,t,n,r){n7(e,t,n,r),X(e,"class",t.className),X(e,"fill",t.fill),X(e,"fill-opacity",t.fillOpacity),X(e,"stroke",t.stroke),X(e,"stroke-width",t.strokeWidth),X(e,"stroke-opacity",t.strokeOpacity),X(e,"stroke-linejoin",t.strokeLinejoin),X(e,"stroke-linecap",t.strokeLinecap),X(e,"stroke-miterlimit",t.strokeMiterlimit),X(e,"stroke-dasharray",t.strokeDasharray),X(e,"stroke-dashoffset",t.strokeDashoffset),X(e,"shape-rendering",t.shapeRendering),X(e,"filter",t.imageFilter),X(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;X(e,"pointer-events",i)}function Tt(e,t){o7(e,"mix-blend-mode",t.mixBlendMode),X(e,"opacity",t.opacity)}function rg(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const o=this.ownerDocument.createElementNS(tr.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(tr.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function X(e,t,n){n!=null&&e.attr(t,n)}function o7(e,t,n){n!=null&&e.style(t,n)}function Gt(e,t,{x:n,y:r},i=Fe,o=Fe){i+=t.dx,o+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&e.attr("transform",`translate(${i},${o})`)}function Se(e,t){if((e=De(e))!==t)return e}function kr(e,t){if((e=Ce(e))!==t)return e}const a7=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Pa(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!a7.test(e))throw new Error(`invalid class name: ${e}`);return e}function ts(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Fa({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(e)?a:/right$/.test(e)?t-i:(a+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-o:(r+n-o)/2]}class Ke{constructor(t,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:u,sort:c,dx:s=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:m=l,marginLeft:g=l,className:y,clip:b=i==null?void 0:i.clip,channels:w,tip:_,render:v}=r;if(this.data=t,this.sort=hr(c)?c:null,this.initializer=pr(r).initializer,this.transform=this.initializer?r.transform:Ni(r).transform,o===null||o===!1?this.facet=null:(this.facet=ut(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=t===po&&typeof f=="string"?[f]:f,this.fy=t===po&&typeof u=="string"?[u]:u),this.facetAnchor=E4(a),n=bm(n),w!==void 0&&(n={...f7(w),...n}),i!==void 0&&(n={...V4(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([x,M])=>{if(ka(M.value)){const{value:S,label:A=M.label,scale:k=M.scale}=M.value;M={...M,label:A,scale:k,value:S}}if(t===po&&typeof M.value=="string"){const{value:S}=M;M={...M,value:[S]}}return[x,M]}).filter(([x,{value:M,optional:S}])=>{if(M!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${x}`)})),this.dx=+s,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+g,this.clip=ym(b),this.tip=u7(_),this.className=y?Pa(y):null,this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(const x in this.channels){const{scale:M}=n[x];if(!(M!=="x"&&M!=="y"))throw new Error("super-faceting cannot use x or y")}}v!=null&&(this.render=Jo(v,this.render))}initialize(t,n,r){let i=dr(this.data);t===void 0&&i!=null&&(t=[Ht(i)]);const o=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=dr(i)),t!==void 0&&(t.original=o);const a=A8(this.channels,i);return this.sort!=null&&C8(i,t,a,n,this.sort),{data:i,facets:t,channels:a}}filter(t,n,r){for(const i in n){const{filter:o=an}=n[i];if(o!==null){const a=r[i];t=t.filter(f=>o(a[f]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in t&&t[o].scale==="y"&&F4(i,o,n,r.projection)}}scale(t,n,r){const i=E8(t,n);return r.projection&&this.project(t,i,r),i}}function Fn(...e){return e.plot=Ke.prototype.plot,e}function Jo(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,o,a,f){return e.call(this,n,r,i,o,a,(u,c,s,d,l)=>t.call(this,u,c,s,d,l,f))}}function f7(e){return Object.fromEntries(Object.entries(bm(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:xr(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function u7(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?ut(e,"tip",["x","y","xy"]):e}function Ri(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:ln(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function c7(e,t,n={}){let r=.5-Fe,i=.5+Fe,o=.5+Fe,a=.5-Fe;for(const{marginTop:m,marginRight:g,marginBottom:y,marginLeft:b}of t)m>r&&(r=m),g>i&&(i=g),y>o&&(o=y),b>a&&(a=b);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:c=f!==void 0?f:i,marginBottom:s=f!==void 0?f:o,marginLeft:d=f!==void 0?f:a}=n;u=+u,c=+c,s=+s,d=+d;let{width:l=640,height:h=s7(e,n,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,u-r+s-o)}=n;l=+l,h=+h;const p={width:l,height:h,marginTop:u,marginRight:c,marginBottom:s,marginLeft:d};if(e.fx||e.fy){let{margin:m,marginTop:g=m!==void 0?m:u,marginRight:y=m!==void 0?m:c,marginBottom:b=m!==void 0?m:s,marginLeft:w=m!==void 0?m:d}=n.facet??{};g=+g,y=+y,b=+b,w=+w,p.facet={marginTop:g,marginRight:y,marginBottom:b,marginLeft:w}}return p}function s7({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:s}){const d=n&&n.scale.domain().length||1,l=z4(i);if(l){const p=r?r.scale.domain().length:1,m=(1.1*d-.1)/(1.1*p-.1)*l,g=Math.max(.1,Math.min(10,m));return Math.round((a-s-u)*g+f+c)}const h=t?Pn(t)?t.scale.domain().length||1:Math.max(7,17/d):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=ld("y",t)/(ld("x",e)*o),m=r?r.scale.bandwidth():1,g=n?n.scale.bandwidth():1,y=m*(a-s-u)-e.insetLeft-e.insetRight;return(p*y+t.insetTop+t.insetBottom)/g+f+c}return!!(t||n)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function ld(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=t.scale.exponent();i=u=>Math.pow(u,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[o,a]=He(r);return Math.abs(i(a)-i(o))}const dd=new WeakMap;function ns(e,t,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:u,...c}={}){return a=+a,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),f={...f,py:{value:o,scale:"y"}}),{x:n,y:r,channels:f,...c,render:Jo(function(s,d,l,h,p,m){p={...p,pointerSticky:!1};const g=p.ownerSVGElement,{data:y}=p.getMarkState(this);let b=dd.get(g);b||dd.set(g,b={sticky:!1,roots:[],renders:[]});let w=b.renders.push(z)-1;const{x:_,y:v,fx:x,fy:M}=d;let S=x?x(s.fx)-h.marginLeft:0,A=M?M(s.fy)-h.marginTop:0;_!=null&&_.bandwidth&&(S+=_.bandwidth()/2),v!=null&&v.bandwidth&&(A+=v.bandwidth()/2);const k=s.fi!=null;let T;if(k){let B=b.facetStates;B||(b.facetStates=B=new Map),T=B.get(this),T||B.set(this,T=new Map)}const[D,N]=Fa(this,h),{px:I,py:$}=l,L=I?B=>I[B]:ig(l,D),R=$?B=>$[B]:og(l,N);let H,j,O,F;function P(B,Y){if(k)if(F&&(F=cancelAnimationFrame(F)),B==null)T.delete(s.fi);else{T.set(s.fi,Y),F=requestAnimationFrame(()=>{F=null;for(const[C,q]of T)if(q<Y||q===Y&&C<s.fi){B=null;break}z(B)});return}z(B)}function z(B){if(H===B&&O===b.sticky)return;H=B,O=p.pointerSticky=b.sticky;const Y=H==null?[]:[H];k&&(Y.fx=s.fx,Y.fy=s.fy,Y.fi=s.fi);const C=m(Y,d,l,h,p);if(j){if(k){const q=j.parentNode,U=j.getAttribute("transform"),E=C.getAttribute("transform");U?C.setAttribute("transform",U):C.removeAttribute("transform"),E?q.setAttribute("transform",E):q.removeAttribute("transform"),C.removeAttribute("aria-label"),C.removeAttribute("aria-description"),C.removeAttribute("aria-hidden")}j.replaceWith(C)}if(b.roots[w]=j=C,!(H==null&&(T==null?void 0:T.size)>1)){const q=H==null?null:sn(y)?y[H]:y.get(H);p.dispatchValue(q)}return C}function J(B){if(b.sticky||B.pointerType==="mouse"&&B.buttons===1)return;let[Y,C]=w_(B);Y-=S,C-=A;const q=Y<h.marginLeft||Y>h.width-h.marginRight?1:e,U=C<h.marginTop||C>h.height-h.marginBottom?1:t;let E=null,re=a*a;for(const W of s){const ie=q*(L(W)-Y),oe=U*(R(W)-C),ce=ie*ie+oe*oe;ce<=re&&(E=W,re=ce)}if(E!=null&&(e!==1||t!==1)){const W=L(E)-Y,ie=R(E)-C;re=W*W+ie*ie}P(E,re)}function te(B){B.pointerType==="mouse"&&H!=null&&(b.sticky&&b.roots.some(Y=>Y==null?void 0:Y.contains(B.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(Y=>Y(null))):(b.sticky=!0,z(H)),B.stopImmediatePropagation()))}function G(B){B.pointerType==="mouse"&&(b.sticky||P(null))}return g.addEventListener("pointerenter",J),g.addEventListener("pointermove",J),g.addEventListener("pointerdown",te),g.addEventListener("pointerleave",G),z(null)},u)}}function l7(e){return ns(1,1,e)}function d7(e){return ns(1,.01,e)}function hd(e){return ns(.01,1,e)}function ig({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function og({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function ag(e){return Pn(e)&&e.interval===void 0?void 0:"tabular-nums"}function h7(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:c=0,style:s,ticks:d=(i-c-f)/64,tickFormat:l,fontVariant:h=ag(e),round:p=!0,opacity:m,className:g}=t;const y=Jc(t);g=Pa(g),m=Pe(m)[1],l===null&&(l=()=>null);const b=Te("svg",y).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(D=>D.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(ts,s);let w=D=>D.selectAll(".tick line").attr("y1",a+u-o),_;const v=p?(D,N)=>D.rangeRound(N):(D,N)=>D.range(N),{type:x,domain:M,range:S,interpolate:A,scale:k,pivot:T}=e;if(A){const D=S===void 0?A:da(A.length===1?Zc(A):A,S);_=v(k.copy(),nt($e(c,i-f),Math.min(M.length+(T!==void 0),S===void 0?1/0:S.length)));const N=256,I=y.document.createElement("canvas");I.width=N,I.height=1;const $=I.getContext("2d");for(let L=0,R=N-1;L<N;++L)$.fillStyle=D(L/R),$.fillRect(L,0,1,1);b.append("image").attr("opacity",m).attr("x",c).attr("y",a).attr("width",i-c-f).attr("height",o-a-u).attr("preserveAspectRatio","none").attr("xlink:href",I.toDataURL())}else if(x==="threshold"){const D=M,N=l===void 0?I=>I:typeof l=="string"?_r(l):l;_=v(gc().domain([-1,S.length-1]),[c,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(S).enter().append("rect").attr("x",(I,$)=>_($-1)).attr("y",a).attr("width",(I,$)=>_($)-_($-1)).attr("height",o-a-u).attr("fill",I=>I),d=me(D,(I,$)=>$),l=I=>N(D[I],I)}else _=v(_a().domain(M),[c,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(M).enter().append("rect").attr("x",_).attr("y",a).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",o-a-u).attr("fill",k),w=()=>{};return b.append("g").attr("transform",`translate(0,${o-u})`).call(Py(_).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Se(h,"normal")).call(w).call(D=>D.select(".domain").remove()),n!==void 0&&b.append("text").attr("x",c).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),b.node()}const fg=Math.PI/180;function rs(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=Of(n),e.markerMid=Of(r),e.markerEnd=Of(i)}function Of(e){if(e==null||e===!1)return null;if(e===!0)return md;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return pd("auto");case"arrow-reverse":return pd("auto-start-reverse");case"dot":return p7;case"circle":case"circle-fill":return md;case"circle-stroke":return m7;case"tick":return Pf("auto");case"tick-x":return Pf(90);case"tick-y":return Pf(0)}throw new Error(`invalid marker: ${e}`)}function pd(e){return(t,n)=>Te("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function p7(e,t){return Te("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function md(e,t){return Te("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function m7(e,t){return Te("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Pf(e){return(t,n)=>Te("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let g7=0;function ug(e,t,{stroke:n},r){return sg(e,t,n&&(i=>n[i]),null,r)}function b7(e,t,{stroke:n,z:r},i){return sg(e,t,n&&(([o])=>n[o]),r,i)}const Wu=1,cg=2;function y7(e,t){const n=new Uint8Array(t.length),r=e.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=ju;o<i;++o){const f=r[o];if(f.length>1){const u=f[0];a!==(a=qt(t[u]))&&(n[u]|=Wu)}}for(let o=i-1,a=ju;o>=0;--o){const f=r[o];if(f.length>1){const u=f[0];a!==(a=qt(t[u]))&&(n[u]|=cg)}}return([o])=>n[o]}function sg(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a,f){if(!t&&!n&&!r)return;const u=new Map,c=a&&y7(e,a);function s(d,l,h){return function(p){if(h&&!h(p))return;const m=o(p);let g=u.get(l);g||u.set(l,g=new Map);let y=g.get(m);if(!y){const b=this.parentNode.insertBefore(l(m,f),this),w=`plot-marker-${++g7}`;b.setAttribute("id",w),g.set(m,y=`url(#${w})`)}this.setAttribute(d,y)}}t&&e.each(s("marker-start",t,c&&(d=>c(d)&Wu))),n&&c&&e.each(s("marker-start",n,d=>!(c(d)&Wu))),n&&e.each(s("marker-mid",n)),r&&e.each(s("marker-end",r,c&&(d=>c(d)&cg)))}function qa({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=dg(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function lg({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=dg(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function dg(e,t,n){return e===void 0&&t===void 0&&n===void 0?Fe?[1,0]:[.5,.5]:[t,n]}function hg(e,{interval:t}){return e={...xr(e)},e.interval=Fc(e.interval===void 0?t:e.interval),e}function is(e,t,n,r){const{[e]:i,[`${e}1`]:o,[`${e}2`]:a}=n,{value:f,interval:u}=hg(i,n);if(f==null||u==null&&!r)return n;const c=dn(i);if(u==null){let h;const p={transform:m=>h||(h=se(m,f)),label:c};return{...n,[e]:void 0,[`${e}1`]:o===void 0?p:o,[`${e}2`]:a===void 0&&!(o===a&&r)?p:a}}let s,d;function l(h){return d!==void 0&&h===s?d:d=me(se(s=h,f),p=>u.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:o===void 0?{transform:l,label:c}:o,[`${e}2`]:a===void 0?{transform:h=>l(h).map(p=>u.offset(p)),label:c}:a})}function pg(e,t,n){const{[e]:r}=n,{value:i,interval:o}=hg(r,n);return i==null||o==null?n:t({...n,[e]:{label:dn(r),transform:a=>{const f=me(se(a,i),c=>o.floor(c)),u=f.map(c=>o.offset(c));return f.map(Oe(f)?(c,s)=>c==null||isNaN(c=+c)||(s=u[s],s==null)||isNaN(s=+s)?void 0:new Date((c+s)/2):(c,s)=>c==null||(s=u[s],s==null)?NaN:(+c+ +s)/2)}}})}function _7(e={}){return is("x",qa,e,!0)}function w7(e={}){return is("x",qa,e)}function v7(e={}){return is("y",lg,e)}function x7(e={}){return pg("x",qa,e)}function T7(e={}){return pg("y",lg,e)}const mg={ariaLabel:"rule",fill:null,stroke:"currentColor"};class M7 extends Ke{constructor(t,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:u=a}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Ri(n,"x"),mg),this.insetTop=Ce(f),this.insetBottom=Ce(u),rs(this,n)}render(t,n,r,i,o){const{x:a,y:f}=n,{x:u,y1:c,y2:s}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetTop:y,insetBottom:b}=this;return Te("svg:g",o).call(Wt,this,i,o).call(Gt,this,{x:u&&a},Fe,0).call(w=>w.selectAll().data(t).enter().append("line").call(Tt,this).attr("x1",u?_=>u[_]:(m+d-p)/2).attr("x2",u?_=>u[_]:(m+d-p)/2).attr("y1",c&&!mr(f)?_=>c[_]+y:h+y).attr("y2",s&&!mr(f)?f.bandwidth?_=>s[_]+f.bandwidth()-b:_=>s[_]-b:l-g-b).call(In,this,r).call(ug,this,r,o)).node()}}class S7 extends Ke{constructor(t,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:u=a}=n;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Ri(n,"y"),mg),this.insetRight=Ce(f),this.insetLeft=Ce(u),rs(this,n)}render(t,n,r,i,o){const{x:a,y:f}=n,{y:u,x1:c,x2:s}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetLeft:y,insetRight:b}=this;return Te("svg:g",o).call(Wt,this,i,o).call(Gt,this,{y:u&&f},0,Fe).call(w=>w.selectAll().data(t).enter().append("line").call(Tt,this).attr("x1",c&&!mr(a)?_=>c[_]+y:m+y).attr("x2",s&&!mr(a)?a.bandwidth?_=>s[_]+a.bandwidth()-b:_=>s[_]-b:d-p-b).attr("y1",u?_=>u[_]:(h+l-g)/2).attr("y2",u?_=>u[_]:(h+l-g)/2).call(In,this,r).call(ug,this,r,o)).node()}}function gg(e,t){let{x:n=xe,y:r,y1:i,y2:o,...a}=v7(t);return[i,o]=bg(r,i,o),new M7(e,{...a,x:n,y1:i,y2:o})}function za(e,t){let{y:n=xe,x:r,x1:i,x2:o,...a}=w7(t);return[i,o]=bg(r,i,o),new S7(e,{...a,y:n,x1:i,x2:o})}function bg(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function yg(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let o=0;o<n;++o)i+=t[o](r)+e[o+1];return i}}const $7={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},_g="­";class os extends Ke{constructor(t,n={}){const{x:r,y:i,text:o=hn(t)&&gm(t)?xe:Ai,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:u=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:c=1,lineWidth:s=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:y,rotate:b}=n,[w,_]=Pe(b,0),[v,x]=N7(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:V5(w),optional:!0},text:{value:o,filter:$c,optional:!0}},n,$7),this.rotate=_,this.textAnchor=Se(f,"middle"),this.lineAnchor=ut(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+s,this.textOverflow=wg(d),this.monospace=!!l,this.fontFamily=De(h),this.fontSize=x,this.fontStyle=De(m),this.fontVariant=De(g),this.fontWeight=De(y),this.frameAnchor=qc(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=Mg(this),this.clipLine=Sg(this)}render(t,n,r,i,o){const{x:a,y:f}=n,{x:u,y:c,rotate:s,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[m,g]=Fa(this,i);return Te("svg:g",o).call(Wt,this,i,o).call(Tg,this,d,i).call(Gt,this,{x:u&&a,y:c&&f}).call(y=>y.selectAll().data(t).enter().append("text").call(Tt,this).call(A7,this,d,l).attr("transform",yg`translate(${u?b=>u[b]:m},${c?b=>c[b]:g})${s?b=>` rotate(${s[b]})`:p?` rotate(${p})`:""}`).call(X,"font-size",h&&(b=>h[b])).call(In,this,r)).node()}}function wg(e){return e==null?null:ut(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function A7(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:u}=t;e.each(function(c){const s=f(gr(n[c])??"").map(u),d=s.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!s[p])continue;const m=this.ownerDocument.createElementNS(tr.svg,"tspan");m.setAttribute("x",0),p===h-1?m.setAttribute("y",`${(l+p)*o}em`):m.setAttribute("dy",`${h*o}em`),m.textContent=s[p],this.appendChild(m),h=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=s[0];if(a&&!r&&s[0]!==n[c]){const h=this.ownerDocument.createElementNS(tr.svg,"title");h.textContent=n[c],this.appendChild(h)}})}function vg(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Lc(t,n)),new os(e,{...r,x:t,y:n})}function xg(e,{x:t=xe,...n}={}){return new os(e,T7({...n,x:t}))}function E7(e,{y:t=xe,...n}={}){return new os(e,x7({...n,y:t}))}function Tg(e,t,n){X(e,"text-anchor",t.textAnchor),X(e,"font-family",t.fontFamily),X(e,"font-size",t.fontSize),X(e,"font-style",t.fontStyle),X(e,"font-variant",t.fontVariant===void 0?C7(n):t.fontVariant),X(e,"font-weight",t.fontWeight)}function C7(e){return e&&(Q5(e)||Oe(e))?"tabular-nums":void 0}const k7=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function N7(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),k7.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function D7(e,t,n){const r=[];let i,o=0;for(const[a,f,u]of I7(e)){if(i===void 0&&(i=a),o>i&&n(e,i,f)>t&&(r.push(e.slice(i,o)+(e[o-1]===_g?"-":"")),i=a),u){r.push(e.slice(i,f)),i=void 0;continue}o=f}return r}function*I7(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case _g:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const gd={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function as(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Tr(e,i))r+=gd[e[i]]??(Ag(e,i)?120:gd.e);return r}function fs(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Tr(e,i))r+=Ag(e,i)?126:63;return r}function Mg({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);const r=e?fs:as,i=t*100;return o=>D7(o,i,r)}function Sg({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return o=>o;const r=e?fs:as,i=t*100;switch(n){case"clip-start":return o=>yd(o,i,r,"");case"clip-end":return o=>bd(o,i,r,"");case"ellipsis-start":return o=>yd(o,i,r,Jn);case"ellipsis-middle":return o=>R7(o,i,r,Jn);case"ellipsis-end":return o=>bd(o,i,r,Jn)}}const Jn="…";function br(e,t,n,r){const i=[];let o=0;for(let a=0,f=0,u=e.length;a<u;a=f){f=Tr(e,a);const c=n(e,a,f);if(o+c>t){for(o+=r;o>t&&a>0;)f=a,a=i.pop(),o-=n(e,a,f);return[a,t-o]}o+=c,i.push(a)}return[-1,0]}function bd(e,t,n,r){e=e.trim();const i=n(r),[o]=br(e,t,n,i);return o<0?e:e.slice(0,o).trimEnd()+r}function R7(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r)/2,[a,f]=br(e,t/2,n,o),[u]=br(e,i-t/2-f+o,n,-o);return u<0?r:e.slice(0,a).trimEnd()+r+e.slice(Tr(e,u)).trimStart()}function yd(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r),[a]=br(e,i-t+o,n,-o);return a<0?r:r+e.slice(Tr(e,a)).trimStart()}const Gu=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,_d=new RegExp("\\p{Extended_Pictographic}","uy");function Tr(e,t){return t+=L7(e,t)?2:1,P7(e,t)&&(t=Gu.lastIndex),O7(e,t)?Tr(e,t+1):t}function $g(e,t){return e.charCodeAt(t)<128}function L7(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function O7(e,t){return e.charCodeAt(t)===8205}function P7(e,t){return $g(e,t)?!1:(Gu.lastIndex=t,Gu.test(e))}function Ag(e,t){return $g(e,t)?!1:(_d.lastIndex=t,_d.test(e))}const F7={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Eg=3.5,q7=Eg*5,Cg={draw(e,t,n){const r=t*n/q7;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},z7={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},U7=new Map([["arrow",Cg],["spike",z7]]);function B7(e){return e&&typeof e.draw=="function"}function Y7(e){if(B7(e))return e;const t=U7.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class kg extends Ke{constructor(t,n={}){const{x:r,y:i,r:o=Eg,length:a,rotate:f,shape:u=Cg,anchor:c="middle",frameAnchor:s}=n,[d,l]=Pe(a,12),[h,p]=Pe(f,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,F7),this.r=+o,this.length=l,this.rotate=p,this.shape=Y7(u),this.anchor=ut(c,"anchor",["start","middle","end"]),this.frameAnchor=qc(s)}render(t,n,r,i,o){const{x:a,y:f}=n,{x:u,y:c,length:s,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:m,r:g}=this,[y,b]=Fa(this,i);return Te("svg:g",o).call(Wt,this,i,o).call(Gt,this,{x:u&&a,y:c&&f}).call(w=>w.selectAll().data(t).enter().append("path").call(Tt,this).attr("transform",yg`translate(${u?_=>u[_]:y},${c?_=>c[_]:b})${d?_=>` rotate(${d[_]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?s?_=>` translate(0,${s[_]})`:` translate(0,${l})`:s?_=>` translate(0,${s[_]/2})`:` translate(0,${l/2})`}`).attr("d",s?_=>{const v=du();return m.draw(v,s[_],g),v}:(()=>{const _=du();return m.draw(_,l,g),_})()).call(In,this,r)).node()}}function H7(e,t={}){const{x:n=xe,...r}=t;return new kg(e,{...r,x:n})}function j7(e,t={}){const{y:n=xe,...r}=t;return new kg(e,{...r,y:n})}function mn(e,t){return arguments.length<2&&!hn(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function Ua({anchor:e}={},t){return e===void 0?t[0]:ut(e,"anchor",t)}function Ng(e){return Ua(e,["left","right"])}function Dg(e){return Ua(e,["right","left"])}function Ig(e){return Ua(e,["bottom","top"])}function Rg(e){return Ua(e,["top","bottom"])}function Lg(){const[e,t]=mn(...arguments);return Pg("y",Ng(t),e,t)}function W7(){const[e,t]=mn(...arguments);return Pg("fy",Dg(t),e,t)}function Og(){const[e,t]=mn(...arguments);return Fg("x",Ig(t),e,t)}function G7(){const[e,t]=mn(...arguments);return Fg("fx",Rg(t),e,t)}function Pg(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=e==="y"?6:0,tickPadding:m,tickRotate:g,x:y,margin:b,marginTop:w=b===void 0?20:b,marginRight:_=b===void 0?t==="right"?40:0:b,marginBottom:v=b===void 0?20:b,marginLeft:x=b===void 0?t==="left"?40:0:b,label:M,labelAnchor:S,labelArrow:A,labelOffset:k,...T}){return p=Ce(p),m=Ce(m),g=Ce(g),S!==void 0&&(S=ut(S,"labelAnchor",["center","top","bottom"])),A=Wg(A),Fn(p&&!Ae(o)?X7(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,x:y,...T}):null,Ae(u)?null:Z7(e,t,n,{fill:u,fillOpacity:c,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:s,tickSize:p,tickPadding:m,tickRotate:g,x:y,marginTop:w,marginRight:_,marginBottom:v,marginLeft:x,...T}),!Ae(u)&&M!==null?vg([],Bg({fill:u,fillOpacity:c,...T},function(D,N,I,$,L){const R=$[e],{marginTop:H,marginRight:j,marginBottom:O,marginLeft:F}=e==="y"&&L.inset||L,P=S??(R.bandwidth?"center":"top"),z=k??(t==="right"?j:F)-3;return P==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=P,this.frameAnchor=`${P}-${t}`,this.rotate=0),this.dy=P==="top"?3-H:P==="bottom"?O-3:0,this.dx=t==="right"?z:-z,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[jg(e,R,{anchor:t,label:M,labelAnchor:P,labelArrow:A})]}}}})):null)}function Fg(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=e==="x"?6:0,tickPadding:m,tickRotate:g,y,margin:b,marginTop:w=b===void 0?t==="top"?30:0:b,marginRight:_=b===void 0?20:b,marginBottom:v=b===void 0?t==="bottom"?30:0:b,marginLeft:x=b===void 0?20:b,label:M,labelAnchor:S,labelArrow:A,labelOffset:k,...T}){return p=Ce(p),m=Ce(m),g=Ce(g),S!==void 0&&(S=ut(S,"labelAnchor",["center","left","right"])),A=Wg(A),Fn(p&&!Ae(o)?V7(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,y,...T}):null,Ae(u)?null:K7(e,t,n,{fill:u,fillOpacity:c,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:s,tickSize:p,tickPadding:m,tickRotate:g,y,marginTop:w,marginRight:_,marginBottom:v,marginLeft:x,...T}),!Ae(u)&&M!==null?vg([],Bg({fill:u,fillOpacity:c,...T},function(D,N,I,$,L){const R=$[e],{marginTop:H,marginRight:j,marginBottom:O,marginLeft:F}=e==="x"&&L.inset||L,P=S??(R.bandwidth?"center":"right"),z=k??(t==="top"?H:O)-3;return P==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${P}`,this.textAnchor=P==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-z:z,this.dx=P==="right"?j-3:P==="left"?3-F:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[jg(e,R,{anchor:t,label:M,labelAnchor:P,labelArrow:A})]}}}})):null)}function X7(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="y"?"-empty":""),frameAnchor:f=t,tickSize:u,inset:c=0,insetLeft:s=c,insetRight:d=c,dx:l=0,y:h=e==="y"?void 0:null,...p}){return Mr(j7,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:h,...p,dx:t==="left"?+l-Fe+ +s:+l+Fe-d,anchor:"start",length:u,shape:t==="left"?ox:ax})}function V7(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="x"?"-empty":""),frameAnchor:f=t,tickSize:u,inset:c=0,insetTop:s=c,insetBottom:d=c,dy:l=0,x:h=e==="x"?void 0:null,...p}){return Mr(H7,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:h,...p,dy:t==="bottom"?+l-Fe-d:+l+Fe+ +s,anchor:"start",length:u,shape:t==="bottom"?rx:ix})}function Z7(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*fg):0),text:u,textAnchor:c=Math.abs(a)>60?"middle":t==="left"?"end":"start",lineAnchor:s=a>60?"top":a<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:m=0,y:g=e==="y"?void 0:null,...y}){return Mr(E7,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:c,lineAnchor:s,fontVariant:d,rotate:a,y:g,...y,dx:t==="left"?+m-o-f+ +h:+m+ +o+ +f-p},function(b,w,_,v,x){d===void 0&&(this.fontVariant=Hg(b)),u===void 0&&(x.text=Yg(b,w,_,v,t))})}function K7(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*fg):0),text:u,textAnchor:c=Math.abs(a)>=10?a<0^t==="bottom"?"start":"end":"middle",lineAnchor:s=Math.abs(a)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:m=0,x:g=e==="x"?void 0:null,...y}){return Mr(xg,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:s,fontVariant:d,rotate:a,x:g,...y,dy:t==="bottom"?+m+ +o+ +f-p:+m-o-f+ +h},function(b,w,_,v,x){d===void 0&&(this.fontVariant=Hg(b)),u===void 0&&(x.text=Yg(b,w,_,v,t))})}function Q7(){const[e,t]=mn(...arguments);return qg("y",Ng(t),e,t)}function J7(){const[e,t]=mn(...arguments);return qg("fy",Dg(t),e,t)}function ex(){const[e,t]=mn(...arguments);return zg("x",Ig(t),e,t)}function tx(){const[e,t]=mn(...arguments);return zg("fx",Rg(t),e,t)}function qg(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:o=t==="left"?i:null,x2:a=t==="right"?i:null,...f}){return Mr(za,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...Ug(f)})}function zg(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:o=t==="top"?i:null,y2:a=t==="bottom"?i:null,...f}){return Mr(gg,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...Ug(f)})}function Ug({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function Bg({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s=!1},d){return[,e]=Ze(e),[,t]=Pe(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s,initializer:d}}function Mr(e,t,n,r,i,o){let a;function f(s,d,l,h,p,m){const g=s==null&&(t==="fx"||t==="fy"),{[t]:y}=h;if(!y)throw new Error(`missing scale: ${t}`);const b=y.domain();let{interval:w,ticks:_,tickFormat:v,tickSpacing:x=t==="x"?80:35}=i;if(typeof _=="string"&&Gg(y)&&(w=_,_=void 0),_===void 0&&(_=vr(w,y.type)??nx(y,x)),s==null){if(hn(_))s=fn(_);else if(Xn(_))s=Ff(_,...He(b));else if(y.interval){let S=y.interval;if(y.ticks){const[A,k]=He(b),T=(k-A)/S[$i];S=jl(S,T/_)??S,s=Ff(S,A,k)}else{s=b;const A=s.length;S=jl(S,A/_)??S,S!==y.interval&&(s=Ff(S,...He(s)))}if(S===y.interval){const A=Math.round(s.length/_);A>1&&(s=s.filter((k,T)=>T%A===0))}}else y.ticks?s=y.ticks(_):s=b;if(!y.ticks&&s.length&&s!==b){const S=new aa(b);s=s.filter(A=>S.has(A)),s.length||tn(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?d=[Ht(s)]:a[t]={scale:t,value:xe}}o==null||o.call(this,y,s,_,v,a);const M=Object.fromEntries(Object.entries(a).map(([S,A])=>[S,{...A,value:se(s,A.value)}]));return g&&(d=m.filterFacets(s,M)),{data:s,facets:d,channels:M}}const u=pr(i).initializer,c=e(n,pr({...i,initializer:f},u));return n==null?(a=c.channels,c.channels={}):a={},r!==void 0&&Object.assign(c,r),c.clip===void 0&&(c.clip=!1),c}function nx(e,t){const[n,r]=He(e.range());return(r-n)/t}function Yg(e,t,n,r,i){return{value:us(e,t,n,r,i)}}function us(e,t,n,r,i){return typeof r=="function"&&!(e.type==="log"&&e.tickFormat)?r:r===void 0&&t&&Oe(t)?I5(e.type,t,i)??gr:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):r===void 0?gr:typeof r=="string"?(Oe(e.domain())?Mi:_r)(r):Ft(r)}function Ff(e,t,n){return e.range(t,e.offset(e.floor(n)))}const rx={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},ix={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},ox={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},ax={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function Hg(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function jg(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&Gg(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(o===!0){const a=Wm(t);a&&(o=/x$/.test(e)||i==="center"?/x$/.test(e)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function Wg(e="auto"){return Ae(e)?!1:typeof e=="boolean"?e:ut(e,"labelArrow",["auto","up","right","down","left"])}function Gg(e){return Oe(e.domain())}function wd(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function fx(e,{opacity:t,...n}={}){if(!Pn(e)&&!Zm(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Xg(e,n,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Pe(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function ux(e,{fill:t=(c=>(c=e.hint)==null?void 0:c.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(s=>(s=e.hint)==null?void 0:s.stroke)()!==void 0?e.hint.stroke:Ae(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},u){const[d,l]=Ze(t),[h,p]=Ze(r),m=wd(u,d),g=wd(u,h),y=a*a*Math.PI;return n=Pe(n)[1],i=Pe(i)[1],o=Pe(o)[1],Xg(e,f,(b,w,_,v)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",_).attr("height",v).attr("fill",d==="color"?x=>m.scale(x):l).attr("fill-opacity",n).attr("stroke",h==="color"?x=>g.scale(x):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",x=>{const M=du();return e.scale(x).draw(M,y),M}))}function Xg(e,t={},n){let{columns:r,tickFormat:i,fontVariant:o=ag(e),swatchSize:a=15,swatchWidth:f=a,swatchHeight:u=a,marginLeft:c=0,className:s,style:d,width:l}=t;const h=Jc(t);s=Pa(s),i=us(e.scale,e.domain,void 0,i);const p=Te("div",h).attr("class",`${s}-swatches ${s}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${s}-swatches-columns .${s}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${s}-swatches-columns .${s}-swatch::before) {
  flex-shrink: 0;
}
:where(.${s}-swatches-columns .${s}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${s}-swatch`).call(n,e,f,u).call(g=>g.append("div").attr("class",`${s}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${s}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${s}-swatches-wrap .${s}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(e.domain).enter().append("span").attr("class",`${s}-swatch`).call(n,e,f,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(g=>g.insert("style","*").text(`:where(.${s}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${s}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",c?`${+c}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",Se(o,"normal")).call(ts,d).node()}const Xu=new Map([["symbol",ux],["color",Zg],["opacity",sx]]);function cx(e,t,n={}){return(r,i)=>{if(!Xu.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return Xu.get(r)(e[r],Vg(t,n[r],i),o=>e[o])}}function Vg({className:e,...t},{label:n,ticks:r,tickFormat:i}={},o){return n8(o,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function Zg(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return fx(e,n);case"ramp":return h7(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function sx({type:e,interpolate:t,...n},{legend:r=!0,color:i=rn(0,0,0),...o}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Zg({type:e,...n,interpolate:lx(i)},{legend:r,...o})}function lx(e){const{r:t,g:n,b:r}=rn(e)||rn(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function dx(e,t,n){const r=[];for(const[i,o]of Xu){const a=n[i];if(a!=null&&a.legend&&i in e){const f=o(e[i],Vg(t,e[i],a),u=>e[u]);f!=null&&r.push(f)}}return r}function Kg(e={}){return pm(e)?e:{...e,y:xe}}function hx(e,t){if(t.length===1)return{data:e,facets:t};const n=fi(e),r=new Uint8Array(n);let i=0;for(const f of t)for(const u of f)r[u]&&++i,r[u]=1;if(i===0)return{data:e,facets:t};e=ai(e);const o=e[cm]=new Uint32Array(n+i);t=t.map(f=>ai(f,Uint32Array));let a=n;r.fill(0);for(const f of t)for(let u=0,c=f.length;u<c;++u){const s=f[u];r[s]?(f[u]=a,e[a]=e[s],o[a]=s,++a):o[s]=s,r[s]=1}return{data:e,facets:t}}function px(e={},t={}){arguments.length===1&&([e,t]=mx(e));const{x1:n,x:r=n,y:i,...o}=t,[a,f,u,c]=bx(r,i,"x","y",e,o);return{...a,x1:n,x:f,y1:u,y2:c,y:Pu(u,c)}}function Qg({y:e,y1:t,y2:n,...r}={}){return r=Ri(r,"x"),t===void 0&&n===void 0?px({y:e,...r}):([t,n]=Y5(e,t,n),{...r,y1:t,y2:n})}function mx(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const gx={length:!0};function bx(e,t=F5,n,r,{offset:i,order:o,reverse:a},f){if(t===null)throw new Error(`stack requires ${r}`);const u=Oc(f),[c,s]=Ie(e),[d,l]=Vo(t),[h,p]=Vo(t);return d.hint=h.hint=gx,i=yx(i),o=vx(o,i,r),[Ni(f,(m,g,y)=>{({data:m,facets:g}=hx(m,g));const b=e==null?void 0:s(Zo(se(m,e),y==null?void 0:y[n])),w=se(m,t,Float64Array),_=se(m,u),v=o&&o(m,b,w,_),x=fi(m),M=l(new Float64Array(x)),S=p(new Float64Array(x)),A=[];for(const k of g){const T=b?Array.from(fa(k,D=>b[D]).values()):[k];if(v)for(const D of T)D.sort(v);for(const D of T){let N=0,I=0;a&&D.reverse();for(const $ of D){const L=w[$];L<0?N=S[$]=(M[$]=N)+L:L>0?I=S[$]=(M[$]=I)+L:S[$]=M[$]=I}}A.push(T)}return i&&i(A,M,S,_),{data:m,facets:g}}),c,d,h]}function yx(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return _x;case"center":case"silhouette":return wx;case"wiggle":return eb}throw new Error(`unknown offset: ${e}`)}}function Jg(e,t){let n=0,r=0;for(const i of e){const o=t[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function _x(e,t,n){for(const r of e)for(const i of r){const[o,a]=Jg(i,n);for(const f of i){const u=1/(a-o||1);t[f]=u*(t[f]-o),n[f]=u*(n[f]-o)}}}function wx(e,t,n){for(const r of e){for(const i of r){const[o,a]=Jg(i,n);for(const f of i){const u=(a+o)/2;t[f]-=u,n[f]-=u}}tb(r,t,n)}nb(e,t,n)}function eb(e,t,n,r){for(const i of e){const o=new Sn;let a=0;for(const f of i){let u=-1;const c=f.map(h=>Math.abs(n[h]-t[h])),s=f.map(h=>{u=r?r[h]:++u;const p=n[h]-t[h],m=o.has(u)?p-o.get(u):0;return o.set(u,p),m}),d=[0,...py(s)];for(const h of f)t[h]+=a,n[h]+=a;const l=nn(c);l&&(a-=nn(c,(h,p)=>(s[p]/2+d[p])*h)/l)}tb(i,t,n)}nb(e,t,n)}function tb(e,t,n){const r=zt(e,i=>zt(i,o=>t[o]));for(const i of e)for(const o of i)t[o]-=r,n[o]-=r}function nb(e,t,n){const r=e.length;if(r===1)return;const i=e.map(f=>f.flat()),o=i.map(f=>(zt(f,u=>t[u])+tt(f,u=>n[u]))/2),a=zt(o);for(let f=0;f<r;f++){const u=a-o[f];for(const c of i[f])t[c]+=u,n[c]+=u}}function vx(e,t,n){if(e===void 0&&t===eb)return vd(at);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?Go:at;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return xx(i);case"z":return Tx(i);case"sum":return Mx(i);case"appearance":return Sx(i);case"inside-out":return vd(i)}return xd(sm(e))}if(typeof e=="function")return(e.length===1?xd:$x)(e);if(sn(e))return Ax(e);throw new Error(`invalid order: ${e}`)}}function xx(e){return(t,n,r)=>(i,o)=>e(r[i],r[o])}function Tx(e){return(t,n,r,i)=>(o,a)=>e(i[o],i[a])}function Mx(e){return Ba(e,(t,n,r,i)=>Qu(Ht(t),o=>nn(o,a=>r[a]),o=>i[o]))}function Sx(e){return Ba(e,(t,n,r,i)=>Qu(Ht(t),o=>n[yh(o,a=>r[a])],o=>i[o]))}function vd(e){return Ba(e,(t,n,r,i)=>{const o=Ht(t),a=Qu(o,d=>n[yh(d,l=>r[l])],d=>i[d]),f=Vn(o,d=>nn(d,l=>r[l]),d=>i[d]),u=[],c=[];let s=0;for(const d of a)s<0?(s+=f.get(d),u.push(d)):(s-=f.get(d),c.push(d));return c.reverse().concat(u)})}function xd(e){return t=>{const n=se(t,e);return(r,i)=>at(n[r],n[i])}}function $x(e){return t=>sn(t)?(n,r)=>e(t[n],t[r]):(n,r)=>e(t.get(n),t.get(r))}function Ax(e){return Ba(at,()=>e)}function Ba(e,t){return(n,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new Sn(t(n,r,i,o).map((f,u)=>[f,u]));return(f,u)=>e(a.get(o[f]),a.get(o[u]))}}const Ex={ariaLabel:"rect"};class Cx extends Ke{constructor(t,n={}){const{x1:r,y1:i,x2:o,y2:a}=n;super(t,{x1:{value:r,scale:"x",type:r!=null&&o==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&a==null?"band":void 0,optional:!0},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,Ex),rb(this,n),ib(this,n)}render(t,n,r,i,o){const{x:a,y:f}=n;let{x1:u,y1:c,x2:s,y2:d}=r;const{marginTop:l,marginRight:h,marginBottom:p,marginLeft:m,width:g,height:y}=i,{projection:b}=o,{insetTop:w,insetRight:_,insetBottom:v,insetLeft:x}=this,{rx:M,ry:S,rx1y1:A,rx1y2:k,rx2y1:T,rx2y2:D}=this;(u||s)&&!b&&mr(a)&&(u=s=null),(c||d)&&!b&&mr(f)&&(c=d=null);const N=a!=null&&a.bandwidth?a.bandwidth():0,I=f!=null&&f.bandwidth?f.bandwidth():0;return Te("svg:g",o).call(Wt,this,i,o).call(Gt,this,{},0,0).call($=>$.selectAll().data(t).enter().call(A||k||T||D?L=>L.append("path").call(Tt,this).call(ob,u&&s?R=>u[R]+(s[R]<u[R]?-_:x):u?R=>u[R]+x:m+x,c&&d?R=>c[R]+(d[R]<c[R]?-v:w):c?R=>c[R]+w:l+w,u&&s?R=>s[R]-(s[R]<u[R]?-x:_):u?R=>u[R]+N-_:g-h-_,c&&d?R=>d[R]-(d[R]<c[R]?-w:v):c?R=>c[R]+I-v:y-p-v,this).call(In,this,r):L=>L.append("rect").call(Tt,this).attr("x",u?s?R=>Math.min(u[R],s[R])+x:R=>u[R]+x:m+x).attr("y",c?d?R=>Math.min(c[R],d[R])+w:R=>c[R]+w:l+w).attr("width",u?s?R=>Math.max(0,Math.abs(s[R]-u[R])+N-x-_):N-x-_:g-h-m-_-x).attr("height",c?d?R=>Math.max(0,Math.abs(c[R]-d[R])+I-w-v):I-w-v:y-l-p-w-v).call(X,"rx",M).call(X,"ry",S).call(In,this,r))).node()}}function rb(e,{inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={}){e.insetTop=Ce(n),e.insetRight=Ce(r),e.insetBottom=Ce(i),e.insetLeft=Ce(o)}function ib(e,{r:t,rx:n,ry:r,rx1:i=t,ry1:o=t,rx2:a=t,ry2:f=t,rx1y1:u=i!==void 0?+i:o!==void 0?+o:0,rx1y2:c=i!==void 0?+i:f!==void 0?+f:0,rx2y1:s=a!==void 0?+a:o!==void 0?+o:0,rx2y2:d=a!==void 0?+a:f!==void 0?+f:0}={}){u||c||s||d?(e.rx1y1=u,e.rx1y2=c,e.rx2y1=s,e.rx2y2=d):(e.rx=Se(n,"auto"),e.ry=Se(r,"auto"))}function ob(e,t,n,r,i,o){const{rx1y1:a,rx1y2:f,rx2y1:u,rx2y2:c}=o;typeof t!="function"&&(t=Ft(t)),typeof n!="function"&&(n=Ft(n)),typeof r!="function"&&(r=Ft(r)),typeof i!="function"&&(i=Ft(i));const s=Math.max(Math.abs(a+u),Math.abs(f+c)),d=Math.max(Math.abs(a+f),Math.abs(u+c));e.attr("d",l=>{const h=t(l),p=n(l),m=r(l),g=i(l),y=h>m,b=p>g,w=y?m:h,_=y?h:m,v=b?g:p,x=b?p:g,M=Math.min(1,(_-w)/s,(x-v)/d),S=M*(y?b?c:u:b?f:a),A=M*(y?b?f:a:b?c:u),k=M*(y?b?a:f:b?u:c),T=M*(y?b?u:c:b?a:f);return`M${w},${v+Qi(S,T)}A${S},${S} 0 0 ${S<0?0:1} ${w+Ki(S,T)},${v}H${_-Ki(A,k)}A${A},${A} 0 0 ${A<0?0:1} ${_},${v+Qi(A,k)}V${x-Qi(k,A)}A${k},${k} 0 0 ${k<0?0:1} ${_-Ki(k,A)},${x}H${w+Ki(T,S)}A${T},${T} 0 0 ${T<0?0:1} ${w},${x-Qi(T,S)}Z`})}function Ki(e,t){return t<0?e:Math.abs(e)}function Qi(e,t){return t<0?Math.abs(e):e}function rT(e,t={}){return B5(t)||(t={...t,x:Ai,y2:xe,interval:1}),new Cx(e,Qg(_7(Kg(t))))}const kx={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},Nx={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class Dx extends Ke{constructor(t={}){const{anchor:n=null}=t;super(po,void 0,t,n==null?kx:Nx),this.anchor=hm(n,"anchor",["top","right","bottom","left"]),rb(this,t),n||ib(this,t)}render(t,n,r,i,o){const{marginTop:a,marginRight:f,marginBottom:u,marginLeft:c,width:s,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:m,insetLeft:g}=this,{rx:y,ry:b,rx1y1:w,rx1y2:_,rx2y1:v,rx2y2:x}=this,M=c+g,S=s-f-p,A=a+h,k=d-u-m;return Te(l?"svg:line":w||_||v||x?"svg:path":"svg:rect",o).datum(0).call(Wt,this,i,o).call(Tt,this).call(In,this,r).call(Gt,this,{}).call(l==="left"?T=>T.attr("x1",M).attr("x2",M).attr("y1",A).attr("y2",k):l==="right"?T=>T.attr("x1",S).attr("x2",S).attr("y1",A).attr("y2",k):l==="top"?T=>T.attr("x1",M).attr("x2",S).attr("y1",A).attr("y2",A):l==="bottom"?T=>T.attr("x1",M).attr("x2",S).attr("y1",k).attr("y2",k):w||_||v||x?T=>T.call(ob,M,A,S,k,this):T=>T.attr("x",M).attr("y",A).attr("width",S-M).attr("height",k-A).attr("rx",y).attr("ry",b)).node()}}function Ix(e){return new Dx(e)}const qf={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},Rx=new Set(["geometry","href","src","ariaLabel","scales"]);class Lx extends Ke{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&hn(t)&&gm(t)&&(n={...n,title:xe});const{x:r,y:i,x1:o,x2:a,y1:f,y2:u,anchor:c,preferredAnchor:s="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:m,fontWeight:g,lineHeight:y=1,lineWidth:b=20,frameAnchor:w,format:_,textAnchor:v="start",textOverflow:x,textPadding:M=8,title:S,pointerSize:A=12,pathFilter:k="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:u,scale:"y",optional:f==null},title:{value:S,optional:!0}},n,qf),this.anchor=Fu(c,"anchor"),this.preferredAnchor=Fu(s,"preferredAnchor"),this.frameAnchor=qc(w),this.textAnchor=Se(v,"middle"),this.textPadding=+M,this.pointerSize=+A,this.pathFilter=De(k),this.lineHeight=+y,this.lineWidth=+b,this.textOverflow=wg(x),this.monospace=!!d,this.fontFamily=De(l),this.fontSize=Ce(h),this.fontStyle=De(p),this.fontVariant=De(m),this.fontWeight=De(g);for(const T in qf)T in this.channels&&(this[T]=qf[T]);this.splitLines=Mg(this),this.clipLine=Sg(this),this.format=typeof _=="string"||typeof _=="function"?{title:_}:{..._}}render(t,n,r,i,o){const a=this,{x:f,y:u,fx:c,fy:s}=n,{ownerSVGElement:d,document:l}=o,{anchor:h,monospace:p,lineHeight:m,lineWidth:g}=this,{textPadding:y,pointerSize:b,pathFilter:w}=this,{marginTop:_,marginLeft:v}=i,{x1:x,y1:M,x2:S,y2:A,x:k=x??S,y:T=M??A}=r,D=c?c(t.fx)-v:0,N=s?s(t.fy)-_:0,[I,$]=Fa(this,i),L=ig(r,I),R=og(r,$),H=p?fs:as,j=H(Jn);let O,F;"title"in r?(O=Td.call(this,{title:r.channels.title},n),F=zx):(O=Td.call(this,r.channels,n),F=Ux);const P=Te("svg:g",o).call(Wt,this,i,o).call(Tg,this).call(Gt,this,{x:k&&f,y:T&&u}).call(te=>te.selectAll().data(t).enter().append("g").attr("transform",G=>`translate(${Math.round(L(G))},${Math.round(R(G))})`).call(Tt,this).call(G=>G.append("path").attr("filter",w)).call(G=>G.append("text").each(function(B){const Y=Zn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const C=F.call(a,B,t,O,n,r);if(typeof C=="string")for(const q of a.splitLines(C))z(Y,{value:a.clipLine(q)});else{const q=new Set;for(const U of C){const{label:E=""}=U;E&&q.has(E)||(q.add(E),z(Y,U))}}})));function z(te,{label:G,value:B,color:Y,opacity:C}){G??(G=""),B??(B="");const q=Y!=null||C!=null;let U,E=g*100;const[re]=br(G,E,H,j);if(re>=0)G=G.slice(0,re).trimEnd()+Jn,U=B.trim(),B="";else{(G||!B&&!q)&&(B=" "+B);const[ie]=br(B,E-H(G),H,j);ie>=0&&(U=B.trim(),B=B.slice(0,ie).trimEnd()+Jn)}const W=te.append("tspan").attr("x",0).attr("dy",`${m}em`).text("​");G&&W.append("tspan").attr("font-weight","bold").text(G),B&&W.append(()=>l.createTextNode(B)),q&&W.append("tspan").text(" ■").attr("fill",Y).attr("fill-opacity",C).style("user-select","none"),U&&W.append("title").text(U)}function J(){const{width:te,height:G}=i.facet??i;P.selectChildren().each(function(B){let{x:Y,width:C,height:q}=this.getBBox();C=Math.round(C),q=Math.round(q);let U=h;if(U===void 0){const W=L(B)+D,ie=R(B)+N,oe=W+C+b+y*2<te,ce=W-C-b-y*2>0,ct=ie+q+b+y*2<G,gn=ie-q-b-y*2>0;U=oe&&ce?ct&&gn?a.preferredAnchor:gn?"bottom":"top":ct&&gn?oe?"left":"right":(oe||ce)&&(ct||gn)?`${gn?"bottom":"top"}-${oe?"left":"right"}`:a.preferredAnchor}const E=this.firstChild,re=this.lastChild;if(E.setAttribute("d",qx(U,b,y,C,q)),Y)for(const W of re.childNodes)W.setAttribute("x",-Y);re.setAttribute("y",`${+Px(U,re.childNodes.length,m).toFixed(6)}em`),re.setAttribute("transform",`translate(${Fx(U,b,y,C,q)})`)}),P.attr("visibility",null)}return t.length&&(P.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(J):typeof requestAnimationFrame<"u"&&requestAnimationFrame(J)),P.node()}}function Ox(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Lc(t,n)),new Lx(e,{...r,x:t,y:n})}function Px(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function Fx(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function qx(e,t,n,r,i){const o=r+n*2,a=i+n*2;switch(e){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${t},${t}h${o-t}v${a}h${-o}z`;case"top":return`M0,0l${t/2},${t/2}h${(o-t)/2}v${a}h${-o}v${-a}h${(o-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-o}v${a}h${o}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-a/2}h${-o}v${a}h${o}v${t/2-a/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${o-t}v${-a}h${-o}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(o-t)/2}v${-a}h${-o}v${a}h${(o-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-o}v${-a}h${o}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-a/2}h${o}v${a}h${-o}v${t/2-a/2}z`}}function Td(e,t){var i,o;const n={};let r=this.format;r=Md(r,e,"x"),r=Md(r,e,"y"),this.format=r;for(const a in r){const f=r[a];if(!(f===null||f===!1))if(a==="fx"||a==="fy")n[a]=!0;else{const u=Ql(e,a);u&&(n[a]=u)}}for(const a in e){if(a in n||a in r||Rx.has(a)||(a==="x"||a==="y")&&e.geometry)continue;const f=Ql(e,a);if(f){if(f.scale==null&&f.defaultScale==="color")continue;n[a]=f}}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(const a in n){const f=this.format[a];if(typeof f=="string"){const u=((i=n[a])==null?void 0:i.value)??((o=t[a])==null?void 0:o.domain())??[];this.format[a]=(Oe(u)?Mi:_r)(f)}else if(f===void 0||f===!0){const u=t[a];this.format[a]=u!=null&&u.bandwidth?us(u,u.domain()):gr}}return n}function Md(e,t,n){if(!(n in e))return e;const r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;const o=Object.entries(e),a=e[n];return o.splice(o.findIndex(([f])=>f===n)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function zx(e,t,{title:n}){return this.format.title(n.value[e],e)}function*Ux(e,t,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:ea(r,n,o),value:this.format[o](t[o],e)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const a=n[o];if(o==="x2"&&"x1"in n)yield{label:$d(r,n,"x"),value:Sd(this.format.x2,n.x1,a,e)};else if(o==="y2"&&"y1"in n)yield{label:$d(r,n,"y"),value:Sd(this.format.y2,n.y1,a,e)};else{const f=a.value[e],u=a.scale;if(!an(f)&&u==null)continue;yield{label:ea(r,n,o),value:this.format[o](f,e),color:u==="color"?i[o][e]:null,opacity:u==="opacity"?i[o][e]:null}}}}function Sd(e,t,n,r){var i;return(i=n.hint)!=null&&i.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}–${e(n.value[r],r)}`}function $d(e,t,n){const r=ea(e,t,`${n}1`,n),i=ea(e,t,`${n}2`,n);return r===i?r:`${r}–${i}`}function ea(e,t,n,r=n){const i=t[n],o=e[(i==null?void 0:i.scale)??n];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function Bx(e={}){var j;const{facet:t,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=e,u=Pa(e.className),c=e.marks===void 0?[]:Ed(e.marks);c.push(...Vx(c));const s=Gx(t,e),d=new Map;for(const O of c){const F=Cd(O,s,e);F&&d.set(O,F)}const l=new Map;s&&Nr(l,[s],e),Nr(l,d,e);const h=Ed(Zx(c,l,e));for(const O of h){const F=Cd(O,s,e);F&&d.set(O,F)}c.unshift(...h);let p=T4(l,e);if(p!==void 0){const O=s?Rf(p,s):void 0;for(const P of c){if(P.facet===null||P.facet==="super")continue;const z=d.get(P);z!==void 0&&(z.facetsIndex=P.fx!=null||P.fy!=null?Rf(p,z):O)}const F=new Set;for(const{facetsIndex:P}of d.values())P==null||P.forEach((z,J)=>{(z==null?void 0:z.length)>0&&F.add(J)});p.forEach(0<F.size&&F.size<p.length?(P,z)=>P.empty=!F.has(z):P=>P.empty=!1);for(const P of c)if(P.facet==="exclude"){const z=d.get(P);z!==void 0&&(z.facetsIndex=$4(z.facetsIndex))}}for(const O of pe.keys())Ou(e[O])&&O!=="fx"&&O!=="fy"&&l.set(O,[]);const m=new Map;for(const O of c){if(m.has(O))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:F,channels:P}=d.get(O)??{},{data:z,facets:J,channels:te}=O.initialize(F,P,e);cs(te,e),m.set(O,{data:z,facets:J,channels:te})}const g=Bu(Nr(l,m,e),e),y=c7(g,c,e);p4(g,y);const b=od(g),{fx:w,fy:_}=b,v=w||_?Gm(g,y):y,x=w||_?r9(b,y):y,M=Jc(e),S=M.document,A=ca("svg").call(S.documentElement);let k=A;M.ownerSVGElement=A,M.className=u,M.projection=L4(e,v),M.filterFacets=(O,F)=>Rf(p,{channels:F,groups:Qc(O,F)}),M.getMarkState=O=>{const F=m.get(O),P=d.get(O);return{...F,channels:{...F.channels,...P==null?void 0:P.channels}}},M.dispatchValue=O=>{k.value!==O&&(k.value=O,k.dispatchEvent(new Event("input",{bubbles:!0})))};const T=new Set;for(const[O,F]of m)if(O.initializer!=null){const P=O.facet==="super"?x:v,z=O.initializer(F.data,F.facets,F.channels,b,P,M);if(z.data!==void 0&&(F.data=z.data),z.facets!==void 0&&(F.facets=z.facets),z.channels!==void 0){const{fx:J,fy:te,...G}=z.channels;Wx(G),Object.assign(F.channels,G);for(const B of Object.values(G)){const{scale:Y}=B;Y!=null&&!o8(pe.get(Y))&&(ab(B,e),T.add(Y))}(J!=null||te!=null)&&d.set(O,!0)}}if(T.size){const O=new Map;Nr(O,m,e,J=>T.has(J)),Nr(l,m,e,J=>T.has(J));const F=n9(Bu(O,e),g),{scales:P,...z}=od(F);Object.assign(g,F),Object.assign(b,z),Object.assign(b.scales,P)}let D,N;p!==void 0&&(D={x:w==null?void 0:w.domain(),y:_==null?void 0:_.domain()},p=M4(p,D),N=S4(w,_,y));for(const[O,F]of m)F.values=O.scale(F.channels,b,M);const{width:I,height:$}=y;Zn(A).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",I).attr("height",$).attr("viewBox",`0 0 ${I} ${$}`).attr("aria-label",a).attr("aria-description",f).call(O=>O.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(ts,n);for(const O of c){const{channels:F,values:P,facets:z}=m.get(O);if(p===void 0||O.facet==="super"){let J=null;if(z&&(J=z[0],J=O.filter(J,F,P),J.length===0))continue;const te=O.render(J,b,P,x,M);if(te==null)continue;A.appendChild(te)}else{let J;for(const te of p){if(!(((j=O.facetAnchor)==null?void 0:j.call(O,p,D,te))??!te.empty))continue;let G=null;if(z){const Y=d.has(O);if(G=z[Y?te.i:0],G=O.filter(G,F,P),G.length===0)continue;!Y&&G===z[0]&&(G=H5(G)),G.fx=te.x,G.fy=te.y,G.fi=te.i}const B=O.render(G,b,P,v,M);if(B!=null){(J??(J=Zn(A).append("g"))).append(()=>B).datum(te);for(const Y of["aria-label","aria-description","aria-hidden","transform"])B.hasAttribute(Y)&&(J.attr(Y,B.getAttribute(Y)),B.removeAttribute(Y))}}J==null||J.selectChildren().attr("transform",N)}}const L=dx(g,M,e),{figure:R=r!=null||i!=null||o!=null||L.length>0}=e;R&&(k=S.createElement("figure"),k.className=`${u}-figure`,k.style.maxWidth="initial",r!=null&&k.append(Ad(S,r,"h2")),i!=null&&k.append(Ad(S,i,"h3")),k.append(...L,A),o!=null&&k.append(Yx(S,o)),"value"in A&&(k.value=A.value,delete A.value)),k.scale=v4(b.scales),k.legend=cx(g,M,e);const H=K8();return H>0&&Zn(A).append("text").attr("x",I).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${H.toLocaleString("en-US")} warning${H===1?"":"s"}. Please check the console.`),k}function Ad(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(t),r}function Yx(e,t){const n=e.createElement("figcaption");return n.append(t),n}function Ed(e){return e.flat(1/0).filter(t=>t!=null).map(Hx)}function Hx(e){return typeof e.render=="function"?e:new jx(e)}class jx extends Ke{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function cs(e,t){for(const n in e)ab(e[n],t);return e}function ab(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?u=>u==null?NaN:u*100:mm(a,i)}=t[n]??{};f!=null&&(e.value=me(e.value,f),e.transform=!1)}function Wx(e){for(const t in e)Dm(t,e[t])}function Nr(e,t,n,r=q5){var i,o;for(const{channels:a}of t.values())for(const f in a){const u=a[f],{scale:c}=u;if(c!=null&&r(c))if(c==="projection"){if(!q4(n)){const s=((i=n.x)==null?void 0:i.domain)===void 0,d=((o=n.y)==null?void 0:o.domain)===void 0;if(s||d){const[l,h]=U4(u);s&&zf(e,"x",l),d&&zf(e,"y",h)}}}else zf(e,c,u)}return e}function zf(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function Gx(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=dr(e.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=ci(i,{value:n,scale:"fx"})),r!=null&&(o.fy=ci(i,{value:r,scale:"fy"})),cs(o,t);const a=Qc(i,o);return{channels:o,groups:a,data:e.data}}function Cd(e,t,n){if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const u=dr(e.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const c={};return r!=null&&(c.fx=ci(u,{value:r,scale:"fx"})),i!=null&&(c.fy=ci(u,{value:i,scale:"fy"})),cs(c,n),{channels:c,groups:Qc(u,c)}}if(t===void 0)return;const{channels:o,groups:a,data:f}=t;if(e.facet!=="auto"||e.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&fi(dr(e.data))===fi(f)&&tn(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Xx(e,t={}){return pr({...t,x:null,y:null},(n,r,i,o,a,f)=>f.getMarkState(e))}function Vx(e){const t=[];for(const n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?d7:/^y$/i.test(i)?hd:l7,r=i(Xx(n,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===hd?"left":"bottom");const a=Ox(n.data,r);a.facet=n.facet,a.facetAnchor=n.facetAnchor,t.push(a)}}return t}function Zx(e,t,n){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:u,grid:c,facet:s={},facet:{axis:d=u,grid:l}=s,x:{axis:h=u,grid:p=h===null?null:c}=i,y:{axis:m=u,grid:g=m===null?null:c}=o,fx:{axis:y=d,grid:b=y===null?null:l}=a,fy:{axis:w=d,grid:_=w===null?null:l}=f}=n;(r||!Ou(i)&&!kd("x",e))&&(h=p=null),(r||!Ou(o)&&!kd("y",e))&&(m=g=null),t.has("fx")||(y=b=null),t.has("fy")||(w=_=null),h===void 0&&(h=!to(e,"x")),m===void 0&&(m=!to(e,"y")),y===void 0&&(y=!to(e,"fx")),w===void 0&&(w=!to(e,"fy")),h===!0&&(h="bottom"),m===!0&&(m="left"),y===!0&&(y=h==="top"||h===null?"bottom":"top"),w===!0&&(w=m==="right"||m===null?"left":"right");const v=[];return eo(v,_,J7,f),Ji(v,w,W7,"right","left",s,f),eo(v,b,tx,a),Ji(v,y,G7,"top","bottom",s,a),eo(v,g,Q7,o),Ji(v,m,Lg,"left","right",n,o),eo(v,p,ex,i),Ji(v,h,Og,"bottom","top",n,i),v}function Ji(e,t,n,r,i,o,a){if(!t)return;const f=Kx(t);a=Qx(f?r:t,o,a);const{line:u}=a;(n===Lg||n===Og)&&u&&!ui(u)&&e.push(Ix(Jx(a))),e.push(n(a)),f&&e.push(n({...a,anchor:i,label:null}))}function eo(e,t,n,r){!t||ui(t)||e.push(n(e9(t,r)))}function Kx(e){return/^\s*both\s*$/i.test(e)}function Qx(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:d,label:l=t.label,labelAnchor:h,labelArrow:p=t.labelArrow,labelOffset:m}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:m}}function Jx(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function e9(e,{stroke:t=Na(e)?e:void 0,ticks:n=t9(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function t9(e){switch(typeof e){case"number":return!0;case"string":return!Na(e)}return hn(e)||typeof(e==null?void 0:e.range)=="function"}function to(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function kd(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function n9(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function r9({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:u}=Kc(n),c=e&&Nd(e),s=t&&Nd(t);return{marginTop:t?s[0]:r,marginRight:e?f-c[1]:i,marginBottom:t?u-s[1]:o,marginLeft:e?c[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:u}}function Nd(e){const t=e.domain();if(t.length===0)return[0,e.bandwidth()];let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const i9=new Map([["basis",s5],["basis-closed",l5],["basis-open",d5],["bundle",h5],["bump-x",J3],["bump-y",e5],["cardinal",p5],["cardinal-closed",m5],["cardinal-open",g5],["catmull-rom",b5],["catmull-rom-closed",y5],["catmull-rom-open",_5],["linear",Si],["linear-closed",w5],["monotone-x",v5],["monotone-y",x5],["natural",T5],["step",M5],["step-after",$5],["step-before",S5]]);function fb(e=Si,t){if(typeof e=="function")return e;const n=i9.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function o9(e=ta,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?ta:fb(e,t)}function ta(e){return Si(e)}function a9(e={y:"count"},t={}){[e,t]=c9(e,t);const{x:n,y:r}=t;return u9(s9(n,t,xe),null,null,r,e,qa(t))}function f9(e,t,n={}){if((n==null?void 0:n.interval)==null)return n;const{reduce:r=Gc}=n,i={filter:null};return n[t]!=null&&(i[t]=r),n[`${t}1`]!=null&&(i[`${t}1`]=r),n[`${t}2`]!=null&&(i[`${t}2`]=r),e(i,n)}function ub(e={}){return f9(a9,"y",Ri(e,"x"))}function u9(e,t,n,r,{data:i=Wc,filter:o=Ko,sort:a,reverse:f,...u}={},c={}){e=Dd(e),t=Dd(t),u=d9(u,c),i=lb(i,xe),a=a==null?void 0:cb("sort",a,c),o=o==null?void 0:sb("filter",o,c),r!=null&&Vr(u,"y","y1","y2")&&(r=null);const[s,d]=Ie(e),[l,h]=Ie(e),[p,m]=Ie(t),[g,y]=Ie(t),[b,w]=r!=null?[r,"y"]:[],[_,v]=Ie(b),{x,y:M,z:S,fill:A,stroke:k,x1:T,x2:D,y1:N,y2:I,domain:$,cumulative:L,thresholds:R,interval:H,...j}=c,[O,F]=Ie(S),[P]=Ze(A),[z]=Ze(k),[J,te]=Ie(P),[G,B]=Ie(z);return{..."z"in c&&{z:O||S},..."fill"in c&&{fill:J||A},..."stroke"in c&&{stroke:G||k},...Ni(j,(Y,C,q)=>{const U=Zo(se(Y,b),q==null?void 0:q[w]),E=se(Y,S),re=se(Y,P),W=se(Y,z),ie=Cm(u,{z:E,fill:re,stroke:W}),oe=[],ce=[],ct=U&&v([]),gn=E&&F([]),Cb=re&&te([]),kb=W&&B([]),ds=e&&d([]),Nb=e&&h([]),hs=t&&m([]),Db=t&&y([]),Ib=m9(e,t,Y);let Rb=0;for(const qn of u)qn.initialize(Y);a&&a.initialize(Y),o&&o.initialize(Y);for(const qn of C){const ps=[];for(const zn of u)zn.scope("facet",qn);a&&a.scope("facet",qn),o&&o.scope("facet",qn);for(const[zn,Lb]of Zr(qn,ie))for(const[Ob,Li]of Zr(Lb,U))for(const[st,$t]of Ib(Li))if(ie&&($t.z=zn),!(o&&!o.reduce(st,$t))){ps.push(Rb++),ce.push(i.reduceIndex(st,Y,$t)),U&&ct.push(Ob),E&&gn.push(ie===E?zn:E[(st.length>0?st:Li)[0]]),re&&Cb.push(ie===re?zn:re[(st.length>0?st:Li)[0]]),W&&kb.push(ie===W?zn:W[(st.length>0?st:Li)[0]]),ds&&(ds.push($t.x1),Nb.push($t.x2)),hs&&(hs.push($t.y1),Db.push($t.y2));for(const Pb of u)Pb.reduce(st,$t);a&&a.reduce(st,$t)}oe.push(ps)}return km(oe,a,f),{data:ce,facets:oe}}),...!Vr(u,"x")&&(s?{x1:s,x2:l,x:Pu(s,l)}:{x,x1:T,x2:D}),...!Vr(u,"y")&&(p?{y1:p,y2:g,y:Pu(p,g)}:{y:M,y1:N,y2:I}),..._&&{[w]:_},...Object.fromEntries(u.map(({name:Y,output:C})=>[Y,C]))}}function c9({cumulative:e,domain:t,thresholds:n,interval:r,...i},o){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...o}]}function s9(e,{cumulative:t,domain:n,thresholds:r,interval:i},o){return e={...xr(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=o),e.thresholds=l9(e.thresholds,e.interval),e}function Dd(e){if(e==null)return;const{value:t,cumulative:n,domain:r=He,thresholds:i}=e,o=a=>{let f=se(a,t),u;if(Oe(f)||p9(i)){f=me(f,dm,Float64Array);let[s,d]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!Xn(i)?i(f,s,d):i;typeof l=="number"&&(l=ap(s,d,l)),Xn(l)&&(r===He&&(s=l.floor(s),d=l.offset(l.floor(d))),l=l.range(s,l.offset(d))),u=l}else{f=lr(f);let[s,d]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!Xn(i)?i(f,s,d):i;if(typeof l=="number")if(r===He){let h=yo(s,d,l);if(isFinite(h))if(h>0){let p=Math.round(s/h),m=Math.round(d/h);p*h<=s||--p,m*h>d||++m;let g=m-p+1;l=new Float64Array(g);for(let y=0;y<g;++y)l[y]=(p+y)*h}else if(h<0){h=-h;let p=Math.round(s*h),m=Math.round(d*h);p/h<=s||--p,m/h>d||++m;let g=m-p+1;l=new Float64Array(g);for(let y=0;y<g;++y)l[y]=(p+y)/h}else l=[s];else l=[s]}else l=Kr(s,d,l);else Xn(l)&&(r===He&&(s=l.floor(s),d=l.offset(l.floor(d))),l=l.range(s,l.offset(d)));u=l}const c=[];if(u.length===1)c.push([u[0],u[0]]);else for(let s=1;s<u.length;++s)c.push([u[s-1],u[s]]);return c.bin=(n<0?b9:n>0?g9:ss)(c,u,f),c};return o.label=dn(t),o}function l9(e,t,n=Id){if(e===void 0)return t===void 0?n:vr(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return My;case"scott":return _h;case"sturges":return wy;case"auto":return Id}return kc(e)}return e}function d9(e,t){return Sm(e,t,cb)}function cb(e,t,n){return Hc(e,t,n,sb)}function sb(e,t,n){return jc(e,t,n,lb)}function lb(e,t){return Ia(e,t,h9)}function h9(e){switch(`${e}`.toLowerCase()){case"x":return y9;case"x1":return w9;case"x2":return v9;case"y":return _9;case"y1":return x9;case"y2":return T9;case"z":return Nm}throw new Error(`invalid bin reduce: ${e}`)}function Id(e,t,n){return Math.min(200,_h(e,t,n))}function p9(e){return X5(e)||hn(e)&&Oe(e)}function m9(e,t,n){const r=e==null?void 0:e(n),i=t==null?void 0:t(n);return r&&i?function*(o){const a=r.bin(o);for(const[f,[u,c]]of r.entries()){const s=i.bin(a[f]);for(const[d,[l,h]]of i.entries())yield[s[d],{data:n,x1:u,y1:l,x2:c,y2:h}]}}:r?function*(o){const a=r.bin(o);for(const[f,[u,c]]of r.entries())yield[a[f],{data:n,x1:u,x2:c}]}:function*(o){const a=i.bin(o);for(const[f,[u,c]]of i.entries())yield[a[f],{data:n,y1:u,y2:c}]}}function ss(e,t,n){return t=lr(t),r=>{var o;const i=e.map(()=>[]);for(const a of r)(o=i[oa(t,n[a])-1])==null||o.push(a);return i}}function g9(e,t,n){const r=ss(e,t,n);return i=>{const o=r(i);for(let a=1,f=o.length;a<f;++a){const u=o[a-1],c=o[a];for(const s of u)c.push(s)}return o}}function b9(e,t,n){const r=ss(e,t,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const f=o[a+1],u=o[a];for(const c of f)u.push(c)}return o}}function db(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const y9={reduceIndex(e,t,{x1:n,x2:r}){return db(n,r)}},_9={reduceIndex(e,t,{y1:n,y2:r}){return db(n,r)}},w9={reduceIndex(e,t,{x1:n}){return n}},v9={reduceIndex(e,t,{x2:n}){return n}},x9={reduceIndex(e,t,{y1:n}){return n}},T9={reduceIndex(e,t,{y2:n}){return n}},M9={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class hb extends Ke{constructor(t,n={}){const{x1:r,y1:i,x2:o,y2:a,z:f,curve:u,tension:c}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0},z:{value:Oc(n),optional:!0}},n,M9),this.z=f,this.curve=fb(u,c)}filter(t){return t}render(t,n,r,i,o){const{x1:a,y1:f,x2:u=a,y2:c=f}=r;return Te("svg:g",o).call(Wt,this,i,o).call(Gt,this,n,0,0).call(s=>s.selectAll().data(tg(t,[a,f,u,c],this,r)).enter().append("path").call(Tt,this).call(eg,this,r).attr("d",Q3().curve(this.curve).defined(d=>d>=0).x0(d=>a[d]).y0(d=>f[d]).x1(d=>u[d]).y1(d=>c[d]))).node()}}function Rd(e,t){return t===void 0?ls(e,{x:Ic,y:Xo}):new hb(e,t)}function ls(e,t){const{x:n=Ai,...r}=ub(t);return new hb(e,Qg(Kg({...r,x1:n,x2:void 0})))}const S9={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class pb extends Ke{constructor(t,n={}){const{x:r,y:i,z:o,curve:a,tension:f}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Oc(n),optional:!0}},n,S9),this.z=o,this.curve=o9(a,f),rs(this,n)}filter(t){return t}project(t,n,r){this.curve!==ta&&super.project(t,n,r)}render(t,n,r,i,o){const{x:a,y:f}=r,{curve:u}=this;return Te("svg:g",o).call(Wt,this,i,o).call(Gt,this,n).call(c=>c.selectAll().data(tg(t,[a,f],this,r)).enter().append("path").call(Tt,this).call(eg,this,r).call(b7,this,r,o).attr("d",u===ta&&o.projection?$9(o.projection,a,f):E1().curve(u).defined(s=>s>=0).x(s=>a[s]).y(s=>f[s]))).node()}}function $9(e,t,n){const r=ma(e);return t=lr(t),n=lr(n),i=>{let o=[];const a=[o];for(const f of i)f===-1?(o=[],a.push(o)):o.push([t[f],n[f]]);return r({type:"MultiLineString",coordinates:a})}}function A9(e,{x:t,y:n,...r}={}){return[t,n]=Lc(t,n),new pb(e,{...r,x:t,y:n})}function Ya(e,{x:t=Ai,y:n=xe,...r}={}){return new pb(e,ub({...r,x:t,y:n}))}function mb(e,t){return E9("y",e,t)}function E9(e,t,{x1:n,x2:r,y1:i,y2:o,x:a=n===void 0&&r===void 0?Ai:void 0,y:f=i===void 0&&o===void 0?xe:void 0,fill:u,positiveFill:c="#3ca951",negativeFill:s="#4269d0",fillOpacity:d=1,positiveFillOpacity:l=d,negativeFillOpacity:h=d,stroke:p,strokeOpacity:m,z:g=Ze(p)[0],clip:y,tip:b,render:w,..._}={}){return[n,r]=Ld(a,n,r),[i,o]=Ld(f,i,o),n===r&&i===o&&(i=Qt(0)),{tip:b}=Ri({tip:b},"x"),Fn(Ae(c)?null:Object.assign(Rd(t,{x1:n,x2:r,y1:i,y2:o,z:g,fill:c,fillOpacity:l,render:Jo(w,Od(e,!0)),clip:y,..._}),{ariaLabel:"positive difference"}),Ae(s)?null:Object.assign(Rd(t,{x1:n,x2:r,y1:i,y2:o,z:g,fill:s,fillOpacity:h,render:Jo(w,Od(e,!1)),clip:y,..._}),{ariaLabel:"negative difference"}),A9(t,{x:r,y:o,z:g,stroke:p,strokeOpacity:m,tip:b,clip:!0,..._}))}function Ld(e,t,n){return t===void 0&&n===void 0?t=n=Qt(e):t===void 0?(n=Qt(n),t=e===void 0?n:Qt(e)):n===void 0?(t=Qt(t),n=e===void 0?t:Qt(e)):(t=Qt(t),n=Qt(n)),[t,n]}function Qt(e){let t;const{value:n,label:r=dn(n)}=xr(e);return{transform:i=>t||(t=se(i,n)),label:r}}function Od(e,t){const n="x",r=`${n}1`,i=`${n}2`,o=`${e}1`,a=`${e}2`;return(f,u,c,s,d,l)=>{const{[r]:h,[i]:p}=c,m=new Float32Array(h.length),g=new Float32Array(p.length),y=s.height;(t===Wm(u[e])<0?m:g).fill(y);const b=l(f,u,{...c,[i]:h,[a]:g},s,d),w=l(f,u,{...c,[r]:p,[o]:m},s,d),_=b.querySelector("g")??b,v=w.querySelector("g")??w;for(let x=0;_.firstChild;x+=2){const M=Jm(),S=Te("svg:clipPath",d).attr("id",M).node();S.appendChild(_.firstChild),v.childNodes[x].setAttribute("clip-path",`url(#${M})`),v.insertBefore(S,v.childNodes[x])}return w}}Ke.prototype.plot=function({marks:e=[],...t}={}){return Bx({...t,marks:[...e,this]})};function Pd(e){const t=document.createElement("template");return t.innerHTML=e,document.importNode(t.content,!0)}function Fd(e){const t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e,t}Object.assign(ra(Pd,e=>{if(e.firstChild===null)return null;if(e.firstChild===e.lastChild)return e.removeChild(e.firstChild);const t=document.createElement("span");return t.appendChild(e),t}),{fragment:ra(Pd,e=>e)});const C9=Object.assign(ra(Fd,e=>e.firstChild===null?null:e.firstChild===e.lastChild?e.removeChild(e.firstChild):e),{fragment:ra(Fd,e=>{const t=document.createDocumentFragment();for(;e.firstChild;)t.appendChild(e.firstChild);return t})}),k9=9,N9=10,D9=12,I9=13,R9=32,L9=65,O9=90,P9=97,F9=122,no=60,ke=62,Xt=47,lt=45,Uf=33,Bf=61,qd=34,zd=39,q9=63,Me=1,Ud=2,Bd=3,Yf=4,ro=5,Vt=6,Hf=7,io=8,oo=9,jf=10,Wf=11,ao=12,Gf=13,Dr=14,Yd=15,Hd=16,Nt=17,jd=18,Wd=19,Gd=20,Xd=21,Xf=22,Ir=23,Vd=24,Zd=25,dt=26,Kd=27,Qd=28,Jd=29,z9=128,eh=1,U9=8,B9=1,gb="http://www.w3.org/2000/svg",bn="http://www.w3.org/1999/xlink",th="http://www.w3.org/XML/1998/namespace",nh="http://www.w3.org/2000/xmlns/",bb=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),na=new Map([["xlink:actuate",bn],["xlink:arcrole",bn],["xlink:href",bn],["xlink:role",bn],["xlink:show",bn],["xlink:title",bn],["xlink:type",bn],["xml:lang",th],["xml:space",th],["xmlns",nh],["xmlns:xlink",nh]]);function ra(e,t){return function({raw:n}){let r=Me,i="",o,a,f,u,c=0;for(let h=0,p=arguments.length;h<p;++h){const m=n[h];if(h>0){const g=arguments[h];switch(r){case dt:{if(g!=null){const y=`${g}`;if(yb(a))i+=y.replace(/[<]/g,Hn);else{if(new RegExp(`</${a}[\\s>/]`,"i").test(i.slice(-a.length-2)+y))throw new Error("unsafe raw text");i+=y}}break}case Me:{g==null||(g instanceof Node||typeof g!="string"&&g[Symbol.iterator]||/(?:^|>)$/.test(n[h-1])&&/^(?:<|$)/.test(m)?(i+="<!--::"+h+"-->",c|=z9):i+=`${g}`.replace(/[<&]/g,Hn));break}case oo:{r=ao;let y;if(/^[\s>]/.test(m)){if(g==null||g===!1){i=i.slice(0,f-n[h-1].length);break}if(g===!0||(y=`${g}`)==""){i+="''";break}if(n[h-1].slice(f,u)==="style"&&Vf(g)||typeof g=="function"){i+="::"+h,c|=eh;break}}if(y===void 0&&(y=`${g}`),y==="")throw new Error("unsafe unquoted empty string");i+=y.replace(/^['"]|[\s>&]/g,Hn);break}case ao:{i+=`${g}`.replace(/[\s>&]/g,Hn);break}case Wf:{i+=`${g}`.replace(/['&]/g,Hn);break}case jf:{i+=`${g}`.replace(/["&]/g,Hn);break}case Vt:{if(Vf(g)){i+="::"+h+"=''",c|=eh;break}throw new Error("invalid binding")}case Nt:break;default:throw new Error("invalid binding")}}for(let g=0,y=m.length;g<y;++g){const b=m.charCodeAt(g);switch(r){case Me:{b===no&&(r=Ud);break}case Ud:{b===Uf?r=Zd:b===Xt?r=Bd:fo(b)?(o=g,a=void 0,r=Yf,--g):b===q9?(r=ro,--g):(r=Me,--g);break}case Bd:{fo(b)?(r=Yf,--g):b===ke?r=Me:(r=ro,--g);break}case Yf:{Zt(b)?(r=Vt,a=Lr(m,o,g)):b===Xt?r=Dr:b===ke&&(a=Lr(m,o,g),r=Rr(a)?dt:Me);break}case Vt:{Zt(b)||(b===Xt||b===ke?(r=Hf,--g):b===Bf?(r=io,f=g+1,u=void 0):(r=io,--g,f=g+1,u=void 0));break}case io:{Zt(b)||b===Xt||b===ke?(r=Hf,--g,u=g):b===Bf&&(r=oo,u=g);break}case Hf:{Zt(b)||(b===Xt?r=Dr:b===Bf?r=oo:b===ke?r=Rr(a)?dt:Me:(r=io,--g,f=g+1,u=void 0));break}case oo:{Zt(b)||(b===qd?r=jf:b===zd?r=Wf:b===ke?r=Rr(a)?dt:Me:(r=ao,--g));break}case jf:{b===qd&&(r=Gf);break}case Wf:{b===zd&&(r=Gf);break}case ao:{Zt(b)?r=Vt:b===ke&&(r=Rr(a)?dt:Me);break}case Gf:{Zt(b)?r=Vt:b===Xt?r=Dr:b===ke?r=Rr(a)?dt:Me:(r=Vt,--g);break}case Dr:{b===ke?r=Me:(r=Vt,--g);break}case ro:{b===ke&&(r=Me);break}case Yd:{b===lt?r=Hd:b===ke?r=Me:(r=Nt,--g);break}case Hd:{b===lt?r=Ir:b===ke?r=Me:(r=Nt,--g);break}case Nt:{b===no?r=jd:b===lt&&(r=Xf);break}case jd:{b===Uf?r=Wd:b!==no&&(r=Nt,--g);break}case Wd:{b===lt?r=Gd:(r=Nt,--g);break}case Gd:{b===lt?r=Xd:(r=Ir,--g);break}case Xd:{r=Ir,--g;break}case Xf:{b===lt?r=Ir:(r=Nt,--g);break}case Ir:{b===ke?r=Me:b===Uf?r=Vd:b!==lt&&(r=Nt,--g);break}case Vd:{b===lt?r=Xf:b===ke?r=Me:(r=Nt,--g);break}case Zd:{b===lt&&m.charCodeAt(g+1)===lt?(r=Yd,++g):(r=ro,--g);break}case dt:{b===no&&(r=Kd);break}case Kd:{b===Xt?r=Qd:(r=dt,--g);break}case Qd:{fo(b)?(o=g,r=Jd,--g):(r=dt,--g);break}case Jd:{Zt(b)&&a===Lr(m,o,g)?r=Vt:b===Xt&&a===Lr(m,o,g)?r=Dr:b===ke&&a===Lr(m,o,g)?r=Me:fo(b)||(r=dt,--g);break}default:{r=void 0;break}}}i+=m}const s=e(i),d=document.createTreeWalker(s,c,null,!1),l=[];for(;d.nextNode();){const h=d.currentNode;switch(h.nodeType){case B9:{const p=h.attributes;for(let m=0,g=p.length;m<g;++m){const{name:y,value:b}=p[m];if(/^::/.test(y)){const w=arguments[+y.slice(2)];rh(h,y),--m,--g;for(const _ in w){const v=w[_];v==null||v===!1||(typeof v=="function"?h[_]=v:_==="style"&&Vf(v)?ih(h[_],v):Y9(h,_,v===!0?"":v))}}else if(/^::/.test(b)){const w=arguments[+b.slice(2)];rh(h,y),--m,--g,typeof w=="function"?h[y]=w:ih(h[y],w)}}break}case U9:{if(/^::/.test(h.data)){const p=h.parentNode,m=arguments[+h.data.slice(2)];if(m instanceof Node)p.insertBefore(m,h);else if(typeof m!="string"&&m[Symbol.iterator])if(m instanceof NodeList||m instanceof HTMLCollection)for(let g=m.length-1,y=h;g>=0;--g)y=p.insertBefore(m[g],y);else for(const g of m)g!=null&&p.insertBefore(g instanceof Node?g:document.createTextNode(g),h);else p.insertBefore(document.createTextNode(m),h);l.push(h)}break}}}for(const h of l)h.parentNode.removeChild(h);return t(s)}}function Hn(e){return`&#${e.charCodeAt(0).toString()};`}function fo(e){return L9<=e&&e<=O9||P9<=e&&e<=F9}function Zt(e){return e===k9||e===N9||e===D9||e===R9||e===I9}function Vf(e){return e&&e.toString===Object.prototype.toString}function Rr(e){return e==="script"||e==="style"||yb(e)}function yb(e){return e==="textarea"||e==="title"}function Lr(e,t,n){return e.slice(t,n).toLowerCase()}function Y9(e,t,n){if(e.namespaceURI===gb&&(t=t.toLowerCase(),t=bb.get(t)||t,na.has(t))){e.setAttributeNS(na.get(t),t,n);return}e.setAttribute(t,n)}function rh(e,t){if(e.namespaceURI===gb&&(t=t.toLowerCase(),t=bb.get(t)||t,na.has(t))){e.removeAttributeNS(na.get(t),t);return}e.removeAttribute(t)}function ih(e,t){for(const n in t){const r=t[n];n.startsWith("--")?e.setProperty(n,r):e[n]=r}}function _b(e){return[za([0]),gg(e,{x:t=>new Date(t.date),stroke:gt.slate[500],opacity:.3}),xg(e,{x:t=>new Date(t.date),text:t=>t.name,frameAnchor:"top",textAnchor:"start",fill:gt.slate[500],stroke:gt.slate[950],dx:1,dy:-17})]}const wb={stroke:gt.slate[700],fill:gt.slate[800],fillOpacity:.9,format:{x:!1,y:!1,z:!1,amount:e=>e.toLocaleString("en-AU",{style:"currency",currency:"AUD"}),date:e=>oh(e).format("D MMMM, YYYY")}},vb={marginTop:20,marginBottom:30,marginLeft:60,marginRight:20,x:{grid:!1},y:{grid:!0,transform:e=>e/1e3,label:"AUD (K)",labelArrow:"none",labelOffset:47}};function xb({width:e,height:t,timeseries:n,periods:r,color:i=gt.violet[700],opacity:o=.5}){const a=le.useRef(null);return le.useEffect(()=>{var u;const f=Fn([()=>C9`<defs>
        <linearGradient id="gradient" gradientTransform="rotate(90)">
          <stop offset="20%" stop-color="${i}" stop-opacity="0.5" />
          <stop offset="100%" stop-color="${i}" stop-opacity="0" />
        </linearGradient>
      </defs>`,..._b(r),ls(n,{x:c=>new Date(c.date),y:"amount",fill:"url(#gradient)",opacity:o}),Ya(n,{x:c=>new Date(c.date),y:"amount",stroke:i,marker:"dot",channels:{amount:{label:"",value:"amount"},date:{label:"",value:"date"}},tip:wb})]).plot({...vb,width:e,height:t});return(u=a.current)==null||u.append(f),()=>f.remove()},[i,n,t,o,r,e]),K.jsx("div",{ref:a,className:"h-full w-full"})}xb.__docgenInfo={description:"",methods:[],displayName:"AreaChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},periods:{required:!0,tsType:{name:"Periods"},description:""},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"twColors.violet[700]",computed:!0}},opacity:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}}}};const yt={primaryLight:gt.violet[600],primary:gt.violet[700],secondary:gt.amber[400],secondaryDark:gt.amber[500]};function Tb({width:e,height:t,timeseries:n,periods:r}){const i=le.useRef(null);return le.useEffect(()=>{var a;const o=Fn([..._b(r),mb(n,Mm({y1:Qo(f=>f.name==="highlighted"),y2:Qo(f=>f.name==="pinned")},{x:f=>new Date(f.date),y:"amount",positiveFill:yt.secondary,negativeFill:yt.primary,fillOpacity:.2})),Ya(n,{x:f=>new Date(f.date),y:"amount",stroke:f=>f.name==="highlighted"?yt.primaryLight:yt.secondary,marker:"dot",channels:{amount:{label:"",value:"amount"},date:{label:"",value:"date"}},tip:wb})]).plot({...vb,width:e,height:t});return(a=i.current)==null||a.append(o),()=>o.remove()},[n,t,e,r]),K.jsx("div",{ref:i,className:"h-full w-full"})}Tb.__docgenInfo={description:"",methods:[],displayName:"DifferenceChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},periods:{required:!0,tsType:{name:"Periods"},description:""}}};function H9(e,t){if(e.length<=2)return e;const[n,r]=t;let i=Math.floor((e.length-1)*(n/100)),o=Math.floor((e.length-1)*(r/100));if(o-i===0)if(o+1<e.length)o+=1;else if(i-1>=0)i-=1;else throw new Error("Invalid selection (should have at least two data points)");const a=e[i].date,f=e[o].date;return e.filter(u=>u.date>=a&&u.date<=f)}function j9(e,t){if(t.length<2)return[];const n=t[0].date,r=t[t.length-1].date;return e.filter(i=>i.date>=n&&i.date<=r)}function Mb({type:e,timeseries:t,periods:n,selection:r}){const i=le.useMemo(()=>H9(t,r),[t,r]),o=le.useMemo(()=>j9(n,i),[n,i]);if(i.length<2){const a=i.length===0?"No data":"Insufficient data";return K.jsx("div",{className:"flex h-full items-center justify-center text-lg font-medium text-slate-600",children:a})}return K.jsx("div",{className:"h-full pt-1",children:K.jsx(Vu,{children:({width:a,height:f})=>e==="area"?K.jsx(xb,{width:a,height:f,timeseries:i,periods:o}):K.jsx(Tb,{width:a,height:f,timeseries:i,periods:o})})})}Mb.__docgenInfo={description:"",methods:[],displayName:"ScenarioChart",props:{type:{required:!0,tsType:{name:"union",raw:"'area' | 'difference'",elements:[{name:"literal",value:"'area'"},{name:"literal",value:"'difference'"}]},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},periods:{required:!0,tsType:{name:"Periods"},description:""},selection:{required:!0,tsType:{name:"Selection"},description:""}}};function Sb({width:e,height:t,data:n}){const r=le.useRef(null);return le.useEffect(()=>{var o;const i=Fn([za([0]),ls(n,{x:a=>new Date(a.date),y:"amount",fill:yt.primary,opacity:.5}),Ya(n,{x:a=>new Date(a.date),y:"amount",stroke:yt.primary})]).plot({width:e,height:t,marginLeft:0,marginRight:0,marginTop:16,y:{axis:null}});return(o=r.current)==null||o.append(i),()=>i.remove()},[n,t,e]),K.jsx("div",{ref:r,className:"h-full w-full"})}Sb.__docgenInfo={description:"",methods:[],displayName:"TimelineAreaChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""}}};function $b({width:e,height:t,data:n}){const r=le.useRef(null);return le.useEffect(()=>{var o;const i=Fn([za([0]),mb(n,Mm({y1:Qo(a=>a.name==="highlighted"),y2:Qo(a=>a.name==="pinned")},{x:a=>new Date(a.date),y:"amount",positiveFill:yt.secondary,negativeFill:yt.primary,fillOpacity:.2})),Ya(n,{x:a=>new Date(a.date),y:"amount",stroke:a=>a.name==="highlighted"?yt.primaryLight:yt.secondary})]).plot({width:e,height:t,marginLeft:0,marginRight:0,marginTop:16,y:{axis:null}});return(o=r.current)==null||o.append(i),()=>i.remove()},[n,t,e]),K.jsx("div",{ref:r,className:"h-full w-full"})}$b.__docgenInfo={description:"",methods:[],displayName:"TimelineDifferenceChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""}}};function W9({leftPanelRef:e,rightPanelRef:t,initialSelection:n,onUpdateSelection:r}){const[i,o]=le.useState(n[0]),[a,f]=le.useState(n[1]),u=le.useCallback(d=>{o(d),r&&r([d,a])},[r,a]),c=le.useCallback(d=>{f(100-d),r&&r([i,100-d])},[r,i]),s=le.useCallback(()=>{var l,h;a-i!==100&&((l=e.current)==null||l.resize(0),(h=t.current)==null||h.resize(0),o(0),f(100),r&&r([0,100]))},[i,a,e,t,r]);return{start:i,end:a,updateStart:u,updateEnd:c,maximize:s}}function Ab({disabled:e=!1,initialSelection:t=[0,100],onUpdateSelection:n}){const[r,i]=t,o=le.useRef(null),a=le.useRef(null),{start:f,end:u,updateStart:c,updateEnd:s,maximize:d}=W9({leftPanelRef:o,rightPanelRef:a,initialSelection:t,onUpdateSelection:n}),l=u-f===999;return K.jsxs(zb,{direction:"horizontal",onDoubleClick:d,children:[K.jsx(Ha,{className:"bg-gradient-to-tr from-slate-600/5 to-slate-600/20 backdrop-blur-[1px]",ref:o,defaultSize:r,onResize:c}),K.jsx(bs,{className:"flex w-[5px] flex-col items-center justify-center bg-slate-700",disabled:e,children:K.jsx(gs,{className:"text-slate-950",size:16})}),K.jsx(Ha,{className:`border-b border-t border-slate-700 ${l&&"cursor-grab"}`}),K.jsx(bs,{className:"flex w-[5px] flex-col items-center justify-center bg-slate-700",disabled:e,children:K.jsx(gs,{className:"text-slate-950",size:16})}),K.jsx(Ha,{className:"bg-gradient-to-tr from-slate-600/5 to-slate-600/20 backdrop-blur-[1px]",ref:a,defaultSize:100-i,onResize:s})]})}Ab.__docgenInfo={description:"",methods:[],displayName:"TimelineSelector",props:{disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},initialSelection:{required:!1,tsType:{name:"Selection"},description:"",defaultValue:{value:"[0, 100]",computed:!1}},onUpdateSelection:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection: Selection) => void",signature:{arguments:[{type:{name:"Selection"},name:"selection"}],return:{name:"void"}}},description:""}}};function Eb({data:e,type:t,initialSelection:n,onUpdateSelection:r}){const i=e&&Array.from(e).length<2;return K.jsxs("div",{className:"relative h-20 bg-slate-900",children:[!i&&K.jsx(Vu,{children:({width:o,height:a})=>t==="area"?K.jsx(Sb,{width:o,height:a,data:e}):K.jsx($b,{width:o,height:a,data:e})}),K.jsx("div",{className:"absolute bottom-0 left-0 right-0 top-0",children:K.jsx(Ab,{initialSelection:n,onUpdateSelection:r,disabled:i})})]})}Eb.__docgenInfo={description:"",methods:[],displayName:"TimelineScrubber",props:{type:{required:!0,tsType:{name:"union",raw:"'area' | 'difference'",elements:[{name:"literal",value:"'area'"},{name:"literal",value:"'difference'"}]},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""},initialSelection:{required:!1,tsType:{name:"Selection"},description:""},onUpdateSelection:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection: Selection) => void",signature:{arguments:[{type:{name:"Selection"},name:"selection"}],return:{name:"void"}}},description:""}}};export{pr as A,l7 as B,Ql as C,ls as D,mb as E,Ya as F,Mm as G,Qo as H,xg as I,px as J,C9 as K,Ke as M,Vu as R,ch as S,Eb as T,Mb as a,iy as b,oy as c,rT as d,a9 as e,x7 as f,tT as g,qc as h,xe as i,Te as j,Wt as k,Gt as l,Fn as m,Tt as n,du as o,Ac as p,In as q,za as r,nT as s,yg as t,vc as u,Pe as v,Fa as w,tm as x,gg as y,vg as z};
