import{j as H}from"./jsx-runtime-D_zvdyIk.js";import{F as Qb,M as Jb,C as ey,E as ty,D as Sc}from"./CollapsibleTree.component-30vHkhqS.js";import{M as po,a as Fe}from"./DropdownMenu.component-2YZdI-ss.js";import{r as ie,c as Bi,g as ny}from"./index-PahMPgEy.js";import{b as ry,e as iy,f as oy,i as ay,u as Rt,p as Mc,h as bh}from"./ScenarioGraph.component-CJswZ3r9.js";import{t as bt}from"./colors-Cuw9ST8W.js";import{P as fy,a as Ka,b as $c}from"./react-resizable-panels.browser.esm-zIh8wNIw.js";const uy={graphDefinition:ry,scenarioMap:iy,budgetForest:oy,budgetMap:ay};function _n(){_n=function(){return e};var e={},t=Object.prototype,n=t.hasOwnProperty,r=Object.defineProperty||function(T,v,E){T[v]=E.value},i=typeof Symbol=="function"?Symbol:{},o=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",f=i.toStringTag||"@@toStringTag";function u(T,v,E){return Object.defineProperty(T,v,{value:E,enumerable:!0,configurable:!0,writable:!0}),T[v]}try{u({},"")}catch{u=function(v,E,x){return v[E]=x}}function s(T,v,E,x){var N=v&&v.prototype instanceof d?v:d,D=Object.create(N.prototype),B=new k(x||[]);return r(D,"_invoke",{value:S(T,E,B)}),D}function c(T,v,E){try{return{type:"normal",arg:T.call(v,E)}}catch(x){return{type:"throw",arg:x}}}e.wrap=s;var l={};function d(){}function h(){}function p(){}var m={};u(m,o,function(){return this});var g=Object.getPrototypeOf,y=g&&g(g(R([])));y&&y!==t&&n.call(y,o)&&(m=y);var b=p.prototype=d.prototype=Object.create(m);function _(T){["next","throw","return"].forEach(function(v){u(T,v,function(E){return this._invoke(v,E)})})}function w(T,v){function E(N,D,B,U){var O=c(T[N],T,D);if(O.type!=="throw"){var q=O.arg,F=q.value;return F&&typeof F=="object"&&n.call(F,"__await")?v.resolve(F.__await).then(function(P){E("next",P,B,U)},function(P){E("throw",P,B,U)}):v.resolve(F).then(function(P){q.value=P,B(q)},function(P){return E("throw",P,B,U)})}U(O.arg)}var x;r(this,"_invoke",{value:function(N,D){function B(){return new v(function(U,O){E(N,D,U,O)})}return x=x?x.then(B,B):B()}})}function S(T,v,E){var x="suspendedStart";return function(N,D){if(x==="executing")throw new Error("Generator is already running");if(x==="completed"){if(N==="throw")throw D;return $()}for(E.method=N,E.arg=D;;){var B=E.delegate;if(B){var U=M(B,E);if(U){if(U===l)continue;return U}}if(E.method==="next")E.sent=E._sent=E.arg;else if(E.method==="throw"){if(x==="suspendedStart")throw x="completed",E.arg;E.dispatchException(E.arg)}else E.method==="return"&&E.abrupt("return",E.arg);x="executing";var O=c(T,v,E);if(O.type==="normal"){if(x=E.done?"completed":"suspendedYield",O.arg===l)continue;return{value:O.arg,done:E.done}}O.type==="throw"&&(x="completed",E.method="throw",E.arg=O.arg)}}}function M(T,v){var E=v.method,x=T.iterator[E];if(x===void 0)return v.delegate=null,E==="throw"&&T.iterator.return&&(v.method="return",v.arg=void 0,M(T,v),v.method==="throw")||E!=="return"&&(v.method="throw",v.arg=new TypeError("The iterator does not provide a '"+E+"' method")),l;var N=c(x,T.iterator,v.arg);if(N.type==="throw")return v.method="throw",v.arg=N.arg,v.delegate=null,l;var D=N.arg;return D?D.done?(v[T.resultName]=D.value,v.next=T.nextLoc,v.method!=="return"&&(v.method="next",v.arg=void 0),v.delegate=null,l):D:(v.method="throw",v.arg=new TypeError("iterator result is not an object"),v.delegate=null,l)}function A(T){var v={tryLoc:T[0]};1 in T&&(v.catchLoc=T[1]),2 in T&&(v.finallyLoc=T[2],v.afterLoc=T[3]),this.tryEntries.push(v)}function C(T){var v=T.completion||{};v.type="normal",delete v.arg,T.completion=v}function k(T){this.tryEntries=[{tryLoc:"root"}],T.forEach(A,this),this.reset(!0)}function R(T){if(T){var v=T[o];if(v)return v.call(T);if(typeof T.next=="function")return T;if(!isNaN(T.length)){var E=-1,x=function N(){for(;++E<T.length;)if(n.call(T,E))return N.value=T[E],N.done=!1,N;return N.value=void 0,N.done=!0,N};return x.next=x}}return{next:$}}function $(){return{value:void 0,done:!0}}return h.prototype=p,r(b,"constructor",{value:p,configurable:!0}),r(p,"constructor",{value:h,configurable:!0}),h.displayName=u(p,f,"GeneratorFunction"),e.isGeneratorFunction=function(T){var v=typeof T=="function"&&T.constructor;return!!v&&(v===h||(v.displayName||v.name)==="GeneratorFunction")},e.mark=function(T){return Object.setPrototypeOf?Object.setPrototypeOf(T,p):(T.__proto__=p,u(T,f,"GeneratorFunction")),T.prototype=Object.create(b),T},e.awrap=function(T){return{__await:T}},_(w.prototype),u(w.prototype,a,function(){return this}),e.AsyncIterator=w,e.async=function(T,v,E,x,N){N===void 0&&(N=Promise);var D=new w(s(T,v,E,x),N);return e.isGeneratorFunction(v)?D:D.next().then(function(B){return B.done?B.value:D.next()})},_(b),u(b,f,"Generator"),u(b,o,function(){return this}),u(b,"toString",function(){return"[object Generator]"}),e.keys=function(T){var v=Object(T),E=[];for(var x in v)E.push(x);return E.reverse(),function N(){for(;E.length;){var D=E.pop();if(D in v)return N.value=D,N.done=!1,N}return N.done=!0,N}},e.values=R,k.prototype={constructor:k,reset:function(T){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!T)for(var v in this)v.charAt(0)==="t"&&n.call(this,v)&&!isNaN(+v.slice(1))&&(this[v]=void 0)},stop:function(){this.done=!0;var T=this.tryEntries[0].completion;if(T.type==="throw")throw T.arg;return this.rval},dispatchException:function(T){if(this.done)throw T;var v=this;function E(O,q){return D.type="throw",D.arg=T,v.next=O,q&&(v.method="next",v.arg=void 0),!!q}for(var x=this.tryEntries.length-1;x>=0;--x){var N=this.tryEntries[x],D=N.completion;if(N.tryLoc==="root")return E("end");if(N.tryLoc<=this.prev){var B=n.call(N,"catchLoc"),U=n.call(N,"finallyLoc");if(B&&U){if(this.prev<N.catchLoc)return E(N.catchLoc,!0);if(this.prev<N.finallyLoc)return E(N.finallyLoc)}else if(B){if(this.prev<N.catchLoc)return E(N.catchLoc,!0)}else{if(!U)throw new Error("try statement without catch or finally");if(this.prev<N.finallyLoc)return E(N.finallyLoc)}}}},abrupt:function(T,v){for(var E=this.tryEntries.length-1;E>=0;--E){var x=this.tryEntries[E];if(x.tryLoc<=this.prev&&n.call(x,"finallyLoc")&&this.prev<x.finallyLoc){var N=x;break}}N&&(T==="break"||T==="continue")&&N.tryLoc<=v&&v<=N.finallyLoc&&(N=null);var D=N?N.completion:{};return D.type=T,D.arg=v,N?(this.method="next",this.next=N.finallyLoc,l):this.complete(D)},complete:function(T,v){if(T.type==="throw")throw T.arg;return T.type==="break"||T.type==="continue"?this.next=T.arg:T.type==="return"?(this.rval=this.arg=T.arg,this.method="return",this.next="end"):T.type==="normal"&&v&&(this.next=v),l},finish:function(T){for(var v=this.tryEntries.length-1;v>=0;--v){var E=this.tryEntries[v];if(E.finallyLoc===T)return this.complete(E.completion,E.afterLoc),C(E),l}},catch:function(T){for(var v=this.tryEntries.length-1;v>=0;--v){var E=this.tryEntries[v];if(E.tryLoc===T){var x=E.completion;if(x.type==="throw"){var N=x.arg;C(E)}return N}}throw new Error("illegal catch attempt")},delegateYield:function(T,v,E){return this.delegate={iterator:R(T),resultName:v,nextLoc:E},this.method==="next"&&(this.arg=void 0),l}},e}function Ec(e,t,n,r,i,o,a){try{var f=e[o](a),u=f.value}catch(s){n(s);return}f.done?t(u):Promise.resolve(u).then(r,i)}function Qa(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var o=e.apply(t,n);function a(u){Ec(o,r,i,a,f,"next",u)}function f(u){Ec(o,r,i,a,f,"throw",u)}a(void 0)})}}function Wr(){return Wr=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Wr.apply(this,arguments)}function sy(e){if(e==null)throw new TypeError("Cannot destructure "+e)}function pi(e,t,n,r){function i(o){return o instanceof n?o:new n(function(a){a(o)})}return new(n||(n=Promise))(function(o,a){function f(c){try{s(r.next(c))}catch(l){a(l)}}function u(c){try{s(r.throw(c))}catch(l){a(l)}}function s(c){c.done?o(c.value):i(c.value).then(f,u)}s((r=r.apply(e,t||[])).next())})}function mi(e,t){var n={label:0,sent:function(){if(o[0]&1)throw o[1];return o[1]},trys:[],ops:[]},r,i,o,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=f(0),a.throw=f(1),a.return=f(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function f(s){return function(c){return u([s,c])}}function u(s){if(r)throw new TypeError("Generator is already executing.");for(;a&&(a=0,s[0]&&(n=0)),n;)try{if(r=1,i&&(o=s[0]&2?i.return:s[0]?i.throw||((o=i.return)&&o.call(i),0):i.next)&&!(o=o.call(i,s[1])).done)return o;switch(i=0,o&&(s=[s[0]&2,o.value]),s[0]){case 0:case 1:o=s;break;case 4:return n.label++,{value:s[1],done:!1};case 5:n.label++,i=s[1],s=[0];continue;case 7:s=n.ops.pop(),n.trys.pop();continue;default:if(o=n.trys,!(o=o.length>0&&o[o.length-1])&&(s[0]===6||s[0]===2)){n=0;continue}if(s[0]===3&&(!o||s[1]>o[0]&&s[1]<o[3])){n.label=s[1];break}if(s[0]===6&&n.label<o[1]){n.label=o[1],o=s;break}if(o&&n.label<o[2]){n.label=o[2],n.ops.push(s);break}o[2]&&n.ops.pop(),n.trys.pop();continue}s=t.call(e,n)}catch(c){s=[6,c],i=0}finally{r=o=0}if(s[0]&5)throw s[1];return{value:s[0]?s[1]:void 0,done:!0}}}function cy(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,o=[],a;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)o.push(i.value)}catch(f){a={error:f}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(a)throw a.error}}return o}function ly(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(cy(arguments[t]));return e}var dy=new Map([["avi","video/avi"],["gif","image/gif"],["ico","image/x-icon"],["jpeg","image/jpeg"],["jpg","image/jpeg"],["mkv","video/x-matroska"],["mov","video/quicktime"],["mp4","video/mp4"],["pdf","application/pdf"],["png","image/png"],["zip","application/zip"],["doc","application/msword"],["docx","application/vnd.openxmlformats-officedocument.wordprocessingml.document"]]);function ca(e,t){var n=hy(e);if(typeof n.path!="string"){var r=e.webkitRelativePath;Object.defineProperty(n,"path",{value:typeof t=="string"?t:typeof r=="string"&&r.length>0?r:e.name,writable:!1,configurable:!1,enumerable:!0})}return n}function hy(e){var t=e.name,n=t&&t.lastIndexOf(".")!==-1;if(n&&!e.type){var r=t.split(".").pop().toLowerCase(),i=dy.get(r);i&&Object.defineProperty(e,"type",{value:i,writable:!1,configurable:!1,enumerable:!0})}return e}var py=[".DS_Store","Thumbs.db"];function my(e){return pi(this,void 0,void 0,function(){return mi(this,function(t){return[2,gy(e)&&e.dataTransfer?wy(e.dataTransfer,e.type):by(e)]})})}function gy(e){return!!e.dataTransfer}function by(e){var t=yy(e.target)?e.target.files?iu(e.target.files):[]:[];return t.map(function(n){return ca(n)})}function yy(e){return e!==null}function wy(e,t){return pi(this,void 0,void 0,function(){var n,r;return mi(this,function(i){switch(i.label){case 0:return e.items?(n=iu(e.items).filter(function(o){return o.kind==="file"}),t!=="drop"?[2,n]:[4,Promise.all(n.map(_y))]):[3,2];case 1:return r=i.sent(),[2,Ac(yh(r))];case 2:return[2,Ac(iu(e.files).map(function(o){return ca(o)}))]}})})}function Ac(e){return e.filter(function(t){return py.indexOf(t.name)===-1})}function iu(e){for(var t=[],n=0;n<e.length;n++){var r=e[n];t.push(r)}return t}function _y(e){if(typeof e.webkitGetAsEntry!="function")return Cc(e);var t=e.webkitGetAsEntry();return t&&t.isDirectory?wh(t):Cc(e)}function yh(e){return e.reduce(function(t,n){return ly(t,Array.isArray(n)?yh(n):[n])},[])}function Cc(e){var t=e.getAsFile();if(!t)return Promise.reject(e+" is not a File");var n=ca(t);return Promise.resolve(n)}function vy(e){return pi(this,void 0,void 0,function(){return mi(this,function(t){return[2,e.isDirectory?wh(e):xy(e)]})})}function wh(e){var t=e.createReader();return new Promise(function(n,r){var i=[];function o(){var a=this;t.readEntries(function(f){return pi(a,void 0,void 0,function(){var u,s,c;return mi(this,function(l){switch(l.label){case 0:if(f.length)return[3,5];l.label=1;case 1:return l.trys.push([1,3,,4]),[4,Promise.all(i)];case 2:return u=l.sent(),n(u),[3,4];case 3:return s=l.sent(),r(s),[3,4];case 4:return[3,6];case 5:c=Promise.all(f.map(vy)),i.push(c),o(),l.label=6;case 6:return[2]}})})},function(f){r(f)})}o()})}function xy(e){return pi(this,void 0,void 0,function(){return mi(this,function(t){return[2,new Promise(function(n,r){e.file(function(i){var o=ca(i,e.fullPath);n(o)},function(i){r(i)})})]})})}function Ty(e,t,n,r){var i=document.createElement("input");i.style.display="none",document.body.appendChild(i),i.type="file",e!=="*"&&(i.accept=e),i.multiple=t,i.addEventListener("change",function(o){n(o),document.body.removeChild(i)}),r&&r(i),i.dispatchEvent(new MouseEvent("click"))}var Sy=function(t){var n=t.onFilesSelected,r=t.onFilesSuccessfullySelected,i=t.onFilesRejected,o=t.onClear,a=t.validators,f=ie.useCallback(function(l){n==null||n(l),a==null||a.forEach(function(d){d.onFilesSelected(l)})},[n,a]),u=ie.useCallback(function(l){r==null||r(l),a==null||a.forEach(function(d){d.onFilesSuccessfullySelected(l)})},[a,r]),s=ie.useCallback(function(l){i==null||i(l),a==null||a.forEach(function(d){d.onFilesRejected(l)})},[a,i]),c=ie.useCallback(function(){o==null||o(),a==null||a.forEach(function(l){l.onClear==null||l.onClear()})},[a,o]);return{onFilesSelected:f,onFilesSuccessfullySelected:u,onFilesRejected:s,onClear:c}},My=[];function $y(e){var t=e.accept,n=t===void 0?"*":t,r=e.multiple,i=r===void 0?!0:r,o=e.readAs,a=o===void 0?"Text":o,f=e.readFilesContent,u=f===void 0?!0:f,s=e.validators,c=s===void 0?My:s,l=e.initializeWithCustomParameters,d=ie.useState([]),h=d[0],p=d[1],m=ie.useState([]),g=m[0],y=m[1],b=ie.useState([]),_=b[0],w=b[1],S=ie.useState(!1),M=S[0],A=S[1],C=Sy(e),k=C.onFilesSelected,R=C.onFilesSuccessfullySelected,$=C.onFilesRejected,T=C.onClear,v=ie.useCallback(function(){p([]),y([]),w([])},[]),E=ie.useCallback(function(){v(),T==null||T()},[v,T]),x=ie.useCallback(function(D){return new Promise(function(){var B=Qa(_n().mark(function U(O,q){var F,P,V;return _n().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:F=new FileReader,P=F["readAs"+a],P.call(F,D),V=function(z){var I=Wr({},(sy(z),z));q(Wr({},I))},F.onload=Qa(_n().mark(function Y(){return _n().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Promise.all(c.map(function(j){return j.validateAfterParsing(e,D,F).catch(function(G){return Promise.reject(V(G))})})).then(function(){return O(Wr({},D,{content:F.result,name:D.name,lastModified:D.lastModified}))}).catch(function(){}));case 1:case"end":return I.stop()}},Y)})),F.onerror=function(){V({name:"FileReaderError",readerError:F.error,causedByFile:D})};case 6:case"end":return W.stop()}},U)}));return function(U,O){return B.apply(this,arguments)}}())},[e,a,c]),N=ie.useCallback(function(){var D=n instanceof Array?n.join(","):n;Ty(D,i,function(){var B=Qa(_n().mark(function U(O){var q,F,P,V,Z,W;return _n().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return v(),q=O.target,F=q.files?Array.from(q.files):[],A(!0),z.next=6,Promise.all(c.map(function(I){return I.validateBeforeParsing(e,F).catch(function(j){return Array.isArray(j)?j:[j]})}));case 6:if(P=z.sent.flat(1).filter(Boolean),p(F),w(P),!P.length){z.next=15;break}return A(!1),p([]),$==null||$({errors:P}),k==null||k({errors:P}),z.abrupt("return");case 15:if(u){z.next=19;break}return A(!1),k==null||k({plainFiles:F,filesContent:[]}),z.abrupt("return");case 19:return z.next=21,my(O);case 21:return V=z.sent,Z=[],z.next=25,Promise.all(V.map(function(I){return x(I).catch(function(j){Z.push.apply(Z,Array.isArray(j)?j:[j])})}));case 25:if(W=z.sent,A(!1),!Z.length){z.next=34;break}return p([]),y([]),w(function(I){return[].concat(I,Z)}),$==null||$({errors:Z}),k==null||k({errors:P.concat(Z)}),z.abrupt("return");case 34:y(W),p(F),w([]),R==null||R({filesContent:W,plainFiles:F}),k==null||k({plainFiles:F,filesContent:W});case 39:case"end":return z.stop()}},U)}));return function(U){return B.apply(this,arguments)}}(),l)},[e,n,v,l,i,$,k,R,x,u,c]);return{openFilePicker:N,filesContent:g,errors:_,loading:M,plainFiles:h,clear:E}}function Ey(){const e=Rt(s=>s.reset),t=Rt(s=>s.saveAs),n=Rt(s=>s.load),{openFilePicker:r,filesContent:i}=$y({accept:".json",multiple:!1});ie.useEffect(()=>{i.length&&n(JSON.parse(i[0].content))},[i,n]);const o=ie.useCallback(()=>{n(uy)},[n]),a="rounded-md border border-transparent px-2 py-1 text-sm text-violet-400 outline-none hover:border-violet-500 hover:bg-violet-600 hover:text-violet-300 data-[open]:border-violet-400 data-[open]:bg-violet-600 data-[open]:text-violet-200",f="rounded-md border border-slate-300 bg-slate-200 py-1 text-slate-800 outline-none drop-shadow-lg",u="flex w-full min-w-40 items-center justify-between px-4 py-1 text-sm outline-none focus:bg-violet-600 focus:text-slate-100 disabled:text-slate-400";return H.jsxs("div",{className:"flex items-center border-b border-violet-600 bg-violet-900 bg-gradient-to-tr from-violet-900 to-violet-600 px-4 py-2",children:[H.jsx(Qb,{className:"pr-2 text-violet-400 data-[open]:text-violet-200",size:20}),H.jsx("div",{className:"grow text-xl font-semibold tracking-widest text-violet-400",children:"Barefoot FIRE"}),H.jsxs(po,{menuButtonClasses:a,menuContainerClasses:f,label:H.jsx(Jb,{className:"text-violet-400",size:20}),children:[H.jsx(Fe,{className:u,label:"New",onClick:e}),H.jsx(Fe,{className:u,label:"Open",onClick:r}),H.jsx(Fe,{className:u,label:"Save",onClick:t}),H.jsxs(po,{menuContainerClasses:f,menuItemClasses:u,label:"Export",children:[H.jsx(Fe,{className:u,label:"CSV",disabled:!0}),H.jsx(Fe,{className:u,label:"JSON",disabled:!0}),H.jsx(Fe,{className:u,label:"Excel",disabled:!0})]}),H.jsxs(po,{menuContainerClasses:f,menuItemClasses:u,label:"Examples",children:[H.jsx(Fe,{className:u,label:"Simple example",disabled:!0}),H.jsx(Fe,{className:u,label:"Detailed example",onClick:o}),H.jsx(Fe,{className:u,label:"Rent vs Mortgage",disabled:!0}),H.jsx(Fe,{className:u,label:"Petrol vs Hybrid vs Electric",disabled:!0}),H.jsx(Fe,{className:u,label:"Median vs Professional vs Elite",disabled:!0})]})]})]})}Ey.__docgenInfo={description:"",methods:[],displayName:"Header"};var Ja,kc;function _h(){if(kc)return Ja;kc=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Ja=e,Ja}var ef,Nc;function Ay(){if(Nc)return ef;Nc=1;var e=typeof Bi=="object"&&Bi&&Bi.Object===Object&&Bi;return ef=e,ef}var tf,Dc;function vh(){if(Dc)return tf;Dc=1;var e=Ay(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return tf=n,tf}var nf,Ic;function Cy(){if(Ic)return nf;Ic=1;var e=vh(),t=function(){return e.Date.now()};return nf=t,nf}var rf,Lc;function ky(){if(Lc)return rf;Lc=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return rf=t,rf}var of,Rc;function Ny(){if(Rc)return of;Rc=1;var e=ky(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return of=n,of}var af,Oc;function xh(){if(Oc)return af;Oc=1;var e=vh(),t=e.Symbol;return af=t,af}var ff,Fc;function Dy(){if(Fc)return ff;Fc=1;var e=xh(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var f=n.call(a,i),u=a[i];try{a[i]=void 0;var s=!0}catch{}var c=r.call(a);return s&&(f?a[i]=u:delete a[i]),c}return ff=o,ff}var uf,Pc;function Iy(){if(Pc)return uf;Pc=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return uf=n,uf}var sf,qc;function Ly(){if(qc)return sf;qc=1;var e=xh(),t=Dy(),n=Iy(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(f){return f==null?f===void 0?i:r:o&&o in Object(f)?t(f):n(f)}return sf=a,sf}var cf,zc;function Ry(){if(zc)return cf;zc=1;function e(t){return t!=null&&typeof t=="object"}return cf=e,cf}var lf,Bc;function Oy(){if(Bc)return lf;Bc=1;var e=Ly(),t=Ry(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return lf=r,lf}var df,jc;function Fy(){if(jc)return df;jc=1;var e=Ny(),t=_h(),n=Oy(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,f=parseInt;function u(s){if(typeof s=="number")return s;if(n(s))return r;if(t(s)){var c=typeof s.valueOf=="function"?s.valueOf():s;s=t(c)?c+"":c}if(typeof s!="string")return s===0?s:+s;s=e(s);var l=o.test(s);return l||a.test(s)?f(s.slice(2),l?2:8):i.test(s)?r:+s}return df=u,df}var hf,Uc;function Py(){if(Uc)return hf;Uc=1;var e=_h(),t=Cy(),n=Fy(),r="Expected a function",i=Math.max,o=Math.min;function a(f,u,s){var c,l,d,h,p,m,g=0,y=!1,b=!1,_=!0;if(typeof f!="function")throw new TypeError(r);u=n(u)||0,e(s)&&(y=!!s.leading,b="maxWait"in s,d=b?i(n(s.maxWait)||0,u):d,_="trailing"in s?!!s.trailing:_);function w(v){var E=c,x=l;return c=l=void 0,g=v,h=f.apply(x,E),h}function S(v){return g=v,p=setTimeout(C,u),y?w(v):h}function M(v){var E=v-m,x=v-g,N=u-E;return b?o(N,d-x):N}function A(v){var E=v-m,x=v-g;return m===void 0||E>=u||E<0||b&&x>=d}function C(){var v=t();if(A(v))return k(v);p=setTimeout(C,M(v))}function k(v){return p=void 0,_&&c?w(v):(c=l=void 0,h)}function R(){p!==void 0&&clearTimeout(p),g=0,c=m=l=p=void 0}function $(){return p===void 0?h:k(t())}function T(){var v=t(),E=A(v);if(c=arguments,l=this,m=v,E){if(p===void 0)return S(m);if(b)return clearTimeout(p),p=setTimeout(C,u),w(m)}return p===void 0&&(p=setTimeout(C,u)),h}return T.cancel=R,T.flush=$,T}return hf=a,hf}var qy=Py();const zy=ny(qy),By=[],Yc={width:0,height:0,top:0,left:0};function jy({initialSize:e=Yc,debounceTime:t=300,ignoreDimensions:n=By,enableDebounceLeadingCall:r=!0,resizeObserverPolyfill:i}={}){const o=ie.useRef(null),a=ie.useRef(0),[f,u]=ie.useState({...Yc,...e}),s=ie.useMemo(()=>{const c=Array.isArray(n)?n:[n];return zy(l=>{u(d=>Object.keys(d).filter(g=>d[g]!==l[g]).every(g=>c.includes(g))?d:l)},t,{leading:r})},[t,r,n]);return ie.useEffect(()=>{const c=i||window.ResizeObserver,l=new c(d=>{d.forEach(h=>{const{left:p,top:m,width:g,height:y}=(h==null?void 0:h.contentRect)??{};a.current=window.requestAnimationFrame(()=>{s({width:g,height:y,top:m,left:p})})})});return o.current&&l.observe(o.current),()=>{window.cancelAnimationFrame(a.current),l.disconnect(),s.cancel()}},[s,i]),{parentRef:o,resize:s,...f}}const Uy={width:"100%",height:"100%"};function is({className:e,children:t,debounceTime:n,ignoreDimensions:r,initialSize:i,parentSizeStyles:o=Uy,enableDebounceLeadingCall:a=!0,resizeObserverPolyfill:f,...u}){const{parentRef:s,resize:c,...l}=jy({initialSize:i,debounceTime:n,ignoreDimensions:r,enableDebounceLeadingCall:a,resizeObserverPolyfill:f});return H.jsx("div",{style:o,ref:s,className:e,...u,children:t({...l,ref:s.current,resize:c})})}is.__docgenInfo={description:"",methods:[],displayName:"ResponsiveContainer",props:{className:{required:!1,tsType:{name:"string"},description:"Optional `className` to add to the parent `div` wrapper used for size measurement."},parentSizeStyles:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:"@deprecated - use `style` prop as all other props are passed directly to the parent `div`.\n@TODO remove in the next major version.\nOptional `style` object to apply to the parent `div` wrapper used for size measurement.",defaultValue:{value:"{ width: '100%', height: '100%' }",computed:!1}},children:{required:!0,tsType:{name:"signature",type:"function",raw:"(args: ParentSizeProvidedProps) => React.ReactNode",signature:{arguments:[{type:{name:"intersection",raw:`ParentSizeState & {
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"signature",type:"object",raw:`{
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,signature:{properties:[{key:"ref",value:{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}],required:!0}},{key:"resize",value:{name:"signature",type:"function",raw:"(state: ParentSizeState) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},name:"state"}],return:{name:"void"}},required:!0}}]}}]},name:"args"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Child render function `({ width, height, top, left, ref, resize }) => ReactNode`."},initialSize:{required:!1,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}}],raw:"Partial<ParentSizeState>"},description:"Initial size before measuring the parent."},resizeObserverPolyfill:{required:!1,tsType:{name:"ResizeObserverPolyfill"},description:"Optionally inject a ResizeObserver polyfill, else this *must* be globally available."},ignoreDimensions:{required:!1,tsType:{name:"union",raw:"keyof ParentSizeState | (keyof ParentSizeState)[]",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"Array",elements:[{name:"unknown"}],raw:"(keyof ParentSizeState)[]"}]},description:"Optional dimensions provided won't trigger a state change when changed."},debounceTime:{required:!1,tsType:{name:"number"},description:"Child render updates upon resize are delayed until `debounceTime` milliseconds _after_ the last resize event is observed. Defaults to `300`."},enableDebounceLeadingCall:{required:!1,tsType:{name:"boolean"},description:"Optional flag to toggle leading debounce calls. When set to true this will ensure that the component always renders immediately. Defaults to `true`.",defaultValue:{value:"true",computed:!1}}}};function Yy(){const e=Rt(a=>a.selection),t=Rt(a=>a.setSelection),n=Rt(a=>a.scenarioStartEvents),r=Rt(a=>a.highlightedPlotData),i=Rt(a=>a.pinnedPlotData),o=ie.useMemo(()=>{const f="month",u=Mc({data:r,interval:f,cumulative:!0}),s=i?Mc({data:i,interval:f,cumulative:!0}):[];return[...u,...s].sort((l,d)=>bh(l.date).diff(d.date))},[r,i]);return H.jsxs(H.Fragment,{children:[H.jsx(jb,{type:i?"difference":"area",data:o,selection:e,onUpdateSelection:t}),H.jsx(Pb,{type:i?"difference":"area",timeseries:o,scenarioEvents:n,selection:e})]})}Yy.__docgenInfo={description:"",methods:[],displayName:"ScenarioBrushChart"};function Th({budgetTree:e}){return H.jsxs("div",{className:"flex h-full w-full select-none flex-col bg-slate-900 text-slate-300",children:[H.jsx("div",{className:"bg-slate-800 px-4 py-1 text-sm font-medium text-slate-600",children:"Budget Details"}),e?H.jsxs("div",{className:"flex-grow overflow-y-auto pb-4",children:[H.jsx("div",{className:"px-4 pb-2 pt-4 text-lg font-medium text-slate-500",children:e.name}),H.jsx(ey,{tree:e.budgets,expanded:!0,parentContainerClasses:"cursor-pointer hover:bg-slate-800 px-4",childContainerClasses:"cursor-default px-4",renderCollapsibleItemContent:t=>H.jsx(Gc,{type:"parent",item:t}),renderLeafItemContent:t=>H.jsx(Gc,{type:"leaf",item:t})},e.name)]}):H.jsx("div",{className:"px-4 pb-2 pt-4 text-lg font-medium text-slate-600",children:"No budget selected"})]})}function Gc({type:e,item:t}){const n="ml-3 rounded-sm border border-transparent outline-none hover:border-slate-700 data-[open]:border-slate-600",r="rounded-md border border-slate-300 bg-slate-200 py-1 text-slate-800 outline-none drop-shadow-lg",i="flex w-full min-w-28 items-center justify-between px-4 py-1 text-sm outline-none focus:bg-violet-600 focus:text-slate-100 disabled:text-slate-400";return H.jsxs("div",{className:"flex flex-row items-center justify-center py-2",children:[H.jsx("div",{className:"grow",children:t.name}),H.jsx("div",{className:e==="parent"?"text-gray-500":"",children:Gy(t.value)}),H.jsx("div",{className:"flex items-center justify-center",children:H.jsxs(po,{menuButtonClasses:n,menuContainerClasses:r,label:H.jsx("div",{onClick:o=>{o.stopPropagation()},children:H.jsx(ty,{className:"flex h-5 w-5 items-center justify-center text-slate-500",size:14})}),children:[H.jsx(Fe,{className:i,label:"Edit",disabled:!0}),H.jsx(Fe,{className:i,label:"Delete",disabled:!0})]})})]})}function Gy(e){return e>=0?e.toFixed(0).toString():`(${Math.abs(e).toFixed(0)})`}Th.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudget",props:{budgetTree:{required:!0,tsType:{name:"union",raw:"BudgetTree | null",elements:[{name:"BudgetTree"},{name:"null"}]},description:""}}};function Hy(){const e=Rt(t=>t.selectedBudget);return H.jsx(Th,{budgetTree:e})}Hy.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudget"};function Le(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function gi(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function la(e){let t,n,r;e.length!==2?(t=Le,n=(f,u)=>Le(e(f),u),r=(f,u)=>e(f)-u):(t=e===Le||e===gi?e:Wy,n=e,r=e);function i(f,u,s=0,c=f.length){if(s<c){if(t(u,u)!==0)return c;do{const l=s+c>>>1;n(f[l],u)<0?s=l+1:c=l}while(s<c)}return s}function o(f,u,s=0,c=f.length){if(s<c){if(t(u,u)!==0)return c;do{const l=s+c>>>1;n(f[l],u)<=0?s=l+1:c=l}while(s<c)}return s}function a(f,u,s=0,c=f.length){const l=i(f,u,s,c-1);return l>s&&r(f[l-1],u)>-r(f[l],u)?l-1:l}return{left:i,center:a,right:o}}function Wy(){return 0}function Sh(e){return e===null?NaN:+e}function*Xy(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Vy=la(Le),da=Vy.right;la(Sh).center;function os(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function Zy(e){return e.length|0}function Ky(e){return!(e>0)}function Qy(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function Jy(e){return t=>e(...t)}function e2(...e){const t=typeof e[e.length-1]=="function"&&Jy(e.pop());e=e.map(Qy);const n=e.map(Zy),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(Ky))return o;for(;;){o.push(i.map((f,u)=>e[u][f]));let a=r;for(;++i[a]===n[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function t2(e,t){var n=0;return Float64Array.from(e,r=>n+=+r||0)}function Mh(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let f of e)(f=t(f,++a,e))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,o+=r*(f-i))}if(n>1)return o/(n-1)}function $h(e,t){const n=Mh(e,t);return n&&Math.sqrt(n)}function Ge(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class En{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=t+o,f=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);f&&(n[r++]=f),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class An extends Map{constructor(t,n=Ch){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(ou(this,t))}has(t){return super.has(ou(this,t))}set(t,n){return super.set(Eh(this,t),n)}delete(t){return super.delete(Ah(this,t))}}class ha extends Set{constructor(t,n=Ch){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(ou(this,t))}add(t){return super.add(Eh(this,t))}delete(t){return super.delete(Ah(this,t))}}function ou({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function Eh({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function Ah({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function Ch(e){return e!==null&&typeof e=="object"?e.valueOf():e}function au(e){return e}function pa(e,...t){return as(e,au,au,t)}function Kn(e,t,...n){return as(e,au,t,n)}function n2(e,t,...n){return as(e,Array.from,t,n)}function as(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const f=new An,u=r[a++];let s=-1;for(const c of o){const l=u(c,++s,o),d=f.get(l);d?d.push(c):f.set(l,[c])}for(const[c,l]of f)f.set(c,i(l,a));return t(f)}(e,0)}function r2(e,t){return Array.from(t,n=>e[n])}function vo(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const a of t){const f=xo(a[i],a[o]);if(f)return f}})):(n=e.map(n),r.sort((i,o)=>xo(n[i],n[o]))),r2(e,r)}return e.sort(kh(n))}function kh(e=Le){if(e===Le)return xo;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function xo(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function fs(e,t,n){return(t.length!==2?vo(Kn(e,t,n),([r,i],[o,a])=>Le(i,a)||Le(r,o)):vo(pa(e,n),([r,i],[o,a])=>t(i,a)||Le(r,o))).map(([r])=>r)}const i2=Math.sqrt(50),o2=Math.sqrt(10),a2=Math.sqrt(2);function To(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=i2?10:o>=o2?5:o>=a2?2:1;let f,u,s;return i<0?(s=Math.pow(10,-i)/a,f=Math.round(e*s),u=Math.round(t*s),f/s<e&&++f,u/s>t&&--u,s=-s):(s=Math.pow(10,i)*a,f=Math.round(e/s),u=Math.round(t/s),f*s<e&&++f,u*s>t&&--u),u<f&&.5<=n&&n<2?To(e,t,n*2):[f,u,s]}function ei(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?To(t,e,n):To(e,t,n);if(!(o>=i))return[];const f=o-i+1,u=new Array(f);if(r)if(a<0)for(let s=0;s<f;++s)u[s]=(o-s)/-a;else for(let s=0;s<f;++s)u[s]=(o-s)*a;else if(a<0)for(let s=0;s<f;++s)u[s]=(i+s)/-a;else for(let s=0;s<f;++s)u[s]=(i+s)*a;return u}function So(e,t,n){return t=+t,e=+e,n=+n,To(e,t,n)[2]}function fu(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?So(t,e,n):So(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function f2(e){return Math.max(1,Math.ceil(Math.log(os(e))/Math.LN2)+1)}function nt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function u2(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function jt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function s2(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function Nh(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?xo:kh(i);r>n;){if(r-n>600){const u=r-n+1,s=t-n+1,c=Math.log(u),l=.5*Math.exp(2*c/3),d=.5*Math.sqrt(c*l*(u-l)/u)*(s-u/2<0?-1:1),h=Math.max(n,Math.floor(t-s*l/u+d)),p=Math.min(r,Math.floor(t+(u-s)*l/u+d));Nh(e,t,h,p,i)}const o=e[t];let a=n,f=r;for(Er(e,n,t),i(e[r],o)>0&&Er(e,n,r);a<f;){for(Er(e,a,f),++a,--f;i(e[a],o)<0;)++a;for(;i(e[f],o)>0;)--f}i(e[n],o)===0?Er(e,n,f):(++f,Er(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}return e}function Er(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function Dh(e,t=Le){let n,r=!1;if(t.length===1){let i;for(const o of e){const a=t(o);(r?Le(a,i)>0:Le(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function nr(e,t,n){if(e=Float64Array.from(Xy(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return jt(e);if(t>=1)return nt(e);var r,i=(r-1)*t,o=Math.floor(i),a=nt(Nh(e,o).subarray(0,o+1)),f=jt(e.subarray(o+1));return a+(f-a)*(i-o)}}function c2(e,t,n=Sh){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),f=+n(e[o+1],o+1,e);return a+(f-a)*(i-o)}}function l2(e,t,n){const r=os(e),i=nr(e,.75)-nr(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function Ih(e,t,n){const r=os(e),i=$h(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function d2(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function uu(e,t){return nr(e,.5,t)}function*h2(e){for(const t of e)yield*t}function Lh(e){return Array.from(h2(e))}function p2(e,t){const n=new An;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function m2(e,t=g2){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n}function g2(e,t){return[e,t]}function su(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function on(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function Mo(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function b2(e){return e}var y2=3,Hc=1e-6;function w2(e){return"translate("+e+",0)"}function _2(e){return t=>+e(t)}function v2(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function x2(){return!this.__axis}function T2(e,t){var n=[],r=null,i=null,o=6,a=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,s=1,c="y",l=w2;function d(h){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):b2),g=Math.max(o,0)+f,y=t.range(),b=+y[0]+u,_=+y[y.length-1]+u,w=(t.bandwidth?v2:_2)(t.copy(),u),S=h.selection?h.selection():h,M=S.selectAll(".domain").data([null]),A=S.selectAll(".tick").data(p,t).order(),C=A.exit(),k=A.enter().append("g").attr("class","tick"),R=A.select("line"),$=A.select("text");M=M.merge(M.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),A=A.merge(k),R=R.merge(k.append("line").attr("stroke","currentColor").attr(c+"2",s*o)),$=$.merge(k.append("text").attr("fill","currentColor").attr(c,s*g).attr("dy","0.71em")),h!==S&&(M=M.transition(h),A=A.transition(h),R=R.transition(h),$=$.transition(h),C=C.transition(h).attr("opacity",Hc).attr("transform",function(T){return isFinite(T=w(T))?l(T+u):this.getAttribute("transform")}),k.attr("opacity",Hc).attr("transform",function(T){var v=this.parentNode.__axis;return l((v&&isFinite(v=v(T))?v:w(T))+u)})),C.remove(),M.attr("d",a?"M"+b+","+s*a+"V"+u+"H"+_+"V"+s*a:"M"+b+","+u+"H"+_),A.attr("opacity",1).attr("transform",function(T){return l(w(T)+u)}),R.attr(c+"2",s*o),$.attr(c,s*g).text(m),S.filter(x2).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),S.each(function(){this.__axis=w})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return n=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),d):n.slice()},d.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),d):r&&r.slice()},d.tickFormat=function(h){return arguments.length?(i=h,d):i},d.tickSize=function(h){return arguments.length?(o=a=+h,d):o},d.tickSizeInner=function(h){return arguments.length?(o=+h,d):o},d.tickSizeOuter=function(h){return arguments.length?(a=+h,d):a},d.tickPadding=function(h){return arguments.length?(f=+h,d):f},d.offset=function(h){return arguments.length?(u=+h,d):u},d}function S2(e){return T2(y2,e)}var M2={value:()=>{}};function Rh(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new mo(n)}function mo(e){this._=e}function $2(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}mo.prototype=Rh.prototype={constructor:mo,on:function(e,t){var n=this._,r=$2(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=E2(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=Wc(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Wc(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new mo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function E2(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Wc(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=M2,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var cu="http://www.w3.org/1999/xhtml";const rr={svg:"http://www.w3.org/2000/svg",xhtml:cu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ma(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),rr.hasOwnProperty(t)?{space:rr[t],local:e}:e}function A2(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===cu&&t.documentElement.namespaceURI===cu?t.createElement(e):t.createElementNS(n,e)}}function C2(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ga(e){var t=ma(e);return(t.local?C2:A2)(t)}function k2(){}function us(e){return e==null?k2:function(){return this.querySelector(e)}}function N2(e){typeof e!="function"&&(e=us(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,f=r[i]=new Array(a),u,s,c=0;c<a;++c)(u=o[c])&&(s=e.call(u,u.__data__,c,o))&&("__data__"in u&&(s.__data__=u.__data__),f[c]=s);return new ze(r,this._parents)}function D2(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function I2(){return[]}function Oh(e){return e==null?I2:function(){return this.querySelectorAll(e)}}function L2(e){return function(){return D2(e.apply(this,arguments))}}function R2(e){typeof e=="function"?e=L2(e):e=Oh(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],f=a.length,u,s=0;s<f;++s)(u=a[s])&&(r.push(e.call(u,u.__data__,s,a)),i.push(u));return new ze(r,i)}function Fh(e){return function(){return this.matches(e)}}function Ph(e){return function(t){return t.matches(e)}}var O2=Array.prototype.find;function F2(e){return function(){return O2.call(this.children,e)}}function P2(){return this.firstElementChild}function q2(e){return this.select(e==null?P2:F2(typeof e=="function"?e:Ph(e)))}var z2=Array.prototype.filter;function B2(){return Array.from(this.children)}function j2(e){return function(){return z2.call(this.children,e)}}function U2(e){return this.selectAll(e==null?B2:j2(typeof e=="function"?e:Ph(e)))}function Y2(e){typeof e!="function"&&(e=Fh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,f=r[i]=[],u,s=0;s<a;++s)(u=o[s])&&e.call(u,u.__data__,s,o)&&f.push(u);return new ze(r,this._parents)}function qh(e){return new Array(e.length)}function G2(){return new ze(this._enter||this._groups.map(qh),this._parents)}function $o(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}$o.prototype={constructor:$o,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function H2(e){return function(){return e}}function W2(e,t,n,r,i,o){for(var a=0,f,u=t.length,s=o.length;a<s;++a)(f=t[a])?(f.__data__=o[a],r[a]=f):n[a]=new $o(e,o[a]);for(;a<u;++a)(f=t[a])&&(i[a]=f)}function X2(e,t,n,r,i,o,a){var f,u,s=new Map,c=t.length,l=o.length,d=new Array(c),h;for(f=0;f<c;++f)(u=t[f])&&(d[f]=h=a.call(u,u.__data__,f,t)+"",s.has(h)?i[f]=u:s.set(h,u));for(f=0;f<l;++f)h=a.call(e,o[f],f,o)+"",(u=s.get(h))?(r[f]=u,u.__data__=o[f],s.delete(h)):n[f]=new $o(e,o[f]);for(f=0;f<c;++f)(u=t[f])&&s.get(d[f])===u&&(i[f]=u)}function V2(e){return e.__data__}function Z2(e,t){if(!arguments.length)return Array.from(this,V2);var n=t?X2:W2,r=this._parents,i=this._groups;typeof e!="function"&&(e=H2(e));for(var o=i.length,a=new Array(o),f=new Array(o),u=new Array(o),s=0;s<o;++s){var c=r[s],l=i[s],d=l.length,h=K2(e.call(c,c&&c.__data__,s,r)),p=h.length,m=f[s]=new Array(p),g=a[s]=new Array(p),y=u[s]=new Array(d);n(c,l,m,g,y,h,t);for(var b=0,_=0,w,S;b<p;++b)if(w=m[b]){for(b>=_&&(_=b+1);!(S=g[_])&&++_<p;);w._next=S||null}}return a=new ze(a,r),a._enter=f,a._exit=u,a}function K2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function Q2(){return new ze(this._exit||this._groups.map(qh),this._parents)}function J2(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function ew(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),f=new Array(i),u=0;u<a;++u)for(var s=n[u],c=r[u],l=s.length,d=f[u]=new Array(l),h,p=0;p<l;++p)(h=s[p]||c[p])&&(d[p]=h);for(;u<i;++u)f[u]=n[u];return new ze(f,this._parents)}function tw(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function nw(e){e||(e=rw);function t(l,d){return l&&d?e(l.__data__,d.__data__):!l-!d}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],f=a.length,u=i[o]=new Array(f),s,c=0;c<f;++c)(s=a[c])&&(u[c]=s);u.sort(t)}return new ze(i,this._parents).order()}function rw(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function iw(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function ow(){return Array.from(this)}function aw(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function fw(){let e=0;for(const t of this)++e;return e}function uw(){return!this.node()}function sw(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,f;o<a;++o)(f=i[o])&&e.call(f,f.__data__,o,i);return this}function cw(e){return function(){this.removeAttribute(e)}}function lw(e){return function(){this.removeAttributeNS(e.space,e.local)}}function dw(e,t){return function(){this.setAttribute(e,t)}}function hw(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function pw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function mw(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function gw(e,t){var n=ma(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?lw:cw:typeof t=="function"?n.local?mw:pw:n.local?hw:dw)(n,t))}function zh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function bw(e){return function(){this.style.removeProperty(e)}}function yw(e,t,n){return function(){this.style.setProperty(e,t,n)}}function ww(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function _w(e,t,n){return arguments.length>1?this.each((t==null?bw:typeof t=="function"?ww:yw)(e,t,n??"")):ir(this.node(),e)}function ir(e,t){return e.style.getPropertyValue(t)||zh(e).getComputedStyle(e,null).getPropertyValue(t)}function vw(e){return function(){delete this[e]}}function xw(e,t){return function(){this[e]=t}}function Tw(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function Sw(e,t){return arguments.length>1?this.each((t==null?vw:typeof t=="function"?Tw:xw)(e,t)):this.node()[e]}function Bh(e){return e.trim().split(/^|\s+/)}function ss(e){return e.classList||new jh(e)}function jh(e){this._node=e,this._names=Bh(e.getAttribute("class")||"")}jh.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Uh(e,t){for(var n=ss(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Yh(e,t){for(var n=ss(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function Mw(e){return function(){Uh(this,e)}}function $w(e){return function(){Yh(this,e)}}function Ew(e,t){return function(){(t.apply(this,arguments)?Uh:Yh)(this,e)}}function Aw(e,t){var n=Bh(e+"");if(arguments.length<2){for(var r=ss(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?Ew:t?Mw:$w)(n,t))}function Cw(){this.textContent=""}function kw(e){return function(){this.textContent=e}}function Nw(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Dw(e){return arguments.length?this.each(e==null?Cw:(typeof e=="function"?Nw:kw)(e)):this.node().textContent}function Iw(){this.innerHTML=""}function Lw(e){return function(){this.innerHTML=e}}function Rw(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Ow(e){return arguments.length?this.each(e==null?Iw:(typeof e=="function"?Rw:Lw)(e)):this.node().innerHTML}function Fw(){this.nextSibling&&this.parentNode.appendChild(this)}function Pw(){return this.each(Fw)}function qw(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function zw(){return this.each(qw)}function Bw(e){var t=typeof e=="function"?e:ga(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function jw(){return null}function Uw(e,t){var n=typeof e=="function"?e:ga(e),r=t==null?jw:typeof t=="function"?t:us(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function Yw(){var e=this.parentNode;e&&e.removeChild(this)}function Gw(){return this.each(Yw)}function Hw(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Ww(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Xw(e){return this.select(e?Ww:Hw)}function Vw(e){return arguments.length?this.property("__data__",e):this.node().__data__}function Zw(e){return function(t){e.call(this,t,this.__data__)}}function Kw(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function Qw(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function Jw(e,t,n){return function(){var r=this.__on,i,o=Zw(t);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function e_(e,t,n){var r=Kw(e+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,s=f.length,c;u<s;++u)for(i=0,c=f[u];i<o;++i)if((a=r[i]).type===c.type&&a.name===c.name)return c.value}return}for(f=t?Jw:Qw,i=0;i<o;++i)this.each(f(r[i],t,n));return this}function Gh(e,t,n){var r=zh(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function t_(e,t){return function(){return Gh(this,e,t)}}function n_(e,t){return function(){return Gh(this,e,t.apply(this,arguments))}}function r_(e,t){return this.each((typeof t=="function"?n_:t_)(e,t))}function*i_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var Hh=[null];function ze(e,t){this._groups=e,this._parents=t}function bi(){return new ze([[document.documentElement]],Hh)}function o_(){return this}ze.prototype=bi.prototype={constructor:ze,select:N2,selectAll:R2,selectChild:q2,selectChildren:U2,filter:Y2,data:Z2,enter:G2,exit:Q2,join:J2,merge:ew,selection:o_,order:tw,sort:nw,call:iw,nodes:ow,node:aw,size:fw,empty:uw,each:sw,attr:gw,style:_w,property:Sw,classed:Aw,text:Dw,html:Ow,raise:Pw,lower:zw,append:Bw,insert:Uw,remove:Gw,clone:Xw,datum:Vw,on:e_,dispatch:r_,[Symbol.iterator]:i_};function Qn(e){return typeof e=="string"?new ze([[document.querySelector(e)]],[document.documentElement]):new ze([[e]],Hh)}function a_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function f_(e,t){if(e=a_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function _r(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function yi(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function cn(){}var Cn=.7,or=1/Cn,Jn="\\s*([+-]?\\d+)\\s*",ti="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",u_=/^#([0-9a-f]{3,8})$/,s_=new RegExp(`^rgb\\(${Jn},${Jn},${Jn}\\)$`),c_=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),l_=new RegExp(`^rgba\\(${Jn},${Jn},${Jn},${ti}\\)$`),d_=new RegExp(`^rgba\\(${_t},${_t},${_t},${ti}\\)$`),h_=new RegExp(`^hsl\\(${ti},${_t},${_t}\\)$`),p_=new RegExp(`^hsla\\(${ti},${_t},${_t},${ti}\\)$`),Xc={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};_r(cn,kn,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Vc,formatHex:Vc,formatHex8:m_,formatHsl:g_,formatRgb:Zc,toString:Zc});function Vc(){return this.rgb().formatHex()}function m_(){return this.rgb().formatHex8()}function g_(){return Wh(this).formatHsl()}function Zc(){return this.rgb().formatRgb()}function kn(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=u_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Kc(t):n===3?new _e(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?ji(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?ji(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=s_.exec(e))?new _e(t[1],t[2],t[3],1):(t=c_.exec(e))?new _e(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=l_.exec(e))?ji(t[1],t[2],t[3],t[4]):(t=d_.exec(e))?ji(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=h_.exec(e))?el(t[1],t[2]/100,t[3]/100,1):(t=p_.exec(e))?el(t[1],t[2]/100,t[3]/100,t[4]):Xc.hasOwnProperty(e)?Kc(Xc[e]):e==="transparent"?new _e(NaN,NaN,NaN,0):null}function Kc(e){return new _e(e>>16&255,e>>8&255,e&255,1)}function ji(e,t,n,r){return r<=0&&(e=t=n=NaN),new _e(e,t,n,r)}function cs(e){return e instanceof cn||(e=kn(e)),e?(e=e.rgb(),new _e(e.r,e.g,e.b,e.opacity)):new _e}function an(e,t,n,r){return arguments.length===1?cs(e):new _e(e,t,n,r??1)}function _e(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}_r(_e,an,yi(cn,{brighter(e){return e=e==null?or:Math.pow(or,e),new _e(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?Cn:Math.pow(Cn,e),new _e(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new _e(Sn(this.r),Sn(this.g),Sn(this.b),Eo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Qc,formatHex:Qc,formatHex8:b_,formatRgb:Jc,toString:Jc}));function Qc(){return`#${Tn(this.r)}${Tn(this.g)}${Tn(this.b)}`}function b_(){return`#${Tn(this.r)}${Tn(this.g)}${Tn(this.b)}${Tn((isNaN(this.opacity)?1:this.opacity)*255)}`}function Jc(){const e=Eo(this.opacity);return`${e===1?"rgb(":"rgba("}${Sn(this.r)}, ${Sn(this.g)}, ${Sn(this.b)}${e===1?")":`, ${e})`}`}function Eo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function Sn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function Tn(e){return e=Sn(e),(e<16?"0":"")+e.toString(16)}function el(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new et(e,t,n,r)}function Wh(e){if(e instanceof et)return new et(e.h,e.s,e.l,e.opacity);if(e instanceof cn||(e=kn(e)),!e)return new et;if(e instanceof et)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,f=o-i,u=(o+i)/2;return f?(t===o?a=(n-r)/f+(n<r)*6:n===o?a=(r-t)/f+2:a=(t-n)/f+4,f/=u<.5?o+i:2-o-i,a*=60):f=u>0&&u<1?0:a,new et(a,f,u,e.opacity)}function lu(e,t,n,r){return arguments.length===1?Wh(e):new et(e,t,n,r??1)}function et(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_r(et,lu,yi(cn,{brighter(e){return e=e==null?or:Math.pow(or,e),new et(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cn:Math.pow(Cn,e),new et(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new _e(pf(e>=240?e-240:e+120,i,r),pf(e,i,r),pf(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new et(tl(this.h),Ui(this.s),Ui(this.l),Eo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Eo(this.opacity);return`${e===1?"hsl(":"hsla("}${tl(this.h)}, ${Ui(this.s)*100}%, ${Ui(this.l)*100}%${e===1?")":`, ${e})`}`}}));function tl(e){return e=(e||0)%360,e<0?e+360:e}function Ui(e){return Math.max(0,Math.min(1,e||0))}function pf(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Xh=Math.PI/180,Vh=180/Math.PI,Ao=18,Zh=.96422,Kh=1,Qh=.82521,Jh=4/29,er=6/29,e0=3*er*er,y_=er*er*er;function t0(e){if(e instanceof vt)return new vt(e.l,e.a,e.b,e.opacity);if(e instanceof Ft)return n0(e);e instanceof _e||(e=cs(e));var t=yf(e.r),n=yf(e.g),r=yf(e.b),i=mf((.2225045*t+.7168786*n+.0606169*r)/Kh),o,a;return t===n&&n===r?o=a=i:(o=mf((.4360747*t+.3850649*n+.1430804*r)/Zh),a=mf((.0139322*t+.0971045*n+.7141733*r)/Qh)),new vt(116*i-16,500*(o-i),200*(i-a),e.opacity)}function du(e,t,n,r){return arguments.length===1?t0(e):new vt(e,t,n,r??1)}function vt(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}_r(vt,du,yi(cn,{brighter(e){return new vt(this.l+Ao*(e??1),this.a,this.b,this.opacity)},darker(e){return new vt(this.l-Ao*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Zh*gf(t),e=Kh*gf(e),n=Qh*gf(n),new _e(bf(3.1338561*t-1.6168667*e-.4906146*n),bf(-.9787684*t+1.9161415*e+.033454*n),bf(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function mf(e){return e>y_?Math.pow(e,1/3):e/e0+Jh}function gf(e){return e>er?e*e*e:e0*(e-Jh)}function bf(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function yf(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function w_(e){if(e instanceof Ft)return new Ft(e.h,e.c,e.l,e.opacity);if(e instanceof vt||(e=t0(e)),e.a===0&&e.b===0)return new Ft(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Vh;return new Ft(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function hu(e,t,n,r){return arguments.length===1?w_(e):new Ft(e,t,n,r??1)}function Ft(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function n0(e){if(isNaN(e.h))return new vt(e.l,0,0,e.opacity);var t=e.h*Xh;return new vt(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}_r(Ft,hu,yi(cn,{brighter(e){return new Ft(this.h,this.c,this.l+Ao*(e??1),this.opacity)},darker(e){return new Ft(this.h,this.c,this.l-Ao*(e??1),this.opacity)},rgb(){return n0(this).rgb()}}));var r0=-.14861,ls=1.78277,ds=-.29227,ba=-.90649,ni=1.97294,nl=ni*ba,rl=ni*ls,il=ls*ds-ba*r0;function __(e){if(e instanceof Mn)return new Mn(e.h,e.s,e.l,e.opacity);e instanceof _e||(e=cs(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(il*r+nl*t-rl*n)/(il+nl-rl),o=r-i,a=(ni*(n-i)-ds*o)/ba,f=Math.sqrt(a*a+o*o)/(ni*i*(1-i)),u=f?Math.atan2(a,o)*Vh-120:NaN;return new Mn(u<0?u+360:u,f,i,e.opacity)}function xt(e,t,n,r){return arguments.length===1?__(e):new Mn(e,t,n,r??1)}function Mn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}_r(Mn,xt,yi(cn,{brighter(e){return e=e==null?or:Math.pow(or,e),new Mn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?Cn:Math.pow(Cn,e),new Mn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Xh,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new _e(255*(t+n*(r0*r+ls*i)),255*(t+n*(ds*r+ba*i)),255*(t+n*(ni*r)),this.opacity)}}));function v_(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function x_(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,f=r<t-1?e[r+2]:2*o-i;return v_((n-r/t)*t,a,i,o,f)}}const ya=e=>()=>e;function i0(e,t){return function(n){return e+n*t}}function T_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function hs(e,t){var n=t-e;return n?i0(e,n>180||n<-180?n-360*Math.round(n/360):n):ya(isNaN(e)?t:e)}function S_(e){return(e=+e)==1?Ae:function(t,n){return n-t?T_(t,n,e):ya(isNaN(t)?n:t)}}function Ae(e,t){var n=t-e;return n?i0(e,n):ya(isNaN(e)?t:e)}const Nn=function e(t){var n=S_(t);function r(i,o){var a=n((i=an(i)).r,(o=an(o)).r),f=n(i.g,o.g),u=n(i.b,o.b),s=Ae(i.opacity,o.opacity);return function(c){return i.r=a(c),i.g=f(c),i.b=u(c),i.opacity=s(c),i+""}}return r.gamma=e,r}(1);function M_(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,f;for(a=0;a<n;++a)f=an(t[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=e(r),i=e(i),o=e(o),f.opacity=1,function(u){return f.r=r(u),f.g=i(u),f.b=o(u),f+""}}}var $_=M_(x_);function E_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function A_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function C_(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=wi(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function k_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $e(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function N_(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=wi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var pu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,wf=new RegExp(pu.source,"g");function D_(e){return function(){return e}}function I_(e){return function(t){return e(t)+""}}function o0(e,t){var n=pu.lastIndex=wf.lastIndex=0,r,i,o,a=-1,f=[],u=[];for(e=e+"",t=t+"";(r=pu.exec(e))&&(i=wf.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,u.push({i:a,x:$e(r,i)})),n=wf.lastIndex;return n<t.length&&(o=t.slice(n),f[a]?f[a]+=o:f[++a]=o),f.length<2?u[0]?I_(u[0].x):D_(t):(t=u.length,function(s){for(var c=0,l;c<t;++c)f[(l=u[c]).i]=l.x(s);return f.join("")})}function wi(e,t){var n=typeof t,r;return t==null||n==="boolean"?ya(t):(n==="number"?$e:n==="string"?(r=kn(t))?(t=r,Nn):o0:t instanceof kn?Nn:t instanceof Date?k_:A_(t)?E_:Array.isArray(t)?C_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?N_:$e)(e,t)}function ps(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var ol=180/Math.PI,mu={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function a0(e,t,n,r,i,o){var a,f,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,u/=f),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*ol,skewX:Math.atan(u)*ol,scaleX:a,scaleY:f}}var Yi;function L_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?mu:a0(t.a,t.b,t.c,t.d,t.e,t.f)}function R_(e){return e==null||(Yi||(Yi=document.createElementNS("http://www.w3.org/2000/svg","g")),Yi.setAttribute("transform",e),!(e=Yi.transform.baseVal.consolidate()))?mu:(e=e.matrix,a0(e.a,e.b,e.c,e.d,e.e,e.f))}function f0(e,t,n,r){function i(s){return s.length?s.pop()+" ":""}function o(s,c,l,d,h,p){if(s!==l||c!==d){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:$e(s,l)},{i:m-2,x:$e(c,d)})}else(l||d)&&h.push("translate("+l+t+d+n)}function a(s,c,l,d){s!==c?(s-c>180?c+=360:c-s>180&&(s+=360),d.push({i:l.push(i(l)+"rotate(",null,r)-2,x:$e(s,c)})):c&&l.push(i(l)+"rotate("+c+r)}function f(s,c,l,d){s!==c?d.push({i:l.push(i(l)+"skewX(",null,r)-2,x:$e(s,c)}):c&&l.push(i(l)+"skewX("+c+r)}function u(s,c,l,d,h,p){if(s!==l||c!==d){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:$e(s,l)},{i:m-2,x:$e(c,d)})}else(l!==1||d!==1)&&h.push(i(h)+"scale("+l+","+d+")")}return function(s,c){var l=[],d=[];return s=e(s),c=e(c),o(s.translateX,s.translateY,c.translateX,c.translateY,l,d),a(s.rotate,c.rotate,l,d),f(s.skewX,c.skewX,l,d),u(s.scaleX,s.scaleY,c.scaleX,c.scaleY,l,d),s=c=null,function(h){for(var p=-1,m=d.length,g;++p<m;)l[(g=d[p]).i]=g.x(h);return l.join("")}}}var O_=f0(L_,"px, ","px)","deg)"),F_=f0(R_,", ",")",")");function P_(e){return function(t,n){var r=e((t=lu(t)).h,(n=lu(n)).h),i=Ae(t.s,n.s),o=Ae(t.l,n.l),a=Ae(t.opacity,n.opacity);return function(f){return t.h=r(f),t.s=i(f),t.l=o(f),t.opacity=a(f),t+""}}}const q_=P_(hs);function z_(e,t){var n=Ae((e=du(e)).l,(t=du(t)).l),r=Ae(e.a,t.a),i=Ae(e.b,t.b),o=Ae(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function B_(e){return function(t,n){var r=e((t=hu(t)).h,(n=hu(n)).h),i=Ae(t.c,n.c),o=Ae(t.l,n.l),a=Ae(t.opacity,n.opacity);return function(f){return t.h=r(f),t.c=i(f),t.l=o(f),t.opacity=a(f),t+""}}}const j_=B_(hs);function u0(e){return function t(n){n=+n;function r(i,o){var a=e((i=xt(i)).h,(o=xt(o)).h),f=Ae(i.s,o.s),u=Ae(i.l,o.l),s=Ae(i.opacity,o.opacity);return function(c){return i.h=a(c),i.s=f(c),i.l=u(Math.pow(c,n)),i.opacity=s(c),i+""}}return r.gamma=t,r}(1)}u0(hs);var ms=u0(Ae);function wa(e,t){t===void 0&&(t=e,e=wi);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function rt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var ar=0,Pr=0,Ar=0,s0=1e3,Co,qr,ko=0,Dn=0,_a=0,ri=typeof performance=="object"&&performance.now?performance:Date,c0=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function gs(){return Dn||(c0(U_),Dn=ri.now()+_a)}function U_(){Dn=0}function No(){this._call=this._time=this._next=null}No.prototype=l0.prototype={constructor:No,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?gs():+n)+(t==null?0:+t),!this._next&&qr!==this&&(qr?qr._next=this:Co=this,qr=this),this._call=e,this._time=n,gu()},stop:function(){this._call&&(this._call=null,this._time=1/0,gu())}};function l0(e,t,n){var r=new No;return r.restart(e,t,n),r}function Y_(){gs(),++ar;for(var e=Co,t;e;)(t=Dn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--ar}function al(){Dn=(ko=ri.now())+_a,ar=Pr=0;try{Y_()}finally{ar=0,H_(),Dn=0}}function G_(){var e=ri.now(),t=e-ko;t>s0&&(_a-=t,ko=e)}function H_(){for(var e,t=Co,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:Co=n);qr=e,gu(r)}function gu(e){if(!ar){Pr&&(Pr=clearTimeout(Pr));var t=e-Dn;t>24?(e<1/0&&(Pr=setTimeout(al,e-ri.now()-_a)),Ar&&(Ar=clearInterval(Ar))):(Ar||(ko=ri.now(),Ar=setInterval(G_,s0)),ar=1,c0(al))}}function fl(e,t,n){var r=new No;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var W_=Rh("start","end","cancel","interrupt"),X_=[],d0=0,ul=1,bu=2,go=3,sl=4,yu=5,bo=6;function va(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;V_(e,n,{name:t,index:r,group:i,on:W_,tween:X_,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:d0})}function bs(e,t){var n=ut(e,t);if(n.state>d0)throw new Error("too late; already scheduled");return n}function Mt(e,t){var n=ut(e,t);if(n.state>go)throw new Error("too late; already running");return n}function ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function V_(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=l0(o,0,n.time);function o(s){n.state=ul,n.timer.restart(a,n.delay,n.time),n.delay<=s&&a(s-n.delay)}function a(s){var c,l,d,h;if(n.state!==ul)return u();for(c in r)if(h=r[c],h.name===n.name){if(h.state===go)return fl(a);h.state===sl?(h.state=bo,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[c]):+c<t&&(h.state=bo,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[c])}if(fl(function(){n.state===go&&(n.state=sl,n.timer.restart(f,n.delay,n.time),f(s))}),n.state=bu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===bu){for(n.state=go,i=new Array(d=n.tween.length),c=0,l=-1;c<d;++c)(h=n.tween[c].value.call(e,e.__data__,n.index,n.group))&&(i[++l]=h);i.length=l+1}}function f(s){for(var c=s<n.duration?n.ease.call(null,s/n.duration):(n.timer.restart(u),n.state=yu,1),l=-1,d=i.length;++l<d;)i[l].call(e,c);n.state===yu&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=bo,n.timer.stop(),delete r[t];for(var s in r)return;delete e.__transition}}function Z_(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>bu&&r.state<yu,r.state=bo,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function K_(e){return this.each(function(){Z_(this,e)})}function Q_(e,t){var n,r;return function(){var i=Mt(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function J_(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Mt(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:t,value:n},u=0,s=i.length;u<s;++u)if(i[u].name===t){i[u]=f;break}u===s&&i.push(f)}o.tween=i}}function ev(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ut(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?Q_:J_)(n,e,t))}function ys(e,t,n){var r=e._id;return e.each(function(){var i=Mt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ut(i,r).value[t]}}function h0(e,t){var n;return(typeof t=="number"?$e:t instanceof kn?Nn:(n=kn(t))?(t=n,Nn):o0)(e,t)}function tv(e){return function(){this.removeAttribute(e)}}function nv(e){return function(){this.removeAttributeNS(e.space,e.local)}}function rv(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function iv(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function ov(e,t,n){var r,i,o;return function(){var a,f=n(this),u;return f==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=f+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,f)))}}function av(e,t,n){var r,i,o;return function(){var a,f=n(this),u;return f==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=f+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,f)))}}function fv(e,t){var n=ma(e),r=n==="transform"?F_:h0;return this.attrTween(e,typeof t=="function"?(n.local?av:ov)(n,r,ys(this,"attr."+e,t)):t==null?(n.local?nv:tv)(n):(n.local?iv:rv)(n,r,t))}function uv(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function sv(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function cv(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&sv(e,o)),n}return i._value=t,i}function lv(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&uv(e,o)),n}return i._value=t,i}function dv(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ma(e);return this.tween(n,(r.local?cv:lv)(r,t))}function hv(e,t){return function(){bs(this,e).delay=+t.apply(this,arguments)}}function pv(e,t){return t=+t,function(){bs(this,e).delay=t}}function mv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?hv:pv)(t,e)):ut(this.node(),t).delay}function gv(e,t){return function(){Mt(this,e).duration=+t.apply(this,arguments)}}function bv(e,t){return t=+t,function(){Mt(this,e).duration=t}}function yv(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gv:bv)(t,e)):ut(this.node(),t).duration}function wv(e,t){if(typeof t!="function")throw new Error;return function(){Mt(this,e).ease=t}}function _v(e){var t=this._id;return arguments.length?this.each(wv(t,e)):ut(this.node(),t).ease}function vv(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Mt(this,e).ease=n}}function xv(e){if(typeof e!="function")throw new Error;return this.each(vv(this._id,e))}function Tv(e){typeof e!="function"&&(e=Fh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,f=r[i]=[],u,s=0;s<a;++s)(u=o[s])&&e.call(u,u.__data__,s,o)&&f.push(u);return new Ut(r,this._parents,this._name,this._id)}function Sv(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var u=t[f],s=n[f],c=u.length,l=a[f]=new Array(c),d,h=0;h<c;++h)(d=u[h]||s[h])&&(l[h]=d);for(;f<r;++f)a[f]=t[f];return new Ut(a,this._parents,this._name,this._id)}function Mv(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function $v(e,t,n){var r,i,o=Mv(t)?bs:Mt;return function(){var a=o(this,e),f=a.on;f!==r&&(i=(r=f).copy()).on(t,n),a.on=i}}function Ev(e,t){var n=this._id;return arguments.length<2?ut(this.node(),n).on.on(e):this.each($v(n,e,t))}function Av(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Cv(){return this.on("end.remove",Av(this._id))}function kv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=us(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],u=f.length,s=o[a]=new Array(u),c,l,d=0;d<u;++d)(c=f[d])&&(l=e.call(c,c.__data__,d,f))&&("__data__"in c&&(l.__data__=c.__data__),s[d]=l,va(s[d],t,n,d,s,ut(c,n)));return new Ut(o,this._parents,t,n)}function Nv(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Oh(e));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var u=r[f],s=u.length,c,l=0;l<s;++l)if(c=u[l]){for(var d=e.call(c,c.__data__,l,u),h,p=ut(c,n),m=0,g=d.length;m<g;++m)(h=d[m])&&va(h,t,n,m,d,p);o.push(d),a.push(c)}return new Ut(o,a,t,n)}var Dv=bi.prototype.constructor;function Iv(){return new Dv(this._groups,this._parents)}function Lv(e,t){var n,r,i;return function(){var o=ir(this,e),a=(this.style.removeProperty(e),ir(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function p0(e){return function(){this.style.removeProperty(e)}}function Rv(e,t,n){var r,i=n+"",o;return function(){var a=ir(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function Ov(e,t,n){var r,i,o;return function(){var a=ir(this,e),f=n(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(e),ir(this,e))),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,f))}}function Fv(e,t){var n,r,i,o="style."+t,a="end."+o,f;return function(){var u=Mt(this,e),s=u.on,c=u.value[o]==null?f||(f=p0(t)):void 0;(s!==n||i!==c)&&(r=(n=s).copy()).on(a,i=c),u.on=r}}function Pv(e,t,n){var r=(e+="")=="transform"?O_:h0;return t==null?this.styleTween(e,Lv(e,r)).on("end.style."+e,p0(e)):typeof t=="function"?this.styleTween(e,Ov(e,r,ys(this,"style."+e,t))).each(Fv(this._id,e)):this.styleTween(e,Rv(e,r,t),n).on("end.style."+e,null)}function qv(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function zv(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&qv(e,a,n)),r}return o._value=t,o}function Bv(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,zv(e,t,n??""))}function jv(e){return function(){this.textContent=e}}function Uv(e){return function(){var t=e(this);this.textContent=t??""}}function Yv(e){return this.tween("text",typeof e=="function"?Uv(ys(this,"text",e)):jv(e==null?"":e+""))}function Gv(e){return function(t){this.textContent=e.call(this,t)}}function Hv(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Gv(i)),t}return r._value=e,r}function Wv(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Hv(e))}function Xv(){for(var e=this._name,t=this._id,n=m0(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,u,s=0;s<f;++s)if(u=a[s]){var c=ut(u,t);va(u,e,n,s,a,{time:c.time+c.delay+c.duration,delay:0,duration:c.duration,ease:c.ease})}return new Ut(r,this._parents,e,n)}function Vv(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var f={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var s=Mt(this,r),c=s.on;c!==e&&(t=(e=c).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(u)),s.on=t}),i===0&&o()})}var Zv=0;function Ut(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function m0(){return++Zv}var At=bi.prototype;Ut.prototype={constructor:Ut,select:kv,selectAll:Nv,selectChild:At.selectChild,selectChildren:At.selectChildren,filter:Tv,merge:Sv,selection:Iv,transition:Xv,call:At.call,nodes:At.nodes,node:At.node,size:At.size,empty:At.empty,each:At.each,on:Ev,attr:fv,attrTween:dv,style:Pv,styleTween:Bv,text:Yv,textTween:Wv,remove:Cv,tween:ev,delay:mv,duration:yv,ease:_v,easeVarying:xv,end:Vv,[Symbol.iterator]:At[Symbol.iterator]};function Kv(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var Qv={time:null,delay:0,duration:250,ease:Kv};function Jv(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function e6(e){var t,n;e instanceof Ut?(t=e._id,e=e._name):(t=m0(),(n=Qv).time=gs(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,u,s=0;s<f;++s)(u=a[s])&&va(u,e,t,s,a,n||Jv(u,t));return new Ut(r,this._parents,e,t)}bi.prototype.interrupt=K_;bi.prototype.transition=e6;const wu=Math.PI,_u=2*wu,vn=1e-6,t6=_u-vn;function g0(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function n6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return g0;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class b0{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?g0:n6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,u=r-t,s=i-n,c=a-t,l=f-n,d=c*c+l*l;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(d>vn)if(!(Math.abs(l*u-s*c)>vn)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,p=i-f,m=u*u+s*s,g=h*h+p*p,y=Math.sqrt(m),b=Math.sqrt(d),_=o*Math.tan((wu-Math.acos((m+d-g)/(2*y*b)))/2),w=_/b,S=_/y;Math.abs(w-1)>vn&&this._append`L${t+w*c},${n+w*l}`,this._append`A${o},${o},0,0,${+(l*h>c*p)},${this._x1=t+S*u},${this._y1=n+S*s}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),u=r*Math.sin(i),s=t+f,c=n+u,l=1^a,d=a?i-o:o-i;this._x1===null?this._append`M${s},${c}`:(Math.abs(this._x1-s)>vn||Math.abs(this._y1-c)>vn)&&this._append`L${s},${c}`,r&&(d<0&&(d=d%_u+_u),d>t6?this._append`A${r},${r},0,1,${l},${t-f},${n-u}A${r},${r},0,1,${l},${this._x1=s},${this._y1=c}`:d>vn&&this._append`A${r},${r},0,${+(d>=wu)},${l},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function vu(e=3){return new b0(+e)}function r6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function Do(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function fr(e){return e=Do(Math.abs(e)),e?e[1]:NaN}function i6(e,t){return function(n,r){for(var i=n.length,o=[],a=0,f=e[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),o.push(n.substring(i-=f,i+f)),!((u+=f+1)>r));)f=e[a=(a+1)%e.length];return o.reverse().join(t)}}function o6(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var a6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ii(e){if(!(t=a6.exec(e)))throw new Error("invalid format: "+e);var t;return new ws({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ii.prototype=ws.prototype;function ws(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}ws.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function f6(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var y0;function u6(e,t){var n=Do(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(y0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+Do(e,Math.max(0,t+o-1))[0]}function cl(e,t){var n=Do(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const ll={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:r6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>cl(e*100,t),r:cl,s:u6,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function dl(e){return e}var hl=Array.prototype.map,pl=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function s6(e){var t=e.grouping===void 0||e.thousands===void 0?dl:i6(hl.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?dl:o6(hl.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"−":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function s(l){l=ii(l);var d=l.fill,h=l.align,p=l.sign,m=l.symbol,g=l.zero,y=l.width,b=l.comma,_=l.precision,w=l.trim,S=l.type;S==="n"?(b=!0,S="g"):ll[S]||(_===void 0&&(_=12),w=!0,S="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var M=m==="$"?n:m==="#"&&/[boxX]/.test(S)?"0"+S.toLowerCase():"",A=m==="$"?r:/[%p]/.test(S)?a:"",C=ll[S],k=/[defgprs%]/.test(S);_=_===void 0?6:/[gprs]/.test(S)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R($){var T=M,v=A,E,x,N;if(S==="c")v=C($)+v,$="";else{$=+$;var D=$<0||1/$<0;if($=isNaN($)?u:C(Math.abs($),_),w&&($=f6($)),D&&+$==0&&p!=="+"&&(D=!1),T=(D?p==="("?p:f:p==="-"||p==="("?"":p)+T,v=(S==="s"?pl[8+y0/3]:"")+v+(D&&p==="("?")":""),k){for(E=-1,x=$.length;++E<x;)if(N=$.charCodeAt(E),48>N||N>57){v=(N===46?i+$.slice(E+1):$.slice(E))+v,$=$.slice(0,E);break}}}b&&!g&&($=t($,1/0));var B=T.length+$.length+v.length,U=B<y?new Array(y-B+1).join(d):"";switch(b&&g&&($=t(U+$,U.length?y-v.length:1/0),U=""),h){case"<":$=T+$+v+U;break;case"=":$=T+U+$+v;break;case"^":$=U.slice(0,B=U.length>>1)+T+$+v+U.slice(B);break;default:$=U+T+$+v;break}return o($)}return R.toString=function(){return l+""},R}function c(l,d){var h=s((l=ii(l),l.type="f",l)),p=Math.max(-8,Math.min(8,Math.floor(fr(d)/3)))*3,m=Math.pow(10,-p),g=pl[8+p/3];return function(y){return h(m*y)+g}}return{format:s,formatPrefix:c}}var Gi,vr,w0;c6({thousands:",",grouping:[3],currency:["$",""]});function c6(e){return Gi=s6(e),vr=Gi.format,w0=Gi.formatPrefix,Gi}function l6(e){return Math.max(0,-fr(Math.abs(e)))}function d6(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(fr(t)/3)))*3-fr(Math.abs(e)))}function h6(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,fr(t)-fr(e))+1}var ee=1e-6,_0=1e-12,ne=Math.PI,he=ne/2,ml=ne/4,Be=ne*2,Ne=180/ne,de=ne/180,ue=Math.abs,xr=Math.atan,Yt=Math.atan2,te=Math.cos,v0=Math.exp,Io=Math.log,_f=Math.pow,Q=Math.sin,He=Math.sign||function(e){return e>0?1:e<0?-1:0},Re=Math.sqrt,_s=Math.tan;function x0(e){return e>1?0:e<-1?ne:Math.acos(e)}function Ze(e){return e>1?he:e<-1?-he:Math.asin(e)}function We(){}function Lo(e,t){e&&bl.hasOwnProperty(e.type)&&bl[e.type](e,t)}var gl={Feature:function(e,t){Lo(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Lo(n[r].geometry,t)}},bl={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){xu(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)xu(n[r],t,0)},Polygon:function(e,t){yl(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)yl(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Lo(n[r],t)}};function xu(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function yl(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)xu(e[n],t,1);t.polygonEnd()}function xn(e,t){e&&gl.hasOwnProperty(e.type)?gl[e.type](e,t):Lo(e,t)}function Tu(e){return[Yt(e[1],e[0]),Ze(e[2])]}function ur(e){var t=e[0],n=e[1],r=te(n);return[r*te(t),r*Q(t),Q(n)]}function Hi(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ro(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function vf(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Wi(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Su(e){var t=Re(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Mu(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function $u(e,t){return ue(e)>ne&&(e-=Math.round(e/Be)*Be),[e,t]}$u.invert=$u;function T0(e,t,n){return(e%=Be)?t||n?Mu(_l(e),vl(t,n)):_l(e):t||n?vl(t,n):$u}function wl(e){return function(t,n){return t+=e,ue(t)>ne&&(t-=Math.round(t/Be)*Be),[t,n]}}function _l(e){var t=wl(e);return t.invert=wl(-e),t}function vl(e,t){var n=te(e),r=Q(e),i=te(t),o=Q(t);function a(f,u){var s=te(u),c=te(f)*s,l=Q(f)*s,d=Q(u),h=d*n+c*r;return[Yt(l*i-h*o,c*n-d*r),Ze(h*i+l*o)]}return a.invert=function(f,u){var s=te(u),c=te(f)*s,l=Q(f)*s,d=Q(u),h=d*i-l*o;return[Yt(l*i+d*o,c*n+h*r),Ze(h*n-c*r)]},a}function p6(e){e=T0(e[0]*de,e[1]*de,e.length>2?e[2]*de:0);function t(n){return n=e(n[0]*de,n[1]*de),n[0]*=Ne,n[1]*=Ne,n}return t.invert=function(n){return n=e.invert(n[0]*de,n[1]*de),n[0]*=Ne,n[1]*=Ne,n},t}function m6(e,t,n,r,i,o){if(n){var a=te(t),f=Q(t),u=r*n;i==null?(i=t+r*Be,o=t-u/2):(i=xl(a,i),o=xl(a,o),(r>0?i<o:i>o)&&(i+=r*Be));for(var s,c=i;r>0?c>o:c<o;c-=u)s=Tu([a,-f*te(c),-f*Q(c)]),e.point(s[0],s[1])}}function xl(e,t){t=ur(t),t[0]-=e,Su(t);var n=x0(-t[1]);return((-t[2]<0?-n:n)+Be-ee)%Be}function S0(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:We,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function yo(e,t){return ue(e[0]-t[0])<ee&&ue(e[1]-t[1])<ee}function Xi(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function M0(e,t,n,r,i){var o=[],a=[],f,u;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],b;if(yo(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),f=0;f<m;++f)i.point((g=p[f])[0],g[1]);i.lineEnd();return}y[0]+=2*ee}o.push(b=new Xi(g,p,null,!0)),a.push(b.o=new Xi(g,null,b,!1)),o.push(b=new Xi(y,p,null,!1)),a.push(b.o=new Xi(y,null,b,!0))}}),!!o.length){for(a.sort(t),Tl(o),Tl(a),f=0,u=a.length;f<u;++f)a[f].e=n=!n;for(var s=o[0],c,l;;){for(var d=s,h=!0;d.v;)if((d=d.n)===s)return;c=d.z,i.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(f=0,u=c.length;f<u;++f)i.point((l=c[f])[0],l[1]);else r(d.x,d.n.x,1,i);d=d.n}else{if(h)for(c=d.p.z,f=c.length-1;f>=0;--f)i.point((l=c[f])[0],l[1]);else r(d.x,d.p.x,-1,i);d=d.p}d=d.o,c=d.z,h=!h}while(!d.v);i.lineEnd()}}}function Tl(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function xf(e){return ue(e[0])<=ne?e[0]:He(e[0])*((ue(e[0])+ne)%Be-ne)}function g6(e,t){var n=xf(t),r=t[1],i=Q(r),o=[Q(n),-te(n),0],a=0,f=0,u=new En;i===1?r=he+ee:i===-1&&(r=-he-ee);for(var s=0,c=e.length;s<c;++s)if(d=(l=e[s]).length)for(var l,d,h=l[d-1],p=xf(h),m=h[1]/2+ml,g=Q(m),y=te(m),b=0;b<d;++b,p=w,g=M,y=A,h=_){var _=l[b],w=xf(_),S=_[1]/2+ml,M=Q(S),A=te(S),C=w-p,k=C>=0?1:-1,R=k*C,$=R>ne,T=g*M;if(u.add(Yt(T*k*Q(R),y*A+T*te(R))),a+=$?C+k*Be:C,$^p>=n^w>=n){var v=Ro(ur(h),ur(_));Su(v);var E=Ro(o,v);Su(E);var x=($^C>=0?-1:1)*Ze(E[2]);(r>x||r===x&&(v[0]||v[1]))&&(f+=$^C>=0?1:-1)}}return(a<-ee||a<ee&&u<-_0)^f&1}function $0(e,t,n,r){return function(i){var o=t(i),a=S0(),f=t(a),u=!1,s,c,l,d={point:h,lineStart:m,lineEnd:g,polygonStart:function(){d.point=y,d.lineStart=b,d.lineEnd=_,c=[],s=[]},polygonEnd:function(){d.point=h,d.lineStart=m,d.lineEnd=g,c=Lh(c);var w=g6(s,r);c.length?(u||(i.polygonStart(),u=!0),M0(c,y6,w,n,i)):w&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),c=s=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(w,S){e(w,S)&&i.point(w,S)}function p(w,S){o.point(w,S)}function m(){d.point=p,o.lineStart()}function g(){d.point=h,o.lineEnd()}function y(w,S){l.push([w,S]),f.point(w,S)}function b(){f.lineStart(),l=[]}function _(){y(l[0][0],l[0][1]),f.lineEnd();var w=f.clean(),S=a.result(),M,A=S.length,C,k,R;if(l.pop(),s.push(l),l=null,!!A){if(w&1){if(k=S[0],(C=k.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),M=0;M<C;++M)i.point((R=k[M])[0],R[1]);i.lineEnd()}return}A>1&&w&2&&S.push(S.pop().concat(S.shift())),c.push(S.filter(b6))}}return d}}function b6(e){return e.length>1}function y6(e,t){return((e=e.x)[0]<0?e[1]-he-ee:he-e[1])-((t=t.x)[0]<0?t[1]-he-ee:he-t[1])}const Sl=$0(function(){return!0},w6,v6,[-ne,-he]);function w6(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var f=o>0?ne:-ne,u=ue(o-t);ue(u-ne)<ee?(e.point(t,n=(n+a)/2>0?he:-he),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),e.point(o,n),i=0):r!==f&&u>=ne&&(ue(t-r)<ee&&(t-=r*ee),ue(o-f)<ee&&(o-=f*ee),n=_6(t,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),i=0),e.point(t=o,n=a),r=f},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function _6(e,t,n,r){var i,o,a=Q(e-n);return ue(a)>ee?xr((Q(t)*(o=te(r))*Q(n)-Q(r)*(i=te(t))*Q(e))/(i*o*a)):(t+r)/2}function v6(e,t,n,r){var i;if(e==null)i=n*he,r.point(-ne,i),r.point(0,i),r.point(ne,i),r.point(ne,0),r.point(ne,-i),r.point(0,-i),r.point(-ne,-i),r.point(-ne,0),r.point(-ne,i);else if(ue(e[0]-t[0])>ee){var o=e[0]<t[0]?ne:-ne;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function x6(e){var t=te(e),n=2*de,r=t>0,i=ue(t)>ee;function o(c,l,d,h){m6(h,e,n,d,c,l)}function a(c,l){return te(c)*te(l)>t}function f(c){var l,d,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var b=[g,y],_,w=a(g,y),S=r?w?0:s(g,y):w?s(g+(g<0?ne:-ne),y):0;if(!l&&(p=h=w)&&c.lineStart(),w!==h&&(_=u(l,b),(!_||yo(l,_)||yo(b,_))&&(b[2]=1)),w!==h)m=0,w?(c.lineStart(),_=u(b,l),c.point(_[0],_[1])):(_=u(l,b),c.point(_[0],_[1],2),c.lineEnd()),l=_;else if(i&&l&&r^w){var M;!(S&d)&&(M=u(b,l,!0))&&(m=0,r?(c.lineStart(),c.point(M[0][0],M[0][1]),c.point(M[1][0],M[1][1]),c.lineEnd()):(c.point(M[1][0],M[1][1]),c.lineEnd(),c.lineStart(),c.point(M[0][0],M[0][1],3)))}w&&(!l||!yo(l,b))&&c.point(b[0],b[1]),l=b,h=w,d=S},lineEnd:function(){h&&c.lineEnd(),l=null},clean:function(){return m|(p&&h)<<1}}}function u(c,l,d){var h=ur(c),p=ur(l),m=[1,0,0],g=Ro(h,p),y=Hi(g,g),b=g[0],_=y-b*b;if(!_)return!d&&c;var w=t*y/_,S=-t*b/_,M=Ro(m,g),A=Wi(m,w),C=Wi(g,S);vf(A,C);var k=M,R=Hi(A,k),$=Hi(k,k),T=R*R-$*(Hi(A,A)-1);if(!(T<0)){var v=Re(T),E=Wi(k,(-R-v)/$);if(vf(E,A),E=Tu(E),!d)return E;var x=c[0],N=l[0],D=c[1],B=l[1],U;N<x&&(U=x,x=N,N=U);var O=N-x,q=ue(O-ne)<ee,F=q||O<ee;if(!q&&B<D&&(U=D,D=B,B=U),F?q?D+B>0^E[1]<(ue(E[0]-x)<ee?D:B):D<=E[1]&&E[1]<=B:O>ne^(x<=E[0]&&E[0]<=N)){var P=Wi(k,(-R+v)/$);return vf(P,A),[E,Tu(P)]}}}function s(c,l){var d=r?e:ne-e,h=0;return c<-d?h|=1:c>d&&(h|=2),l<-d?h|=4:l>d&&(h|=8),h}return $0(a,f,o,r?[0,-e]:[-ne,e-ne])}function T6(e,t,n,r,i,o){var a=e[0],f=e[1],u=t[0],s=t[1],c=0,l=1,d=u-a,h=s-f,p;if(p=n-a,!(!d&&p>0)){if(p/=d,d<0){if(p<c)return;p<l&&(l=p)}else if(d>0){if(p>l)return;p>c&&(c=p)}if(p=i-a,!(!d&&p<0)){if(p/=d,d<0){if(p>l)return;p>c&&(c=p)}else if(d>0){if(p<c)return;p<l&&(l=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<c)return;p<l&&(l=p)}else if(h>0){if(p>l)return;p>c&&(c=p)}if(p=o-f,!(!h&&p<0)){if(p/=h,h<0){if(p>l)return;p>c&&(c=p)}else if(h>0){if(p<c)return;p<l&&(l=p)}return c>0&&(e[0]=a+c*d,e[1]=f+c*h),l<1&&(t[0]=a+l*d,t[1]=f+l*h),!0}}}}}var zr=1e9,Vi=-zr;function E0(e,t,n,r){function i(s,c){return e<=s&&s<=n&&t<=c&&c<=r}function o(s,c,l,d){var h=0,p=0;if(s==null||(h=a(s,l))!==(p=a(c,l))||u(s,c)<0^l>0)do d.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+l+4)%4)!==p);else d.point(c[0],c[1])}function a(s,c){return ue(s[0]-e)<ee?c>0?0:3:ue(s[0]-n)<ee?c>0?2:1:ue(s[1]-t)<ee?c>0?1:0:c>0?3:2}function f(s,c){return u(s.x,c.x)}function u(s,c){var l=a(s,1),d=a(c,1);return l!==d?l-d:l===0?c[1]-s[1]:l===1?s[0]-c[0]:l===2?s[1]-c[1]:c[0]-s[0]}return function(s){var c=s,l=S0(),d,h,p,m,g,y,b,_,w,S,M,A={point:C,lineStart:T,lineEnd:v,polygonStart:R,polygonEnd:$};function C(x,N){i(x,N)&&c.point(x,N)}function k(){for(var x=0,N=0,D=h.length;N<D;++N)for(var B=h[N],U=1,O=B.length,q=B[0],F,P,V=q[0],Z=q[1];U<O;++U)F=V,P=Z,q=B[U],V=q[0],Z=q[1],P<=r?Z>r&&(V-F)*(r-P)>(Z-P)*(e-F)&&++x:Z<=r&&(V-F)*(r-P)<(Z-P)*(e-F)&&--x;return x}function R(){c=l,d=[],h=[],M=!0}function $(){var x=k(),N=M&&x,D=(d=Lh(d)).length;(N||D)&&(s.polygonStart(),N&&(s.lineStart(),o(null,null,1,s),s.lineEnd()),D&&M0(d,f,x,o,s),s.polygonEnd()),c=s,d=h=p=null}function T(){A.point=E,h&&h.push(p=[]),S=!0,w=!1,b=_=NaN}function v(){d&&(E(m,g),y&&w&&l.rejoin(),d.push(l.result())),A.point=C,w&&c.lineEnd()}function E(x,N){var D=i(x,N);if(h&&p.push([x,N]),S)m=x,g=N,y=D,S=!1,D&&(c.lineStart(),c.point(x,N));else if(D&&w)c.point(x,N);else{var B=[b=Math.max(Vi,Math.min(zr,b)),_=Math.max(Vi,Math.min(zr,_))],U=[x=Math.max(Vi,Math.min(zr,x)),N=Math.max(Vi,Math.min(zr,N))];T6(B,U,e,t,n,r)?(w||(c.lineStart(),c.point(B[0],B[1])),c.point(U[0],U[1]),D||c.lineEnd(),M=!1):D&&(c.lineStart(),c.point(x,N),M=!1)}b=x,_=N,w=D}return A}}const Eu=e=>e;var Tf=new En,Au=new En,A0,C0,Cu,ku,Ot={point:We,lineStart:We,lineEnd:We,polygonStart:function(){Ot.lineStart=S6,Ot.lineEnd=$6},polygonEnd:function(){Ot.lineStart=Ot.lineEnd=Ot.point=We,Tf.add(ue(Au)),Au=new En},result:function(){var e=Tf/2;return Tf=new En,e}};function S6(){Ot.point=M6}function M6(e,t){Ot.point=k0,A0=Cu=e,C0=ku=t}function k0(e,t){Au.add(ku*e-Cu*t),Cu=e,ku=t}function $6(){k0(A0,C0)}var sr=1/0,Oo=sr,oi=-sr,Fo=oi,Po={point:E6,lineStart:We,lineEnd:We,polygonStart:We,polygonEnd:We,result:function(){var e=[[sr,Oo],[oi,Fo]];return oi=Fo=-(Oo=sr=1/0),e}};function E6(e,t){e<sr&&(sr=e),e>oi&&(oi=e),t<Oo&&(Oo=t),t>Fo&&(Fo=t)}var Nu=0,Du=0,Br=0,qo=0,zo=0,Xn=0,Iu=0,Lu=0,jr=0,N0,D0,mt,gt,Ye={point:In,lineStart:Ml,lineEnd:$l,polygonStart:function(){Ye.lineStart=k6,Ye.lineEnd=N6},polygonEnd:function(){Ye.point=In,Ye.lineStart=Ml,Ye.lineEnd=$l},result:function(){var e=jr?[Iu/jr,Lu/jr]:Xn?[qo/Xn,zo/Xn]:Br?[Nu/Br,Du/Br]:[NaN,NaN];return Nu=Du=Br=qo=zo=Xn=Iu=Lu=jr=0,e}};function In(e,t){Nu+=e,Du+=t,++Br}function Ml(){Ye.point=A6}function A6(e,t){Ye.point=C6,In(mt=e,gt=t)}function C6(e,t){var n=e-mt,r=t-gt,i=Re(n*n+r*r);qo+=i*(mt+e)/2,zo+=i*(gt+t)/2,Xn+=i,In(mt=e,gt=t)}function $l(){Ye.point=In}function k6(){Ye.point=D6}function N6(){I0(N0,D0)}function D6(e,t){Ye.point=I0,In(N0=mt=e,D0=gt=t)}function I0(e,t){var n=e-mt,r=t-gt,i=Re(n*n+r*r);qo+=i*(mt+e)/2,zo+=i*(gt+t)/2,Xn+=i,i=gt*e-mt*t,Iu+=i*(mt+e),Lu+=i*(gt+t),jr+=i*3,In(mt=e,gt=t)}function L0(e){this._context=e}L0.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Be);break}}},result:We};var Ru=new En,Sf,R0,O0,Ur,Yr,ai={point:We,lineStart:function(){ai.point=I6},lineEnd:function(){Sf&&F0(R0,O0),ai.point=We},polygonStart:function(){Sf=!0},polygonEnd:function(){Sf=null},result:function(){var e=+Ru;return Ru=new En,e}};function I6(e,t){ai.point=F0,R0=Ur=e,O0=Yr=t}function F0(e,t){Ur-=e,Yr-=t,Ru.add(Re(Ur*Ur+Yr*Yr)),Ur=e,Yr=t}let El,Bo,Al,Cl;class kl{constructor(t){this._append=t==null?P0:L6(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==Al||this._append!==Bo){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,Al=r,Bo=this._append,Cl=this._,this._=i}this._+=Cl;break}}}result(){const t=this._;return this._="",t.length?t:null}}function P0(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function L6(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return P0;if(t!==El){const n=10**t;El=t,Bo=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Bo}function xa(e,t){let n=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),xn(f,i(o))),o.result()}return a.area=function(f){return xn(f,i(Ot)),Ot.result()},a.measure=function(f){return xn(f,i(ai)),ai.result()},a.bounds=function(f){return xn(f,i(Po)),Po.result()},a.centroid=function(f){return xn(f,i(Ye)),Ye.result()},a.projection=function(f){return arguments.length?(i=f==null?(e=null,Eu):(e=f).stream,a):e},a.context=function(f){return arguments.length?(o=f==null?(t=null,new kl(n)):new L0(t=f),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);n=u}return t===null&&(o=new kl(n)),a},a.projection(e).digits(n).context(t)}function Ou(e){return{stream:Ta(e)}}function Ta(e){return function(t){var n=new Fu;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Fu(){}Fu.prototype={constructor:Fu,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function vs(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),xn(n,e.stream(Po)),t(Po.result()),r!=null&&e.clipExtent(r),e}function xs(e,t,n){return vs(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([f,u])},n)}function q0(e,t,n){return xs(e,[[0,0],t],n)}function z0(e,t,n){return vs(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];e.scale(150*o).translate([a,f])},n)}function B0(e,t,n){return vs(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,f])},n)}var Nl=16,R6=te(30*de);function Dl(e,t){return+t?F6(e,t):O6(e)}function O6(e){return Ta({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function F6(e,t){function n(r,i,o,a,f,u,s,c,l,d,h,p,m,g){var y=s-r,b=c-i,_=y*y+b*b;if(_>4*t&&m--){var w=a+d,S=f+h,M=u+p,A=Re(w*w+S*S+M*M),C=Ze(M/=A),k=ue(ue(M)-1)<ee||ue(o-l)<ee?(o+l)/2:Yt(S,w),R=e(k,C),$=R[0],T=R[1],v=$-r,E=T-i,x=b*v-y*E;(x*x/_>t||ue((y*v+b*E)/_-.5)>.3||a*d+f*h+u*p<R6)&&(n(r,i,o,a,f,u,$,T,k,w/=A,S/=A,M,m,g),g.point($,T),n($,T,k,w,S,M,s,c,l,d,h,p,m,g))}}return function(r){var i,o,a,f,u,s,c,l,d,h,p,m,g={point:y,lineStart:b,lineEnd:w,polygonStart:function(){r.polygonStart(),g.lineStart=S},polygonEnd:function(){r.polygonEnd(),g.lineStart=b}};function y(C,k){C=e(C,k),r.point(C[0],C[1])}function b(){l=NaN,g.point=_,r.lineStart()}function _(C,k){var R=ur([C,k]),$=e(C,k);n(l,d,c,h,p,m,l=$[0],d=$[1],c=C,h=R[0],p=R[1],m=R[2],Nl,r),r.point(l,d)}function w(){g.point=y,r.lineEnd()}function S(){b(),g.point=M,g.lineEnd=A}function M(C,k){_(i=C,k),o=l,a=d,f=h,u=p,s=m,g.point=_}function A(){n(l,d,c,h,p,m,o,a,i,f,u,s,Nl,r),g.lineEnd=w,w()}return g}}var P6=Ta({point:function(e,t){this.stream.point(e*de,t*de)}});function q6(e){return Ta({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function z6(e,t,n,r,i){function o(a,f){return a*=r,f*=i,[t+e*a,n-e*f]}return o.invert=function(a,f){return[(a-t)/e*r,(n-f)/e*i]},o}function Il(e,t,n,r,i,o){if(!o)return z6(e,t,n,r,i);var a=te(o),f=Q(o),u=a*e,s=f*e,c=a/e,l=f/e,d=(f*n-a*t)/e,h=(f*t+a*n)/e;function p(m,g){return m*=r,g*=i,[u*m-s*g+t,n-s*m-u*g]}return p.invert=function(m,g){return[r*(c*m-l*g+d),i*(h-l*m-c*g)]},p}function ln(e){return j0(function(){return e})()}function j0(e){var t,n=150,r=480,i=250,o=0,a=0,f=0,u=0,s=0,c,l=0,d=1,h=1,p=null,m=Sl,g=null,y,b,_,w=Eu,S=.5,M,A,C,k,R;function $(x){return C(x[0]*de,x[1]*de)}function T(x){return x=C.invert(x[0],x[1]),x&&[x[0]*Ne,x[1]*Ne]}$.stream=function(x){return k&&R===x?k:k=P6(q6(c)(m(M(w(R=x)))))},$.preclip=function(x){return arguments.length?(m=x,p=void 0,E()):m},$.postclip=function(x){return arguments.length?(w=x,g=y=b=_=null,E()):w},$.clipAngle=function(x){return arguments.length?(m=+x?x6(p=x*de):(p=null,Sl),E()):p*Ne},$.clipExtent=function(x){return arguments.length?(w=x==null?(g=y=b=_=null,Eu):E0(g=+x[0][0],y=+x[0][1],b=+x[1][0],_=+x[1][1]),E()):g==null?null:[[g,y],[b,_]]},$.scale=function(x){return arguments.length?(n=+x,v()):n},$.translate=function(x){return arguments.length?(r=+x[0],i=+x[1],v()):[r,i]},$.center=function(x){return arguments.length?(o=x[0]%360*de,a=x[1]%360*de,v()):[o*Ne,a*Ne]},$.rotate=function(x){return arguments.length?(f=x[0]%360*de,u=x[1]%360*de,s=x.length>2?x[2]%360*de:0,v()):[f*Ne,u*Ne,s*Ne]},$.angle=function(x){return arguments.length?(l=x%360*de,v()):l*Ne},$.reflectX=function(x){return arguments.length?(d=x?-1:1,v()):d<0},$.reflectY=function(x){return arguments.length?(h=x?-1:1,v()):h<0},$.precision=function(x){return arguments.length?(M=Dl(A,S=x*x),E()):Re(S)},$.fitExtent=function(x,N){return xs($,x,N)},$.fitSize=function(x,N){return q0($,x,N)},$.fitWidth=function(x,N){return z0($,x,N)},$.fitHeight=function(x,N){return B0($,x,N)};function v(){var x=Il(n,0,0,d,h,l).apply(null,t(o,a)),N=Il(n,r-x[0],i-x[1],d,h,l);return c=T0(f,u,s),A=Mu(t,N),C=Mu(c,A),M=Dl(A,S),E()}function E(){return k=R=null,$}return function(){return t=e.apply(this,arguments),$.invert=t.invert&&T,v()}}function Ts(e){var t=0,n=ne/3,r=j0(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*de,n=o[1]*de):[t*Ne,n*Ne]},i}function B6(e){var t=te(e);function n(r,i){return[r*t,Q(i)/t]}return n.invert=function(r,i){return[r/t,Ze(i*t)]},n}function j6(e,t){var n=Q(e),r=(n+Q(t))/2;if(ue(r)<ee)return B6(e);var i=1+n*(2*r-n),o=Re(i)/r;function a(f,u){var s=Re(i-2*r*Q(u))/r;return[s*Q(f*=r),o-s*te(f)]}return a.invert=function(f,u){var s=o-u,c=Yt(f,ue(s))*He(s);return s*r<0&&(c-=ne*He(f)*He(s)),[c/r,Ze((i-(f*f+s*s)*r*r)/(2*r))]},a}function jo(){return Ts(j6).scale(155.424).center([0,33.6442])}function U0(){return jo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function U6(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function Y6(){var e,t,n=U0(),r,i=jo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=jo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,s={point:function(d,h){u=[d,h]}};function c(d){var h=d[0],p=d[1];return u=null,r.point(h,p),u||(o.point(h,p),u)||(f.point(h,p),u)}c.invert=function(d){var h=n.scale(),p=n.translate(),m=(d[0]-p[0])/h,g=(d[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?a:n).invert(d)},c.stream=function(d){return e&&t===d?e:e=U6([n.stream(t=d),i.stream(d),a.stream(d)])},c.precision=function(d){return arguments.length?(n.precision(d),i.precision(d),a.precision(d),l()):n.precision()},c.scale=function(d){return arguments.length?(n.scale(d),i.scale(d*.35),a.scale(d),c.translate(n.translate())):n.scale()},c.translate=function(d){if(!arguments.length)return n.translate();var h=n.scale(),p=+d[0],m=+d[1];return r=n.translate(d).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(s),o=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+ee,m+.12*h+ee],[p-.214*h-ee,m+.234*h-ee]]).stream(s),f=a.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+ee,m+.166*h+ee],[p-.115*h-ee,m+.234*h-ee]]).stream(s),l()},c.fitExtent=function(d,h){return xs(c,d,h)},c.fitSize=function(d,h){return q0(c,d,h)},c.fitWidth=function(d,h){return z0(c,d,h)},c.fitHeight=function(d,h){return B0(c,d,h)};function l(){return e=t=null,c}return c.scale(1070)}function Y0(e){return function(t,n){var r=te(t),i=te(n),o=e(r*i);return o===1/0?[2,0]:[o*i*Q(t),o*Q(n)]}}function _i(e){return function(t,n){var r=Re(t*t+n*n),i=e(r),o=Q(i),a=te(i);return[Yt(t*o,r*a),Ze(r&&n*o/r)]}}var G0=Y0(function(e){return Re(2/(1+e))});G0.invert=_i(function(e){return 2*Ze(e/2)});function G6(){return ln(G0).scale(124.75).clipAngle(180-.001)}var H0=Y0(function(e){return(e=x0(e))&&e/Q(e)});H0.invert=_i(function(e){return e});function H6(){return ln(H0).scale(79.4188).clipAngle(180-.001)}function Sa(e,t){return[e,Io(_s((he+t)/2))]}Sa.invert=function(e,t){return[e,2*xr(v0(t))-he]};function W6(){return W0(Sa).scale(961/Be)}function W0(e){var t=ln(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,a=null,f,u,s;t.scale=function(l){return arguments.length?(r(l),c()):r()},t.translate=function(l){return arguments.length?(i(l),c()):i()},t.center=function(l){return arguments.length?(n(l),c()):n()},t.clipExtent=function(l){return arguments.length?(l==null?a=f=u=s=null:(a=+l[0][0],f=+l[0][1],u=+l[1][0],s=+l[1][1]),c()):a==null?null:[[a,f],[u,s]]};function c(){var l=ne*r(),d=t(p6(t.rotate()).invert([0,0]));return o(a==null?[[d[0]-l,d[1]-l],[d[0]+l,d[1]+l]]:e===Sa?[[Math.max(d[0]-l,a),f],[Math.min(d[0]+l,u),s]]:[[a,Math.max(d[1]-l,f)],[u,Math.min(d[1]+l,s)]])}return c()}function Zi(e){return _s((he+e)/2)}function X6(e,t){var n=te(e),r=e===t?Q(e):Io(n/te(t))/Io(Zi(t)/Zi(e)),i=n*_f(Zi(e),r)/r;if(!r)return Sa;function o(a,f){i>0?f<-he+ee&&(f=-he+ee):f>he-ee&&(f=he-ee);var u=i/_f(Zi(f),r);return[u*Q(r*a),i-u*te(r*a)]}return o.invert=function(a,f){var u=i-f,s=He(r)*Re(a*a+u*u),c=Yt(a,ue(u))*He(u);return u*r<0&&(c-=ne*He(a)*He(u)),[c/r,2*xr(_f(i/s,1/r))-he]},o}function V6(){return Ts(X6).scale(109.5).parallels([30,30])}function Uo(e,t){return[e,t]}Uo.invert=Uo;function Z6(){return ln(Uo).scale(152.63)}function K6(e,t){var n=te(e),r=e===t?Q(e):(n-te(t))/(t-e),i=n/r+e;if(ue(r)<ee)return Uo;function o(a,f){var u=i-f,s=r*a;return[u*Q(s),i-u*te(s)]}return o.invert=function(a,f){var u=i-f,s=Yt(a,ue(u))*He(u);return u*r<0&&(s-=ne*He(a)*He(u)),[s/r,i-He(r)*Re(a*a+u*u)]},o}function Q6(){return Ts(K6).scale(131.154).center([0,13.9389])}var Xr=1.340264,Vr=-.081106,Zr=893e-6,Kr=.003796,Yo=Re(3)/2,J6=12;function X0(e,t){var n=Ze(Yo*Q(t)),r=n*n,i=r*r*r;return[e*te(n)/(Yo*(Xr+3*Vr*r+i*(7*Zr+9*Kr*r))),n*(Xr+Vr*r+i*(Zr+Kr*r))]}X0.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,a,f,u;o<J6&&(f=n*(Xr+Vr*r+i*(Zr+Kr*r))-t,u=Xr+3*Vr*r+i*(7*Zr+9*Kr*r),n-=a=f/u,r=n*n,i=r*r*r,!(ue(a)<_0));++o);return[Yo*e*(Xr+3*Vr*r+i*(7*Zr+9*Kr*r))/te(n),Ze(Q(n)/Yo)]};function e3(){return ln(X0).scale(177.158)}function V0(e,t){var n=te(t),r=te(e)*n;return[n*Q(e)/r,Q(t)/r]}V0.invert=_i(xr);function t3(){return ln(V0).scale(144.049).clipAngle(60)}function Z0(e,t){return[te(t)*Q(e),Q(t)]}Z0.invert=_i(Ze);function n3(){return ln(Z0).scale(249.5).clipAngle(90+ee)}function K0(e,t){var n=te(t),r=1+te(e)*n;return[n*Q(e)/r,Q(t)/r]}K0.invert=_i(function(e){return 2*xr(e)});function r3(){return ln(K0).scale(250).clipAngle(142)}function Q0(e,t){return[Io(_s((he+t)/2)),-e]}Q0.invert=function(e,t){return[-t,2*xr(v0(e))-he]};function i3(){var e=W0(Q0),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function $t(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function Ma(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Pu=Symbol("implicit");function Ss(){var e=new An,t=[],n=[],r=Pu;function i(o){let a=e.get(o);if(a===void 0){if(r!==Pu)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new An;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return Ss(t,n).unknown(r)},$t.apply(i,arguments),i}function $a(){var e=Ss().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,f=!1,u=0,s=0,c=.5;delete e.unknown;function l(){var d=t().length,h=i<r,p=h?i:r,m=h?r:i;o=(m-p)/Math.max(1,d-u+s*2),f&&(o=Math.floor(o)),p+=(m-p-o*(d-u))*c,a=o*(1-u),f&&(p=Math.round(p),a=Math.round(a));var g=su(d).map(function(y){return p+o*y});return n(h?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),l()):t()},e.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,l()):[r,i]},e.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,f=!0,l()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(d){return arguments.length?(f=!!d,l()):f},e.padding=function(d){return arguments.length?(u=Math.min(1,s=+d),l()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),l()):u},e.paddingOuter=function(d){return arguments.length?(s=+d,l()):s},e.align=function(d){return arguments.length?(c=Math.max(0,Math.min(1,d)),l()):c},e.copy=function(){return $a(t(),[r,i]).round(f).paddingInner(u).paddingOuter(s).align(c)},$t.apply(l(),arguments)}function J0(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return J0(t())},e}function o3(){return J0($a.apply(null,arguments).paddingInner(1))}function a3(e){return function(){return e}}function qu(e){return+e}var Ll=[0,1];function Xe(e){return e}function zu(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:a3(isNaN(t)?NaN:.5)}function f3(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function u3(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=zu(i,r),o=n(a,o)):(r=zu(r,i),o=n(o,a)),function(f){return o(r(f))}}function s3(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=zu(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(f){var u=da(e,f,1,r)-1;return o[u](i[u](f))}}function vi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function Ea(){var e=Ll,t=Ll,n=wi,r,i,o,a=Xe,f,u,s;function c(){var d=Math.min(e.length,t.length);return a!==Xe&&(a=f3(e[0],e[d-1])),f=d>2?s3:u3,u=s=null,l}function l(d){return d==null||isNaN(d=+d)?o:(u||(u=f(e.map(r),t,n)))(r(a(d)))}return l.invert=function(d){return a(i((s||(s=f(t,e.map(r),$e)))(d)))},l.domain=function(d){return arguments.length?(e=Array.from(d,qu),c()):e.slice()},l.range=function(d){return arguments.length?(t=Array.from(d),c()):t.slice()},l.rangeRound=function(d){return t=Array.from(d),n=ps,c()},l.clamp=function(d){return arguments.length?(a=d?!0:Xe,c()):a!==Xe},l.interpolate=function(d){return arguments.length?(n=d,c()):n},l.unknown=function(d){return arguments.length?(o=d,l):o},function(d,h){return r=d,i=h,c()}}function ep(){return Ea()(Xe,Xe)}function c3(e,t,n,r){var i=fu(e,t,n),o;switch(r=ii(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=d6(i,a))&&(r.precision=o),w0(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=h6(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=l6(i))&&(r.precision=o-(r.type==="%")*2);break}}return vr(r)}function xi(e){var t=e.domain;return e.ticks=function(n){var r=t();return ei(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return c3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],f=r[o],u,s,c=10;for(f<a&&(s=a,a=f,f=s,s=i,i=o,o=s);c-- >0;){if(s=So(a,f,n),s===u)return r[i]=a,r[o]=f,t(r);if(s>0)a=Math.floor(a/s)*s,f=Math.ceil(f/s)*s;else if(s<0)a=Math.ceil(a*s)/s,f=Math.floor(f*s)/s;else break;u=s}return e},e}function Ms(){var e=ep();return e.copy=function(){return vi(e,Ms())},$t.apply(e,arguments),xi(e)}function tp(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,qu),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return tp(e).unknown(t)},e=arguments.length?Array.from(e,qu):[0,1],xi(n)}function np(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function Rl(e){return Math.log(e)}function Ol(e){return Math.exp(e)}function l3(e){return-Math.log(-e)}function d3(e){return-Math.exp(-e)}function h3(e){return isFinite(e)?+("1e"+e):e<0?0:e}function p3(e){return e===10?h3:e===Math.E?Math.exp:t=>Math.pow(e,t)}function m3(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Fl(e){return(t,n)=>-e(-t,n)}function rp(e){const t=e(Rl,Ol),n=t.domain;let r=10,i,o;function a(){return i=m3(r),o=p3(r),n()[0]<0?(i=Fl(i),o=Fl(o),e(l3,d3)):e(Rl,Ol),t}return t.base=function(f){return arguments.length?(r=+f,a()):r},t.domain=function(f){return arguments.length?(n(f),a()):n()},t.ticks=f=>{const u=n();let s=u[0],c=u[u.length-1];const l=c<s;l&&([s,c]=[c,s]);let d=i(s),h=i(c),p,m;const g=f==null?10:+f;let y=[];if(!(r%1)&&h-d<g){if(d=Math.floor(d),h=Math.ceil(h),s>0){for(;d<=h;++d)for(p=1;p<r;++p)if(m=d<0?p/o(-d):p*o(d),!(m<s)){if(m>c)break;y.push(m)}}else for(;d<=h;++d)for(p=r-1;p>=1;--p)if(m=d>0?p/o(-d):p*o(d),!(m<s)){if(m>c)break;y.push(m)}y.length*2<g&&(y=ei(s,c,g))}else y=ei(d,h,Math.min(h-d,g)).map(o);return l?y.reverse():y},t.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=ii(u)).precision==null&&(u.trim=!0),u=vr(u)),f===1/0)return u;const s=Math.max(1,r*f/t.ticks().length);return c=>{let l=c/o(Math.round(i(c)));return l*r<r-.5&&(l*=r),l<=s?u(c):""}},t.nice=()=>n(np(n(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),t}function ip(){const e=rp(Ea()).domain([1,10]);return e.copy=()=>vi(e,ip()).base(e.base()),$t.apply(e,arguments),e}function Pl(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function ql(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function op(e){var t=1,n=e(Pl(t),ql(t));return n.constant=function(r){return arguments.length?e(Pl(t=+r),ql(t)):t},xi(n)}function ap(){var e=op(Ea());return e.copy=function(){return vi(e,ap()).constant(e.constant())},$t.apply(e,arguments)}function zl(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function g3(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function b3(e){return e<0?-e*e:e*e}function fp(e){var t=e(Xe,Xe),n=1;function r(){return n===1?e(Xe,Xe):n===.5?e(g3,b3):e(zl(n),zl(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},xi(t)}function up(){var e=fp(Ea());return e.copy=function(){return vi(e,up()).exponent(e.exponent())},$t.apply(e,arguments),e}function sp(){var e=[],t=[],n=[],r;function i(){var a=0,f=Math.max(1,t.length);for(n=new Array(f-1);++a<f;)n[a-1]=c2(e,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:t[da(n,a)]}return o.invertExtent=function(a){var f=t.indexOf(a);return f<0?[NaN,NaN]:[f>0?n[f-1]:e[0],f<n.length?n[f]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let f of a)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(Le),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return sp().domain(e).range(t).unknown(r)},$t.apply(o,arguments)}function cp(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[da(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return cp().domain(e).range(t).unknown(n)},$t.apply(i,arguments)}const Mf=new Date,$f=new Date;function ge(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const u=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return u;let s;do u.push(s=new Date(+o)),t(o,f),e(o);while(s<o&&o<a);return u},i.filter=o=>ge(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;t(a,-1),!o(a););else for(;--f>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(Mf.setTime(+o),$f.setTime(+a),e(Mf),e($f),Math.floor(n(Mf,$f))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const Go=ge(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);Go.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ge(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):Go);Go.range;const Pt=1e3,Ve=Pt*60,qt=Ve*60,Gt=qt*24,$s=Gt*7,Bl=Gt*30,Ef=Gt*365,tt=ge(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Pt)},(e,t)=>(t-e)/Pt,e=>e.getUTCSeconds());tt.range;const Ti=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pt)},(e,t)=>{e.setTime(+e+t*Ve)},(e,t)=>(t-e)/Ve,e=>e.getMinutes());Ti.range;const Si=ge(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ve)},(e,t)=>(t-e)/Ve,e=>e.getUTCMinutes());Si.range;const Mi=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Pt-e.getMinutes()*Ve)},(e,t)=>{e.setTime(+e+t*qt)},(e,t)=>(t-e)/qt,e=>e.getHours());Mi.range;const $i=ge(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*qt)},(e,t)=>(t-e)/qt,e=>e.getUTCHours());$i.range;const Fn=ge(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ve)/Gt,e=>e.getDate()-1);Fn.range;const Aa=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gt,e=>e.getUTCDate()-1);Aa.range;const Ca=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Gt,e=>Math.floor(e/Gt));Ca.range;function Pn(e){return ge(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ve)/$s)}const cr=Pn(0),fi=Pn(1),lp=Pn(2),dp=Pn(3),Ln=Pn(4),hp=Pn(5),pp=Pn(6);cr.range;fi.range;lp.range;dp.range;Ln.range;hp.range;pp.range;function qn(e){return ge(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/$s)}const lr=qn(0),ui=qn(1),mp=qn(2),gp=qn(3),Rn=qn(4),bp=qn(5),yp=qn(6);lr.range;ui.range;mp.range;gp.range;Rn.range;bp.range;yp.range;const Ei=ge(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());Ei.range;const Ai=ge(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());Ai.range;const ot=ge(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ot.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ot.range;const at=ge(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());at.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});at.range;function wp(e,t,n,r,i,o){const a=[[tt,1,Pt],[tt,5,5*Pt],[tt,15,15*Pt],[tt,30,30*Pt],[o,1,Ve],[o,5,5*Ve],[o,15,15*Ve],[o,30,30*Ve],[i,1,qt],[i,3,3*qt],[i,6,6*qt],[i,12,12*qt],[r,1,Gt],[r,2,2*Gt],[n,1,$s],[t,1,Bl],[t,3,3*Bl],[e,1,Ef]];function f(s,c,l){const d=c<s;d&&([s,c]=[c,s]);const h=l&&typeof l.range=="function"?l:u(s,c,l),p=h?h.range(s,+c+1):[];return d?p.reverse():p}function u(s,c,l){const d=Math.abs(c-s)/l,h=la(([,,g])=>g).right(a,d);if(h===a.length)return e.every(fu(s/Ef,c/Ef,l));if(h===0)return Go.every(Math.max(fu(s,c,l),1));const[p,m]=a[d/a[h-1][2]<a[h][2]/d?h-1:h];return p.every(m)}return[f,u]}const[y3,_p]=wp(at,Ai,lr,Ca,$i,Si),[w3,_3]=wp(ot,Ei,cr,Fn,Mi,Ti);function Af(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function Cf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Cr(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function v3(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,f=e.months,u=e.shortMonths,s=kr(i),c=Nr(i),l=kr(o),d=Nr(o),h=kr(a),p=Nr(a),m=kr(f),g=Nr(f),y=kr(u),b=Nr(u),_={a:D,A:B,b:U,B:O,c:null,d:Wl,e:Wl,f:Y3,g:e5,G:n5,H:B3,I:j3,j:U3,L:vp,m:G3,M:H3,p:q,q:F,Q:Zl,s:Kl,S:W3,u:X3,U:V3,V:Z3,w:K3,W:Q3,x:null,X:null,y:J3,Y:t5,Z:r5,"%":Vl},w={a:P,A:V,b:Z,B:W,c:null,d:Xl,e:Xl,f:f5,g:b5,G:w5,H:i5,I:o5,j:a5,L:Tp,m:u5,M:s5,p:Y,q:z,Q:Zl,s:Kl,S:c5,u:l5,U:d5,V:h5,w:p5,W:m5,x:null,X:null,y:g5,Y:y5,Z:_5,"%":Vl},S={a:R,A:$,b:T,B:v,c:E,d:Gl,e:Gl,f:F3,g:Yl,G:Ul,H:Hl,I:Hl,j:I3,L:O3,m:D3,M:L3,p:k,q:N3,Q:q3,s:z3,S:R3,u:$3,U:E3,V:A3,w:M3,W:C3,x,X:N,y:Yl,Y:Ul,Z:k3,"%":P3};_.x=M(n,_),_.X=M(r,_),_.c=M(t,_),w.x=M(n,w),w.X=M(r,w),w.c=M(t,w);function M(I,j){return function(G){var L=[],re=-1,X=0,oe=I.length,ae,ce,ct;for(G instanceof Date||(G=new Date(+G));++re<oe;)I.charCodeAt(re)===37&&(L.push(I.slice(X,re)),(ce=jl[ae=I.charAt(++re)])!=null?ae=I.charAt(++re):ce=ae==="e"?" ":"0",(ct=j[ae])&&(ae=ct(G,ce)),L.push(ae),X=re+1);return L.push(I.slice(X,re)),L.join("")}}function A(I,j){return function(G){var L=Cr(1900,void 0,1),re=C(L,I,G+="",0),X,oe;if(re!=G.length)return null;if("Q"in L)return new Date(L.Q);if("s"in L)return new Date(L.s*1e3+("L"in L?L.L:0));if(j&&!("Z"in L)&&(L.Z=0),"p"in L&&(L.H=L.H%12+L.p*12),L.m===void 0&&(L.m="q"in L?L.q:0),"V"in L){if(L.V<1||L.V>53)return null;"w"in L||(L.w=1),"Z"in L?(X=Cf(Cr(L.y,0,1)),oe=X.getUTCDay(),X=oe>4||oe===0?ui.ceil(X):ui(X),X=Aa.offset(X,(L.V-1)*7),L.y=X.getUTCFullYear(),L.m=X.getUTCMonth(),L.d=X.getUTCDate()+(L.w+6)%7):(X=Af(Cr(L.y,0,1)),oe=X.getDay(),X=oe>4||oe===0?fi.ceil(X):fi(X),X=Fn.offset(X,(L.V-1)*7),L.y=X.getFullYear(),L.m=X.getMonth(),L.d=X.getDate()+(L.w+6)%7)}else("W"in L||"U"in L)&&("w"in L||(L.w="u"in L?L.u%7:"W"in L?1:0),oe="Z"in L?Cf(Cr(L.y,0,1)).getUTCDay():Af(Cr(L.y,0,1)).getDay(),L.m=0,L.d="W"in L?(L.w+6)%7+L.W*7-(oe+5)%7:L.w+L.U*7-(oe+6)%7);return"Z"in L?(L.H+=L.Z/100|0,L.M+=L.Z%100,Cf(L)):Af(L)}}function C(I,j,G,L){for(var re=0,X=j.length,oe=G.length,ae,ce;re<X;){if(L>=oe)return-1;if(ae=j.charCodeAt(re++),ae===37){if(ae=j.charAt(re++),ce=S[ae in jl?j.charAt(re++):ae],!ce||(L=ce(I,G,L))<0)return-1}else if(ae!=G.charCodeAt(L++))return-1}return L}function k(I,j,G){var L=s.exec(j.slice(G));return L?(I.p=c.get(L[0].toLowerCase()),G+L[0].length):-1}function R(I,j,G){var L=h.exec(j.slice(G));return L?(I.w=p.get(L[0].toLowerCase()),G+L[0].length):-1}function $(I,j,G){var L=l.exec(j.slice(G));return L?(I.w=d.get(L[0].toLowerCase()),G+L[0].length):-1}function T(I,j,G){var L=y.exec(j.slice(G));return L?(I.m=b.get(L[0].toLowerCase()),G+L[0].length):-1}function v(I,j,G){var L=m.exec(j.slice(G));return L?(I.m=g.get(L[0].toLowerCase()),G+L[0].length):-1}function E(I,j,G){return C(I,t,j,G)}function x(I,j,G){return C(I,n,j,G)}function N(I,j,G){return C(I,r,j,G)}function D(I){return a[I.getDay()]}function B(I){return o[I.getDay()]}function U(I){return u[I.getMonth()]}function O(I){return f[I.getMonth()]}function q(I){return i[+(I.getHours()>=12)]}function F(I){return 1+~~(I.getMonth()/3)}function P(I){return a[I.getUTCDay()]}function V(I){return o[I.getUTCDay()]}function Z(I){return u[I.getUTCMonth()]}function W(I){return f[I.getUTCMonth()]}function Y(I){return i[+(I.getUTCHours()>=12)]}function z(I){return 1+~~(I.getUTCMonth()/3)}return{format:function(I){var j=M(I+="",_);return j.toString=function(){return I},j},parse:function(I){var j=A(I+="",!1);return j.toString=function(){return I},j},utcFormat:function(I){var j=M(I+="",w);return j.toString=function(){return I},j},utcParse:function(I){var j=A(I+="",!0);return j.toString=function(){return I},j}}}var jl={"-":"",_:" ",0:"0"},ve=/^\s*\d+/,x3=/^%/,T3=/[\\^$*+?|[\]().{}]/g;function fe(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function S3(e){return e.replace(T3,"\\$&")}function kr(e){return new RegExp("^(?:"+e.map(S3).join("|")+")","i")}function Nr(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function M3(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function $3(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function E3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function A3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function C3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function Ul(e,t,n){var r=ve.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Yl(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function k3(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function N3(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function D3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Gl(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function I3(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Hl(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function L3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function R3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function O3(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function F3(e,t,n){var r=ve.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function P3(e,t,n){var r=x3.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function q3(e,t,n){var r=ve.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function z3(e,t,n){var r=ve.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Wl(e,t){return fe(e.getDate(),t,2)}function B3(e,t){return fe(e.getHours(),t,2)}function j3(e,t){return fe(e.getHours()%12||12,t,2)}function U3(e,t){return fe(1+Fn.count(ot(e),e),t,3)}function vp(e,t){return fe(e.getMilliseconds(),t,3)}function Y3(e,t){return vp(e,t)+"000"}function G3(e,t){return fe(e.getMonth()+1,t,2)}function H3(e,t){return fe(e.getMinutes(),t,2)}function W3(e,t){return fe(e.getSeconds(),t,2)}function X3(e){var t=e.getDay();return t===0?7:t}function V3(e,t){return fe(cr.count(ot(e)-1,e),t,2)}function xp(e){var t=e.getDay();return t>=4||t===0?Ln(e):Ln.ceil(e)}function Z3(e,t){return e=xp(e),fe(Ln.count(ot(e),e)+(ot(e).getDay()===4),t,2)}function K3(e){return e.getDay()}function Q3(e,t){return fe(fi.count(ot(e)-1,e),t,2)}function J3(e,t){return fe(e.getFullYear()%100,t,2)}function e5(e,t){return e=xp(e),fe(e.getFullYear()%100,t,2)}function t5(e,t){return fe(e.getFullYear()%1e4,t,4)}function n5(e,t){var n=e.getDay();return e=n>=4||n===0?Ln(e):Ln.ceil(e),fe(e.getFullYear()%1e4,t,4)}function r5(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+fe(t/60|0,"0",2)+fe(t%60,"0",2)}function Xl(e,t){return fe(e.getUTCDate(),t,2)}function i5(e,t){return fe(e.getUTCHours(),t,2)}function o5(e,t){return fe(e.getUTCHours()%12||12,t,2)}function a5(e,t){return fe(1+Aa.count(at(e),e),t,3)}function Tp(e,t){return fe(e.getUTCMilliseconds(),t,3)}function f5(e,t){return Tp(e,t)+"000"}function u5(e,t){return fe(e.getUTCMonth()+1,t,2)}function s5(e,t){return fe(e.getUTCMinutes(),t,2)}function c5(e,t){return fe(e.getUTCSeconds(),t,2)}function l5(e){var t=e.getUTCDay();return t===0?7:t}function d5(e,t){return fe(lr.count(at(e)-1,e),t,2)}function Sp(e){var t=e.getUTCDay();return t>=4||t===0?Rn(e):Rn.ceil(e)}function h5(e,t){return e=Sp(e),fe(Rn.count(at(e),e)+(at(e).getUTCDay()===4),t,2)}function p5(e){return e.getUTCDay()}function m5(e,t){return fe(ui.count(at(e)-1,e),t,2)}function g5(e,t){return fe(e.getUTCFullYear()%100,t,2)}function b5(e,t){return e=Sp(e),fe(e.getUTCFullYear()%100,t,2)}function y5(e,t){return fe(e.getUTCFullYear()%1e4,t,4)}function w5(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Rn(e):Rn.ceil(e),fe(e.getUTCFullYear()%1e4,t,4)}function _5(){return"+0000"}function Vl(){return"%"}function Zl(e){return+e}function Kl(e){return Math.floor(+e/1e3)}var Yn,Es,Ci;v5({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function v5(e){return Yn=v3(e),Es=Yn.format,Yn.parse,Ci=Yn.utcFormat,Yn.utcParse,Yn}function x5(e){return new Date(e)}function T5(e){return e instanceof Date?+e:+new Date(+e)}function As(e,t,n,r,i,o,a,f,u,s){var c=ep(),l=c.invert,d=c.domain,h=s(".%L"),p=s(":%S"),m=s("%I:%M"),g=s("%I %p"),y=s("%a %d"),b=s("%b %d"),_=s("%B"),w=s("%Y");function S(M){return(u(M)<M?h:f(M)<M?p:a(M)<M?m:o(M)<M?g:r(M)<M?i(M)<M?y:b:n(M)<M?_:w)(M)}return c.invert=function(M){return new Date(l(M))},c.domain=function(M){return arguments.length?d(Array.from(M,T5)):d().map(x5)},c.ticks=function(M){var A=d();return e(A[0],A[A.length-1],M??10)},c.tickFormat=function(M,A){return A==null?S:s(A)},c.nice=function(M){var A=d();return(!M||typeof M.range!="function")&&(M=t(A[0],A[A.length-1],M??10)),M?d(np(A,M)):c},c.copy=function(){return vi(c,As(e,t,n,r,i,o,a,f,u,s))},c}function S5(){return $t.apply(As(w3,_3,ot,Ei,cr,Fn,Mi,Ti,tt,Es).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function M5(){return $t.apply(As(y3,_p,at,Ai,lr,Aa,$i,Si,tt,Ci).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function ka(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Na(){var e=0,t=.5,n=1,r=1,i,o,a,f,u,s=Xe,c,l=!1,d;function h(m){return isNaN(m=+m)?d:(m=.5+((m=+c(m))-o)*(r*m<r*o?f:u),s(l?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=c(e=+e),o=c(t=+t),a=c(n=+n),f=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(l=!!m,h):l},h.interpolator=function(m){return arguments.length?(s=m,h):s};function p(m){return function(g){var y,b,_;return arguments.length?([y,b,_]=g,s=wa(m,[y,b,_]),h):[s(0),s(.5),s(1)]}}return h.range=p(wi),h.rangeRound=p(ps),h.unknown=function(m){return arguments.length?(d=m,h):d},function(m){return c=m,i=m(e),o=m(t),a=m(n),f=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function Mp(){var e=xi(Na()(Xe));return e.copy=function(){return ka(e,Mp())},Ma.apply(e,arguments)}function $p(){var e=rp(Na()).domain([.1,1,10]);return e.copy=function(){return ka(e,$p()).base(e.base())},Ma.apply(e,arguments)}function Ep(){var e=op(Na());return e.copy=function(){return ka(e,Ep()).constant(e.constant())},Ma.apply(e,arguments)}function Ap(){var e=fp(Na());return e.copy=function(){return ka(e,Ap()).exponent(e.exponent())},Ma.apply(e,arguments)}function J(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const $5=J("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),E5=J("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),A5=J("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),C5=J("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),k5=J("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),N5=J("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),D5=J("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),I5=J("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),L5=J("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),R5=J("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),O5=J("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),se=e=>$_(e[e.length-1]);var Cp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(J);const kp=se(Cp);var Np=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(J);const Dp=se(Np);var Ip=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(J);const Lp=se(Ip);var Rp=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(J);const Op=se(Rp);var Bu=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(J);const Ho=se(Bu);var Fp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(J);const Pp=se(Fp);var ju=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(J);const Wo=se(ju);var qp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(J);const zp=se(qp);var Bp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(J);const jp=se(Bp);var Up=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(J);const Yp=se(Up);var Gp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(J);const Hp=se(Gp);var Wp=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(J);const Xp=se(Wp);var Vp=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(J);const Zp=se(Vp);var Kp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(J);const Qp=se(Kp);var Jp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(J);const em=se(Jp);var tm=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(J);const nm=se(tm);var rm=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(J);const im=se(rm);var om=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(J);const am=se(om);var fm=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(J);const um=se(fm);var sm=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(J);const cm=se(sm);var lm=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(J);const dm=se(lm);var hm=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(J);const pm=se(hm);var mm=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(J);const gm=se(mm);var bm=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(J);const ym=se(bm);var wm=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(J);const _m=se(wm);var vm=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(J);const xm=se(vm);var Tm=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(J);const Sm=se(Tm);function Mm(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const $m=ms(xt(300,.5,0),xt(-240,.5,1));var Em=ms(xt(-100,.75,.35),xt(80,1.5,.8)),Am=ms(xt(260,.75,.35),xt(80,1.5,.8)),Ki=xt();function Cm(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Ki.h=360*e-100,Ki.s=1.5-1.5*t,Ki.l=.8-.9*t,Ki+""}var Qi=an(),F5=Math.PI/3,P5=Math.PI*2/3;function km(e){var t;return e=(.5-e)*Math.PI,Qi.r=255*(t=Math.sin(e))*t,Qi.g=255*(t=Math.sin(e+F5))*t,Qi.b=255*(t=Math.sin(e+P5))*t,Qi+""}function Nm(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Da(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const Dm=Da(J("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var Im=Da(J("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),Lm=Da(J("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),Rm=Da(J("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function we(e){return function(){return e}}const Om=Math.cos,Cs=Math.min,Xo=Math.sin,be=Math.sqrt,Ql=1e-12,Vo=Math.PI,Ia=2*Vo;function Fm(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new b0(t)}function Pm(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function qm(e){this._context=e}qm.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function ki(e){return new qm(e)}function zm(e){return e[0]}function Bm(e){return e[1]}function jm(e,t){var n=we(!0),r=null,i=ki,o=null,a=Fm(f);e=typeof e=="function"?e:e===void 0?zm:we(e),t=typeof t=="function"?t:t===void 0?Bm:we(t);function f(u){var s,c=(u=Pm(u)).length,l,d=!1,h;for(r==null&&(o=i(h=a())),s=0;s<=c;++s)!(s<c&&n(l=u[s],s,u))===d&&((d=!d)?o.lineStart():o.lineEnd()),d&&o.point(+e(l,s,u),+t(l,s,u));if(h)return o=null,h+""||null}return f.x=function(u){return arguments.length?(e=typeof u=="function"?u:we(+u),f):e},f.y=function(u){return arguments.length?(t=typeof u=="function"?u:we(+u),f):t},f.defined=function(u){return arguments.length?(n=typeof u=="function"?u:we(!!u),f):n},f.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),f):i},f.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),f):r},f}function q5(e,t,n){var r=null,i=we(!0),o=null,a=ki,f=null,u=Fm(s);e=typeof e=="function"?e:e===void 0?zm:we(+e),t=typeof t=="function"?t:we(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?Bm:we(+n);function s(l){var d,h,p,m=(l=Pm(l)).length,g,y=!1,b,_=new Array(m),w=new Array(m);for(o==null&&(f=a(b=u())),d=0;d<=m;++d){if(!(d<m&&i(g=l[d],d,l))===y)if(y=!y)h=d,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),p=d-1;p>=h;--p)f.point(_[p],w[p]);f.lineEnd(),f.areaEnd()}y&&(_[d]=+e(g,d,l),w[d]=+t(g,d,l),f.point(r?+r(g,d,l):_[d],n?+n(g,d,l):w[d]))}if(b)return f=null,b+""||null}function c(){return jm().defined(i).curve(a).context(o)}return s.x=function(l){return arguments.length?(e=typeof l=="function"?l:we(+l),r=null,s):e},s.x0=function(l){return arguments.length?(e=typeof l=="function"?l:we(+l),s):e},s.x1=function(l){return arguments.length?(r=l==null?null:typeof l=="function"?l:we(+l),s):r},s.y=function(l){return arguments.length?(t=typeof l=="function"?l:we(+l),n=null,s):t},s.y0=function(l){return arguments.length?(t=typeof l=="function"?l:we(+l),s):t},s.y1=function(l){return arguments.length?(n=l==null?null:typeof l=="function"?l:we(+l),s):n},s.lineX0=s.lineY0=function(){return c().x(e).y(t)},s.lineY1=function(){return c().x(e).y(n)},s.lineX1=function(){return c().x(r).y(t)},s.defined=function(l){return arguments.length?(i=typeof l=="function"?l:we(!!l),s):i},s.curve=function(l){return arguments.length?(a=l,o!=null&&(f=a(o)),s):a},s.context=function(l){return arguments.length?(l==null?o=f=null:f=a(o=l),s):o},s}class Um{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function z5(e){return new Um(e,!0)}function B5(e){return new Um(e,!1)}const j5=be(3),Ym={draw(e,t){const n=be(t+Cs(t/28,.75))*.59436,r=n/2,i=r*j5;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},ks={draw(e,t){const n=be(t/Vo);e.moveTo(n,0),e.arc(0,0,n,0,Ia)}},Gm={draw(e,t){const n=be(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},Hm=be(1/3),U5=Hm*2,Wm={draw(e,t){const n=be(t/U5),r=n*Hm;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},Xm={draw(e,t){const n=be(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},Vm={draw(e,t){const n=be(t-Cs(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},Zm={draw(e,t){const n=be(t),r=-n/2;e.rect(r,r,n,n)}},Km={draw(e,t){const n=be(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},Y5=.8908130915292852,Qm=Xo(Vo/10)/Xo(7*Vo/10),G5=Xo(Ia/10)*Qm,H5=-Om(Ia/10)*Qm,Jm={draw(e,t){const n=be(t*Y5),r=G5*n,i=H5*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=Ia*o/5,f=Om(a),u=Xo(a);e.lineTo(u*n,-f*n),e.lineTo(f*r-u*i,u*r+f*i)}e.closePath()}},kf=be(3),e1={draw(e,t){const n=-be(t/(kf*3));e.moveTo(0,n*2),e.lineTo(-kf*n,-n),e.lineTo(kf*n,-n),e.closePath()}},W5=be(3),t1={draw(e,t){const n=be(t)*.6824,r=n/2,i=n*W5/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},je=-.5,Ue=be(3)/2,Uu=1/be(12),X5=(Uu/2+1)*3,n1={draw(e,t){const n=be(t/X5),r=n/2,i=n*Uu,o=r,a=n*Uu+n,f=-o,u=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(f,u),e.lineTo(je*r-Ue*i,Ue*r+je*i),e.lineTo(je*o-Ue*a,Ue*o+je*a),e.lineTo(je*f-Ue*u,Ue*f+je*u),e.lineTo(je*r+Ue*i,je*i-Ue*r),e.lineTo(je*o+Ue*a,je*a-Ue*o),e.lineTo(je*f+Ue*u,je*u-Ue*f),e.closePath()}},r1={draw(e,t){const n=be(t-Cs(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},V5=[ks,Gm,Wm,Zm,Jm,e1,n1],Z5=[ks,Vm,r1,t1,Ym,Km,Xm];function fn(){}function Zo(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function La(e){this._context=e}La.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Zo(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Zo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function K5(e){return new La(e)}function i1(e){this._context=e}i1.prototype={areaStart:fn,areaEnd:fn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Zo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function Q5(e){return new i1(e)}function o1(e){this._context=e}o1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Zo(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function J5(e){return new o1(e)}function a1(e,t){this._basis=new La(e),this._beta=t}a1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,f=-1,u;++f<=n;)u=f/n,this._basis.point(this._beta*e[f]+(1-this._beta)*(r+u*o),this._beta*t[f]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const e8=function e(t){function n(r){return t===1?new La(r):new a1(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function Ko(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function Ns(e,t){this._context=e,this._k=(1-t)/6}Ns.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Ko(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:Ko(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const t8=function e(t){function n(r){return new Ns(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Ds(e,t){this._context=e,this._k=(1-t)/6}Ds.prototype={areaStart:fn,areaEnd:fn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ko(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const n8=function e(t){function n(r){return new Ds(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Is(e,t){this._context=e,this._k=(1-t)/6}Is.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ko(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const r8=function e(t){function n(r){return new Is(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Ls(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>Ql){var f=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*f-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*f-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>Ql){var s=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,c=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*s+e._x1*e._l23_2a-t*e._l12_2a)/c,a=(a*s+e._y1*e._l23_2a-n*e._l12_2a)/c}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function f1(e,t){this._context=e,this._alpha=t}f1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Ls(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const i8=function e(t){function n(r){return t?new f1(r,t):new Ns(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function u1(e,t){this._context=e,this._alpha=t}u1.prototype={areaStart:fn,areaEnd:fn,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Ls(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const o8=function e(t){function n(r){return t?new u1(r,t):new Ds(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function s1(e,t){this._context=e,this._alpha=t}s1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Ls(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const a8=function e(t){function n(r){return t?new s1(r,t):new Is(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function c1(e){this._context=e}c1.prototype={areaStart:fn,areaEnd:fn,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function f8(e){return new c1(e)}function Jl(e){return e<0?-1:1}function ed(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(Jl(o)+Jl(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function td(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function Nf(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,f=(o-r)/3;e._context.bezierCurveTo(r+f,i+f*t,o-f,a-f*n,o,a)}function Qo(e){this._context=e}Qo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:Nf(this,this._t0,td(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,Nf(this,td(this,n=ed(this,e,t)),n);break;default:Nf(this,this._t0,n=ed(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function l1(e){this._context=new d1(e)}(l1.prototype=Object.create(Qo.prototype)).point=function(e,t){Qo.prototype.point.call(this,t,e)};function d1(e){this._context=e}d1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function u8(e){return new Qo(e)}function s8(e){return new l1(e)}function h1(e){this._context=e}h1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=nd(e),i=nd(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function nd(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function c8(e){return new h1(e)}function Ra(e,t){this._context=e,this._t=t}Ra.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function l8(e){return new Ra(e,.5)}function d8(e){return new Ra(e,0)}function h8(e){return new Ra(e,1)}function Gr(e,t,n){this.k=e,this.x=t,this.y=n}Gr.prototype={constructor:Gr,scale:function(e){return e===1?this:new Gr(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Gr(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Gr.prototype;function un(e){return e!=null&&!Number.isNaN(e)}function ft(e,t){return+un(t)-+un(e)||Le(e,t)}function Jo(e,t){return+un(t)-+un(e)||gi(e,t)}function Rs(e){return e!=null&&`${e}`!=""}function p1(e){return isFinite(e)?e:NaN}function Os(e){return e>0&&isFinite(e)?e:NaN}function m1(e){return e<0&&isFinite(e)?e:NaN}function p8(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${m8(e.getUTCFullYear())}-${Lt(e.getUTCMonth()+1,2)}-${Lt(e.getUTCDate(),2)}${n||r||i||o?`T${Lt(n,2)}:${Lt(r,2)}${i||o?`:${Lt(i,2)}${o?`.${Lt(o,3)}`:""}`:""}Z`:""}`}function m8(e){return e<0?`-${Lt(-e,6)}`:e>9999?`+${Lt(e,6)}`:Lt(e,4)}function Lt(e,t){return`${e}`.padStart(t,"0")}const g8=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function g1(e,t){return g8.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function dr(e){if(e==null)return;const t=e[0],n=e[e.length-1];return gi(t,n)}const Vn=1e3,tn=Vn*60,nn=tn*60,Tt=nn*24,pt=Tt*7,$n=Tt*30,Jt=Tt*365,Df=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Vn],["5 seconds",5*Vn],["15 seconds",15*Vn],["30 seconds",30*Vn],["minute",tn],["5 minutes",5*tn],["15 minutes",15*tn],["30 minutes",30*tn],["hour",nn],["3 hours",3*nn],["6 hours",6*nn],["12 hours",12*nn],["day",Tt],["2 days",2*Tt],["week",pt],["2 weeks",2*pt],["month",$n],["3 months",3*$n],["6 months",6*$n],["year",Jt],["2 years",2*Jt],["5 years",5*Jt],["10 years",10*Jt],["20 years",20*Jt],["50 years",50*Jt],["100 years",100*Jt]],Fs=new Map([["second",Vn],["minute",tn],["hour",nn],["day",Tt],["monday",pt],["tuesday",pt],["wednesday",pt],["thursday",pt],["friday",pt],["saturday",pt],["sunday",pt],["week",pt],["month",$n],["year",Jt]]),b1=new Map([["second",tt],["minute",Ti],["hour",Mi],["day",Fn],["monday",fi],["tuesday",lp],["wednesday",dp],["thursday",Ln],["friday",hp],["saturday",pp],["sunday",cr],["week",cr],["month",Ei],["year",ot]]),Ps=new Map([["second",tt],["minute",Si],["hour",$i],["day",Ca],["monday",ui],["tuesday",mp],["wednesday",gp],["thursday",Rn],["friday",bp],["saturday",yp],["sunday",lr],["week",lr],["month",Ai],["year",at]]),Ni=Symbol("intervalDuration"),Oa=Symbol("intervalType");for(const[e,t]of b1)t[Ni]=Fs.get(e),t[Oa]="time";for(const[e,t]of Ps)t[Ni]=Fs.get(e),t[Oa]="utc";const Hr=[["year",at,"utc"],["month",Ai,"utc"],["day",Ca,"utc",6*$n],["hour",$i,"utc",3*Tt],["minute",Si,"utc",6*nn],["second",tt,"utc",30*tn]],wo=[["year",ot,"time"],["month",Ei,"time"],["day",Fn,"time",6*$n],["hour",Mi,"time",3*Tt],["minute",Ti,"time",6*nn],["second",tt,"time",30*tn]],b8=[Hr[0],wo[0],Hr[1],wo[1],Hr[2],wo[2],...Hr.slice(3)];function y1(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(t);switch(r&&(t=t.slice(r[0].length),n=+r[1]),t){case"quarter":t="month",n*=3;break;case"half":t="month",n*=6;break}let i=Ps.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,n]}function w1(e){return _1(y1(e),"time")}function qs(e){return _1(y1(e),"utc")}function _1([e,t],n){let r=(n==="time"?b1:Ps).get(e);return t>1&&(r=r.every(t),r[Ni]=Fs.get(e)*t,r[Oa]=n),r}function rd(e,t){if(!(t>1))return;const n=e[Ni];if(!Df.some(([,i])=>i===n)||n%Tt===0&&Tt<n&&n<$n)return;const[r]=Df[la(([,i])=>Math.log(i)).center(Df,Math.log(n*t))];return(e[Oa]==="time"?w1:qs)(r)}function id(e,t,n){const r=t==="time"?Es:Ci;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=y8(n);switch(e){case"millisecond":return Gn(r(".%L"),r(":%M:%S"),i);case"second":return Gn(r(":%S"),r("%-I:%M"),i);case"minute":return Gn(r("%-I:%M"),r("%p"),i);case"hour":return Gn(r("%-I %p"),r("%b %-d"),i);case"day":return Gn(r("%-d"),r("%b"),i);case"month":return Gn(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function y8(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function w8(e){return e==="time"?wo:e==="utc"?Hr:b8}function _8(e,t,n){const r=nt(m2(t,(i,o)=>Math.abs(o-i)));if(r<1e3)return id("millisecond","utc",n);for(const[i,o,a,f]of w8(e)){if(r>f||i==="hour"&&!r)break;if(t.every(u=>o.floor(u)>=u))return id(i,a,n)}}function Gn(e,t,n){return(r,i,o)=>{const a=e(r,i),f=t(r,i),u=i-dr(o);return i!==u&&o[u]!==void 0&&f===t(o[u],u)?a:n(a,f)}}const zs=Object.getPrototypeOf(Uint8Array),v8=Object.prototype.toString;function dn(e){return e instanceof Array||e instanceof zs}function v1(e){return e instanceof zs&&!x8(e)}function x1(e){return(e==null?void 0:e.prototype)instanceof zs&&!T8(e)}function x8(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function T8(e){return e===BigInt64Array||e===BigUint64Array}const T1=Symbol("reindex");function le(e,t,n){const r=typeof t;return r==="string"?I1(e)?Bs(e.getChild(t),n):od(e,S1(t),n):r==="function"?od(e,t,n):r==="number"||t instanceof Date||r==="boolean"?me(e,zt(t),n):typeof(t==null?void 0:t.transform)=="function"?Yu(t.transform(e),n):S8(Yu(t,n),e==null?void 0:e[T1])}function S8(e,t){return e!=null&&t?Hs(e,t):e}function od(e,t,n){return me(e,x1(n)?(r,i)=>Us(t(r,i)):t,n)}function Yu(e,t){return t===void 0?sn(e):L1(e)?Bs(e,t):e instanceof t?e:t.from(e,x1(t)&&!v1(e)?Us:void 0)}function Bs(e,t){return e==null?e:(t===void 0||t===Array)&&G8(e.type)?M1(e.toArray()):Yu(e.toArray(),t)}const _o=[null],S1=e=>t=>{var r;const n=t[e];return n===void 0&&t.type==="Feature"?(r=t.properties)==null?void 0:r[e]:n},Di={transform:Ht},xe={transform:e=>e},M8=()=>1,$8=()=>!0,De=e=>e==null?e:`${e}`,Ce=e=>e==null?e:+e,js=e=>e?e[0]:void 0,ea=e=>e?e[1]:void 0,zt=e=>()=>e;function E8(e){const t=+`${e}`.slice(1)/100;return(n,r)=>nr(n,t,r)}function hr(e){return v1(e)?e:me(e,Us,Float64Array)}function Us(e){return e==null?NaN:Number(e)}function M1(e){return me(e,$1)}function $1(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?g1(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function Ke(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Pa(e)?[void 0,e]:[e,void 0]}function Pe(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function E1(e,t,n){if(e!=null)return st(e,t,n)}function st(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function pr(e){return I1(e)?e:sn(e)}function sn(e){if(e==null||dn(e))return e;if(L1(e))return Bs(e);switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[e]}return Array.from(e)}function me(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function si(e,t=Array){return e instanceof t?e.slice():t.from(e)}function A8({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function A1({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function C8(e){return A8(e)||A1(e)||e.interval!==void 0}function hn(e){return(e==null?void 0:e.toString)===v8}function Gu(e){return hn(e)&&(e.type!==void 0||e.domain!==void 0)}function Fa(e){return hn(e)&&typeof e.transform!="function"}function mr(e){return Fa(e)&&e.value===void 0&&e.channel===void 0}function k8(e,t,n,r=xe){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function Ys(e,t){return e===void 0&&t===void 0?[js,ea]:[e,t]}function Gs({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Ke(t)),e===void 0&&([e]=Ke(n)),e}function ci(e){return dn(e)?e.length:e==null?void 0:e.numRows}function Ht(e){const t=ci(e),n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function Hs(e,t){return dn(e)?me(t,n=>e[n],e.constructor):me(t,n=>e.at(n))}function N8(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function Bt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function D8(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function ta(e){let t;return[{transform:()=>t,label:pn(e)},n=>t=n]}function Ie(e){return e==null?[e]:ta(e)}function pn(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function Hu(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Oe(r)||Oe(i)?me(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):me(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:e.label}}function na(e,t){const n=C1(t==null?void 0:t.interval,t==null?void 0:t.type);return n?me(e,n):e}function C1(e,t){const n=Ws(e,t);return n&&(r=>un(r)?n.floor(r):r)}function Ws(e,t){if(e!=null){if(typeof e=="number")return I8(e);if(typeof e=="string")return(t==="time"?w1:qs)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function I8(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:n=>Math.floor(n*t)/t,offset:(n,r=1)=>(n*t+Math.floor(r))/t,range:(n,r)=>su(Math.ceil(n*t),r*t).map(i=>i/t)}:{floor:n=>Math.floor(n/t)*t,offset:(n,r=1)=>n+t*Math.floor(r),range:(n,r)=>su(Math.ceil(n/t),r/t).map(i=>i*t)}}function Tr(e,t){if(e=Ws(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function L8(e,t){if(e=Tr(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function R8(e){return Zn(e)&&typeof(e==null?void 0:e.floor)=="function"&&e.floor()instanceof Date}function Zn(e){return typeof(e==null?void 0:e.range)=="function"}function Sr(e){return e===void 0||Fa(e)?e:{value:e}}function O8(e){return e==null?null:{transform:t=>le(t,e,Float64Array),label:pn(e)}}function mn(e){return e&&typeof e[Symbol.iterator]=="function"}function k1(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function ad(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Oe(e){for(const t of e)if(t!=null)return t instanceof Date}function F8(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&g1(t)}function P8(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function q8(e){for(const t of e)if(t!=null)return typeof t=="number"}function If(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}const z8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Pa(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||z8.has(e))}function B8(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Ee(e){return e==null||li(e)}function li(e){return/^\s*none\s*$/i.test(e)}function j8(e){return/^\s*round\s*$/i.test(e)}function Wu(e,t){return E1(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Xs(e="middle"){return Wu(e,"frameAnchor")}function U8(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const o=r[i];n===e?n={...n,[i]:o}:n[i]=o}return n}function Y8(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function N1(e){return mn(e)?Y8(e):e}function D1(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=st(e,"clip",["frame","sphere"])),e}function I1(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function L1(e){return e&&typeof e.toArray=="function"&&e.type}function G8(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}const yt=Symbol("position"),Wt=Symbol("color"),Ii=Symbol("radius"),Li=Symbol("length"),Ri=Symbol("opacity"),qa=Symbol("symbol"),R1=Symbol("projection"),pe=new Map([["x",yt],["y",yt],["fx",yt],["fy",yt],["r",Ii],["color",Wt],["opacity",Ri],["symbol",qa],["length",Li],["projection",R1]]);function H8(e){return e===yt||e===R1}function W8(e){return e===yt||e===Ii||e===Li||e===Ri}const X8=Math.sqrt(3),V8=2/X8,Z8={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*V8,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},Vs=new Map([["asterisk",Ym],["circle",ks],["cross",Gm],["diamond",Wm],["diamond2",Xm],["hexagon",Z8],["plus",Vm],["square",Zm],["square2",Km],["star",Jm],["times",r1],["triangle",e1],["triangle2",t1],["wye",n1]]);function Zs(e){return e&&typeof e.draw=="function"}function K8(e){return Zs(e)?!0:typeof e!="string"?!1:Vs.has(e.toLowerCase())}function Ks(e){if(e==null||Zs(e))return e;const t=Vs.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function BT(e){if(e==null||Zs(e))return[void 0,e];if(typeof e=="string"){const t=Vs.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function Oi({filter:e,sort:t,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(e!=null&&(r=O1(e)),t!=null&&!mr(t)&&(r=Lf(r,Qs(t))),n&&(r=Lf(r,F1))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(t===null||mr(t))&&{sort:t},transform:Lf(r,a)}}function gr({filter:e,sort:t,reverse:n,initializer:r,...i}={},o){return r===void 0&&(e!=null&&(r=O1(e)),t!=null&&!mr(t)&&(r=Rf(r,Qs(t))),n&&(r=Rf(r,F1))),{...i,...(t===null||mr(t))&&{sort:t},initializer:Rf(r,o)}}function Lf(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,pr(n),r,i)}}function Rf(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...o){let a,f,u,s,c,l;return{data:f=n,facets:u=r,channels:a}=e.call(this,n,r,i,...o),{data:c=f,facets:l=u,channels:s}=t.call(this,f,u,{...i,...a},...o),{data:c,facets:l,channels:{...a,...s}}}}function Q8(e,t){return(e.initializer!=null?gr:Oi)(e,t)}function O1(e){return(t,n)=>{const r=le(t,e);return{data:t,facets:n.map(i=>i.filter(o=>r[o]))}}}function F1(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function jT(e,{sort:t,...n}={}){return{...(Fa(e)&&e.channel!==void 0?gr:Q8)(n,Qs(e)),sort:mr(t)?t:null}}function Qs(e){return(typeof e=="function"&&e.length!==1?J8:e4)(e)}function J8(e){return(t,n)=>{const r=dn(t)?(i,o)=>e(t[i],t[o]):(i,o)=>e(t.get(i),t.get(o));return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function e4(e){let t,n;({channel:t,value:e,order:n}={...Sr(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?Jo:ft),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=ft;break;case"descending":n=Jo;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,a)=>{let f;if(t===void 0)f=le(i,e);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[t],!f)return{};f=f.value}const u=(s,c)=>n(f[s],f[c]);return{data:i,facets:o.map(s=>s.slice().sort(u))}}}function P1(e={y:"count"},t={}){const{x:n=xe}=t;if(n==null)throw new Error("missing channel: x");return t4(n,null,e,t)}function t4(e,t,{data:n=tc,filter:r,sort:i,reverse:o,...a}={},f={}){a=i4(a,f),n=j1(n,xe),i=i==null?void 0:z1("sort",i,f),r=r==null?void 0:B1("filter",r,f);const[u,s]=Ie(e),[c,l]=Ie(t),{z:d,fill:h,stroke:p,x1:m,x2:g,y1:y,y2:b,..._}=f,[w,S]=Ie(d),[M]=Ke(h),[A]=Ke(p),[C,k]=Ie(M),[R,$]=Ie(A);return{..."z"in f&&{z:w||d},..."fill"in f&&{fill:C||h},..."stroke"in f&&{stroke:R||p},...Oi(_,(T,v,E)=>{const x=na(le(T,e),E==null?void 0:E.x),N=na(le(T,t),E==null?void 0:E.y),D=le(T,d),B=le(T,M),U=le(T,A),O=U1(a,{z:D,fill:B,stroke:U}),q=[],F=[],P=x&&s([]),V=N&&l([]),Z=D&&S([]),W=B&&k([]),Y=U&&$([]);let z=0;for(const I of a)I.initialize(T);i&&i.initialize(T),r&&r.initialize(T);for(const I of v){const j=[];for(const G of a)G.scope("facet",I);i&&i.scope("facet",I),r&&r.scope("facet",I);for(const[G,L]of Jr(I,O))for(const[re,X]of Jr(L,N))for(const[oe,ae]of Jr(X,x)){const ce={data:T};if(x&&(ce.x=oe),N&&(ce.y=re),O&&(ce.z=G),!(r&&!r.reduce(ae,ce))){j.push(z++),F.push(n.reduceIndex(ae,T,ce)),x&&P.push(oe),N&&V.push(re),D&&Z.push(O===D?G:D[ae[0]]),B&&W.push(O===B?G:B[ae[0]]),U&&Y.push(O===U?G:U[ae[0]]);for(const ct of a)ct.reduce(ae,ce);i&&i.reduce(ae,ce)}}q.push(j)}return Y1(q,i,o),{data:F,facets:q}}),...!Qr(a,"x")&&(u?{x:u}:{x1:m,x2:g}),...!Qr(a,"y")&&(c?{y:c}:{y1:y,y2:b}),...Object.fromEntries(a.map(({name:T,output:v})=>[T,v]))}}function Qr(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function q1(e,t,n=Js){const r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",u4]),t.href!=null&&e.href===void 0&&r.push(["href",nc]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?n4(i):n(i,o,t))}function Js(e,t,n,r=ec){let i;hn(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);const o=r(e,t,n),[a,f]=ta(o.label);let u;return{name:e,output:i===void 0?a:{value:a,scale:i},initialize(s){o.initialize(s),u=f([])},scope(s,c){o.scope(s,c)},reduce(s,c){u.push(o.reduce(s,c))}}}function n4(e){return{name:e,initialize(){},scope(){},reduce(){}}}function ec(e,t,n,r=za){const i=D8(e,n),o=r(t,i);let a,f;return{label:pn(o===ra?null:i,o.label),initialize(u){a=i===void 0?u:le(u,i),o.scope==="data"&&(f=o.reduceIndex(Ht(u),a))},scope(u,s){o.scope===u&&(f=o.reduceIndex(s,a))},reduce(u,s){return o.scope==null?o.reduceIndex(u,a,s):o.reduceIndex(u,a,f,s)}}}function Jr(e,t){return t?pa(e,n=>t[n]):[[,e]]}function za(e,t,n=r4){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&hn(e))return a4(e);if(typeof e=="function")return f4(e);if(/^p\d{2}$/i.test(e))return It(E8(e));switch(`${e}`.toLowerCase()){case"first":return nc;case"last":return s4;case"identity":return tc;case"count":return ra;case"distinct":return c4;case"sum":return t==null?ra:l4;case"proportion":return ud(t,"data");case"proportion-facet":return ud(t,"facet");case"deviation":return It($h);case"min":return It(jt);case"min-index":return It(s2);case"max":return It(nt);case"max-index":return It(u2);case"mean":return fd(d2);case"median":return fd(uu);case"variance":return It(Mh);case"mode":return It(p2)}return n(e)}function r4(e){throw new Error(`invalid reduce: ${e}`)}function i4(e,t){return q1(e,t,z1)}function z1(e,t,n){return Js(e,t,n,B1)}function B1(e,t,n){return ec(e,t,n,j1)}function j1(e,t){return za(e,t,o4)}function o4(e){switch(`${e}`.toLowerCase()){case"x":return d4;case"y":return h4;case"z":return G1}throw new Error(`invalid group reduce: ${e}`)}function U1(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function Y1(e,t,n){if(t){const r=t.output.transform(),i=(o,a)=>ft(r[o],r[a]);e.forEach(o=>o.sort(i))}n&&e.forEach(r=>r.reverse())}function a4(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function f4(e){return{reduceIndex(t,n,r){return e(Hs(n,t),r)}}}function It(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function fd(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Oe(n)?new Date(r):r}}}const tc={reduceIndex(e,t){return Hs(t,e)}},nc={reduceIndex(e,t){return t[e[0]]}},u4={reduceIndex(e,t){const r=vo(Kn(e,o=>o.length,o=>t[o]),ea),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[4]=[`… ${o.length.toLocaleString("en-US")} more`,on(o,ea)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},s4={reduceIndex(e,t){return t[e[e.length-1]]}},ra={label:"Frequency",reduceIndex(e){return e.length}},c4={label:"Distinct",reduceIndex(e,t){const n=new ha;for(const r of e)n.add(t[r]);return n.size}},l4=It(on);function ud(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>on(n,o=>r[o])/i}}const d4={reduceIndex(e,t,{x:n}){return n}},h4={reduceIndex(e,t,{y:n}){return n}},G1={reduceIndex(e,t,{z:n}){return n}};function ia(e){if(typeof e!="function")throw new Error(`invalid test function: ${e}`);return{reduceIndex(t,n,{data:r}){return n[t.find(dn(r)?i=>e(r[i],i,r):i=>e(r.get(i),i,r))]}}}function di(e,{scale:t,type:n,value:r,filter:i,hint:o,label:a=pn(r)},f){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),H1(f,{scale:t,type:n,value:le(e,r),label:a,filter:i,hint:o})}function p4(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,di(t,r,n)]))}function m4(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:o}])=>{const a=i==null?null:t[i];return[r,a==null?o:me(o,a)]}));return n.channels=e,n}function H1(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&If(r,Pa)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&If(r,B8)?null:"opacity",t.defaultScale="opacity";break;case"symbol":n!==!0&&If(r,K8)?(t.scale=null,t.value=me(r,Ks)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=pe.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!pe.has(n))throw new Error(`unknown scale: ${n}`);return t}function g4(e,t,n,r,i){const{order:o,reverse:a,reduce:f=!0,limit:u}=i;for(const s in i){if(!pe.has(s))continue;let{value:c,order:l=o,reverse:d=a,reduce:h=f,limit:p=u}=Sr(i[s]);const m=c==null?void 0:c.startsWith("-");if(m&&(c=c.slice(1)),l=l===void 0?m!==(c==="width"||c==="height")?X1:W1:w4(l),h==null||h===!1)continue;const g=s==="fx"||s==="fy"?y4(t,r[s]):b4(n,s);if(!g)throw new Error(`missing channel for scale: ${s}`);const y=g.value,[b=0,_=1/0]=mn(p)?p:p<0?[p]:[0,p];if(c==null)g.domain=()=>{let w=Array.from(new ha(y));return d&&(w=w.reverse()),(b!==0||_!==1/0)&&(w=w.slice(b,_)),w};else{const w=c==="data"?e:c==="height"?sd(n,"y1","y2"):c==="width"?sd(n,"x1","x2"):Xu(n,c,c==="y"?"y2":c==="x"?"x2":void 0),S=za(h===!0?"max":h,w);g.domain=()=>{let M=n2(Ht(y),A=>S.reduceIndex(A,w),A=>y[A]);return l&&M.sort(l),d&&M.reverse(),(b!==0||_!==1/0)&&(M=M.slice(b,_)),M.map(js)}}}}function b4(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function y4(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const f of e[o])i[f]=a}return t}function sd(e,t,n){const r=Xu(e,t),i=Xu(e,n);return me(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Xu(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function w4(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return W1;case"descending":return X1}throw new Error(`invalid order: ${e}`)}function W1([e,t],[n,r]){return ft(t,r)||ft(e,n)}function X1([e,t],[n,r]){return Jo(t,r)||ft(e,n)}function cd(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const V1=new Map([["accent",E5],["category10",$5],["dark2",A5],["observable10",C5],["paired",k5],["pastel1",N5],["pastel2",D5],["set1",I5],["set2",L5],["set3",R5],["tableau10",O5]]);function _4(e){return e!=null&&V1.has(`${e}`.toLowerCase())}const ld=new Map([...V1,["brbg",Ct(Cp,kp)],["prgn",Ct(Np,Dp)],["piyg",Ct(Ip,Lp)],["puor",Ct(Rp,Op)],["rdbu",Ct(Bu,Ho)],["rdgy",Ct(Fp,Pp)],["rdylbu",Ct(ju,Wo)],["rdylgn",Ct(qp,zp)],["spectral",Ct(Bp,jp)],["burd",dd(Bu,Ho)],["buylrd",dd(ju,Wo)],["blues",ye(hm,pm)],["greens",ye(mm,gm)],["greys",ye(bm,ym)],["oranges",ye(Tm,Sm)],["purples",ye(wm,_m)],["reds",ye(vm,xm)],["turbo",kt(Nm)],["viridis",kt(Dm)],["magma",kt(Im)],["inferno",kt(Lm)],["plasma",kt(Rm)],["cividis",kt(Mm)],["cubehelix",kt($m)],["warm",kt(Em)],["cool",kt(Am)],["bugn",ye(Up,Yp)],["bupu",ye(Gp,Hp)],["gnbu",ye(Wp,Xp)],["orrd",ye(Vp,Zp)],["pubu",ye(Jp,em)],["pubugn",ye(Kp,Qp)],["purd",ye(tm,nm)],["rdpu",ye(rm,im)],["ylgn",ye(fm,um)],["ylgnbu",ye(om,am)],["ylorbr",ye(sm,cm)],["ylorrd",ye(lm,dm)],["rainbow",hd(Cm)],["sinebow",hd(km)]]);function ye(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?rt(t,n):e[n])}function Ct(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?rt(t,n):e[n])}function dd(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?rt(r=>t(1-r),n):e[n].slice().reverse())}function kt(e){return({length:t})=>rt(e,Math.max(2,Math.floor(t)))}function hd(e){return({length:t})=>rt(e,Math.floor(t)+1).slice(0,-1)}function Z1(e){const t=`${e}`.toLowerCase();if(!ld.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return ld.get(t)}function Ba(e,t){const n=Z1(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function v4(e,t="greys"){const n=new Set,[r,i]=Ba(t,2);for(const o of e)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const pd=new Map([["brbg",kp],["prgn",Dp],["piyg",Lp],["puor",Op],["rdbu",Ho],["rdgy",Pp],["rdylbu",Wo],["rdylgn",zp],["spectral",jp],["burd",e=>Ho(1-e)],["buylrd",e=>Wo(1-e)],["blues",pm],["greens",gm],["greys",ym],["purples",_m],["reds",xm],["oranges",Sm],["turbo",Nm],["viridis",Dm],["magma",Im],["inferno",Lm],["plasma",Rm],["cividis",Mm],["cubehelix",$m],["warm",Em],["cool",Am],["bugn",Yp],["bupu",Hp],["gnbu",Xp],["orrd",Zp],["pubugn",Qp],["pubu",em],["purd",nm],["rdpu",im],["ylgnbu",am],["ylgn",um],["ylorbr",cm],["ylorrd",dm],["rainbow",Cm],["sinebow",km]]);function rc(e){const t=`${e}`.toLowerCase();if(!pd.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return pd.get(t)}const x4=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function T4(e){return e!=null&&x4.has(`${e}`.toLowerCase())}const K1=e=>t=>e(1-t),Of=[0,1],md=new Map([["number",$e],["rgb",Nn],["hsl",q_],["hcl",j_],["lab",z_]]);function Q1(e){const t=`${e}`.toLowerCase();if(!md.has(t))throw new Error(`unknown interpolator: ${t}`);return md.get(t)}function Fi(e,t,n,{type:r,nice:i,clamp:o,zero:a,domain:f=eg(e,n),unknown:u,round:s,scheme:c,interval:l,range:d=pe.get(e)===Ii?L4(n,f):pe.get(e)===Li?R4(n,f):pe.get(e)===Ri?Of:void 0,interpolate:h=pe.get(e)===Wt?c==null&&d!==void 0?Nn:rc(c!==void 0?c:r==="cyclical"?"rainbow":"turbo"):s?ps:$e,reverse:p}){if(l=Tr(l,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=Q1(h)),p=!!p,d!==void 0){const m=(f=sn(f)).length,g=(d=sn(d)).length;if(m!==g){if(h.length===1)throw new Error("invalid piecewise interpolator");h=wa(h,d),d=void 0}}if(h.length===1?(p&&(h=K1(h),p=!1),d===void 0&&(d=Float64Array.from(f,(m,g)=>g/(f.length-1)),d.length===2&&(d=Of)),t.interpolate((d===Of?zt:oc)(h))):t.interpolate(h),a){const[m,g]=Ge(f);(m>0||g<0)&&(f=si(f),(dr(f)||1)===Math.sign(m)?f[0]=0:f[f.length-1]=0)}return p&&(f=Mo(f)),t.domain(f).unknown(u),i&&(t.nice(S4(i,r)),f=t.domain()),d!==void 0&&t.range(d),o&&t.clamp(o),{type:r,domain:f,range:d,scale:t,interpolate:h,interval:l}}function S4(e,t){return e===!0?void 0:typeof e=="number"?e:L8(e,t)}function M4(e,t,n){return Fi(e,Ms(),t,n)}function $4(e,t,n){return J1(e,t,{...n,exponent:.5})}function J1(e,t,{exponent:n=1,...r}){return Fi(e,up().exponent(n),t,{...r,type:"pow"})}function E4(e,t,{base:n=10,domain:r=O4(t),...i}){return Fi(e,ip().base(n),t,{...i,domain:r})}function A4(e,t,{constant:n=1,...r}){return Fi(e,ap().constant(n),t,r)}function C4(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=F4(t),unknown:f,interpolate:u,reverse:s}){return n===void 0&&(n=u!==void 0?rt(u,i):pe.get(e)===Wt?Ba(o,i):void 0),a.length>0&&(a=sp(a,n===void 0?{length:i}:n).quantiles()),ic(e,t,{domain:a,range:n,reverse:s,unknown:f})}function k4(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=eg(e,t),unknown:a,interpolate:f,reverse:u}){const[s,c]=Ge(o);let l;return n===void 0?(l=ei(s,c,r),l[0]<=s&&l.splice(0,1),l[l.length-1]>=c&&l.pop(),r=l.length+1,n=f!==void 0?rt(f,r):pe.get(e)===Wt?Ba(i,r):void 0):(l=rt($e(s,c),r+1).slice(1,-1),s instanceof Date&&(l=l.map(d=>new Date(d)))),dr(sn(o))<0&&l.reverse(),ic(e,t,{domain:l,range:n,reverse:u,unknown:a})}function ic(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?rt(o,n.length+1):pe.get(e)===Wt?Ba(i,n.length+1):void 0,reverse:f}){n=sn(n);const u=dr(n);if(!isNaN(u)&&!N4(n,u))throw new Error(`the ${e} scale has a non-monotonic domain`);return f&&(a=Mo(a)),{type:"threshold",scale:cp(u<0?Mo(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function N4(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const o=gi(i,i=e[n]);if(o!==0&&o!==t)return!1}return!0}function D4(e){return{type:"identity",scale:W8(pe.get(e))?tp():t=>t}}function hi(e,t=p1){return e.length?[jt(e,({value:n})=>n===void 0?n:jt(n,t)),nt(e,({value:n})=>n===void 0?n:nt(n,t))]:[0,1]}function eg(e,t){const n=pe.get(e);return(n===Ii||n===Ri||n===Li?I4:hi)(t)}function I4(e){return[0,e.length?nt(e,({value:t})=>t===void 0?t:nt(t,p1)):1]}function L4(e,t){const n=e.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=nr(e,.5,({value:a})=>a===void 0?NaN:nr(a,.25,Os)),i=t.map(a=>3*Math.sqrt(a/r)),o=30/nt(i);return o<1?i.map(a=>a*o):i}function R4(e,t){const n=uu(e,({value:o})=>o===void 0?NaN:uu(o,Math.abs)),r=t.map(o=>12*o/n),i=60/nt(r);return i<1?r.map(o=>o*i):r}function O4(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return hi(e,Os);if(n<0)return hi(e,m1)}return[1,10]}function F4(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function oc(e){return(t,n)=>r=>e(t+r*(n-t))}let Vu=0,Zu;function P4(){const e=Vu;return Vu=0,Zu=void 0,e}function rn(e){e!==Zu&&(Zu=e,console.warn(e),++Vu)}function ja(e,t,n,r,{type:i,nice:o,clamp:a,domain:f=hi(r),unknown:u,pivot:s=0,scheme:c,range:l,symmetric:d=!0,interpolate:h=pe.get(e)===Wt?c==null&&l!==void 0?Nn:rc(c!==void 0?c:"rdbu"):$e,reverse:p}){s=+s,f=sn(f);let[m,g]=f;if(f.length>2&&rn(`Warning: the diverging ${e} scale domain contains extra elements.`),gi(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,s),g=Math.max(g,s),typeof h!="function"&&(h=Q1(h)),l!==void 0&&(h=h.length===1?oc(h)(...l):wa(h,l)),p&&(h=K1(h)),d){const y=n.apply(s),b=y-n.apply(m),_=n.apply(g)-y;b<_?m=n.invert(y-_):b>_&&(g=n.invert(y+b))}return t.domain([m,s,g]).unknown(u).interpolator(h),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[m,g],pivot:s,interpolate:h,scale:t}}function q4(e,t,n){return ja(e,Mp(),U4,t,n)}function z4(e,t,n){return tg(e,t,{...n,exponent:.5})}function tg(e,t,{exponent:n=1,...r}){return ja(e,Ap().exponent(n=+n),H4(n),t,{...r,type:"diverging-pow"})}function B4(e,t,{base:n=10,pivot:r=1,domain:i=hi(t,r<0?m1:Os),...o}){return ja(e,$p().base(n=+n),Y4,t,{domain:i,pivot:r,...o})}function j4(e,t,{constant:n=1,...r}){return ja(e,Ep().constant(n=+n),W4(n),t,r)}const U4={apply(e){return e},invert(e){return e}},Y4={apply:Math.log,invert:Math.exp},G4={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function H4(e){return e===.5?G4:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function W4(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function ng(e,t,n,r){return Fi(e,t,n,r)}function X4(e,t,n){return ng(e,S5(),t,n)}function V4(e,t,n){return ng(e,M5(),t,n)}const Pi=Symbol("ordinal");function rg(e,t,n,{type:r,interval:i,domain:o,range:a,reverse:f,hint:u}){return i=Tr(i,r),o===void 0&&(o=og(n,i,e)),(r==="categorical"||r===Pi)&&(r="ordinal"),f&&(o=Mo(o)),o=t.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:r,domain:o,range:a,scale:t,hint:u,interval:i}}function Z4(e,t,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:f,...u}){r=Tr(r,n),i===void 0&&(i=og(t,r,e));let s;if(pe.get(e)===qa)s=J4(t),o=o===void 0?ex(s):me(o,Ks);else if(pe.get(e)===Wt&&(o===void 0&&(n==="ordinal"||n===Pi)&&(o=v4(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const c=rc(a),l=o[0],d=o[1]-o[0];o=({length:h})=>rt(p=>c(l+d*p),h)}else o=Z1(a);if(f===Pu)throw new Error(`implicit unknown on ${e} scale is not supported`);return rg(e,Ss().unknown(f),t,{...u,type:n,domain:i,range:o,hint:s})}function K4(e,t,{align:n=.5,padding:r=.5,...i}){return ig(o3().align(n).padding(r),t,i,e)}function Q4(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=e==="fx"||e==="fy"?0:r,...a}){return ig($a().align(n).paddingInner(i).paddingOuter(o),t,a,e)}function ig(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=rg(r,e,t,n),e.round=i,e}function og(e,t,n){const r=new ha;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(t!==void 0){const[i,o]=Ge(r).map(t.floor,t);return t.range(i,t.offset(o))}if(r.size>1e4&&pe.get(n)===yt)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return vo(r,ft)}function gd(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function J4(e){return{fill:gd(e,"fill"),stroke:gd(e,"stroke")}}function ex(e){return Ee(e.fill)?Z5:V5}function Ku(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:f,nice:u,clamp:s,zero:c,align:l,padding:d,projection:h,facet:{label:p=t}={},...m}={}){const g={};for(const[y,b]of e){const _=m[y],w=ix(y,b,{round:pe.get(y)===yt?f:void 0,nice:u,clamp:s,zero:c,align:l,padding:d,projection:h,..._});if(w){let{label:S=y==="fx"||y==="fy"?p:t,percent:M,transform:A,inset:C,insetTop:k=C!==void 0?C:y==="y"?r:0,insetRight:R=C!==void 0?C:y==="x"?i:0,insetBottom:$=C!==void 0?C:y==="y"?o:0,insetLeft:T=C!==void 0?C:y==="x"?a:0}=_||{};if(A==null)A=void 0;else if(typeof A!="function")throw new Error("invalid scale transform; not a function");w.percent=!!M,w.label=S===void 0?nx(b,w):S,w.transform=A,y==="x"||y==="fx"?(w.insetLeft=+T,w.insetRight=+R):(y==="y"||y==="fy")&&(w.insetTop=+k,w.insetBottom=+$),g[y]=w}}return g}function bd(e){const t={},n={scales:t};for(const[r,i]of Object.entries(e)){const{scale:o,type:a,interval:f,label:u}=i;t[r]=sx(i),n[r]=o,o.type=a,f!=null&&(o.interval=f),u!=null&&(o.label=u)}return n}function tx(e,t){const{x:n,y:r,fx:i,fy:o}=e,a=i||o?ac(t):t;i&&yd(i,a),o&&wd(o,a);const f=i||o?fg(e,t):t;n&&yd(n,f),r&&wd(r,f)}function nx(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!zn(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function ag(e){return Math.sign(dr(e.domain()))*Math.sign(dr(e.range()))}function ac(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:u,marginBottom:s,marginLeft:c}}=e;return{marginTop:Math.max(t,f),marginRight:Math.max(n,u),marginBottom:Math.max(r,s),marginLeft:Math.max(i,c),width:o,height:a}}function fg({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:u}=ac(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:e?e.scale.bandwidth()+a+i:f,height:t?t.scale.bandwidth()+r+o:u,facet:{width:f,height:u}}}function yd(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:o=0,marginRight:a=0}=t,f=o+n,u=i-a-r;e.range=[f,Math.max(f,u)],zn(e)||(e.range=sg(e)),e.scale.range(e.range)}ug(e)}function wd(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:o=0,marginBottom:a=0}=t,f=o+n,u=i-a-r;e.range=[Math.max(f,u),f],zn(e)?e.range.reverse():e.range=sg(e),e.scale.range(e.range)}ug(e)}function ug(e){e.round===void 0&&ax(e)&&rx(e)<=30&&e.scale.round(!0)}function rx({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),a=t-i,f=Math.abs(r-n)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function sg(e){const t=e.scale.domain().length+cg(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,o)=>n+o/(t-1)*(r-n))}function ix(e,t=[],n={}){const r=ox(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&zn({type:r})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Oe)?rn(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Hn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Hn(r)}".`):i.some(F8)?rn(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Hn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Hn(r)}".`):i.some(P8)&&rn(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Hn(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Hn(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Ji(t,n,hr);break;case"identity":switch(pe.get(e)){case yt:n=Ji(t,n,hr);break;case qa:n=Ji(t,n,fx);break}break;case"utc":case"time":n=Ji(t,n,M1);break}switch(r){case"diverging":return q4(e,t,n);case"diverging-sqrt":return z4(e,t,n);case"diverging-pow":return tg(e,t,n);case"diverging-log":return B4(e,t,n);case"diverging-symlog":return j4(e,t,n);case"categorical":case"ordinal":case Pi:return Z4(e,t,n);case"cyclical":case"sequential":case"linear":return M4(e,t,n);case"sqrt":return $4(e,t,n);case"threshold":return ic(e,t,n);case"quantile":return C4(e,t,n);case"quantize":return k4(e,t,n);case"pow":return J1(e,t,n);case"log":return E4(e,t,n);case"symlog":return A4(e,t,n);case"utc":return V4(e,t,n);case"time":return X4(e,t,n);case"point":return K4(e,t,n);case"band":return Q4(e,t,n);case"identity":return D4(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Hn(e){return typeof e=="symbol"?e.description:e}function _d(e){return typeof e=="string"?`${e}`.toLowerCase():e}const vd={toString:()=>"projection"};function ox(e,t,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(n=_d(n),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&f!=null&&(n=vd);for(const s of t){const c=_d(s.type);if(c!==void 0){if(n===void 0)n=c;else if(n!==c)throw new Error(`scale incompatible with channel: ${n} !== ${c}`)}}if(n===vd)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:s})=>s!==void 0))return;const u=pe.get(e);if(u===Ii)return"sqrt";if(u===Ri||u===Li)return"linear";if(u===qa)return"ordinal";if((r||i||[]).length>2)return Ff(u);if(r!==void 0){if(ad(r))return Ff(u);if(Oe(r))return"utc"}else{const s=t.map(({value:c})=>c).filter(c=>c!==void 0);if(s.some(ad))return Ff(u);if(s.some(Oe))return"utc"}if(u===Wt){if(a!=null||T4(o))return"diverging";if(_4(o))return"categorical"}return"linear"}function Ff(e){switch(e){case yt:return"point";case Wt:return Pi;default:return"ordinal"}}function zn({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Pi}function cg({type:e}){return e==="threshold"}function ax({type:e}){return e==="point"||e==="band"}function br(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Ji(e,{domain:t,...n},r){var i;for(const o of e)o.value!==void 0&&(t===void 0&&(t=(i=o.value)==null?void 0:i.domain),o.value=r(o.value));return{domain:t===void 0?t:r(t),...n}}function fx(e){return me(e,Ks)}function ux(e){return t=>{if(!pe.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function sx({scale:e,type:t,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:u}){if(t==="identity")return{type:"identity",apply:c=>c,invert:c=>c};const s=e.unknown?e.unknown():void 0;return{type:t,domain:si(n),...r!==void 0&&{range:si(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...s!==void 0&&{unknown:s},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:c=>e(c),...e.invert&&{invert:c=>e.invert(c)}}}function cx(e,t){const{fx:n,fy:r}=Ku(e,t),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?e2(i,o).map(([a,f],u)=>({x:a,y:f,i:u})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function lx(e,{x:t,y:n}){return t&&(t=Qu(t)),n&&(n=Qu(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function fc(e,{fx:t,fy:n}){const r=Ht(e),i=t==null?void 0:t.value,o=n==null?void 0:n.value;return t&&n?Kn(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):t?Kn(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Kn(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function dx(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:o})=>`translate(${e(i)-r},${t(o)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function hx(e){const t=[],n=new Uint32Array(on(e,r=>r.length));for(const r of e){let i=0;for(const o of e)r!==o&&(n.set(o,i),i+=o.length);t.push(n.slice(0,i))}return t}const px=new Map([["top",Pf],["right",Bf],["bottom",qf],["left",zf],["top-left",eo(Pf,zf)],["top-right",eo(Pf,Bf)],["bottom-left",eo(qf,zf)],["bottom-right",eo(qf,Bf)],["top-empty",bx],["right-empty",_x],["bottom-empty",yx],["left-empty",wx],["empty",vx]]);function mx(e){if(e==null)return null;const t=px.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const xd=new WeakMap;function Qu(e){let t=xd.get(e);return t||xd.set(e,t=new An(me(e,(n,r)=>[n,r]))),t}function gn(e,t){return Qu(e).get(t)}function gx(e,t,n){return t=Bt(t),n=Bt(n),e.find(r=>Object.is(Bt(r.x),t)&&Object.is(Bt(r.y),n))}function Ua(e,t,n){var r;return(r=gx(e,t,n))==null?void 0:r.empty}function Pf(e,{y:t},{y:n}){return t?gn(t,n)===0:!0}function qf(e,{y:t},{y:n}){return t?gn(t,n)===t.length-1:!0}function zf(e,{x:t},{x:n}){return t?gn(t,n)===0:!0}function Bf(e,{x:t},{x:n}){return t?gn(t,n)===t.length-1:!0}function bx(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=gn(t,r);if(o>0)return Ua(e,n,t[o-1])}function yx(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=gn(t,r);if(o<t.length-1)return Ua(e,n,t[o+1])}function wx(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=gn(t,n);if(o>0)return Ua(e,t[o-1],r)}function _x(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=gn(t,n);if(o<t.length-1)return Ua(e,t[o+1],r)}function vx(e,t,{empty:n}){return n}function eo(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function jf(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}const lg=Math.PI,Nt=2*lg,Uf=.618;function xx({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={},a){if(e==null)return;if(typeof e.stream=="function")return e;let f,u,s="frame";if(hn(e)){let S;if({type:e,domain:u,inset:S,insetTop:n=S!==void 0?S:n,insetRight:r=S!==void 0?S:r,insetBottom:i=S!==void 0?S:i,insetLeft:o=S!==void 0?S:o,clip:s=s,...f}=e,e==null)return}typeof e!="function"&&({type:e}=Ju(e));const{width:c,height:l,marginLeft:d,marginRight:h,marginTop:p,marginBottom:m}=a,g=c-d-h-o-r,y=l-p-m-n-i;if(e=e==null?void 0:e({width:g,height:y,clip:s,...f}),e==null)return;s=Tx(s,d,p,c-h,l-m);let b=d+o,_=p+n,w;if(u!=null){const[[S,M],[A,C]]=xa(e).bounds(u),k=Math.min(g/(A-S),y/(C-M));k>0?(b-=(k*(S+A)-g)/2,_-=(k*(M+C)-y)/2,w=Ou({point(R,$){this.stream.point(R*k+b,$*k+_)}})):rn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return w??(w=b===0&&_===0?dg():Ou({point(S,M){this.stream.point(S+b,M+_)}})),{stream:S=>e.stream(w.stream(s(S)))}}function Ju(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Je(Y6,.7463,.4673);case"albers":return to(U0,.7463,.4673);case"azimuthal-equal-area":return Je(G6,4,4);case"azimuthal-equidistant":return Je(H6,Nt,Nt);case"conic-conformal":return to(V6,Nt,Nt);case"conic-equal-area":return to(jo,6.1702,2.9781);case"conic-equidistant":return to(Q6,7.312,3.6282);case"equal-earth":return Je(e3,5.4133,2.6347);case"equirectangular":return Je(Z6,Nt,lg);case"gnomonic":return Je(t3,3.4641,3.4641);case"identity":return{type:dg};case"reflect-y":return{type:Sx};case"mercator":return Je(W6,Nt,Nt);case"orthographic":return Je(n3,2,2);case"stereographic":return Je(r3,2,2);case"transverse-mercator":return Je(i3,Nt,Nt);default:throw new Error(`unknown projection type: ${e}`)}}function Tx(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return E0(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Je(e,t,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{var s,c,l;const u=e();return a!=null&&((s=u.precision)==null||s.call(u,a)),o!=null&&((c=u.rotate)==null||c.call(u,o)),typeof f=="number"&&((l=u.clipAngle)==null||l.call(u,f)),r!=null&&(u.scale(Math.min(r/t,i/n)),u.translate([r/2,i/2])),u},aspectRatio:n/t}}function to(e,t,n){const{type:r,aspectRatio:i}=Je(e,t,n);return{type:o=>{const{parallels:a,domain:f,width:u,height:s}=o,c=r(o);return a!=null&&(c.parallels(a),f===void 0&&u!=null&&c.fitSize([u,s],{type:"Sphere"})),c},aspectRatio:i}}const dg=zt({stream:e=>e}),Sx=zt(Ou({point(e,t){this.stream.point(e,-t)}}));function Mx(e,t,n,r){const i=n[e],o=n[t],a=i.length,f=n[e]=new Float64Array(a).fill(NaN),u=n[t]=new Float64Array(a).fill(NaN);let s;const c=r.stream({point(l,d){f[s]=l,u[s]=d}});for(s=0;s<a;++s)c.point(i[s],o[s])}function $x({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(hn(e)&&(e=e.type),e!=null)}function Ex(e){if(typeof(e==null?void 0:e.stream)=="function")return Uf;if(hn(e)){let t,n;if({domain:t,type:e,...n}=e,t!=null&&e!=null){const r=typeof e=="string"?Ju(e).type:e,[[i,o],[a,f]]=xa(r({...n,width:100,height:100})).bounds(t),u=(f-o)/(a-i);return u&&isFinite(u)?u<.2?.2:u>5?5:u:Uf}}if(e!=null){if(typeof e!="function"){const{aspectRatio:t}=Ju(e);if(t)return t}return Uf}}function Ax(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},o={point(a,f){t.push(a),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of e.value)xn(a,o);return[r,i]}function uc(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:D1(n)}}function Te(e,{document:t}){return Qn(ga(e).call(t.documentElement))}const es=Symbol("unset");function sc(e){return(e.length===1?Cx:kx)(e)}function Cx(e){let t,n=es;return r=>(Object.is(n,r)||(n=r,t=e(r)),t)}function kx(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>!Object.is(i,r[o])))&&(n=r,t=e(...r)),t)}const Nx=sc(e=>new Intl.NumberFormat(e));sc((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{month:t}}));sc((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{weekday:t}}));function Dx(e="en-US"){const t=Nx(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function Ix(e){return p8(e,"Invalid Date")}function Lx(e="en-US"){const t=Dx(e);return n=>(n instanceof Date?Ix:typeof n=="number"?t:De)(n)}const yr=Lx(),qe=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let Rx=0;function hg(){return`plot-clip-${++Rx}`}function Ox(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:u,stroke:s,strokeWidth:c,strokeOpacity:l,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:y,mixBlendMode:b,imageFilter:_,paintOrder:w,pointerEvents:S,shapeRendering:M,channels:A},{ariaLabel:C,fill:k="currentColor",fillOpacity:R,stroke:$="none",strokeOpacity:T,strokeWidth:v,strokeLinecap:E,strokeLinejoin:x,strokeMiterlimit:N,paintOrder:D}){k===null&&(f=null,u=null),$===null&&(s=null,l=null),Ee(k)?!Ee($)&&(!Ee(f)||A!=null&&A.fill)&&($="none"):Ee($)&&(!Ee(s)||A!=null&&A.stroke)&&(k="none");const[B,U]=Ke(f,k),[O,q]=Pe(u,R),[F,P]=Ke(s,$),[V,Z]=Pe(l,T),[W,Y]=Pe(y);li(P)||(c===void 0&&(c=v),h===void 0&&(h=E),d===void 0&&(d=x),p===void 0&&!j8(d)&&(p=N),!li(U)&&w===void 0&&(w=D));const[z,I]=Pe(c);return k!==null&&(e.fill=Me(U,"currentColor"),e.fillOpacity=Dr(q,1)),$!==null&&(e.stroke=Me(P,"none"),e.strokeWidth=Dr(I,1),e.strokeOpacity=Dr(Z,1),e.strokeLinejoin=Me(d,"miter"),e.strokeLinecap=Me(h,"butt"),e.strokeMiterlimit=Dr(p,4),e.strokeDasharray=Me(m,"none"),e.strokeDashoffset=Me(g,"0")),e.target=De(a),e.ariaLabel=De(C),e.ariaDescription=De(i),e.ariaHidden=De(o),e.opacity=Dr(Y,1),e.mixBlendMode=Me(b,"normal"),e.imageFilter=Me(_,"none"),e.paintOrder=Me(w,"normal"),e.pointerEvents=Me(S,"auto"),e.shapeRendering=Me(M,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:B,scale:"auto",optional:!0},fillOpacity:{value:O,scale:"auto",optional:!0},stroke:{value:F,scale:"auto",optional:!0},strokeOpacity:{value:V,scale:"auto",optional:!0},strokeWidth:{value:z,optional:!0},opacity:{value:W,scale:"auto",optional:!0}}}function Fx(e,t){t&&e.filter(n=>Rs(t[n])).append("title").call(qx,t)}function Px(e,t){t&&e.filter(([n])=>Rs(t[n])).append("title").call(zx,t)}function qx(e,t){t&&e.text(n=>yr(t[n]))}function zx(e,t){t&&e.text(([n])=>yr(t[n]))}function On(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:s,opacity:c,href:l}){r&&K(e,"aria-label",d=>r[d]),o&&K(e,"fill",d=>o[d]),a&&K(e,"fill-opacity",d=>a[d]),f&&K(e,"stroke",d=>f[d]),u&&K(e,"stroke-opacity",d=>u[d]),s&&K(e,"stroke-width",d=>s[d]),c&&K(e,"opacity",d=>c[d]),l&&bg(e,d=>l[d],t),n||Fx(e,i)}function pg(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:s,opacity:c,href:l}){r&&K(e,"aria-label",([d])=>r[d]),o&&K(e,"fill",([d])=>o[d]),a&&K(e,"fill-opacity",([d])=>a[d]),f&&K(e,"stroke",([d])=>f[d]),u&&K(e,"stroke-opacity",([d])=>u[d]),s&&K(e,"stroke-width",([d])=>s[d]),c&&K(e,"opacity",([d])=>c[d]),l&&bg(e,([d])=>l[d],t),n||Px(e,i)}function Bx({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:u},{tip:s}){return[e,s?void 0:t,n,r,i,o,a,f,u].filter(c=>c!==void 0)}function jx(e,t,n){const r=pa(e,i=>t[i]);return n===void 0&&r.size>1+e.length>>1&&rn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*mg(e,t,n,r){const{z:i}=n,{z:o}=r,a=Bx(r,n),f=[...t,...a];for(const u of o?jx(e,o,i):[e]){let s,c;e:for(const l of u){for(const d of f)if(!un(d[l])){c&&c.push(-1);continue e}if(s===void 0){c&&(yield c),s=a.map(d=>Bt(d[l])),c=[l];continue}c.push(l);for(let d=0;d<a.length;++d)if(Bt(a[d][l])!==s[d]){yield c,s=a.map(p=>Bt(p[l])),c=[l];continue e}}c&&(yield c)}}function Ux(e,t,n,r){let i;const{clip:o=r.clip}=t;switch(o){case"frame":{e=Te("svg:g",r).each(function(){this.appendChild(e.node()),e.node=()=>this}),i=Yx(r,n);break}case"sphere":{i=Gx(r);break}}K(e,"aria-label",t.ariaLabel),K(e,"aria-description",t.ariaDescription),K(e,"aria-hidden",t.ariaHidden),K(e,"clip-path",i)}function gg(e){const t=new WeakMap;return(n,r)=>{let i=t.get(n);if(!i){const o=hg();Qn(n.ownerSVGElement).append("clipPath").attr("id",o).call(e,n,r),t.set(n,i=`url(#${o})`)}return i}}const Yx=gg((e,t,n)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:f,marginBottom:u}=n;e.append("rect").attr("x",o).attr("y",f).attr("width",r-a-o).attr("height",i-f-u)}),Gx=gg((e,t)=>{const{projection:n}=t;if(!n)throw new Error('the "sphere" clip option requires a projection');e.append("path").attr("d",xa(n)({type:"Sphere"}))});function Xt(e,t,n,r){Ux(e,t,n,r),K(e,"class",t.className),K(e,"fill",t.fill),K(e,"fill-opacity",t.fillOpacity),K(e,"stroke",t.stroke),K(e,"stroke-width",t.strokeWidth),K(e,"stroke-opacity",t.strokeOpacity),K(e,"stroke-linejoin",t.strokeLinejoin),K(e,"stroke-linecap",t.strokeLinecap),K(e,"stroke-miterlimit",t.strokeMiterlimit),K(e,"stroke-dasharray",t.strokeDasharray),K(e,"stroke-dashoffset",t.strokeDashoffset),K(e,"shape-rendering",t.shapeRendering),K(e,"filter",t.imageFilter),K(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;K(e,"pointer-events",i)}function St(e,t){Hx(e,"mix-blend-mode",t.mixBlendMode),K(e,"opacity",t.opacity)}function bg(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const o=this.ownerDocument.createElementNS(rr.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(rr.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function K(e,t,n){n!=null&&e.attr(t,n)}function Hx(e,t,n){n!=null&&e.style(t,n)}function Vt(e,t,{x:n,y:r},i=qe,o=qe){i+=t.dx,o+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&e.attr("transform",`translate(${i},${o})`)}function Me(e,t){if((e=De(e))!==t)return e}function Dr(e,t){if((e=Ce(e))!==t)return e}const Wx=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Ya(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!Wx.test(e))throw new Error(`invalid class name: ${e}`);return e}function cc(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Ga({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(e)?a:/right$/.test(e)?t-i:(a+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-o:(r+n-o)/2]}class Qe{constructor(t,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:u,sort:s,dx:c=0,dy:l=0,margin:d=0,marginTop:h=d,marginRight:p=d,marginBottom:m=d,marginLeft:g=d,className:y,clip:b=i==null?void 0:i.clip,channels:_,tip:w,render:S}=r;if(this.data=t,this.sort=mr(s)?s:null,this.initializer=gr(r).initializer,this.transform=this.initializer?r.transform:Oi(r).transform,o===null||o===!1?this.facet=null:(this.facet=st(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=t===_o&&typeof f=="string"?[f]:f,this.fy=t===_o&&typeof u=="string"?[u]:u),this.facetAnchor=mx(a),n=N1(n),_!==void 0&&(n={...Xx(_),...n}),i!==void 0&&(n={...Ox(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([M,A])=>{if(Fa(A.value)){const{value:C,label:k=A.label,scale:R=A.scale}=A.value;A={...A,label:k,scale:R,value:C}}if(t===_o&&typeof A.value=="string"){const{value:C}=A;A={...A,value:[C]}}return[M,A]}).filter(([M,{value:A,optional:C}])=>{if(A!=null)return!0;if(C)return!1;throw new Error(`missing channel value: ${M}`)})),this.dx=+c,this.dy=+l,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+g,this.clip=D1(b),this.tip=Vx(w),this.className=y?Ya(y):null,this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(const M in this.channels){const{scale:A}=n[M];if(!(A!=="x"&&A!=="y"))throw new Error("super-faceting cannot use x or y")}}S!=null&&(this.render=oa(S,this.render))}initialize(t,n,r){let i=pr(this.data);t===void 0&&i!=null&&(t=[Ht(i)]);const o=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=pr(i)),t!==void 0&&(t.original=o);const a=p4(this.channels,i);return this.sort!=null&&g4(i,t,a,n,this.sort),{data:i,facets:t,channels:a}}filter(t,n,r){for(const i in n){const{filter:o=un}=n[i];if(o!==null){const a=r[i];t=t.filter(f=>o(a[f]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in t&&t[o].scale==="y"&&Mx(i,o,n,r.projection)}}scale(t,n,r){const i=m4(t,n);return r.projection&&this.project(t,i,r),i}}function Bn(...e){return e.plot=Qe.prototype.plot,e}function oa(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,o,a,f){return e.call(this,n,r,i,o,a,(u,s,c,l,d)=>t.call(this,u,s,c,l,d,f))}}function Xx(e){return Object.fromEntries(Object.entries(N1(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:Sr(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function Vx(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?st(e,"tip",["x","y","xy"]):e}function qi(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:hn(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function Zx(e,t,n={}){let r=.5-qe,i=.5+qe,o=.5+qe,a=.5-qe;for(const{marginTop:m,marginRight:g,marginBottom:y,marginLeft:b}of t)m>r&&(r=m),g>i&&(i=g),y>o&&(o=y),b>a&&(a=b);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:s=f!==void 0?f:i,marginBottom:c=f!==void 0?f:o,marginLeft:l=f!==void 0?f:a}=n;u=+u,s=+s,c=+c,l=+l;let{width:d=640,height:h=Kx(e,n,{width:d,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,u-r+c-o)}=n;d=+d,h=+h;const p={width:d,height:h,marginTop:u,marginRight:s,marginBottom:c,marginLeft:l};if(e.fx||e.fy){let{margin:m,marginTop:g=m!==void 0?m:u,marginRight:y=m!==void 0?m:s,marginBottom:b=m!==void 0?m:c,marginLeft:_=m!==void 0?m:l}=n.facet??{};g=+g,y=+y,b=+b,_=+_,p.facet={marginTop:g,marginRight:y,marginBottom:b,marginLeft:_}}return p}function Kx({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:s,marginLeftDefault:c}){const l=n&&n.scale.domain().length||1,d=Ex(i);if(d){const p=r?r.scale.domain().length:1,m=(1.1*l-.1)/(1.1*p-.1)*d,g=Math.max(.1,Math.min(10,m));return Math.round((a-c-u)*g+f+s)}const h=t?zn(t)?t.scale.domain().length||1:Math.max(7,17/l):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=Td("y",t)/(Td("x",e)*o),m=r?r.scale.bandwidth():1,g=n?n.scale.bandwidth():1,y=m*(a-c-u)-e.insetLeft-e.insetRight;return(p*y+t.insetTop+t.insetBottom)/g+f+s}return!!(t||n)*Math.max(1,Math.min(60,h*l))*20+!!r*30+60}function Td(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=t.scale.exponent();i=u=>Math.pow(u,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[o,a]=Ge(r);return Math.abs(i(a)-i(o))}const Sd=new WeakMap;function lc(e,t,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:u,...s}={}){return a=+a,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),f={...f,py:{value:o,scale:"y"}}),{x:n,y:r,channels:f,...s,render:oa(function(c,l,d,h,p,m){p={...p,pointerSticky:!1};const g=p.ownerSVGElement,{data:y}=p.getMarkState(this);let b=Sd.get(g);b||Sd.set(g,b={sticky:!1,roots:[],renders:[]});let _=b.renders.push(P)-1;const{x:w,y:S,fx:M,fy:A}=l;let C=M?M(c.fx)-h.marginLeft:0,k=A?A(c.fy)-h.marginTop:0;w!=null&&w.bandwidth&&(C+=w.bandwidth()/2),S!=null&&S.bandwidth&&(k+=S.bandwidth()/2);const R=c.fi!=null;let $;if(R){let Y=b.facetStates;Y||(b.facetStates=Y=new Map),$=Y.get(this),$||Y.set(this,$=new Map)}const[T,v]=Ga(this,h),{px:E,py:x}=d,N=E?Y=>E[Y]:yg(d,T),D=x?Y=>x[Y]:wg(d,v);let B,U,O,q;function F(Y,z){if(R)if(q&&(q=cancelAnimationFrame(q)),Y==null)$.delete(c.fi);else{$.set(c.fi,z),q=requestAnimationFrame(()=>{q=null;for(const[I,j]of $)if(j<z||j===z&&I<c.fi){Y=null;break}P(Y)});return}P(Y)}function P(Y){if(B===Y&&O===b.sticky)return;B=Y,O=p.pointerSticky=b.sticky;const z=B==null?[]:[B];R&&(z.fx=c.fx,z.fy=c.fy,z.fi=c.fi);const I=m(z,l,d,h,p);if(U){if(R){const j=U.parentNode,G=U.getAttribute("transform"),L=I.getAttribute("transform");G?I.setAttribute("transform",G):I.removeAttribute("transform"),L?j.setAttribute("transform",L):j.removeAttribute("transform"),I.removeAttribute("aria-label"),I.removeAttribute("aria-description"),I.removeAttribute("aria-hidden")}U.replaceWith(I)}if(b.roots[_]=U=I,!(B==null&&($==null?void 0:$.size)>1)){const j=B==null?null:dn(y)?y[B]:y.get(B);p.dispatchValue(j)}return I}function V(Y){if(b.sticky||Y.pointerType==="mouse"&&Y.buttons===1)return;let[z,I]=f_(Y);z-=C,I-=k;const j=z<h.marginLeft||z>h.width-h.marginRight?1:e,G=I<h.marginTop||I>h.height-h.marginBottom?1:t;let L=null,re=a*a;for(const X of c){const oe=j*(N(X)-z),ae=G*(D(X)-I),ce=oe*oe+ae*ae;ce<=re&&(L=X,re=ce)}if(L!=null&&(e!==1||t!==1)){const X=N(L)-z,oe=D(L)-I;re=X*X+oe*oe}F(L,re)}function Z(Y){Y.pointerType==="mouse"&&B!=null&&(b.sticky&&b.roots.some(z=>z==null?void 0:z.contains(Y.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(z=>z(null))):(b.sticky=!0,P(B)),Y.stopImmediatePropagation()))}function W(Y){Y.pointerType==="mouse"&&(b.sticky||F(null))}return g.addEventListener("pointerenter",V),g.addEventListener("pointermove",V),g.addEventListener("pointerdown",Z),g.addEventListener("pointerleave",W),P(null)},u)}}function Qx(e){return lc(1,1,e)}function Jx(e){return lc(1,.01,e)}function Md(e){return lc(.01,1,e)}function yg({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function wg({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function _g(e){return zn(e)&&e.interval===void 0?void 0:"tabular-nums"}function e7(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:s=0,style:c,ticks:l=(i-s-f)/64,tickFormat:d,fontVariant:h=_g(e),round:p=!0,opacity:m,className:g}=t;const y=uc(t);g=Ya(g),m=Pe(m)[1],d===null&&(d=()=>null);const b=Te("svg",y).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(T=>T.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(cc,c);let _=T=>T.selectAll(".tick line").attr("y1",a+u-o),w;const S=p?(T,v)=>T.rangeRound(v):(T,v)=>T.range(v),{type:M,domain:A,range:C,interpolate:k,scale:R,pivot:$}=e;if(k){const T=C===void 0?k:wa(k.length===1?oc(k):k,C);w=S(R.copy(),rt($e(s,i-f),Math.min(A.length+($!==void 0),C===void 0?1/0:C.length)));const v=256,E=y.document.createElement("canvas");E.width=v,E.height=1;const x=E.getContext("2d");for(let N=0,D=v-1;N<v;++N)x.fillStyle=T(N/D),x.fillRect(N,0,1,1);b.append("image").attr("opacity",m).attr("x",s).attr("y",a).attr("width",i-s-f).attr("height",o-a-u).attr("preserveAspectRatio","none").attr("xlink:href",E.toDataURL())}else if(M==="threshold"){const T=A,v=d===void 0?E=>E:typeof d=="string"?vr(d):d;w=S(Ms().domain([-1,C.length-1]),[s,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(C).enter().append("rect").attr("x",(E,x)=>w(x-1)).attr("y",a).attr("width",(E,x)=>w(x)-w(x-1)).attr("height",o-a-u).attr("fill",E=>E),l=me(T,(E,x)=>x),d=E=>v(T[E],E)}else w=S($a().domain(A),[s,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(A).enter().append("rect").attr("x",w).attr("y",a).attr("width",Math.max(0,w.bandwidth()-1)).attr("height",o-a-u).attr("fill",R),_=()=>{};return b.append("g").attr("transform",`translate(0,${o-u})`).call(S2(w).ticks(Array.isArray(l)?null:l,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(r).tickValues(Array.isArray(l)?l:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Me(h,"normal")).call(_).call(T=>T.select(".domain").remove()),n!==void 0&&b.append("text").attr("x",s).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),b.node()}const vg=Math.PI/180;function dc(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=Yf(n),e.markerMid=Yf(r),e.markerEnd=Yf(i)}function Yf(e){if(e==null||e===!1)return null;if(e===!0)return Ed;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return $d("auto");case"arrow-reverse":return $d("auto-start-reverse");case"dot":return t7;case"circle":case"circle-fill":return Ed;case"circle-stroke":return n7;case"tick":return Gf("auto");case"tick-x":return Gf(90);case"tick-y":return Gf(0)}throw new Error(`invalid marker: ${e}`)}function $d(e){return(t,n)=>Te("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function t7(e,t){return Te("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function Ed(e,t){return Te("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function n7(e,t){return Te("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Gf(e){return(t,n)=>Te("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let r7=0;function xg(e,t,{stroke:n},r){return Sg(e,t,n&&(i=>n[i]),null,r)}function i7(e,t,{stroke:n,z:r},i){return Sg(e,t,n&&(([o])=>n[o]),r,i)}const ts=1,Tg=2;function o7(e,t){const n=new Uint8Array(t.length),r=e.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=es;o<i;++o){const f=r[o];if(f.length>1){const u=f[0];a!==(a=Bt(t[u]))&&(n[u]|=ts)}}for(let o=i-1,a=es;o>=0;--o){const f=r[o];if(f.length>1){const u=f[0];a!==(a=Bt(t[u]))&&(n[u]|=Tg)}}return([o])=>n[o]}function Sg(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a,f){if(!t&&!n&&!r)return;const u=new Map,s=a&&o7(e,a);function c(l,d,h){return function(p){if(h&&!h(p))return;const m=o(p);let g=u.get(d);g||u.set(d,g=new Map);let y=g.get(m);if(!y){const b=this.parentNode.insertBefore(d(m,f),this),_=`plot-marker-${++r7}`;b.setAttribute("id",_),g.set(m,y=`url(#${_})`)}this.setAttribute(l,y)}}t&&e.each(c("marker-start",t,s&&(l=>s(l)&ts))),n&&s&&e.each(c("marker-start",n,l=>!(s(l)&ts))),n&&e.each(c("marker-mid",n)),r&&e.each(c("marker-end",r,s&&(l=>s(l)&Tg)))}function Ha({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=$g(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function Mg({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=$g(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function $g(e,t,n){return e===void 0&&t===void 0&&n===void 0?qe?[1,0]:[.5,.5]:[t,n]}function Eg(e,{interval:t}){return e={...Sr(e)},e.interval=Ws(e.interval===void 0?t:e.interval),e}function hc(e,t,n,r){const{[e]:i,[`${e}1`]:o,[`${e}2`]:a}=n,{value:f,interval:u}=Eg(i,n);if(f==null||u==null&&!r)return n;const s=pn(i);if(u==null){let h;const p={transform:m=>h||(h=le(m,f)),label:s};return{...n,[e]:void 0,[`${e}1`]:o===void 0?p:o,[`${e}2`]:a===void 0&&!(o===a&&r)?p:a}}let c,l;function d(h){return l!==void 0&&h===c?l:l=me(le(c=h,f),p=>u.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:o===void 0?{transform:d,label:s}:o,[`${e}2`]:a===void 0?{transform:h=>d(h).map(p=>u.offset(p)),label:s}:a})}function Ag(e,t,n){const{[e]:r}=n,{value:i,interval:o}=Eg(r,n);return i==null||o==null?n:t({...n,[e]:{label:pn(r),transform:a=>{const f=me(le(a,i),s=>o.floor(s)),u=f.map(s=>o.offset(s));return f.map(Oe(f)?(s,c)=>s==null||isNaN(s=+s)||(c=u[c],c==null)||isNaN(c=+c)?void 0:new Date((s+c)/2):(s,c)=>s==null||(c=u[c],c==null)?NaN:(+s+ +c)/2)}}})}function a7(e={}){return hc("x",Ha,e,!0)}function f7(e={}){return hc("x",Ha,e)}function u7(e={}){return hc("y",Mg,e)}function s7(e={}){return Ag("x",Ha,e)}function c7(e={}){return Ag("y",Mg,e)}const Cg={ariaLabel:"rule",fill:null,stroke:"currentColor"};class l7 extends Qe{constructor(t,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:u=a}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},qi(n,"x"),Cg),this.insetTop=Ce(f),this.insetBottom=Ce(u),dc(this,n)}render(t,n,r,i,o){const{x:a,y:f}=n,{x:u,y1:s,y2:c}=r,{width:l,height:d,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetTop:y,insetBottom:b}=this;return Te("svg:g",o).call(Xt,this,i,o).call(Vt,this,{x:u&&a},qe,0).call(_=>_.selectAll().data(t).enter().append("line").call(St,this).attr("x1",u?w=>u[w]:(m+l-p)/2).attr("x2",u?w=>u[w]:(m+l-p)/2).attr("y1",s&&!br(f)?w=>s[w]+y:h+y).attr("y2",c&&!br(f)?f.bandwidth?w=>c[w]+f.bandwidth()-b:w=>c[w]-b:d-g-b).call(On,this,r).call(xg,this,r,o)).node()}}class d7 extends Qe{constructor(t,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:u=a}=n;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},qi(n,"y"),Cg),this.insetRight=Ce(f),this.insetLeft=Ce(u),dc(this,n)}render(t,n,r,i,o){const{x:a,y:f}=n,{y:u,x1:s,x2:c}=r,{width:l,height:d,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetLeft:y,insetRight:b}=this;return Te("svg:g",o).call(Xt,this,i,o).call(Vt,this,{y:u&&f},0,qe).call(_=>_.selectAll().data(t).enter().append("line").call(St,this).attr("x1",s&&!br(a)?w=>s[w]+y:m+y).attr("x2",c&&!br(a)?a.bandwidth?w=>c[w]+a.bandwidth()-b:w=>c[w]-b:l-p-b).attr("y1",u?w=>u[w]:(h+d-g)/2).attr("y2",u?w=>u[w]:(h+d-g)/2).call(On,this,r).call(xg,this,r,o)).node()}}function kg(e,t){let{x:n=xe,y:r,y1:i,y2:o,...a}=u7(t);return[i,o]=Ng(r,i,o),new l7(e,{...a,x:n,y1:i,y2:o})}function Wa(e,t){let{y:n=xe,x:r,x1:i,x2:o,...a}=f7(t);return[i,o]=Ng(r,i,o),new d7(e,{...a,y:n,x1:i,x2:o})}function Ng(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function Dg(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let o=0;o<n;++o)i+=t[o](r)+e[o+1];return i}}const h7={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},Ig="­";class pc extends Qe{constructor(t,n={}){const{x:r,y:i,text:o=mn(t)&&k1(t)?xe:Di,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:u=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:s=1,lineWidth:c=1/0,textOverflow:l,monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:y,rotate:b}=n,[_,w]=Pe(b,0),[S,M]=y7(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:S,optional:!0},rotate:{value:O8(_),optional:!0},text:{value:o,filter:Rs,optional:!0}},n,h7),this.rotate=w,this.textAnchor=Me(f,"middle"),this.lineAnchor=st(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+s,this.lineWidth=+c,this.textOverflow=Lg(l),this.monospace=!!d,this.fontFamily=De(h),this.fontSize=M,this.fontStyle=De(m),this.fontVariant=De(g),this.fontWeight=De(y),this.frameAnchor=Xs(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${c}`);this.splitLines=Pg(this),this.clipLine=qg(this)}render(t,n,r,i,o){const{x:a,y:f}=n,{x:u,y:s,rotate:c,text:l,title:d,fontSize:h}=r,{rotate:p}=this,[m,g]=Ga(this,i);return Te("svg:g",o).call(Xt,this,i,o).call(Fg,this,l,i).call(Vt,this,{x:u&&a,y:s&&f}).call(y=>y.selectAll().data(t).enter().append("text").call(St,this).call(p7,this,l,d).attr("transform",Dg`translate(${u?b=>u[b]:m},${s?b=>s[b]:g})${c?b=>` rotate(${c[b]})`:p?` rotate(${p})`:""}`).call(K,"font-size",h&&(b=>h[b])).call(On,this,r)).node()}}function Lg(e){return e==null?null:st(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function p7(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:u}=t;e.each(function(s){const c=f(yr(n[s])??"").map(u),l=c.length,d=i==="top"?.71:i==="bottom"?1-l:(164-l*100)/200;if(l>1){let h=0;for(let p=0;p<l;++p){if(++h,!c[p])continue;const m=this.ownerDocument.createElementNS(rr.svg,"tspan");m.setAttribute("x",0),p===h-1?m.setAttribute("y",`${(d+p)*o}em`):m.setAttribute("dy",`${h*o}em`),m.textContent=c[p],this.appendChild(m),h=0}}else d&&this.setAttribute("y",`${d*o}em`),this.textContent=c[0];if(a&&!r&&c[0]!==n[s]){const h=this.ownerDocument.createElementNS(rr.svg,"title");h.textContent=n[s],this.appendChild(h)}})}function Rg(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Ys(t,n)),new pc(e,{...r,x:t,y:n})}function Og(e,{x:t=xe,...n}={}){return new pc(e,c7({...n,x:t}))}function m7(e,{y:t=xe,...n}={}){return new pc(e,s7({...n,y:t}))}function Fg(e,t,n){K(e,"text-anchor",t.textAnchor),K(e,"font-family",t.fontFamily),K(e,"font-size",t.fontSize),K(e,"font-style",t.fontStyle),K(e,"font-variant",t.fontVariant===void 0?g7(n):t.fontVariant),K(e,"font-weight",t.fontWeight)}function g7(e){return e&&(q8(e)||Oe(e))?"tabular-nums":void 0}const b7=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function y7(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),b7.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function w7(e,t,n){const r=[];let i,o=0;for(const[a,f,u]of _7(e)){if(i===void 0&&(i=a),o>i&&n(e,i,f)>t&&(r.push(e.slice(i,o)+(e[o-1]===Ig?"-":"")),i=a),u){r.push(e.slice(i,f)),i=void 0;continue}o=f}return r}function*_7(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case Ig:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const Ad={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"‘":31,"’":31,"“":47,"”":47,"…":82};function mc(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Mr(e,i))r+=Ad[e[i]]??(Bg(e,i)?120:Ad.e);return r}function gc(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=Mr(e,i))r+=Bg(e,i)?126:63;return r}function Pg({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);const r=e?gc:mc,i=t*100;return o=>w7(o,i,r)}function qg({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return o=>o;const r=e?gc:mc,i=t*100;switch(n){case"clip-start":return o=>kd(o,i,r,"");case"clip-end":return o=>Cd(o,i,r,"");case"ellipsis-start":return o=>kd(o,i,r,tr);case"ellipsis-middle":return o=>v7(o,i,r,tr);case"ellipsis-end":return o=>Cd(o,i,r,tr)}}const tr="…";function wr(e,t,n,r){const i=[];let o=0;for(let a=0,f=0,u=e.length;a<u;a=f){f=Mr(e,a);const s=n(e,a,f);if(o+s>t){for(o+=r;o>t&&a>0;)f=a,a=i.pop(),o-=n(e,a,f);return[a,t-o]}o+=s,i.push(a)}return[-1,0]}function Cd(e,t,n,r){e=e.trim();const i=n(r),[o]=wr(e,t,n,i);return o<0?e:e.slice(0,o).trimEnd()+r}function v7(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r)/2,[a,f]=wr(e,t/2,n,o),[u]=wr(e,i-t/2-f+o,n,-o);return u<0?r:e.slice(0,a).trimEnd()+r+e.slice(Mr(e,u)).trimStart()}function kd(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r),[a]=wr(e,i-t+o,n,-o);return a<0?r:r+e.slice(Mr(e,a)).trimStart()}const ns=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Nd=new RegExp("\\p{Extended_Pictographic}","uy");function Mr(e,t){return t+=x7(e,t)?2:1,S7(e,t)&&(t=ns.lastIndex),T7(e,t)?Mr(e,t+1):t}function zg(e,t){return e.charCodeAt(t)<128}function x7(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function T7(e,t){return e.charCodeAt(t)===8205}function S7(e,t){return zg(e,t)?!1:(ns.lastIndex=t,ns.test(e))}function Bg(e,t){return zg(e,t)?!1:(Nd.lastIndex=t,Nd.test(e))}const M7={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},jg=3.5,$7=jg*5,Ug={draw(e,t,n){const r=t*n/$7;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},E7={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},A7=new Map([["arrow",Ug],["spike",E7]]);function C7(e){return e&&typeof e.draw=="function"}function k7(e){if(C7(e))return e;const t=A7.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class Yg extends Qe{constructor(t,n={}){const{x:r,y:i,r:o=jg,length:a,rotate:f,shape:u=Ug,anchor:s="middle",frameAnchor:c}=n,[l,d]=Pe(a,12),[h,p]=Pe(f,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:l,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,M7),this.r=+o,this.length=d,this.rotate=p,this.shape=k7(u),this.anchor=st(s,"anchor",["start","middle","end"]),this.frameAnchor=Xs(c)}render(t,n,r,i,o){const{x:a,y:f}=n,{x:u,y:s,length:c,rotate:l}=r,{length:d,rotate:h,anchor:p,shape:m,r:g}=this,[y,b]=Ga(this,i);return Te("svg:g",o).call(Xt,this,i,o).call(Vt,this,{x:u&&a,y:s&&f}).call(_=>_.selectAll().data(t).enter().append("path").call(St,this).attr("transform",Dg`translate(${u?w=>u[w]:y},${s?w=>s[w]:b})${l?w=>` rotate(${l[w]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?c?w=>` translate(0,${c[w]})`:` translate(0,${d})`:c?w=>` translate(0,${c[w]/2})`:` translate(0,${d/2})`}`).attr("d",c?w=>{const S=vu();return m.draw(S,c[w],g),S}:(()=>{const w=vu();return m.draw(w,d,g),w})()).call(On,this,r)).node()}}function N7(e,t={}){const{x:n=xe,...r}=t;return new Yg(e,{...r,x:n})}function D7(e,t={}){const{y:n=xe,...r}=t;return new Yg(e,{...r,y:n})}function bn(e,t){return arguments.length<2&&!mn(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function Xa({anchor:e}={},t){return e===void 0?t[0]:st(e,"anchor",t)}function Gg(e){return Xa(e,["left","right"])}function Hg(e){return Xa(e,["right","left"])}function Wg(e){return Xa(e,["bottom","top"])}function Xg(e){return Xa(e,["top","bottom"])}function Vg(){const[e,t]=bn(...arguments);return Kg("y",Gg(t),e,t)}function I7(){const[e,t]=bn(...arguments);return Kg("fy",Hg(t),e,t)}function Zg(){const[e,t]=bn(...arguments);return Qg("x",Wg(t),e,t)}function L7(){const[e,t]=bn(...arguments);return Qg("fx",Xg(t),e,t)}function Kg(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:u=r,fillOpacity:s=i,textAnchor:c,textStroke:l,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="y"?6:0,tickPadding:m,tickRotate:g,x:y,margin:b,marginTop:_=b===void 0?20:b,marginRight:w=b===void 0?t==="right"?40:0:b,marginBottom:S=b===void 0?20:b,marginLeft:M=b===void 0?t==="left"?40:0:b,label:A,labelAnchor:C,labelArrow:k,labelOffset:R,...$}){return p=Ce(p),m=Ce(m),g=Ce(g),C!==void 0&&(C=st(C,"labelAnchor",["center","top","bottom"])),k=ab(k),Bn(p&&!Ee(o)?R7(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,x:y,...$}):null,Ee(u)?null:F7(e,t,n,{fill:u,fillOpacity:s,stroke:l,strokeOpacity:d,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:g,x:y,marginTop:_,marginRight:w,marginBottom:S,marginLeft:M,...$}),!Ee(u)&&A!==null?Rg([],nb({fill:u,fillOpacity:s,...$},function(T,v,E,x,N){const D=x[e],{marginTop:B,marginRight:U,marginBottom:O,marginLeft:q}=e==="y"&&N.inset||N,F=C??(D.bandwidth?"center":"top"),P=R??(t==="right"?U:q)-3;return F==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=F,this.frameAnchor=`${F}-${t}`,this.rotate=0),this.dy=F==="top"?3-B:F==="bottom"?O-3:0,this.dx=t==="right"?P:-P,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[ob(e,D,{anchor:t,label:A,labelAnchor:F,labelArrow:k})]}}}})):null)}function Qg(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:u=r,fillOpacity:s=i,textAnchor:c,textStroke:l,textStrokeOpacity:d,textStrokeWidth:h,tickSize:p=e==="x"?6:0,tickPadding:m,tickRotate:g,y,margin:b,marginTop:_=b===void 0?t==="top"?30:0:b,marginRight:w=b===void 0?20:b,marginBottom:S=b===void 0?t==="bottom"?30:0:b,marginLeft:M=b===void 0?20:b,label:A,labelAnchor:C,labelArrow:k,labelOffset:R,...$}){return p=Ce(p),m=Ce(m),g=Ce(g),C!==void 0&&(C=st(C,"labelAnchor",["center","left","right"])),k=ab(k),Bn(p&&!Ee(o)?O7(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,y,...$}):null,Ee(u)?null:P7(e,t,n,{fill:u,fillOpacity:s,stroke:l,strokeOpacity:d,strokeWidth:h,textAnchor:c,tickSize:p,tickPadding:m,tickRotate:g,y,marginTop:_,marginRight:w,marginBottom:S,marginLeft:M,...$}),!Ee(u)&&A!==null?Rg([],nb({fill:u,fillOpacity:s,...$},function(T,v,E,x,N){const D=x[e],{marginTop:B,marginRight:U,marginBottom:O,marginLeft:q}=e==="x"&&N.inset||N,F=C??(D.bandwidth?"center":"right"),P=R??(t==="top"?B:O)-3;return F==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${F}`,this.textAnchor=F==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-P:P,this.dx=F==="right"?U-3:F==="left"?3-q:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[ob(e,D,{anchor:t,label:A,labelAnchor:F,labelArrow:k})]}}}})):null)}function R7(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="y"?"-empty":""),frameAnchor:f=t,tickSize:u,inset:s=0,insetLeft:c=s,insetRight:l=s,dx:d=0,y:h=e==="y"?void 0:null,...p}){return $r(D7,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:h,...p,dx:t==="left"?+d-qe+ +c:+d+qe-l,anchor:"start",length:u,shape:t==="left"?H7:W7})}function O7(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="x"?"-empty":""),frameAnchor:f=t,tickSize:u,inset:s=0,insetTop:c=s,insetBottom:l=s,dy:d=0,x:h=e==="x"?void 0:null,...p}){return $r(N7,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:h,...p,dy:t==="bottom"?+d-qe-l:+d+qe+ +c,anchor:"start",length:u,shape:t==="bottom"?Y7:G7})}function F7(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*vg):0),text:u,textAnchor:s=Math.abs(a)>60?"middle":t==="left"?"end":"start",lineAnchor:c=a>60?"top":a<-60?"bottom":"middle",fontVariant:l,inset:d=0,insetLeft:h=d,insetRight:p=d,dx:m=0,y:g=e==="y"?void 0:null,...y}){return $r(m7,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:s,lineAnchor:c,fontVariant:l,rotate:a,y:g,...y,dx:t==="left"?+m-o-f+ +h:+m+ +o+ +f-p},function(b,_,w,S,M){l===void 0&&(this.fontVariant=ib(b)),u===void 0&&(M.text=rb(b,_,w,S,t))})}function P7(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*vg):0),text:u,textAnchor:s=Math.abs(a)>=10?a<0^t==="bottom"?"start":"end":"middle",lineAnchor:c=Math.abs(a)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:l,inset:d=0,insetTop:h=d,insetBottom:p=d,dy:m=0,x:g=e==="x"?void 0:null,...y}){return $r(Og,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:s,lineAnchor:c,fontVariant:l,rotate:a,x:g,...y,dy:t==="bottom"?+m+ +o+ +f-p:+m-o-f+ +h},function(b,_,w,S,M){l===void 0&&(this.fontVariant=ib(b)),u===void 0&&(M.text=rb(b,_,w,S,t))})}function q7(){const[e,t]=bn(...arguments);return Jg("y",Gg(t),e,t)}function z7(){const[e,t]=bn(...arguments);return Jg("fy",Hg(t),e,t)}function B7(){const[e,t]=bn(...arguments);return eb("x",Wg(t),e,t)}function j7(){const[e,t]=bn(...arguments);return eb("fx",Xg(t),e,t)}function Jg(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:o=t==="left"?i:null,x2:a=t==="right"?i:null,...f}){return $r(Wa,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...tb(f)})}function eb(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:o=t==="top"?i:null,y2:a=t==="bottom"?i:null,...f}){return $r(kg,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...tb(f)})}function tb({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function nb({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:s,clip:c=!1},l){return[,e]=Ke(e),[,t]=Pe(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:s,clip:c,initializer:l}}function $r(e,t,n,r,i,o){let a;function f(c,l,d,h,p,m){const g=c==null&&(t==="fx"||t==="fy"),{[t]:y}=h;if(!y)throw new Error(`missing scale: ${t}`);const b=y.domain();let{interval:_,ticks:w,tickFormat:S,tickSpacing:M=t==="x"?80:35}=i;if(typeof w=="string"&&fb(y)&&(_=w,w=void 0),w===void 0&&(w=Tr(_,y.type)??U7(y,M)),c==null){if(mn(w))c=sn(w);else if(Zn(w))c=Hf(w,...Ge(b));else if(y.interval){let C=y.interval;if(y.ticks){const[k,R]=Ge(b),$=(R-k)/C[Ni];C=rd(C,$/w)??C,c=Hf(C,k,R)}else{c=b;const k=c.length;C=rd(C,k/w)??C,C!==y.interval&&(c=Hf(C,...Ge(c)))}if(C===y.interval){const k=Math.round(c.length/w);k>1&&(c=c.filter((R,$)=>$%k===0))}}else y.ticks?c=y.ticks(w):c=b;if(!y.ticks&&c.length&&c!==b){const C=new ha(b);c=c.filter(k=>C.has(k)),c.length||rn(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?l=[Ht(c)]:a[t]={scale:t,value:xe}}o==null||o.call(this,y,c,w,S,a);const A=Object.fromEntries(Object.entries(a).map(([C,k])=>[C,{...k,value:le(c,k.value)}]));return g&&(l=m.filterFacets(c,A)),{data:c,facets:l,channels:A}}const u=gr(i).initializer,s=e(n,gr({...i,initializer:f},u));return n==null?(a=s.channels,s.channels={}):a={},r!==void 0&&Object.assign(s,r),s.clip===void 0&&(s.clip=!1),s}function U7(e,t){const[n,r]=Ge(e.range());return(r-n)/t}function rb(e,t,n,r,i){return{value:bc(e,t,n,r,i)}}function bc(e,t,n,r,i){return typeof r=="function"&&!(e.type==="log"&&e.tickFormat)?r:r===void 0&&t&&Oe(t)?_8(e.type,t,i)??yr:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):r===void 0?yr:typeof r=="string"?(Oe(e.domain())?Ci:vr)(r):zt(r)}function Hf(e,t,n){return e.range(t,e.offset(e.floor(n)))}const Y7={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},G7={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},H7={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},W7={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function ib(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function ob(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&fb(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!t.bandwidth||t.interval)&&!/[↑↓→←]/.test(r)),!o)return r;if(o===!0){const a=ag(t);a&&(o=/x$/.test(e)||i==="center"?/x$/.test(e)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return`← ${r}`;case"right":return`${r} →`;case"up":return n==="right"?`${r} ↑`:`↑ ${r}`;case"down":return n==="right"?`${r} ↓`:`↓ ${r}`}return r}}function ab(e="auto"){return Ee(e)?!1:typeof e=="boolean"?e:st(e,"labelArrow",["auto","up","right","down","left"])}function fb(e){return Oe(e.domain())}function Dd(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function X7(e,{opacity:t,...n}={}){if(!zn(e)&&!cg(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return ub(e,n,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Pe(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function V7(e,{fill:t=(s=>(s=e.hint)==null?void 0:s.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(c=>(c=e.hint)==null?void 0:c.stroke)()!==void 0?e.hint.stroke:Ee(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},u){const[l,d]=Ke(t),[h,p]=Ke(r),m=Dd(u,l),g=Dd(u,h),y=a*a*Math.PI;return n=Pe(n)[1],i=Pe(i)[1],o=Pe(o)[1],ub(e,f,(b,_,w,S)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",w).attr("height",S).attr("fill",l==="color"?M=>m.scale(M):d).attr("fill-opacity",n).attr("stroke",h==="color"?M=>g.scale(M):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",M=>{const A=vu();return e.scale(M).draw(A,y),A}))}function ub(e,t={},n){let{columns:r,tickFormat:i,fontVariant:o=_g(e),swatchSize:a=15,swatchWidth:f=a,swatchHeight:u=a,marginLeft:s=0,className:c,style:l,width:d}=t;const h=uc(t);c=Ya(c),i=bc(e.scale,e.domain,void 0,i);const p=Te("div",h).attr("class",`${c}-swatches ${c}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${c}-swatches-columns .${c}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${c}-swatches-columns .${c}-swatch::before) {
  flex-shrink: 0;
}
:where(.${c}-swatches-columns .${c}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${c}-swatch`).call(n,e,f,u).call(g=>g.append("div").attr("class",`${c}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${c}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${c}-swatches-wrap .${c}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(e.domain).enter().append("span").attr("class",`${c}-swatch`).call(n,e,f,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(g=>g.insert("style","*").text(`:where(.${c}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${c}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",s?`${+s}px`:null).style("width",d===void 0?null:`${+d}px`).style("font-variant",Me(o,"normal")).call(cc,l).node()}const rs=new Map([["symbol",V7],["color",cb],["opacity",K7]]);function Z7(e,t,n={}){return(r,i)=>{if(!rs.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return rs.get(r)(e[r],sb(t,n[r],i),o=>e[o])}}function sb({className:e,...t},{label:n,ticks:r,tickFormat:i}={},o){return U8(o,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function cb(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return X7(e,n);case"ramp":return e7(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function K7({type:e,interpolate:t,...n},{legend:r=!0,color:i=an(0,0,0),...o}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return cb({type:e,...n,interpolate:Q7(i)},{legend:r,...o})}function Q7(e){const{r:t,g:n,b:r}=an(e)||an(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function J7(e,t,n){const r=[];for(const[i,o]of rs){const a=n[i];if(a!=null&&a.legend&&i in e){const f=o(e[i],sb(t,e[i],a),u=>e[u]);f!=null&&r.push(f)}}return r}function lb(e={}){return A1(e)?e:{...e,y:xe}}function e9(e,t){if(t.length===1)return{data:e,facets:t};const n=ci(e),r=new Uint8Array(n);let i=0;for(const f of t)for(const u of f)r[u]&&++i,r[u]=1;if(i===0)return{data:e,facets:t};e=si(e);const o=e[T1]=new Uint32Array(n+i);t=t.map(f=>si(f,Uint32Array));let a=n;r.fill(0);for(const f of t)for(let u=0,s=f.length;u<s;++u){const c=f[u];r[c]?(f[u]=a,e[a]=e[c],o[a]=c,++a):o[c]=c,r[c]=1}return{data:e,facets:t}}function t9(e={},t={}){arguments.length===1&&([e,t]=n9(e));const{x1:n,x:r=n,y:i,...o}=t,[a,f,u,s]=i9(r,i,"x","y",e,o);return{...a,x1:n,x:f,y1:u,y2:s,y:Hu(u,s)}}function db({y:e,y1:t,y2:n,...r}={}){return r=qi(r,"x"),t===void 0&&n===void 0?t9({y:e,...r}):([t,n]=k8(e,t,n),{...r,y1:t,y2:n})}function n9(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const r9={length:!0};function i9(e,t=M8,n,r,{offset:i,order:o,reverse:a},f){if(t===null)throw new Error(`stack requires ${r}`);const u=Gs(f),[s,c]=Ie(e),[l,d]=ta(t),[h,p]=ta(t);return l.hint=h.hint=r9,i=o9(i),o=u9(o,i,r),[Oi(f,(m,g,y)=>{({data:m,facets:g}=e9(m,g));const b=e==null?void 0:c(na(le(m,e),y==null?void 0:y[n])),_=le(m,t,Float64Array),w=le(m,u),S=o&&o(m,b,_,w),M=ci(m),A=d(new Float64Array(M)),C=p(new Float64Array(M)),k=[];for(const R of g){const $=b?Array.from(pa(R,T=>b[T]).values()):[R];if(S)for(const T of $)T.sort(S);for(const T of $){let v=0,E=0;a&&T.reverse();for(const x of T){const N=_[x];N<0?v=C[x]=(A[x]=v)+N:N>0?E=C[x]=(A[x]=E)+N:C[x]=A[x]=E}}k.push($)}return i&&i(k,A,C,w),{data:m,facets:g}}),s,l,h]}function o9(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return a9;case"center":case"silhouette":return f9;case"wiggle":return pb}throw new Error(`unknown offset: ${e}`)}}function hb(e,t){let n=0,r=0;for(const i of e){const o=t[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function a9(e,t,n){for(const r of e)for(const i of r){const[o,a]=hb(i,n);for(const f of i){const u=1/(a-o||1);t[f]=u*(t[f]-o),n[f]=u*(n[f]-o)}}}function f9(e,t,n){for(const r of e){for(const i of r){const[o,a]=hb(i,n);for(const f of i){const u=(a+o)/2;t[f]-=u,n[f]-=u}}mb(r,t,n)}gb(e,t,n)}function pb(e,t,n,r){for(const i of e){const o=new An;let a=0;for(const f of i){let u=-1;const s=f.map(h=>Math.abs(n[h]-t[h])),c=f.map(h=>{u=r?r[h]:++u;const p=n[h]-t[h],m=o.has(u)?p-o.get(u):0;return o.set(u,p),m}),l=[0,...t2(c)];for(const h of f)t[h]+=a,n[h]+=a;const d=on(s);d&&(a-=on(s,(h,p)=>(c[p]/2+l[p])*h)/d)}mb(i,t,n)}gb(e,t,n)}function mb(e,t,n){const r=jt(e,i=>jt(i,o=>t[o]));for(const i of e)for(const o of i)t[o]-=r,n[o]-=r}function gb(e,t,n){const r=e.length;if(r===1)return;const i=e.map(f=>f.flat()),o=i.map(f=>(jt(f,u=>t[u])+nt(f,u=>n[u]))/2),a=jt(o);for(let f=0;f<r;f++){const u=a-o[f];for(const s of i[f])t[s]+=u,n[s]+=u}}function u9(e,t,n){if(e===void 0&&t===pb)return Id(ft);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?Jo:ft;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return s9(i);case"z":return c9(i);case"sum":return l9(i);case"appearance":return d9(i);case"inside-out":return Id(i)}return Ld(S1(e))}if(typeof e=="function")return(e.length===1?Ld:h9)(e);if(dn(e))return p9(e);throw new Error(`invalid order: ${e}`)}}function s9(e){return(t,n,r)=>(i,o)=>e(r[i],r[o])}function c9(e){return(t,n,r,i)=>(o,a)=>e(i[o],i[a])}function l9(e){return Va(e,(t,n,r,i)=>fs(Ht(t),o=>on(o,a=>r[a]),o=>i[o]))}function d9(e){return Va(e,(t,n,r,i)=>fs(Ht(t),o=>n[Dh(o,a=>r[a])],o=>i[o]))}function Id(e){return Va(e,(t,n,r,i)=>{const o=Ht(t),a=fs(o,l=>n[Dh(l,d=>r[d])],l=>i[l]),f=Kn(o,l=>on(l,d=>r[d]),l=>i[l]),u=[],s=[];let c=0;for(const l of a)c<0?(c+=f.get(l),u.push(l)):(c-=f.get(l),s.push(l));return s.reverse().concat(u)})}function Ld(e){return t=>{const n=le(t,e);return(r,i)=>ft(n[r],n[i])}}function h9(e){return t=>dn(t)?(n,r)=>e(t[n],t[r]):(n,r)=>e(t.get(n),t.get(r))}function p9(e){return Va(ft,()=>e)}function Va(e,t){return(n,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new An(t(n,r,i,o).map((f,u)=>[f,u]));return(f,u)=>e(a.get(o[f]),a.get(o[u]))}}const m9={ariaLabel:"rect"};class g9 extends Qe{constructor(t,n={}){const{x1:r,y1:i,x2:o,y2:a}=n;super(t,{x1:{value:r,scale:"x",type:r!=null&&o==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&a==null?"band":void 0,optional:!0},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,m9),bb(this,n),yb(this,n)}render(t,n,r,i,o){const{x:a,y:f}=n;let{x1:u,y1:s,x2:c,y2:l}=r;const{marginTop:d,marginRight:h,marginBottom:p,marginLeft:m,width:g,height:y}=i,{projection:b}=o,{insetTop:_,insetRight:w,insetBottom:S,insetLeft:M}=this,{rx:A,ry:C,rx1y1:k,rx1y2:R,rx2y1:$,rx2y2:T}=this;(u||c)&&!b&&br(a)&&(u=c=null),(s||l)&&!b&&br(f)&&(s=l=null);const v=a!=null&&a.bandwidth?a.bandwidth():0,E=f!=null&&f.bandwidth?f.bandwidth():0;return Te("svg:g",o).call(Xt,this,i,o).call(Vt,this,{},0,0).call(x=>x.selectAll().data(t).enter().call(k||R||$||T?N=>N.append("path").call(St,this).call(wb,u&&c?D=>u[D]+(c[D]<u[D]?-w:M):u?D=>u[D]+M:m+M,s&&l?D=>s[D]+(l[D]<s[D]?-S:_):s?D=>s[D]+_:d+_,u&&c?D=>c[D]-(c[D]<u[D]?-M:w):u?D=>u[D]+v-w:g-h-w,s&&l?D=>l[D]-(l[D]<s[D]?-_:S):s?D=>s[D]+E-S:y-p-S,this).call(On,this,r):N=>N.append("rect").call(St,this).attr("x",u?c?D=>Math.min(u[D],c[D])+M:D=>u[D]+M:m+M).attr("y",s?l?D=>Math.min(s[D],l[D])+_:D=>s[D]+_:d+_).attr("width",u?c?D=>Math.max(0,Math.abs(c[D]-u[D])+v-M-w):v-M-w:g-h-m-w-M).attr("height",s?l?D=>Math.max(0,Math.abs(s[D]-l[D])+E-_-S):E-_-S:y-d-p-_-S).call(K,"rx",A).call(K,"ry",C).call(On,this,r))).node()}}function bb(e,{inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={}){e.insetTop=Ce(n),e.insetRight=Ce(r),e.insetBottom=Ce(i),e.insetLeft=Ce(o)}function yb(e,{r:t,rx:n,ry:r,rx1:i=t,ry1:o=t,rx2:a=t,ry2:f=t,rx1y1:u=i!==void 0?+i:o!==void 0?+o:0,rx1y2:s=i!==void 0?+i:f!==void 0?+f:0,rx2y1:c=a!==void 0?+a:o!==void 0?+o:0,rx2y2:l=a!==void 0?+a:f!==void 0?+f:0}={}){u||s||c||l?(e.rx1y1=u,e.rx1y2=s,e.rx2y1=c,e.rx2y2=l):(e.rx=Me(n,"auto"),e.ry=Me(r,"auto"))}function wb(e,t,n,r,i,o){const{rx1y1:a,rx1y2:f,rx2y1:u,rx2y2:s}=o;typeof t!="function"&&(t=zt(t)),typeof n!="function"&&(n=zt(n)),typeof r!="function"&&(r=zt(r)),typeof i!="function"&&(i=zt(i));const c=Math.max(Math.abs(a+u),Math.abs(f+s)),l=Math.max(Math.abs(a+f),Math.abs(u+s));e.attr("d",d=>{const h=t(d),p=n(d),m=r(d),g=i(d),y=h>m,b=p>g,_=y?m:h,w=y?h:m,S=b?g:p,M=b?p:g,A=Math.min(1,(w-_)/c,(M-S)/l),C=A*(y?b?s:u:b?f:a),k=A*(y?b?f:a:b?s:u),R=A*(y?b?a:f:b?u:s),$=A*(y?b?u:s:b?a:f);return`M${_},${S+ro(C,$)}A${C},${C} 0 0 ${C<0?0:1} ${_+no(C,$)},${S}H${w-no(k,R)}A${k},${k} 0 0 ${k<0?0:1} ${w},${S+ro(k,R)}V${M-ro(R,k)}A${R},${R} 0 0 ${R<0?0:1} ${w-no(R,k)},${M}H${_+no($,C)}A${$},${$} 0 0 ${$<0?0:1} ${_},${M-ro($,C)}Z`})}function no(e,t){return t<0?e:Math.abs(e)}function ro(e,t){return t<0?Math.abs(e):e}function UT(e,t={}){return C8(t)||(t={...t,x:Di,y2:xe,interval:1}),new g9(e,db(a7(lb(t))))}const b9={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},y9={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class w9 extends Qe{constructor(t={}){const{anchor:n=null}=t;super(_o,void 0,t,n==null?b9:y9),this.anchor=E1(n,"anchor",["top","right","bottom","left"]),bb(this,t),n||yb(this,t)}render(t,n,r,i,o){const{marginTop:a,marginRight:f,marginBottom:u,marginLeft:s,width:c,height:l}=i,{anchor:d,insetTop:h,insetRight:p,insetBottom:m,insetLeft:g}=this,{rx:y,ry:b,rx1y1:_,rx1y2:w,rx2y1:S,rx2y2:M}=this,A=s+g,C=c-f-p,k=a+h,R=l-u-m;return Te(d?"svg:line":_||w||S||M?"svg:path":"svg:rect",o).datum(0).call(Xt,this,i,o).call(St,this).call(On,this,r).call(Vt,this,{}).call(d==="left"?$=>$.attr("x1",A).attr("x2",A).attr("y1",k).attr("y2",R):d==="right"?$=>$.attr("x1",C).attr("x2",C).attr("y1",k).attr("y2",R):d==="top"?$=>$.attr("x1",A).attr("x2",C).attr("y1",k).attr("y2",k):d==="bottom"?$=>$.attr("x1",A).attr("x2",C).attr("y1",R).attr("y2",R):_||w||S||M?$=>$.call(wb,A,k,C,R,this):$=>$.attr("x",A).attr("y",k).attr("width",C-A).attr("height",R-k).attr("rx",y).attr("ry",b)).node()}}function _9(e){return new w9(e)}const Wf={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},v9=new Set(["geometry","href","src","ariaLabel","scales"]);class x9 extends Qe{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&mn(t)&&k1(t)&&(n={...n,title:xe});const{x:r,y:i,x1:o,x2:a,y1:f,y2:u,anchor:s,preferredAnchor:c="bottom",monospace:l,fontFamily:d=l?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:m,fontWeight:g,lineHeight:y=1,lineWidth:b=20,frameAnchor:_,format:w,textAnchor:S="start",textOverflow:M,textPadding:A=8,title:C,pointerSize:k=12,pathFilter:R="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:u,scale:"y",optional:f==null},title:{value:C,optional:!0}},n,Wf),this.anchor=Wu(s,"anchor"),this.preferredAnchor=Wu(c,"preferredAnchor"),this.frameAnchor=Xs(_),this.textAnchor=Me(S,"middle"),this.textPadding=+A,this.pointerSize=+k,this.pathFilter=De(R),this.lineHeight=+y,this.lineWidth=+b,this.textOverflow=Lg(M),this.monospace=!!l,this.fontFamily=De(d),this.fontSize=Ce(h),this.fontStyle=De(p),this.fontVariant=De(m),this.fontWeight=De(g);for(const $ in Wf)$ in this.channels&&(this[$]=Wf[$]);this.splitLines=Pg(this),this.clipLine=qg(this),this.format=typeof w=="string"||typeof w=="function"?{title:w}:{...w}}render(t,n,r,i,o){const a=this,{x:f,y:u,fx:s,fy:c}=n,{ownerSVGElement:l,document:d}=o,{anchor:h,monospace:p,lineHeight:m,lineWidth:g}=this,{textPadding:y,pointerSize:b,pathFilter:_}=this,{marginTop:w,marginLeft:S}=i,{x1:M,y1:A,x2:C,y2:k,x:R=M??C,y:$=A??k}=r,T=s?s(t.fx)-S:0,v=c?c(t.fy)-w:0,[E,x]=Ga(this,i),N=yg(r,E),D=wg(r,x),B=p?gc:mc,U=B(tr);let O,q;"title"in r?(O=Rd.call(this,{title:r.channels.title},n),q=E9):(O=Rd.call(this,r.channels,n),q=A9);const F=Te("svg:g",o).call(Xt,this,i,o).call(Fg,this).call(Vt,this,{x:R&&f,y:$&&u}).call(Z=>Z.selectAll().data(t).enter().append("g").attr("transform",W=>`translate(${Math.round(N(W))},${Math.round(D(W))})`).call(St,this).call(W=>W.append("path").attr("filter",_)).call(W=>W.append("text").each(function(Y){const z=Qn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const I=q.call(a,Y,t,O,n,r);if(typeof I=="string")for(const j of a.splitLines(I))P(z,{value:a.clipLine(j)});else{const j=new Set;for(const G of I){const{label:L=""}=G;L&&j.has(L)||(j.add(L),P(z,G))}}})));function P(Z,{label:W,value:Y,color:z,opacity:I}){W??(W=""),Y??(Y="");const j=z!=null||I!=null;let G,L=g*100;const[re]=wr(W,L,B,U);if(re>=0)W=W.slice(0,re).trimEnd()+tr,G=Y.trim(),Y="";else{(W||!Y&&!j)&&(Y=" "+Y);const[oe]=wr(Y,L-B(W),B,U);oe>=0&&(G=Y.trim(),Y=Y.slice(0,oe).trimEnd()+tr)}const X=Z.append("tspan").attr("x",0).attr("dy",`${m}em`).text("​");W&&X.append("tspan").attr("font-weight","bold").text(W),Y&&X.append(()=>d.createTextNode(Y)),j&&X.append("tspan").text(" ■").attr("fill",z).attr("fill-opacity",I).style("user-select","none"),G&&X.append("title").text(G)}function V(){const{width:Z,height:W}=i.facet??i;F.selectChildren().each(function(Y){let{x:z,width:I,height:j}=this.getBBox();I=Math.round(I),j=Math.round(j);let G=h;if(G===void 0){const X=N(Y)+T,oe=D(Y)+v,ae=X+I+b+y*2<Z,ce=X-I-b-y*2>0,ct=oe+j+b+y*2<W,yn=oe-j-b-y*2>0;G=ae&&ce?ct&&yn?a.preferredAnchor:yn?"bottom":"top":ct&&yn?ae?"left":"right":(ae||ce)&&(ct||yn)?`${yn?"bottom":"top"}-${ae?"left":"right"}`:a.preferredAnchor}const L=this.firstChild,re=this.lastChild;if(L.setAttribute("d",$9(G,b,y,I,j)),z)for(const X of re.childNodes)X.setAttribute("x",-z);re.setAttribute("y",`${+S9(G,re.childNodes.length,m).toFixed(6)}em`),re.setAttribute("transform",`translate(${M9(G,b,y,I,j)})`)}),F.attr("visibility",null)}return t.length&&(F.attr("visibility","hidden"),l.isConnected?Promise.resolve().then(V):typeof requestAnimationFrame<"u"&&requestAnimationFrame(V)),F.node()}}function T9(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Ys(t,n)),new x9(e,{...r,x:t,y:n})}function S9(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function M9(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function $9(e,t,n,r,i){const o=r+n*2,a=i+n*2;switch(e){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${t},${t}h${o-t}v${a}h${-o}z`;case"top":return`M0,0l${t/2},${t/2}h${(o-t)/2}v${a}h${-o}v${-a}h${(o-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-o}v${a}h${o}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-a/2}h${-o}v${a}h${o}v${t/2-a/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${o-t}v${-a}h${-o}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(o-t)/2}v${-a}h${-o}v${a}h${(o-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-o}v${-a}h${o}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-a/2}h${o}v${a}h${-o}v${t/2-a/2}z`}}function Rd(e,t){var i,o;const n={};let r=this.format;r=Od(r,e,"x"),r=Od(r,e,"y"),this.format=r;for(const a in r){const f=r[a];if(!(f===null||f===!1))if(a==="fx"||a==="fy")n[a]=!0;else{const u=cd(e,a);u&&(n[a]=u)}}for(const a in e){if(a in n||a in r||v9.has(a)||(a==="x"||a==="y")&&e.geometry)continue;const f=cd(e,a);if(f){if(f.scale==null&&f.defaultScale==="color")continue;n[a]=f}}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(const a in n){const f=this.format[a];if(typeof f=="string"){const u=((i=n[a])==null?void 0:i.value)??((o=t[a])==null?void 0:o.domain())??[];this.format[a]=(Oe(u)?Ci:vr)(f)}else if(f===void 0||f===!0){const u=t[a];this.format[a]=u!=null&&u.bandwidth?bc(u,u.domain()):yr}}return n}function Od(e,t,n){if(!(n in e))return e;const r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;const o=Object.entries(e),a=e[n];return o.splice(o.findIndex(([f])=>f===n)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function E9(e,t,{title:n}){return this.format.title(n.value[e],e)}function*A9(e,t,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:aa(r,n,o),value:this.format[o](t[o],e)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const a=n[o];if(o==="x2"&&"x1"in n)yield{label:Pd(r,n,"x"),value:Fd(this.format.x2,n.x1,a,e)};else if(o==="y2"&&"y1"in n)yield{label:Pd(r,n,"y"),value:Fd(this.format.y2,n.y1,a,e)};else{const f=a.value[e],u=a.scale;if(!un(f)&&u==null)continue;yield{label:aa(r,n,o),value:this.format[o](f,e),color:u==="color"?i[o][e]:null,opacity:u==="opacity"?i[o][e]:null}}}}function Fd(e,t,n,r){var i;return(i=n.hint)!=null&&i.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}–${e(n.value[r],r)}`}function Pd(e,t,n){const r=aa(e,t,`${n}1`,n),i=aa(e,t,`${n}2`,n);return r===i?r:`${r}–${i}`}function aa(e,t,n,r=n){const i=t[n],o=e[(i==null?void 0:i.scale)??n];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function C9(e={}){var U;const{facet:t,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=e,u=Ya(e.className),s=e.marks===void 0?[]:zd(e.marks);s.push(...O9(s));const c=L9(t,e),l=new Map;for(const O of s){const q=Bd(O,c,e);q&&l.set(O,q)}const d=new Map;c&&Ir(d,[c],e),Ir(d,l,e);const h=zd(F9(s,d,e));for(const O of h){const q=Bd(O,c,e);q&&l.set(O,q)}s.unshift(...h);let p=cx(d,e);if(p!==void 0){const O=c?jf(p,c):void 0;for(const F of s){if(F.facet===null||F.facet==="super")continue;const P=l.get(F);P!==void 0&&(P.facetsIndex=F.fx!=null||F.fy!=null?jf(p,P):O)}const q=new Set;for(const{facetsIndex:F}of l.values())F==null||F.forEach((P,V)=>{(P==null?void 0:P.length)>0&&q.add(V)});p.forEach(0<q.size&&q.size<p.length?(F,P)=>F.empty=!q.has(P):F=>F.empty=!1);for(const F of s)if(F.facet==="exclude"){const P=l.get(F);P!==void 0&&(P.facetsIndex=hx(P.facetsIndex))}}for(const O of pe.keys())Gu(e[O])&&O!=="fx"&&O!=="fy"&&d.set(O,[]);const m=new Map;for(const O of s){if(m.has(O))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:q,channels:F}=l.get(O)??{},{data:P,facets:V,channels:Z}=O.initialize(q,F,e);yc(Z,e),m.set(O,{data:P,facets:V,channels:Z})}const g=Ku(Ir(d,m,e),e),y=Zx(g,s,e);tx(g,y);const b=bd(g),{fx:_,fy:w}=b,S=_||w?fg(g,y):y,M=_||w?Y9(b,y):y,A=uc(e),C=A.document,k=ga("svg").call(C.documentElement);let R=k;A.ownerSVGElement=k,A.className=u,A.projection=xx(e,S),A.filterFacets=(O,q)=>jf(p,{channels:q,groups:fc(O,q)}),A.getMarkState=O=>{const q=m.get(O),F=l.get(O);return{...q,channels:{...q.channels,...F==null?void 0:F.channels}}},A.dispatchValue=O=>{R.value!==O&&(R.value=O,R.dispatchEvent(new Event("input",{bubbles:!0})))};const $=new Set;for(const[O,q]of m)if(O.initializer!=null){const F=O.facet==="super"?M:S,P=O.initializer(q.data,q.facets,q.channels,b,F,A);if(P.data!==void 0&&(q.data=P.data),P.facets!==void 0&&(q.facets=P.facets),P.channels!==void 0){const{fx:V,fy:Z,...W}=P.channels;I9(W),Object.assign(q.channels,W);for(const Y of Object.values(W)){const{scale:z}=Y;z!=null&&!H8(pe.get(z))&&(_b(Y,e),$.add(z))}(V!=null||Z!=null)&&l.set(O,!0)}}if($.size){const O=new Map;Ir(O,m,e,V=>$.has(V)),Ir(d,m,e,V=>$.has(V));const q=U9(Ku(O,e),g),{scales:F,...P}=bd(q);Object.assign(g,q),Object.assign(b,P),Object.assign(b.scales,F)}let T,v;p!==void 0&&(T={x:_==null?void 0:_.domain(),y:w==null?void 0:w.domain()},p=lx(p,T),v=dx(_,w,y));for(const[O,q]of m)q.values=O.scale(q.channels,b,A);const{width:E,height:x}=y;Qn(k).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",E).attr("height",x).attr("viewBox",`0 0 ${E} ${x}`).attr("aria-label",a).attr("aria-description",f).call(O=>O.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(cc,n);for(const O of s){const{channels:q,values:F,facets:P}=m.get(O);if(p===void 0||O.facet==="super"){let V=null;if(P&&(V=P[0],V=O.filter(V,q,F),V.length===0))continue;const Z=O.render(V,b,F,M,A);if(Z==null)continue;k.appendChild(Z)}else{let V;for(const Z of p){if(!(((U=O.facetAnchor)==null?void 0:U.call(O,p,T,Z))??!Z.empty))continue;let W=null;if(P){const z=l.has(O);if(W=P[z?Z.i:0],W=O.filter(W,q,F),W.length===0)continue;!z&&W===P[0]&&(W=N8(W)),W.fx=Z.x,W.fy=Z.y,W.fi=Z.i}const Y=O.render(W,b,F,S,A);if(Y!=null){(V??(V=Qn(k).append("g"))).append(()=>Y).datum(Z);for(const z of["aria-label","aria-description","aria-hidden","transform"])Y.hasAttribute(z)&&(V.attr(z,Y.getAttribute(z)),Y.removeAttribute(z))}}V==null||V.selectChildren().attr("transform",v)}}const N=J7(g,A,e),{figure:D=r!=null||i!=null||o!=null||N.length>0}=e;D&&(R=C.createElement("figure"),R.className=`${u}-figure`,R.style.maxWidth="initial",r!=null&&R.append(qd(C,r,"h2")),i!=null&&R.append(qd(C,i,"h3")),R.append(...N,k),o!=null&&R.append(k9(C,o)),"value"in k&&(R.value=k.value,delete k.value)),R.scale=ux(b.scales),R.legend=Z7(g,A,e);const B=P4();return B>0&&Qn(k).append("text").attr("x",E).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("⚠️").append("title").text(`${B.toLocaleString("en-US")} warning${B===1?"":"s"}. Please check the console.`),R}function qd(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(t),r}function k9(e,t){const n=e.createElement("figcaption");return n.append(t),n}function zd(e){return e.flat(1/0).filter(t=>t!=null).map(N9)}function N9(e){return typeof e.render=="function"?e:new D9(e)}class D9 extends Qe{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function yc(e,t){for(const n in e)_b(e[n],t);return e}function _b(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?u=>u==null?NaN:u*100:C1(a,i)}=t[n]??{};f!=null&&(e.value=me(e.value,f),e.transform=!1)}function I9(e){for(const t in e)H1(t,e[t])}function Ir(e,t,n,r=$8){var i,o;for(const{channels:a}of t.values())for(const f in a){const u=a[f],{scale:s}=u;if(s!=null&&r(s))if(s==="projection"){if(!$x(n)){const c=((i=n.x)==null?void 0:i.domain)===void 0,l=((o=n.y)==null?void 0:o.domain)===void 0;if(c||l){const[d,h]=Ax(u);c&&Xf(e,"x",d),l&&Xf(e,"y",h)}}}else Xf(e,s,u)}return e}function Xf(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function L9(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=pr(e.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=di(i,{value:n,scale:"fx"})),r!=null&&(o.fy=di(i,{value:r,scale:"fy"})),yc(o,t);const a=fc(i,o);return{channels:o,groups:a,data:e.data}}function Bd(e,t,n){if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const u=pr(e.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const s={};return r!=null&&(s.fx=di(u,{value:r,scale:"fx"})),i!=null&&(s.fy=di(u,{value:i,scale:"fy"})),yc(s,n),{channels:s,groups:fc(u,s)}}if(t===void 0)return;const{channels:o,groups:a,data:f}=t;if(e.facet!=="auto"||e.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&ci(pr(e.data))===ci(f)&&rn(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isn’t faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function R9(e,t={}){return gr({...t,x:null,y:null},(n,r,i,o,a,f)=>f.getMarkState(e))}function O9(e){const t=[];for(const n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?Jx:/^y$/i.test(i)?Md:Qx,r=i(R9(n,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===Md?"left":"bottom");const a=T9(n.data,r);a.facet=n.facet,a.facetAnchor=n.facetAnchor,t.push(a)}}return t}function F9(e,t,n){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:u,grid:s,facet:c={},facet:{axis:l=u,grid:d}=c,x:{axis:h=u,grid:p=h===null?null:s}=i,y:{axis:m=u,grid:g=m===null?null:s}=o,fx:{axis:y=l,grid:b=y===null?null:d}=a,fy:{axis:_=l,grid:w=_===null?null:d}=f}=n;(r||!Gu(i)&&!jd("x",e))&&(h=p=null),(r||!Gu(o)&&!jd("y",e))&&(m=g=null),t.has("fx")||(y=b=null),t.has("fy")||(_=w=null),h===void 0&&(h=!ao(e,"x")),m===void 0&&(m=!ao(e,"y")),y===void 0&&(y=!ao(e,"fx")),_===void 0&&(_=!ao(e,"fy")),h===!0&&(h="bottom"),m===!0&&(m="left"),y===!0&&(y=h==="top"||h===null?"bottom":"top"),_===!0&&(_=m==="right"||m===null?"left":"right");const S=[];return oo(S,w,z7,f),io(S,_,I7,"right","left",c,f),oo(S,b,j7,a),io(S,y,L7,"top","bottom",c,a),oo(S,g,q7,o),io(S,m,Vg,"left","right",n,o),oo(S,p,B7,i),io(S,h,Zg,"bottom","top",n,i),S}function io(e,t,n,r,i,o,a){if(!t)return;const f=P9(t);a=q9(f?r:t,o,a);const{line:u}=a;(n===Vg||n===Zg)&&u&&!li(u)&&e.push(_9(z9(a))),e.push(n(a)),f&&e.push(n({...a,anchor:i,label:null}))}function oo(e,t,n,r){!t||li(t)||e.push(n(B9(t,r)))}function P9(e){return/^\s*both\s*$/i.test(e)}function q9(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:s,ariaLabel:c,ariaDescription:l,label:d=t.label,labelAnchor:h,labelArrow:p=t.labelArrow,labelOffset:m}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:s,ariaLabel:c,ariaDescription:l,label:d,labelAnchor:h,labelArrow:p,labelOffset:m}}function z9(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function B9(e,{stroke:t=Pa(e)?e:void 0,ticks:n=j9(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function j9(e){switch(typeof e){case"number":return!0;case"string":return!Pa(e)}return mn(e)||typeof(e==null?void 0:e.range)=="function"}function ao(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function jd(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function U9(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function Y9({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:u}=ac(n),s=e&&Ud(e),c=t&&Ud(t);return{marginTop:t?c[0]:r,marginRight:e?f-s[1]:i,marginBottom:t?u-c[1]:o,marginLeft:e?s[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:u}}function Ud(e){const t=e.domain();if(t.length===0)return[0,e.bandwidth()];let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const G9=new Map([["basis",K5],["basis-closed",Q5],["basis-open",J5],["bundle",e8],["bump-x",z5],["bump-y",B5],["cardinal",t8],["cardinal-closed",n8],["cardinal-open",r8],["catmull-rom",i8],["catmull-rom-closed",o8],["catmull-rom-open",a8],["linear",ki],["linear-closed",f8],["monotone-x",u8],["monotone-y",s8],["natural",c8],["step",l8],["step-after",h8],["step-before",d8]]);function vb(e=ki,t){if(typeof e=="function")return e;const n=G9.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function H9(e=fa,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?fa:vb(e,t)}function fa(e){return ki(e)}function W9(e={y:"count"},t={}){[e,t]=Z9(e,t);const{x:n,y:r}=t;return V9(K9(n,t,xe),null,null,r,e,Ha(t))}function X9(e,t,n={}){if((n==null?void 0:n.interval)==null)return n;const{reduce:r=nc}=n,i={filter:null};return n[t]!=null&&(i[t]=r),n[`${t}1`]!=null&&(i[`${t}1`]=r),n[`${t}2`]!=null&&(i[`${t}2`]=r),e(i,n)}function xb(e={}){return X9(W9,"y",qi(e,"x"))}function V9(e,t,n,r,{data:i=tc,filter:o=ra,sort:a,reverse:f,...u}={},s={}){e=Yd(e),t=Yd(t),u=J9(u,s),i=Mb(i,xe),a=a==null?void 0:Tb("sort",a,s),o=o==null?void 0:Sb("filter",o,s),r!=null&&Qr(u,"y","y1","y2")&&(r=null);const[c,l]=Ie(e),[d,h]=Ie(e),[p,m]=Ie(t),[g,y]=Ie(t),[b,_]=r!=null?[r,"y"]:[],[w,S]=Ie(b),{x:M,y:A,z:C,fill:k,stroke:R,x1:$,x2:T,y1:v,y2:E,domain:x,cumulative:N,thresholds:D,interval:B,...U}=s,[O,q]=Ie(C),[F]=Ke(k),[P]=Ke(R),[V,Z]=Ie(F),[W,Y]=Ie(P);return{..."z"in s&&{z:O||C},..."fill"in s&&{fill:V||k},..."stroke"in s&&{stroke:W||R},...Oi(U,(z,I,j)=>{const G=na(le(z,b),j==null?void 0:j[_]),L=le(z,C),re=le(z,F),X=le(z,P),oe=U1(u,{z:L,fill:re,stroke:X}),ae=[],ce=[],ct=G&&S([]),yn=L&&q([]),Ub=re&&Z([]),Yb=X&&Y([]),vc=e&&l([]),Gb=e&&h([]),xc=t&&m([]),Hb=t&&y([]),Wb=nT(e,t,z);let Xb=0;for(const jn of u)jn.initialize(z);a&&a.initialize(z),o&&o.initialize(z);for(const jn of I){const Tc=[];for(const Un of u)Un.scope("facet",jn);a&&a.scope("facet",jn),o&&o.scope("facet",jn);for(const[Un,Vb]of Jr(jn,oe))for(const[Zb,zi]of Jr(Vb,G))for(const[lt,Et]of Wb(zi))if(oe&&(Et.z=Un),!(o&&!o.reduce(lt,Et))){Tc.push(Xb++),ce.push(i.reduceIndex(lt,z,Et)),G&&ct.push(Zb),L&&yn.push(oe===L?Un:L[(lt.length>0?lt:zi)[0]]),re&&Ub.push(oe===re?Un:re[(lt.length>0?lt:zi)[0]]),X&&Yb.push(oe===X?Un:X[(lt.length>0?lt:zi)[0]]),vc&&(vc.push(Et.x1),Gb.push(Et.x2)),xc&&(xc.push(Et.y1),Hb.push(Et.y2));for(const Kb of u)Kb.reduce(lt,Et);a&&a.reduce(lt,Et)}ae.push(Tc)}return Y1(ae,a,f),{data:ce,facets:ae}}),...!Qr(u,"x")&&(c?{x1:c,x2:d,x:Hu(c,d)}:{x:M,x1:$,x2:T}),...!Qr(u,"y")&&(p?{y1:p,y2:g,y:Hu(p,g)}:{y:A,y1:v,y2:E}),...w&&{[_]:w},...Object.fromEntries(u.map(({name:z,output:I})=>[z,I]))}}function Z9({cumulative:e,domain:t,thresholds:n,interval:r,...i},o){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...o}]}function K9(e,{cumulative:t,domain:n,thresholds:r,interval:i},o){return e={...Sr(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=o),e.thresholds=Q9(e.thresholds,e.interval),e}function Yd(e){if(e==null)return;const{value:t,cumulative:n,domain:r=Ge,thresholds:i}=e,o=a=>{let f=le(a,t),u;if(Oe(f)||tT(i)){f=me(f,$1,Float64Array);let[c,l]=typeof r=="function"?r(f):r,d=typeof i=="function"&&!Zn(i)?i(f,c,l):i;typeof d=="number"&&(d=_p(c,l,d)),Zn(d)&&(r===Ge&&(c=d.floor(c),l=d.offset(d.floor(l))),d=d.range(c,d.offset(l))),u=d}else{f=hr(f);let[c,l]=typeof r=="function"?r(f):r,d=typeof i=="function"&&!Zn(i)?i(f,c,l):i;if(typeof d=="number")if(r===Ge){let h=So(c,l,d);if(isFinite(h))if(h>0){let p=Math.round(c/h),m=Math.round(l/h);p*h<=c||--p,m*h>l||++m;let g=m-p+1;d=new Float64Array(g);for(let y=0;y<g;++y)d[y]=(p+y)*h}else if(h<0){h=-h;let p=Math.round(c*h),m=Math.round(l*h);p/h<=c||--p,m/h>l||++m;let g=m-p+1;d=new Float64Array(g);for(let y=0;y<g;++y)d[y]=(p+y)/h}else d=[c];else d=[c]}else d=ei(c,l,d);else Zn(d)&&(r===Ge&&(c=d.floor(c),l=d.offset(d.floor(l))),d=d.range(c,d.offset(l)));u=d}const s=[];if(u.length===1)s.push([u[0],u[0]]);else for(let c=1;c<u.length;++c)s.push([u[c-1],u[c]]);return s.bin=(n<0?iT:n>0?rT:wc)(s,u,f),s};return o.label=pn(t),o}function Q9(e,t,n=Gd){if(e===void 0)return t===void 0?n:Tr(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return l2;case"scott":return Ih;case"sturges":return f2;case"auto":return Gd}return qs(e)}return e}function J9(e,t){return q1(e,t,Tb)}function Tb(e,t,n){return Js(e,t,n,Sb)}function Sb(e,t,n){return ec(e,t,n,Mb)}function Mb(e,t){return za(e,t,eT)}function eT(e){switch(`${e}`.toLowerCase()){case"x":return oT;case"x1":return fT;case"x2":return uT;case"y":return aT;case"y1":return sT;case"y2":return cT;case"z":return G1}throw new Error(`invalid bin reduce: ${e}`)}function Gd(e,t,n){return Math.min(200,Ih(e,t,n))}function tT(e){return R8(e)||mn(e)&&Oe(e)}function nT(e,t,n){const r=e==null?void 0:e(n),i=t==null?void 0:t(n);return r&&i?function*(o){const a=r.bin(o);for(const[f,[u,s]]of r.entries()){const c=i.bin(a[f]);for(const[l,[d,h]]of i.entries())yield[c[l],{data:n,x1:u,y1:d,x2:s,y2:h}]}}:r?function*(o){const a=r.bin(o);for(const[f,[u,s]]of r.entries())yield[a[f],{data:n,x1:u,x2:s}]}:function*(o){const a=i.bin(o);for(const[f,[u,s]]of i.entries())yield[a[f],{data:n,y1:u,y2:s}]}}function wc(e,t,n){return t=hr(t),r=>{var o;const i=e.map(()=>[]);for(const a of r)(o=i[da(t,n[a])-1])==null||o.push(a);return i}}function rT(e,t,n){const r=wc(e,t,n);return i=>{const o=r(i);for(let a=1,f=o.length;a<f;++a){const u=o[a-1],s=o[a];for(const c of u)s.push(c)}return o}}function iT(e,t,n){const r=wc(e,t,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const f=o[a+1],u=o[a];for(const s of f)u.push(s)}return o}}function $b(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const oT={reduceIndex(e,t,{x1:n,x2:r}){return $b(n,r)}},aT={reduceIndex(e,t,{y1:n,y2:r}){return $b(n,r)}},fT={reduceIndex(e,t,{x1:n}){return n}},uT={reduceIndex(e,t,{x2:n}){return n}},sT={reduceIndex(e,t,{y1:n}){return n}},cT={reduceIndex(e,t,{y2:n}){return n}},lT={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Eb extends Qe{constructor(t,n={}){const{x1:r,y1:i,x2:o,y2:a,z:f,curve:u,tension:s}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0},z:{value:Gs(n),optional:!0}},n,lT),this.z=f,this.curve=vb(u,s)}filter(t){return t}render(t,n,r,i,o){const{x1:a,y1:f,x2:u=a,y2:s=f}=r;return Te("svg:g",o).call(Xt,this,i,o).call(Vt,this,n,0,0).call(c=>c.selectAll().data(mg(t,[a,f,u,s],this,r)).enter().append("path").call(St,this).call(pg,this,r).attr("d",q5().curve(this.curve).defined(l=>l>=0).x0(l=>a[l]).y0(l=>f[l]).x1(l=>u[l]).y1(l=>s[l]))).node()}}function Hd(e,t){return t===void 0?_c(e,{x:js,y:ea}):new Eb(e,t)}function _c(e,t){const{x:n=Di,...r}=xb(t);return new Eb(e,db(lb({...r,x1:n,x2:void 0})))}const dT={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class Ab extends Qe{constructor(t,n={}){const{x:r,y:i,z:o,curve:a,tension:f}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Gs(n),optional:!0}},n,dT),this.z=o,this.curve=H9(a,f),dc(this,n)}filter(t){return t}project(t,n,r){this.curve!==fa&&super.project(t,n,r)}render(t,n,r,i,o){const{x:a,y:f}=r,{curve:u}=this;return Te("svg:g",o).call(Xt,this,i,o).call(Vt,this,n).call(s=>s.selectAll().data(mg(t,[a,f],this,r)).enter().append("path").call(St,this).call(pg,this,r).call(i7,this,r,o).attr("d",u===fa&&o.projection?hT(o.projection,a,f):jm().curve(u).defined(c=>c>=0).x(c=>a[c]).y(c=>f[c]))).node()}}function hT(e,t,n){const r=xa(e);return t=hr(t),n=hr(n),i=>{let o=[];const a=[o];for(const f of i)f===-1?(o=[],a.push(o)):o.push([t[f],n[f]]);return r({type:"MultiLineString",coordinates:a})}}function pT(e,{x:t,y:n,...r}={}){return[t,n]=Ys(t,n),new Ab(e,{...r,x:t,y:n})}function Za(e,{x:t=Di,y:n=xe,...r}={}){return new Ab(e,xb({...r,x:t,y:n}))}function Cb(e,t){return mT("y",e,t)}function mT(e,t,{x1:n,x2:r,y1:i,y2:o,x:a=n===void 0&&r===void 0?Di:void 0,y:f=i===void 0&&o===void 0?xe:void 0,fill:u,positiveFill:s="#3ca951",negativeFill:c="#4269d0",fillOpacity:l=1,positiveFillOpacity:d=l,negativeFillOpacity:h=l,stroke:p,strokeOpacity:m,z:g=Ke(p)[0],clip:y,tip:b,render:_,...w}={}){return[n,r]=Wd(a,n,r),[i,o]=Wd(f,i,o),n===r&&i===o&&(i=en(0)),{tip:b}=qi({tip:b},"x"),Bn(Ee(s)?null:Object.assign(Hd(t,{x1:n,x2:r,y1:i,y2:o,z:g,fill:s,fillOpacity:d,render:oa(_,Xd(e,!0)),clip:y,...w}),{ariaLabel:"positive difference"}),Ee(c)?null:Object.assign(Hd(t,{x1:n,x2:r,y1:i,y2:o,z:g,fill:c,fillOpacity:h,render:oa(_,Xd(e,!1)),clip:y,...w}),{ariaLabel:"negative difference"}),pT(t,{x:r,y:o,z:g,stroke:p,strokeOpacity:m,tip:b,clip:!0,...w}))}function Wd(e,t,n){return t===void 0&&n===void 0?t=n=en(e):t===void 0?(n=en(n),t=e===void 0?n:en(e)):n===void 0?(t=en(t),n=e===void 0?t:en(e)):(t=en(t),n=en(n)),[t,n]}function en(e){let t;const{value:n,label:r=pn(n)}=Sr(e);return{transform:i=>t||(t=le(i,n)),label:r}}function Xd(e,t){const n="x",r=`${n}1`,i=`${n}2`,o=`${e}1`,a=`${e}2`;return(f,u,s,c,l,d)=>{const{[r]:h,[i]:p}=s,m=new Float32Array(h.length),g=new Float32Array(p.length),y=c.height;(t===ag(u[e])<0?m:g).fill(y);const b=d(f,u,{...s,[i]:h,[a]:g},c,l),_=d(f,u,{...s,[r]:p,[o]:m},c,l),w=b.querySelector("g")??b,S=_.querySelector("g")??_;for(let M=0;w.firstChild;M+=2){const A=hg(),C=Te("svg:clipPath",l).attr("id",A).node();C.appendChild(w.firstChild),S.childNodes[M].setAttribute("clip-path",`url(#${A})`),S.insertBefore(C,S.childNodes[M])}return _}}Qe.prototype.plot=function({marks:e=[],...t}={}){return C9({...t,marks:[...e,this]})};function Vd(e){const t=document.createElement("template");return t.innerHTML=e,document.importNode(t.content,!0)}function Zd(e){const t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e,t}Object.assign(sa(Vd,e=>{if(e.firstChild===null)return null;if(e.firstChild===e.lastChild)return e.removeChild(e.firstChild);const t=document.createElement("span");return t.appendChild(e),t}),{fragment:sa(Vd,e=>e)});const gT=Object.assign(sa(Zd,e=>e.firstChild===null?null:e.firstChild===e.lastChild?e.removeChild(e.firstChild):e),{fragment:sa(Zd,e=>{const t=document.createDocumentFragment();for(;e.firstChild;)t.appendChild(e.firstChild);return t})}),bT=9,yT=10,wT=12,_T=13,vT=32,xT=65,TT=90,ST=97,MT=122,fo=60,ke=62,Zt=47,dt=45,Vf=33,Zf=61,Kd=34,Qd=39,$T=63,Se=1,Jd=2,eh=3,Kf=4,uo=5,Kt=6,Qf=7,so=8,co=9,Jf=10,eu=11,lo=12,tu=13,Lr=14,th=15,nh=16,Dt=17,rh=18,ih=19,oh=20,ah=21,nu=22,Rr=23,fh=24,uh=25,ht=26,sh=27,ch=28,lh=29,ET=128,dh=1,AT=8,CT=1,kb="http://www.w3.org/2000/svg",wn="http://www.w3.org/1999/xlink",hh="http://www.w3.org/XML/1998/namespace",ph="http://www.w3.org/2000/xmlns/",Nb=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),ua=new Map([["xlink:actuate",wn],["xlink:arcrole",wn],["xlink:href",wn],["xlink:role",wn],["xlink:show",wn],["xlink:title",wn],["xlink:type",wn],["xml:lang",hh],["xml:space",hh],["xmlns",ph],["xmlns:xlink",ph]]);function sa(e,t){return function({raw:n}){let r=Se,i="",o,a,f,u,s=0;for(let h=0,p=arguments.length;h<p;++h){const m=n[h];if(h>0){const g=arguments[h];switch(r){case ht:{if(g!=null){const y=`${g}`;if(Db(a))i+=y.replace(/[<]/g,Wn);else{if(new RegExp(`</${a}[\\s>/]`,"i").test(i.slice(-a.length-2)+y))throw new Error("unsafe raw text");i+=y}}break}case Se:{g==null||(g instanceof Node||typeof g!="string"&&g[Symbol.iterator]||/(?:^|>)$/.test(n[h-1])&&/^(?:<|$)/.test(m)?(i+="<!--::"+h+"-->",s|=ET):i+=`${g}`.replace(/[<&]/g,Wn));break}case co:{r=lo;let y;if(/^[\s>]/.test(m)){if(g==null||g===!1){i=i.slice(0,f-n[h-1].length);break}if(g===!0||(y=`${g}`)==""){i+="''";break}if(n[h-1].slice(f,u)==="style"&&ru(g)||typeof g=="function"){i+="::"+h,s|=dh;break}}if(y===void 0&&(y=`${g}`),y==="")throw new Error("unsafe unquoted empty string");i+=y.replace(/^['"]|[\s>&]/g,Wn);break}case lo:{i+=`${g}`.replace(/[\s>&]/g,Wn);break}case eu:{i+=`${g}`.replace(/['&]/g,Wn);break}case Jf:{i+=`${g}`.replace(/["&]/g,Wn);break}case Kt:{if(ru(g)){i+="::"+h+"=''",s|=dh;break}throw new Error("invalid binding")}case Dt:break;default:throw new Error("invalid binding")}}for(let g=0,y=m.length;g<y;++g){const b=m.charCodeAt(g);switch(r){case Se:{b===fo&&(r=Jd);break}case Jd:{b===Vf?r=uh:b===Zt?r=eh:ho(b)?(o=g,a=void 0,r=Kf,--g):b===$T?(r=uo,--g):(r=Se,--g);break}case eh:{ho(b)?(r=Kf,--g):b===ke?r=Se:(r=uo,--g);break}case Kf:{Qt(b)?(r=Kt,a=Fr(m,o,g)):b===Zt?r=Lr:b===ke&&(a=Fr(m,o,g),r=Or(a)?ht:Se);break}case Kt:{Qt(b)||(b===Zt||b===ke?(r=Qf,--g):b===Zf?(r=so,f=g+1,u=void 0):(r=so,--g,f=g+1,u=void 0));break}case so:{Qt(b)||b===Zt||b===ke?(r=Qf,--g,u=g):b===Zf&&(r=co,u=g);break}case Qf:{Qt(b)||(b===Zt?r=Lr:b===Zf?r=co:b===ke?r=Or(a)?ht:Se:(r=so,--g,f=g+1,u=void 0));break}case co:{Qt(b)||(b===Kd?r=Jf:b===Qd?r=eu:b===ke?r=Or(a)?ht:Se:(r=lo,--g));break}case Jf:{b===Kd&&(r=tu);break}case eu:{b===Qd&&(r=tu);break}case lo:{Qt(b)?r=Kt:b===ke&&(r=Or(a)?ht:Se);break}case tu:{Qt(b)?r=Kt:b===Zt?r=Lr:b===ke?r=Or(a)?ht:Se:(r=Kt,--g);break}case Lr:{b===ke?r=Se:(r=Kt,--g);break}case uo:{b===ke&&(r=Se);break}case th:{b===dt?r=nh:b===ke?r=Se:(r=Dt,--g);break}case nh:{b===dt?r=Rr:b===ke?r=Se:(r=Dt,--g);break}case Dt:{b===fo?r=rh:b===dt&&(r=nu);break}case rh:{b===Vf?r=ih:b!==fo&&(r=Dt,--g);break}case ih:{b===dt?r=oh:(r=Dt,--g);break}case oh:{b===dt?r=ah:(r=Rr,--g);break}case ah:{r=Rr,--g;break}case nu:{b===dt?r=Rr:(r=Dt,--g);break}case Rr:{b===ke?r=Se:b===Vf?r=fh:b!==dt&&(r=Dt,--g);break}case fh:{b===dt?r=nu:b===ke?r=Se:(r=Dt,--g);break}case uh:{b===dt&&m.charCodeAt(g+1)===dt?(r=th,++g):(r=uo,--g);break}case ht:{b===fo&&(r=sh);break}case sh:{b===Zt?r=ch:(r=ht,--g);break}case ch:{ho(b)?(o=g,r=lh,--g):(r=ht,--g);break}case lh:{Qt(b)&&a===Fr(m,o,g)?r=Kt:b===Zt&&a===Fr(m,o,g)?r=Lr:b===ke&&a===Fr(m,o,g)?r=Se:ho(b)||(r=ht,--g);break}default:{r=void 0;break}}}i+=m}const c=e(i),l=document.createTreeWalker(c,s,null,!1),d=[];for(;l.nextNode();){const h=l.currentNode;switch(h.nodeType){case CT:{const p=h.attributes;for(let m=0,g=p.length;m<g;++m){const{name:y,value:b}=p[m];if(/^::/.test(y)){const _=arguments[+y.slice(2)];mh(h,y),--m,--g;for(const w in _){const S=_[w];S==null||S===!1||(typeof S=="function"?h[w]=S:w==="style"&&ru(S)?gh(h[w],S):kT(h,w,S===!0?"":S))}}else if(/^::/.test(b)){const _=arguments[+b.slice(2)];mh(h,y),--m,--g,typeof _=="function"?h[y]=_:gh(h[y],_)}}break}case AT:{if(/^::/.test(h.data)){const p=h.parentNode,m=arguments[+h.data.slice(2)];if(m instanceof Node)p.insertBefore(m,h);else if(typeof m!="string"&&m[Symbol.iterator])if(m instanceof NodeList||m instanceof HTMLCollection)for(let g=m.length-1,y=h;g>=0;--g)y=p.insertBefore(m[g],y);else for(const g of m)g!=null&&p.insertBefore(g instanceof Node?g:document.createTextNode(g),h);else p.insertBefore(document.createTextNode(m),h);d.push(h)}break}}}for(const h of d)h.parentNode.removeChild(h);return t(c)}}function Wn(e){return`&#${e.charCodeAt(0).toString()};`}function ho(e){return xT<=e&&e<=TT||ST<=e&&e<=MT}function Qt(e){return e===bT||e===yT||e===wT||e===vT||e===_T}function ru(e){return e&&e.toString===Object.prototype.toString}function Or(e){return e==="script"||e==="style"||Db(e)}function Db(e){return e==="textarea"||e==="title"}function Fr(e,t,n){return e.slice(t,n).toLowerCase()}function kT(e,t,n){if(e.namespaceURI===kb&&(t=t.toLowerCase(),t=Nb.get(t)||t,ua.has(t))){e.setAttributeNS(ua.get(t),t,n);return}e.setAttribute(t,n)}function mh(e,t){if(e.namespaceURI===kb&&(t=t.toLowerCase(),t=Nb.get(t)||t,ua.has(t))){e.removeAttributeNS(ua.get(t),t);return}e.removeAttribute(t)}function gh(e,t){for(const n in t){const r=t[n];n.startsWith("--")?e.setProperty(n,r):e[n]=r}}function Ib(e){return[Wa([0]),kg(e,{x:t=>new Date(t.date),stroke:bt.slate[500],opacity:.3}),Og(e,{x:t=>new Date(t.date),text:t=>t.name,frameAnchor:"top",textAnchor:"start",fill:bt.slate[500],stroke:bt.slate[950],strokeWidth:5,dx:1,dy:-17})]}const Lb={stroke:bt.slate[700],fill:bt.slate[800],fillOpacity:.9,format:{x:!1,y:!1,z:!1,amount:e=>e.toLocaleString("en-AU",{style:"currency",currency:"AUD"}),date:e=>bh(e).format("D MMMM, YYYY")}},Rb={marginTop:20,marginBottom:30,marginLeft:60,marginRight:20,x:{grid:!1},y:{grid:!0,transform:e=>e/1e3,label:"AUD (K)",labelArrow:"none",labelOffset:47}};function Ob({width:e,height:t,timeseries:n,scenarioEvents:r,color:i=bt.violet[700],opacity:o=.5}){const a=ie.useRef(null);return ie.useEffect(()=>{var u;const f=Bn([()=>gT`<defs>
        <linearGradient id="gradient" gradientTransform="rotate(90)">
          <stop offset="20%" stop-color="${i}" stop-opacity="0.5" />
          <stop offset="100%" stop-color="${i}" stop-opacity="0" />
        </linearGradient>
      </defs>`,...Ib(r),_c(n,{x:s=>new Date(s.date),y:"amount",fill:"url(#gradient)",opacity:o}),Za(n,{x:s=>new Date(s.date),y:"amount",stroke:i,marker:"dot",channels:{amount:{label:"",value:"amount"},date:{label:"",value:"date"}},tip:Lb})]).plot({...Rb,width:e,height:t});return(u=a.current)==null||u.append(f),()=>f.remove()},[i,n,t,o,r,e]),H.jsx("div",{ref:a,className:"h-full w-full"})}Ob.__docgenInfo={description:"",methods:[],displayName:"AreaChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},scenarioEvents:{required:!0,tsType:{name:"ScenarioStartEvents"},description:""},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"twColors.violet[700]",computed:!0}},opacity:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}}}};const wt={primaryLight:bt.violet[600],primary:bt.violet[700],secondary:bt.amber[400],secondaryDark:bt.amber[500]};function Fb({width:e,height:t,timeseries:n,scenarioEvents:r}){const i=ie.useRef(null);return ie.useEffect(()=>{var a;const o=Bn([...Ib(r),Cb(n,P1({y1:ia(f=>f.name==="highlighted"),y2:ia(f=>f.name==="pinned")},{x:f=>new Date(f.date),y:"amount",positiveFill:wt.secondary,negativeFill:wt.primary,fillOpacity:.2})),Za(n,{x:f=>new Date(f.date),y:"amount",stroke:f=>f.name==="highlighted"?wt.primaryLight:wt.secondary,marker:"dot",channels:{amount:{label:"",value:"amount"},date:{label:"",value:"date"}},tip:Lb})]).plot({...Rb,width:e,height:t});return(a=i.current)==null||a.append(o),()=>o.remove()},[n,t,e,r]),H.jsx("div",{ref:i,className:"h-full w-full"})}Fb.__docgenInfo={description:"",methods:[],displayName:"DifferenceChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},scenarioEvents:{required:!0,tsType:{name:"ScenarioStartEvents"},description:""}}};function NT(e,t){if(e.length<=2)return e;const[n,r]=t;let i=Math.floor((e.length-1)*(n/100)),o=Math.floor((e.length-1)*(r/100));if(o-i===0)if(o+1<e.length)o+=1;else if(i-1>=0)i-=1;else throw new Error("Invalid selection (should have at least two data points)");const a=e[i].date,f=e[o].date;return e.filter(u=>u.date>=a&&u.date<=f)}function DT(e,t){if(t.length<2)return[];const n=t[0].date,r=t[t.length-1].date;return e.filter(i=>i.date>=n&&i.date<=r)}function Pb({type:e,timeseries:t,scenarioEvents:n,selection:r}){const i=ie.useMemo(()=>NT(t,r),[t,r]),o=ie.useMemo(()=>DT(n,i),[n,i]);if(i.length<2){const a=i.length===0?"No data":"Insufficient data";return H.jsx("div",{className:"flex h-full items-center justify-center text-lg font-medium text-slate-600",children:a})}return H.jsx("div",{className:"h-full pt-1",children:H.jsx(is,{children:({width:a,height:f})=>e==="area"?H.jsx(Ob,{width:a,height:f,timeseries:i,scenarioEvents:o}):H.jsx(Fb,{width:a,height:f,timeseries:i,scenarioEvents:o})})})}Pb.__docgenInfo={description:"",methods:[],displayName:"ScenarioChart",props:{type:{required:!0,tsType:{name:"union",raw:"'area' | 'difference'",elements:[{name:"literal",value:"'area'"},{name:"literal",value:"'difference'"}]},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},scenarioEvents:{required:!0,tsType:{name:"ScenarioStartEvents"},description:""},selection:{required:!0,tsType:{name:"Selection"},description:""}}};function qb({width:e,height:t,data:n}){const r=ie.useRef(null);return ie.useEffect(()=>{var o;const i=Bn([Wa([0]),_c(n,{x:a=>new Date(a.date),y:"amount",fill:wt.primary,opacity:.5}),Za(n,{x:a=>new Date(a.date),y:"amount",stroke:wt.primary})]).plot({width:e,height:t,marginLeft:0,marginRight:0,marginTop:16,y:{axis:null}});return(o=r.current)==null||o.append(i),()=>i.remove()},[n,t,e]),H.jsx("div",{ref:r,className:"h-full w-full"})}qb.__docgenInfo={description:"",methods:[],displayName:"TimelineAreaChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""}}};function zb({width:e,height:t,data:n}){const r=ie.useRef(null);return ie.useEffect(()=>{var o;const i=Bn([Wa([0]),Cb(n,P1({y1:ia(a=>a.name==="highlighted"),y2:ia(a=>a.name==="pinned")},{x:a=>new Date(a.date),y:"amount",positiveFill:wt.secondary,negativeFill:wt.primary,fillOpacity:.2})),Za(n,{x:a=>new Date(a.date),y:"amount",stroke:a=>a.name==="highlighted"?wt.primaryLight:wt.secondary})]).plot({width:e,height:t,marginLeft:0,marginRight:0,marginTop:16,y:{axis:null}});return(o=r.current)==null||o.append(i),()=>i.remove()},[n,t,e]),H.jsx("div",{ref:r,className:"h-full w-full"})}zb.__docgenInfo={description:"",methods:[],displayName:"TimelineDifferenceChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""}}};function IT({disabled:e=!1,leftPanelRef:t,rightPanelRef:n,selection:r,onUpdateSelection:i}){const[o,a]=r,f=ie.useCallback(c=>{i&&i([c,a])},[i,a]),u=ie.useCallback(c=>{i&&i([o,100-c])},[i,o]),s=ie.useCallback(()=>{var l,d;a-o!==100&&((l=t.current)==null||l.resize(0),(d=n.current)==null||d.resize(0),i&&i([0,100]))},[o,a,t,n,i]);return ie.useEffect(()=>{var c,l;e&&((c=t.current)==null||c.resize(o),(l=n.current)==null||l.resize(100-a))},[e,a,t,n,o]),{start:o,end:a,updateStart:f,updateEnd:u,maximize:s}}function Bb({disabled:e=!1,selection:t,onUpdateSelection:n}){const r=ie.useRef(null),i=ie.useRef(null),{start:o,end:a,updateStart:f,updateEnd:u,maximize:s}=IT({leftPanelRef:r,rightPanelRef:i,selection:t,onUpdateSelection:n,disabled:e}),c=a-o===999;return H.jsxs(fy,{direction:"horizontal",onDoubleClick:s,children:[H.jsx(Ka,{className:"bg-gradient-to-tr from-slate-600/5 to-slate-600/20 backdrop-blur-[1px]",ref:r,defaultSize:o,onResize:f}),H.jsx($c,{className:"flex w-[5px] flex-col items-center justify-center bg-slate-700",disabled:e,children:H.jsx(Sc,{className:"text-slate-950",size:16})}),H.jsx(Ka,{className:`border-b border-t border-slate-700 ${c&&"cursor-grab"}`}),H.jsx($c,{className:"flex w-[5px] flex-col items-center justify-center bg-slate-700",disabled:e,children:H.jsx(Sc,{className:"text-slate-950",size:16})}),H.jsx(Ka,{className:"border-t-slate-50/5x border-b border-b-slate-800 bg-gradient-to-tr from-slate-600/5 to-slate-600/20 backdrop-blur-[1px]",ref:i,defaultSize:100-a,onResize:u})]})}Bb.__docgenInfo={description:"",methods:[],displayName:"TimelineSelector",props:{disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},selection:{required:!0,tsType:{name:"Selection"},description:""},onUpdateSelection:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection: Selection) => void",signature:{arguments:[{type:{name:"Selection"},name:"selection"}],return:{name:"void"}}},description:""}}};function jb({data:e,type:t,selection:n,onUpdateSelection:r}){const i=e&&Array.from(e).length<2;return H.jsxs("div",{className:"relative h-20 bg-slate-900",children:[!i&&H.jsx(is,{children:({width:o,height:a})=>t==="area"?H.jsx(qb,{width:o,height:a,data:e}):H.jsx(zb,{width:o,height:a,data:e})}),H.jsx("div",{className:"absolute bottom-0 left-0 right-0 top-0",children:H.jsx(Bb,{selection:n,onUpdateSelection:r,disabled:i})})]})}jb.__docgenInfo={description:"",methods:[],displayName:"TimelineScrubber",props:{type:{required:!0,tsType:{name:"union",raw:"'area' | 'difference'",elements:[{name:"literal",value:"'area'"},{name:"literal",value:"'difference'"}]},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""},selection:{required:!0,tsType:{name:"Selection"},description:""},onUpdateSelection:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection: Selection) => void",signature:{arguments:[{type:{name:"Selection"},name:"selection"}],return:{name:"void"}}},description:""}}};export{Rg as A,gr as B,Qx as C,cd as D,_c as E,Cb as F,Za as G,Ey as H,P1 as I,ia as J,Og as K,t9 as L,Qe as M,gT as N,is as R,Th as S,jb as T,Pb as a,uy as b,Yy as c,Hy as d,UT as e,W9 as f,s7 as g,BT as h,xe as i,Xs as j,Te as k,Xt as l,Bn as m,Vt as n,St as o,Os as p,vu as q,Wa as r,On as s,Dg as t,jT as u,ks as v,Pe as w,Ga as x,m1 as y,kg as z};
