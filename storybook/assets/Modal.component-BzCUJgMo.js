import{j as t}from"./jsx-runtime-D_zvdyIk.js";import{r as i,R as M}from"./index-PahMPgEy.js";import{u as b,g as x,q as w,c as y,b as R,x as u,h as C,i as I,t as j,F as O}from"./floating-ui.react-DXVSm5aW.js";function T(){const[r,o]=i.useState(!1),{refs:a,context:e}=b({open:r,onOpenChange:o}),{getReferenceProps:s,getFloatingProps:n}=x([w(e),y(e,{outsidePressEvent:"mousedown"}),R(e)]),c=u(),d=u();return t.jsxs(t.Fragment,{children:[t.jsx("button",{ref:a.setReference,...s(),children:"Reference element"}),r&&t.jsx(C,{lockScroll:!0,style:{background:"rgba(0, 0, 0, 0.8)"},children:t.jsx(I,{context:e,children:t.jsxs("div",{ref:a.setFloating,"aria-labelledby":c,"aria-describedby":d,...n(),children:[t.jsx("h2",{id:c,children:"Heading element"}),t.jsx("p",{id:d,children:"Description element"}),t.jsx("button",{onClick:()=>o(!1),children:"Close"})]})})})]})}T.__docgenInfo={description:"",methods:[],displayName:"ModalBasic"};const E=M.createContext(null);function l(){const r=M.useContext(E);if(r==null)throw new Error("Modal components must be wrapped in <Modal />");return r}function D({initialOpen:r=!1,open:o,onOpenChange:a}={}){const[e,s]=i.useState(r),[n,c]=i.useState(),[d,_]=i.useState(),p=o??e,f=a??s,m=b({open:p,onOpenChange:f}),g=m.context,v=w(g,{enabled:o==null}),N=y(g,{outsidePressEvent:"mousedown"}),F=R(g),h=x([v,N,F]);return i.useMemo(()=>({open:p,setOpen:f,...h,...m,labelId:n,descriptionId:d,setLabelId:c,setDescriptionId:_}),[p,f,h,m,n,d])}function P({children:r,...o}){const a=D(o);return t.jsx(E.Provider,{value:a,children:r})}const k=i.forwardRef(function({children:o,asChild:a=!1,...e},s){const n=l(),c=o.ref,d=j([n==null?void 0:n.refs.setReference,s,c]);if(!n)throw new Error("ModalTrigger must be used within a Modal component");return a&&i.isValidElement(o)?i.cloneElement(o,n.getReferenceProps({ref:d,...e,...o.props,"data-state":n.open?"open":"closed"})):t.jsx("button",{ref:d,"data-state":n.open?"open":"closed",...n.getReferenceProps(e),children:o})}),q=i.forwardRef(function(o,a){const e=l(),s=j([e==null?void 0:e.refs.setFloating,a]);if(!e)throw new Error("ModalContent must be used within a Modal component");const n=e.context;return n.open?t.jsx(O,{children:t.jsx(C,{className:"flex h-screen w-screen items-center justify-center bg-black/60",lockScroll:!0,children:t.jsx(I,{context:n,children:t.jsx("div",{ref:s,"aria-labelledby":e.labelId,"aria-describedby":e.descriptionId,...e.getFloatingProps(o),children:o.children})})})}):null}),S=i.forwardRef(function({children:o,...a},e){const s=l(),n=u();if(!s)throw new Error("ModalHeading must be used within a Modal component");return i.useLayoutEffect(()=>(s.setLabelId(n),()=>s.setLabelId(void 0)),[n,s]),t.jsx("h2",{...a,ref:e,id:n,children:o})}),H=i.forwardRef(function({children:o,...a},e){const s=l(),n=u();if(!s)throw new Error("ModalDescription must be used within a Modal component");return i.useLayoutEffect(()=>(s.setDescriptionId(n),()=>s.setDescriptionId(void 0)),[n,s]),t.jsx("div",{...a,ref:e,id:n,children:o})}),L=i.forwardRef(function(o,a){const e=l();if(!e)throw new Error("ModalClose must be used within a Modal component");return t.jsx("button",{type:"button",...o,ref:a,onClick:()=>e.setOpen(!1)})});P.__docgenInfo={description:"",methods:[],displayName:"Modal",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},initialOpen:{required:!1,tsType:{name:"boolean"},description:""},open:{required:!1,tsType:{name:"boolean"},description:""},onOpenChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(open: boolean) => void",signature:{arguments:[{type:{name:"boolean"},name:"open"}],return:{name:"void"}}},description:""}}};k.__docgenInfo={description:"",methods:[],displayName:"ModalTrigger",props:{children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},asChild:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};q.__docgenInfo={description:"",methods:[],displayName:"ModalContent"};S.__docgenInfo={description:"",methods:[],displayName:"ModalHeading"};H.__docgenInfo={description:"",methods:[],displayName:"ModalDescription"};L.__docgenInfo={description:"",methods:[],displayName:"ModalClose"};export{T as M,P as a,k as b,q as c,S as d,H as e,L as f};
