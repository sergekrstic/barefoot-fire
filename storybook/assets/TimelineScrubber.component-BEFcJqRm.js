import{j as re}from"./jsx-runtime-D_zvdyIk.js";import{C as Cb}from"./CollapsibleTree.component-DSHTWi39.js";import"./Header.component-BGqI9wSV.js";import{c as Oi,g as kb,r as pe}from"./index-PahMPgEy.js";import{h as ih}from"./ScenarioGraph.component-DZrrT_q8.js";import{t as De}from"./colors-Cuw9ST8W.js";import{D as gs}from"./Fire.icon-Di-S4vvp.js";import{P as Nb,a as Ya,b as bs}from"./react-resizable-panels.browser.esm-zIh8wNIw.js";var Ha,ys;function oh(){if(ys)return Ha;ys=1;function e(t){var n=typeof t;return t!=null&&(n=="object"||n=="function")}return Ha=e,Ha}var ja,_s;function Db(){if(_s)return ja;_s=1;var e=typeof Oi=="object"&&Oi&&Oi.Object===Object&&Oi;return ja=e,ja}var Wa,ws;function ah(){if(ws)return Wa;ws=1;var e=Db(),t=typeof self=="object"&&self&&self.Object===Object&&self,n=e||t||Function("return this")();return Wa=n,Wa}var Ga,vs;function Ib(){if(vs)return Ga;vs=1;var e=ah(),t=function(){return e.Date.now()};return Ga=t,Ga}var Xa,xs;function Rb(){if(xs)return Xa;xs=1;var e=/\s/;function t(n){for(var r=n.length;r--&&e.test(n.charAt(r)););return r}return Xa=t,Xa}var Va,Ts;function Lb(){if(Ts)return Va;Ts=1;var e=Rb(),t=/^\s+/;function n(r){return r&&r.slice(0,e(r)+1).replace(t,"")}return Va=n,Va}var Za,Ms;function fh(){if(Ms)return Za;Ms=1;var e=ah(),t=e.Symbol;return Za=t,Za}var Ka,Ss;function Ob(){if(Ss)return Ka;Ss=1;var e=fh(),t=Object.prototype,n=t.hasOwnProperty,r=t.toString,i=e?e.toStringTag:void 0;function o(a){var f=n.call(a,i),u=a[i];try{a[i]=void 0;var c=!0}catch{}var s=r.call(a);return c&&(f?a[i]=u:delete a[i]),s}return Ka=o,Ka}var Qa,$s;function Fb(){if($s)return Qa;$s=1;var e=Object.prototype,t=e.toString;function n(r){return t.call(r)}return Qa=n,Qa}var Ja,As;function Pb(){if(As)return Ja;As=1;var e=fh(),t=Ob(),n=Fb(),r="[object Null]",i="[object Undefined]",o=e?e.toStringTag:void 0;function a(f){return f==null?f===void 0?i:r:o&&o in Object(f)?t(f):n(f)}return Ja=a,Ja}var ef,Es;function qb(){if(Es)return ef;Es=1;function e(t){return t!=null&&typeof t=="object"}return ef=e,ef}var tf,Cs;function zb(){if(Cs)return tf;Cs=1;var e=Pb(),t=qb(),n="[object Symbol]";function r(i){return typeof i=="symbol"||t(i)&&e(i)==n}return tf=r,tf}var nf,ks;function Ub(){if(ks)return nf;ks=1;var e=Lb(),t=oh(),n=zb(),r=NaN,i=/^[-+]0x[0-9a-f]+$/i,o=/^0b[01]+$/i,a=/^0o[0-7]+$/i,f=parseInt;function u(c){if(typeof c=="number")return c;if(n(c))return r;if(t(c)){var s=typeof c.valueOf=="function"?c.valueOf():c;c=t(s)?s+"":s}if(typeof c!="string")return c===0?c:+c;c=e(c);var d=o.test(c);return d||a.test(c)?f(c.slice(2),d?2:8):i.test(c)?r:+c}return nf=u,nf}var rf,Ns;function Bb(){if(Ns)return rf;Ns=1;var e=oh(),t=Ib(),n=Ub(),r="Expected a function",i=Math.max,o=Math.min;function a(f,u,c){var s,d,l,h,p,m,g=0,y=!1,b=!1,w=!0;if(typeof f!="function")throw new TypeError(r);u=n(u)||0,e(c)&&(y=!!c.leading,b="maxWait"in c,l=b?i(n(c.maxWait)||0,u):l,w="trailing"in c?!!c.trailing:w);function _(N){var I=s,$=d;return s=d=void 0,g=N,h=f.apply($,I),h}function v(N){return g=N,p=setTimeout(S,u),y?_(N):h}function x(N){var I=N-m,$=N-g,L=u-I;return b?o(L,l-$):L}function M(N){var I=N-m,$=N-g;return m===void 0||I>=u||I<0||b&&$>=l}function S(){var N=t();if(M(N))return A(N);p=setTimeout(S,x(N))}function A(N){return p=void 0,w&&s?_(N):(s=d=void 0,h)}function k(){p!==void 0&&clearTimeout(p),g=0,s=m=d=p=void 0}function T(){return p===void 0?h:A(t())}function D(){var N=t(),I=M(N);if(s=arguments,d=this,m=N,I){if(p===void 0)return v(m);if(b)return clearTimeout(p),p=setTimeout(S,u),_(m)}return p===void 0&&(p=setTimeout(S,u)),h}return D.cancel=k,D.flush=T,D}return rf=a,rf}var Yb=Bb();const Hb=kb(Yb),jb=[],Ds={width:0,height:0,top:0,left:0};function Wb({initialSize:e=Ds,debounceTime:t=300,ignoreDimensions:n=jb,enableDebounceLeadingCall:r=!0,resizeObserverPolyfill:i}={}){const o=pe.useRef(null),a=pe.useRef(0),[f,u]=pe.useState({...Ds,...e}),c=pe.useMemo(()=>{const s=Array.isArray(n)?n:[n];return Hb(d=>{u(l=>Object.keys(l).filter(g=>l[g]!==d[g]).every(g=>s.includes(g))?l:d)},t,{leading:r})},[t,r,n]);return pe.useEffect(()=>{const s=i||window.ResizeObserver,d=new s(l=>{l.forEach(h=>{const{left:p,top:m,width:g,height:y}=(h==null?void 0:h.contentRect)??{};a.current=window.requestAnimationFrame(()=>{c({width:g,height:y,top:m,left:p})})})});return o.current&&d.observe(o.current),()=>{window.cancelAnimationFrame(a.current),d.disconnect(),c.cancel()}},[c,i]),{parentRef:o,resize:c,...f}}const Gb={width:"100%",height:"100%"};function Xu({className:e,children:t,debounceTime:n,ignoreDimensions:r,initialSize:i,parentSizeStyles:o=Gb,enableDebounceLeadingCall:a=!0,resizeObserverPolyfill:f,...u}){const{parentRef:c,resize:s,...d}=Wb({initialSize:i,debounceTime:n,ignoreDimensions:r,enableDebounceLeadingCall:a,resizeObserverPolyfill:f});return re.jsx("div",{style:o,ref:c,className:e,...u,children:t({...d,ref:c.current,resize:s})})}Xu.__docgenInfo={description:"",methods:[],displayName:"ResponsiveContainer",props:{className:{required:!1,tsType:{name:"string"},description:"Optional `className` to add to the parent `div` wrapper used for size measurement."},parentSizeStyles:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:"@deprecated - use `style` prop as all other props are passed directly to the parent `div`.\n@TODO remove in the next major version.\nOptional `style` object to apply to the parent `div` wrapper used for size measurement.",defaultValue:{value:"{ width: '100%', height: '100%' }",computed:!1}},children:{required:!0,tsType:{name:"signature",type:"function",raw:"(args: ParentSizeProvidedProps) => React.ReactNode",signature:{arguments:[{type:{name:"intersection",raw:`ParentSizeState & {
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"signature",type:"object",raw:`{
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,signature:{properties:[{key:"ref",value:{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}],required:!0}},{key:"resize",value:{name:"signature",type:"function",raw:"(state: ParentSizeState) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},name:"state"}],return:{name:"void"}},required:!0}}]}}]},name:"args"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Child render function `({ width, height, top, left, ref, resize }) => ReactNode`."},initialSize:{required:!1,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}}],raw:"Partial<ParentSizeState>"},description:"Initial size before measuring the parent."},resizeObserverPolyfill:{required:!1,tsType:{name:"ResizeObserverPolyfill"},description:"Optionally inject a ResizeObserver polyfill, else this *must* be globally available."},ignoreDimensions:{required:!1,tsType:{name:"union",raw:"keyof ParentSizeState | (keyof ParentSizeState)[]",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"Array",elements:[{name:"unknown"}],raw:"(keyof ParentSizeState)[]"}]},description:"Optional dimensions provided won't trigger a state change when changed."},debounceTime:{required:!1,tsType:{name:"number"},description:"Child render updates upon resize are delayed until `debounceTime` milliseconds _after_ the last resize event is observed. Defaults to `300`."},enableDebounceLeadingCall:{required:!1,tsType:{name:"boolean"},description:"Optional flag to toggle leading debounce calls. When set to true this will ensure that the component always renders immediately. Defaults to `true`.",defaultValue:{value:"true",computed:!1}}}};function Xb({budget:e}){return re.jsxs("div",{className:"flex h-full w-full select-none flex-col bg-slate-900 text-slate-300",children:[re.jsx("div",{className:"bg-slate-800 px-4 py-1 text-sm font-medium text-slate-500",children:"Budget Details"}),e?re.jsxs("div",{className:"flex-grow overflow-y-auto pb-4",children:[re.jsx("div",{className:"px-4 pb-2 pt-4 text-lg font-medium",children:e.name}),re.jsx(Cb,{tree:e.categories,parentContainerClasses:"cursor-pointer hover:bg-slate-800 px-4",childContainerClasses:"cursor-default px-4",renderCollapsibleItemContent:t=>re.jsxs("div",{className:"flex flex-row py-2",children:[re.jsx("div",{className:"grow",children:t.name}),re.jsx("div",{className:"text-gray-500",children:t.value})]}),renderLeafItemContent:t=>re.jsxs("div",{className:"flex flex-row py-2",children:[re.jsx("div",{className:"grow",children:t.name}),re.jsx("div",{children:Vb(t.value)})]})},e.name)]}):re.jsx("div",{className:"px-4 pb-2 pt-4 text-lg font-medium text-slate-600",children:"No budget selected"})]})}function Vb(e){return e>=0?e.toFixed(0).toString():`(${Math.abs(e).toFixed(0)})`}Xb.__docgenInfo={description:"",methods:[],displayName:"ScenarioBudget",props:{budget:{required:!0,tsType:{name:"union",raw:"BudgetCategories | null",elements:[{name:"BudgetCategories"},{name:"null"}]},description:""}}};function Le(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function si(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function ia(e){let t,n,r;e.length!==2?(t=Le,n=(f,u)=>Le(e(f),u),r=(f,u)=>e(f)-u):(t=e===Le||e===si?e:Zb,n=e,r=e);function i(f,u,c=0,s=f.length){if(c<s){if(t(u,u)!==0)return s;do{const d=c+s>>>1;n(f[d],u)<0?c=d+1:s=d}while(c<s)}return c}function o(f,u,c=0,s=f.length){if(c<s){if(t(u,u)!==0)return s;do{const d=c+s>>>1;n(f[d],u)<=0?c=d+1:s=d}while(c<s)}return c}function a(f,u,c=0,s=f.length){const d=i(f,u,c,s-1);return d>c&&r(f[d-1],u)>-r(f[d],u)?d-1:d}return{left:i,center:a,right:o}}function Zb(){return 0}function uh(e){return e===null?NaN:+e}function*Kb(e,t){if(t===void 0)for(let n of e)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of e)(r=t(r,++n,e))!=null&&(r=+r)>=r&&(yield r)}}const Qb=ia(Le),oa=Qb.right;ia(uh).center;function Vu(e,t){let n=0;for(let r of e)r!=null&&(r=+r)>=r&&++n;return n}function Jb(e){return e.length|0}function ey(e){return!(e>0)}function ty(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function ny(e){return t=>e(...t)}function ry(...e){const t=typeof e[e.length-1]=="function"&&ny(e.pop());e=e.map(ty);const n=e.map(Jb),r=e.length-1,i=new Array(r+1).fill(0),o=[];if(r<0||n.some(ey))return o;for(;;){o.push(i.map((f,u)=>e[u][f]));let a=r;for(;++i[a]===n[a];){if(a===0)return t?o.map(t):o;i[a--]=0}}}function iy(e,t){var n=0;return Float64Array.from(e,r=>n+=+r||0)}function ch(e,t){let n=0,r,i=0,o=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(r=a-i,i+=r/++n,o+=r*(a-i));else{let a=-1;for(let f of e)(f=t(f,++a,e))!=null&&(f=+f)>=f&&(r=f-i,i+=r/++n,o+=r*(f-i))}if(n>1)return o/(n-1)}function sh(e,t){const n=ch(e,t);return n&&Math.sqrt(n)}function je(e,t){let n,r;if(t===void 0)for(const i of e)i!=null&&(n===void 0?i>=i&&(n=r=i):(n>i&&(n=i),r<i&&(r=i)));else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(n===void 0?o>=o&&(n=r=o):(n>o&&(n=o),r<o&&(r=o)))}return[n,r]}class Mn{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const n=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const o=n[i],a=t+o,f=Math.abs(t)<Math.abs(o)?t-(a-o):o-(a-t);f&&(n[r++]=f),t=a}return n[r]=t,this._n=r+1,this}valueOf(){const t=this._partials;let n=this._n,r,i,o,a=0;if(n>0){for(a=t[--n];n>0&&(r=a,i=t[--n],a=r+i,o=i-(a-r),!o););n>0&&(o<0&&t[n-1]<0||o>0&&t[n-1]>0)&&(i=o*2,r=a+i,i==r-a&&(a=r))}return a}}class Sn extends Map{constructor(t,n=hh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const[r,i]of t)this.set(r,i)}get(t){return super.get(Vf(this,t))}has(t){return super.has(Vf(this,t))}set(t,n){return super.set(lh(this,t),n)}delete(t){return super.delete(dh(this,t))}}class aa extends Set{constructor(t,n=hh){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),t!=null)for(const r of t)this.add(r)}has(t){return super.has(Vf(this,t))}add(t){return super.add(lh(this,t))}delete(t){return super.delete(dh(this,t))}}function Vf({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):n}function lh({_intern:e,_key:t},n){const r=t(n);return e.has(r)?e.get(r):(e.set(r,n),n)}function dh({_intern:e,_key:t},n){const r=t(n);return e.has(r)&&(n=e.get(r),e.delete(r)),n}function hh(e){return e!==null&&typeof e=="object"?e.valueOf():e}function Zf(e){return e}function fa(e,...t){return Zu(e,Zf,Zf,t)}function Xn(e,t,...n){return Zu(e,Zf,t,n)}function oy(e,t,...n){return Zu(e,Array.from,t,n)}function Zu(e,t,n,r){return function i(o,a){if(a>=r.length)return n(o);const f=new Sn,u=r[a++];let c=-1;for(const s of o){const d=u(s,++c,o),l=f.get(d);l?l.push(s):f.set(d,[s])}for(const[s,d]of f)f.set(s,i(d,a));return t(f)}(e,0)}function ay(e,t){return Array.from(t,n=>e[n])}function mo(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[n]=t;if(n&&n.length!==2||t.length>1){const r=Uint32Array.from(e,(i,o)=>o);return t.length>1?(t=t.map(i=>e.map(i)),r.sort((i,o)=>{for(const a of t){const f=go(a[i],a[o]);if(f)return f}})):(n=e.map(n),r.sort((i,o)=>go(n[i],n[o]))),ay(e,r)}return e.sort(ph(n))}function ph(e=Le){if(e===Le)return go;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,n)=>{const r=e(t,n);return r||r===0?r:(e(n,n)===0)-(e(t,t)===0)}}function go(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Ku(e,t,n){return(t.length!==2?mo(Xn(e,t,n),([r,i],[o,a])=>Le(i,a)||Le(r,o)):mo(fa(e,n),([r,i],[o,a])=>t(i,a)||Le(r,o))).map(([r])=>r)}const fy=Math.sqrt(50),uy=Math.sqrt(10),cy=Math.sqrt(2);function bo(e,t,n){const r=(t-e)/Math.max(0,n),i=Math.floor(Math.log10(r)),o=r/Math.pow(10,i),a=o>=fy?10:o>=uy?5:o>=cy?2:1;let f,u,c;return i<0?(c=Math.pow(10,-i)/a,f=Math.round(e*c),u=Math.round(t*c),f/c<e&&++f,u/c>t&&--u,c=-c):(c=Math.pow(10,i)*a,f=Math.round(e/c),u=Math.round(t/c),f*c<e&&++f,u*c>t&&--u),u<f&&.5<=n&&n<2?bo(e,t,n*2):[f,u,c]}function Zr(e,t,n){if(t=+t,e=+e,n=+n,!(n>0))return[];if(e===t)return[e];const r=t<e,[i,o,a]=r?bo(t,e,n):bo(e,t,n);if(!(o>=i))return[];const f=o-i+1,u=new Array(f);if(r)if(a<0)for(let c=0;c<f;++c)u[c]=(o-c)/-a;else for(let c=0;c<f;++c)u[c]=(o-c)*a;else if(a<0)for(let c=0;c<f;++c)u[c]=(i+c)/-a;else for(let c=0;c<f;++c)u[c]=(i+c)*a;return u}function yo(e,t,n){return t=+t,e=+e,n=+n,bo(e,t,n)[2]}function Kf(e,t,n){t=+t,e=+e,n=+n;const r=t<e,i=r?yo(t,e,n):yo(e,t,n);return(r?-1:1)*(i<0?1/-i:i)}function sy(e){return Math.max(1,Math.ceil(Math.log(Vu(e))/Math.LN2)+1)}function nt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function ly(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n<o||n===void 0&&o>=o)&&(n=o,r=i);return r}function zt(e,t){let n;if(t===void 0)for(const r of e)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of e)(i=t(i,++r,e))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function dy(e,t){let n,r=-1,i=-1;if(t===void 0)for(const o of e)++i,o!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);else for(let o of e)(o=t(o,++i,e))!=null&&(n>o||n===void 0&&o>=o)&&(n=o,r=i);return r}function mh(e,t,n=0,r=1/0,i){if(t=Math.floor(t),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(e.length-1,r)),!(n<=t&&t<=r))return e;for(i=i===void 0?go:ph(i);r>n;){if(r-n>600){const u=r-n+1,c=t-n+1,s=Math.log(u),d=.5*Math.exp(2*s/3),l=.5*Math.sqrt(s*d*(u-d)/u)*(c-u/2<0?-1:1),h=Math.max(n,Math.floor(t-c*d/u+l)),p=Math.min(r,Math.floor(t+(u-c)*d/u+l));mh(e,t,h,p,i)}const o=e[t];let a=n,f=r;for(Mr(e,n,t),i(e[r],o)>0&&Mr(e,n,r);a<f;){for(Mr(e,a,f),++a,--f;i(e[a],o)<0;)++a;for(;i(e[f],o)>0;)--f}i(e[n],o)===0?Mr(e,n,f):(++f,Mr(e,f,r)),f<=t&&(n=f+1),t<=f&&(r=f-1)}return e}function Mr(e,t,n){const r=e[t];e[t]=e[n],e[n]=r}function gh(e,t=Le){let n,r=!1;if(t.length===1){let i;for(const o of e){const a=t(o);(r?Le(a,i)>0:Le(a,a)===0)&&(n=o,i=a,r=!0)}}else for(const i of e)(r?t(i,n)>0:t(i,i)===0)&&(n=i,r=!0);return n}function Jn(e,t,n){if(e=Float64Array.from(Kb(e,n)),!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return zt(e);if(t>=1)return nt(e);var r,i=(r-1)*t,o=Math.floor(i),a=nt(mh(e,o).subarray(0,o+1)),f=zt(e.subarray(o+1));return a+(f-a)*(i-o)}}function hy(e,t,n=uh){if(!(!(r=e.length)||isNaN(t=+t))){if(t<=0||r<2)return+n(e[0],0,e);if(t>=1)return+n(e[r-1],r-1,e);var r,i=(r-1)*t,o=Math.floor(i),a=+n(e[o],o,e),f=+n(e[o+1],o+1,e);return a+(f-a)*(i-o)}}function py(e,t,n){const r=Vu(e),i=Jn(e,.75)-Jn(e,.25);return r&&i?Math.ceil((n-t)/(2*i*Math.pow(r,-1/3))):1}function bh(e,t,n){const r=Vu(e),i=sh(e);return r&&i?Math.ceil((n-t)*Math.cbrt(r)/(3.49*i)):1}function my(e,t){let n=0,r=0;if(t===void 0)for(let i of e)i!=null&&(i=+i)>=i&&(++n,r+=i);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&(o=+o)>=o&&(++n,r+=o)}if(n)return r/n}function Qf(e,t){return Jn(e,.5,t)}function*gy(e){for(const t of e)yield*t}function yh(e){return Array.from(gy(e))}function by(e,t){const n=new Sn;if(t===void 0)for(let o of e)o!=null&&o>=o&&n.set(o,(n.get(o)||0)+1);else{let o=-1;for(let a of e)(a=t(a,++o,e))!=null&&a>=a&&n.set(a,(n.get(a)||0)+1)}let r,i=0;for(const[o,a]of n)a>i&&(i=a,r=o);return r}function yy(e,t=_y){const n=[];let r,i=!1;for(const o of e)i&&n.push(t(r,o)),r=o,i=!0;return n}function _y(e,t){return[e,t]}function Jf(e,t,n){e=+e,t=+t,n=(i=arguments.length)<2?(t=e,e=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((t-e)/n))|0,o=new Array(i);++r<i;)o[r]=e+r*n;return o}function nn(e,t){let n=0;if(t===void 0)for(let r of e)(r=+r)&&(n+=r);else{let r=-1;for(let i of e)(i=+t(i,++r,e))&&(n+=i)}return n}function _o(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function wy(e){return e}var vy=3,Is=1e-6;function xy(e){return"translate("+e+",0)"}function Ty(e){return t=>+e(t)}function My(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),n=>+e(n)+t}function Sy(){return!this.__axis}function $y(e,t){var n=[],r=null,i=null,o=6,a=6,f=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,c=1,s="y",d=xy;function l(h){var p=r??(t.ticks?t.ticks.apply(t,n):t.domain()),m=i??(t.tickFormat?t.tickFormat.apply(t,n):wy),g=Math.max(o,0)+f,y=t.range(),b=+y[0]+u,w=+y[y.length-1]+u,_=(t.bandwidth?My:Ty)(t.copy(),u),v=h.selection?h.selection():h,x=v.selectAll(".domain").data([null]),M=v.selectAll(".tick").data(p,t).order(),S=M.exit(),A=M.enter().append("g").attr("class","tick"),k=M.select("line"),T=M.select("text");x=x.merge(x.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),M=M.merge(A),k=k.merge(A.append("line").attr("stroke","currentColor").attr(s+"2",c*o)),T=T.merge(A.append("text").attr("fill","currentColor").attr(s,c*g).attr("dy","0.71em")),h!==v&&(x=x.transition(h),M=M.transition(h),k=k.transition(h),T=T.transition(h),S=S.transition(h).attr("opacity",Is).attr("transform",function(D){return isFinite(D=_(D))?d(D+u):this.getAttribute("transform")}),A.attr("opacity",Is).attr("transform",function(D){var N=this.parentNode.__axis;return d((N&&isFinite(N=N(D))?N:_(D))+u)})),S.remove(),x.attr("d",a?"M"+b+","+c*a+"V"+u+"H"+w+"V"+c*a:"M"+b+","+u+"H"+w),M.attr("opacity",1).attr("transform",function(D){return d(_(D)+u)}),k.attr(s+"2",c*o),T.attr(s,c*g).text(m),v.filter(Sy).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),v.each(function(){this.__axis=_})}return l.scale=function(h){return arguments.length?(t=h,l):t},l.ticks=function(){return n=Array.from(arguments),l},l.tickArguments=function(h){return arguments.length?(n=h==null?[]:Array.from(h),l):n.slice()},l.tickValues=function(h){return arguments.length?(r=h==null?null:Array.from(h),l):r&&r.slice()},l.tickFormat=function(h){return arguments.length?(i=h,l):i},l.tickSize=function(h){return arguments.length?(o=a=+h,l):o},l.tickSizeInner=function(h){return arguments.length?(o=+h,l):o},l.tickSizeOuter=function(h){return arguments.length?(a=+h,l):a},l.tickPadding=function(h){return arguments.length?(f=+h,l):f},l.offset=function(h){return arguments.length?(u=+h,l):u},l}function Ay(e){return $y(vy,e)}var Ey={value:()=>{}};function _h(){for(var e=0,t=arguments.length,n={},r;e<t;++e){if(!(r=arguments[e]+"")||r in n||/[\s.]/.test(r))throw new Error("illegal type: "+r);n[r]=[]}return new uo(n)}function uo(e){this._=e}function Cy(e,t){return e.trim().split(/^|\s+/).map(function(n){var r="",i=n.indexOf(".");if(i>=0&&(r=n.slice(i+1),n=n.slice(0,i)),n&&!t.hasOwnProperty(n))throw new Error("unknown type: "+n);return{type:n,name:r}})}uo.prototype=_h.prototype={constructor:uo,on:function(e,t){var n=this._,r=Cy(e+"",n),i,o=-1,a=r.length;if(arguments.length<2){for(;++o<a;)if((i=(e=r[o]).type)&&(i=ky(n[i],e.name)))return i;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++o<a;)if(i=(e=r[o]).type)n[i]=Rs(n[i],e.name,t);else if(t==null)for(i in n)n[i]=Rs(n[i],e.name,null);return this},copy:function(){var e={},t=this._;for(var n in t)e[n]=t[n].slice();return new uo(e)},call:function(e,t){if((i=arguments.length-2)>0)for(var n=new Array(i),r=0,i,o;r<i;++r)n[r]=arguments[r+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(o=this._[e],r=0,i=o.length;r<i;++r)o[r].value.apply(t,n)},apply:function(e,t,n){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var r=this._[e],i=0,o=r.length;i<o;++i)r[i].value.apply(t,n)}};function ky(e,t){for(var n=0,r=e.length,i;n<r;++n)if((i=e[n]).name===t)return i.value}function Rs(e,t,n){for(var r=0,i=e.length;r<i;++r)if(e[r].name===t){e[r]=Ey,e=e.slice(0,r).concat(e.slice(r+1));break}return n!=null&&e.push({name:t,value:n}),e}var eu="http://www.w3.org/1999/xhtml";const er={svg:"http://www.w3.org/2000/svg",xhtml:eu,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function ua(e){var t=e+="",n=t.indexOf(":");return n>=0&&(t=e.slice(0,n))!=="xmlns"&&(e=e.slice(n+1)),er.hasOwnProperty(t)?{space:er[t],local:e}:e}function Ny(e){return function(){var t=this.ownerDocument,n=this.namespaceURI;return n===eu&&t.documentElement.namespaceURI===eu?t.createElement(e):t.createElementNS(n,e)}}function Dy(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function ca(e){var t=ua(e);return(t.local?Dy:Ny)(t)}function Iy(){}function Qu(e){return e==null?Iy:function(){return this.querySelector(e)}}function Ry(e){typeof e!="function"&&(e=Qu(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,f=r[i]=new Array(a),u,c,s=0;s<a;++s)(u=o[s])&&(c=e.call(u,u.__data__,s,o))&&("__data__"in u&&(c.__data__=u.__data__),f[s]=c);return new ze(r,this._parents)}function Ly(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function Oy(){return[]}function wh(e){return e==null?Oy:function(){return this.querySelectorAll(e)}}function Fy(e){return function(){return Ly(e.apply(this,arguments))}}function Py(e){typeof e=="function"?e=Fy(e):e=wh(e);for(var t=this._groups,n=t.length,r=[],i=[],o=0;o<n;++o)for(var a=t[o],f=a.length,u,c=0;c<f;++c)(u=a[c])&&(r.push(e.call(u,u.__data__,c,a)),i.push(u));return new ze(r,i)}function vh(e){return function(){return this.matches(e)}}function xh(e){return function(t){return t.matches(e)}}var qy=Array.prototype.find;function zy(e){return function(){return qy.call(this.children,e)}}function Uy(){return this.firstElementChild}function By(e){return this.select(e==null?Uy:zy(typeof e=="function"?e:xh(e)))}var Yy=Array.prototype.filter;function Hy(){return Array.from(this.children)}function jy(e){return function(){return Yy.call(this.children,e)}}function Wy(e){return this.selectAll(e==null?Hy:jy(typeof e=="function"?e:xh(e)))}function Gy(e){typeof e!="function"&&(e=vh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,f=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&f.push(u);return new ze(r,this._parents)}function Th(e){return new Array(e.length)}function Xy(){return new ze(this._enter||this._groups.map(Th),this._parents)}function wo(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}wo.prototype={constructor:wo,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function Vy(e){return function(){return e}}function Zy(e,t,n,r,i,o){for(var a=0,f,u=t.length,c=o.length;a<c;++a)(f=t[a])?(f.__data__=o[a],r[a]=f):n[a]=new wo(e,o[a]);for(;a<u;++a)(f=t[a])&&(i[a]=f)}function Ky(e,t,n,r,i,o,a){var f,u,c=new Map,s=t.length,d=o.length,l=new Array(s),h;for(f=0;f<s;++f)(u=t[f])&&(l[f]=h=a.call(u,u.__data__,f,t)+"",c.has(h)?i[f]=u:c.set(h,u));for(f=0;f<d;++f)h=a.call(e,o[f],f,o)+"",(u=c.get(h))?(r[f]=u,u.__data__=o[f],c.delete(h)):n[f]=new wo(e,o[f]);for(f=0;f<s;++f)(u=t[f])&&c.get(l[f])===u&&(i[f]=u)}function Qy(e){return e.__data__}function Jy(e,t){if(!arguments.length)return Array.from(this,Qy);var n=t?Ky:Zy,r=this._parents,i=this._groups;typeof e!="function"&&(e=Vy(e));for(var o=i.length,a=new Array(o),f=new Array(o),u=new Array(o),c=0;c<o;++c){var s=r[c],d=i[c],l=d.length,h=e2(e.call(s,s&&s.__data__,c,r)),p=h.length,m=f[c]=new Array(p),g=a[c]=new Array(p),y=u[c]=new Array(l);n(s,d,m,g,y,h,t);for(var b=0,w=0,_,v;b<p;++b)if(_=m[b]){for(b>=w&&(w=b+1);!(v=g[w])&&++w<p;);_._next=v||null}}return a=new ze(a,r),a._enter=f,a._exit=u,a}function e2(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function t2(){return new ze(this._exit||this._groups.map(Th),this._parents)}function n2(e,t,n){var r=this.enter(),i=this,o=this.exit();return typeof e=="function"?(r=e(r),r&&(r=r.selection())):r=r.append(e+""),t!=null&&(i=t(i),i&&(i=i.selection())),n==null?o.remove():n(o),r&&i?r.merge(i).order():i}function r2(e){for(var t=e.selection?e.selection():e,n=this._groups,r=t._groups,i=n.length,o=r.length,a=Math.min(i,o),f=new Array(i),u=0;u<a;++u)for(var c=n[u],s=r[u],d=c.length,l=f[u]=new Array(d),h,p=0;p<d;++p)(h=c[p]||s[p])&&(l[p]=h);for(;u<i;++u)f[u]=n[u];return new ze(f,this._parents)}function i2(){for(var e=this._groups,t=-1,n=e.length;++t<n;)for(var r=e[t],i=r.length-1,o=r[i],a;--i>=0;)(a=r[i])&&(o&&a.compareDocumentPosition(o)^4&&o.parentNode.insertBefore(a,o),o=a);return this}function o2(e){e||(e=a2);function t(d,l){return d&&l?e(d.__data__,l.__data__):!d-!l}for(var n=this._groups,r=n.length,i=new Array(r),o=0;o<r;++o){for(var a=n[o],f=a.length,u=i[o]=new Array(f),c,s=0;s<f;++s)(c=a[s])&&(u[s]=c);u.sort(t)}return new ze(i,this._parents).order()}function a2(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function f2(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function u2(){return Array.from(this)}function c2(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length;i<o;++i){var a=r[i];if(a)return a}return null}function s2(){let e=0;for(const t of this)++e;return e}function l2(){return!this.node()}function d2(e){for(var t=this._groups,n=0,r=t.length;n<r;++n)for(var i=t[n],o=0,a=i.length,f;o<a;++o)(f=i[o])&&e.call(f,f.__data__,o,i);return this}function h2(e){return function(){this.removeAttribute(e)}}function p2(e){return function(){this.removeAttributeNS(e.space,e.local)}}function m2(e,t){return function(){this.setAttribute(e,t)}}function g2(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function b2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttribute(e):this.setAttribute(e,n)}}function y2(e,t){return function(){var n=t.apply(this,arguments);n==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,n)}}function _2(e,t){var n=ua(e);if(arguments.length<2){var r=this.node();return n.local?r.getAttributeNS(n.space,n.local):r.getAttribute(n)}return this.each((t==null?n.local?p2:h2:typeof t=="function"?n.local?y2:b2:n.local?g2:m2)(n,t))}function Mh(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function w2(e){return function(){this.style.removeProperty(e)}}function v2(e,t,n){return function(){this.style.setProperty(e,t,n)}}function x2(e,t,n){return function(){var r=t.apply(this,arguments);r==null?this.style.removeProperty(e):this.style.setProperty(e,r,n)}}function T2(e,t,n){return arguments.length>1?this.each((t==null?w2:typeof t=="function"?x2:v2)(e,t,n??"")):tr(this.node(),e)}function tr(e,t){return e.style.getPropertyValue(t)||Mh(e).getComputedStyle(e,null).getPropertyValue(t)}function M2(e){return function(){delete this[e]}}function S2(e,t){return function(){this[e]=t}}function $2(e,t){return function(){var n=t.apply(this,arguments);n==null?delete this[e]:this[e]=n}}function A2(e,t){return arguments.length>1?this.each((t==null?M2:typeof t=="function"?$2:S2)(e,t)):this.node()[e]}function Sh(e){return e.trim().split(/^|\s+/)}function Ju(e){return e.classList||new $h(e)}function $h(e){this._node=e,this._names=Sh(e.getAttribute("class")||"")}$h.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function Ah(e,t){for(var n=Ju(e),r=-1,i=t.length;++r<i;)n.add(t[r])}function Eh(e,t){for(var n=Ju(e),r=-1,i=t.length;++r<i;)n.remove(t[r])}function E2(e){return function(){Ah(this,e)}}function C2(e){return function(){Eh(this,e)}}function k2(e,t){return function(){(t.apply(this,arguments)?Ah:Eh)(this,e)}}function N2(e,t){var n=Sh(e+"");if(arguments.length<2){for(var r=Ju(this.node()),i=-1,o=n.length;++i<o;)if(!r.contains(n[i]))return!1;return!0}return this.each((typeof t=="function"?k2:t?E2:C2)(n,t))}function D2(){this.textContent=""}function I2(e){return function(){this.textContent=e}}function R2(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function L2(e){return arguments.length?this.each(e==null?D2:(typeof e=="function"?R2:I2)(e)):this.node().textContent}function O2(){this.innerHTML=""}function F2(e){return function(){this.innerHTML=e}}function P2(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function q2(e){return arguments.length?this.each(e==null?O2:(typeof e=="function"?P2:F2)(e)):this.node().innerHTML}function z2(){this.nextSibling&&this.parentNode.appendChild(this)}function U2(){return this.each(z2)}function B2(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function Y2(){return this.each(B2)}function H2(e){var t=typeof e=="function"?e:ca(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function j2(){return null}function W2(e,t){var n=typeof e=="function"?e:ca(e),r=t==null?j2:typeof t=="function"?t:Qu(t);return this.select(function(){return this.insertBefore(n.apply(this,arguments),r.apply(this,arguments)||null)})}function G2(){var e=this.parentNode;e&&e.removeChild(this)}function X2(){return this.each(G2)}function V2(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function Z2(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function K2(e){return this.select(e?Z2:V2)}function Q2(e){return arguments.length?this.property("__data__",e):this.node().__data__}function J2(e){return function(t){e.call(this,t,this.__data__)}}function e_(e){return e.trim().split(/^|\s+/).map(function(t){var n="",r=t.indexOf(".");return r>=0&&(n=t.slice(r+1),t=t.slice(0,r)),{type:t,name:n}})}function t_(e){return function(){var t=this.__on;if(t){for(var n=0,r=-1,i=t.length,o;n<i;++n)o=t[n],(!e.type||o.type===e.type)&&o.name===e.name?this.removeEventListener(o.type,o.listener,o.options):t[++r]=o;++r?t.length=r:delete this.__on}}}function n_(e,t,n){return function(){var r=this.__on,i,o=J2(t);if(r){for(var a=0,f=r.length;a<f;++a)if((i=r[a]).type===e.type&&i.name===e.name){this.removeEventListener(i.type,i.listener,i.options),this.addEventListener(i.type,i.listener=o,i.options=n),i.value=t;return}}this.addEventListener(e.type,o,n),i={type:e.type,name:e.name,value:t,listener:o,options:n},r?r.push(i):this.__on=[i]}}function r_(e,t,n){var r=e_(e+""),i,o=r.length,a;if(arguments.length<2){var f=this.node().__on;if(f){for(var u=0,c=f.length,s;u<c;++u)for(i=0,s=f[u];i<o;++i)if((a=r[i]).type===s.type&&a.name===s.name)return s.value}return}for(f=t?n_:t_,i=0;i<o;++i)this.each(f(r[i],t,n));return this}function Ch(e,t,n){var r=Mh(e),i=r.CustomEvent;typeof i=="function"?i=new i(t,n):(i=r.document.createEvent("Event"),n?(i.initEvent(t,n.bubbles,n.cancelable),i.detail=n.detail):i.initEvent(t,!1,!1)),e.dispatchEvent(i)}function i_(e,t){return function(){return Ch(this,e,t)}}function o_(e,t){return function(){return Ch(this,e,t.apply(this,arguments))}}function a_(e,t){return this.each((typeof t=="function"?o_:i_)(e,t))}function*f_(){for(var e=this._groups,t=0,n=e.length;t<n;++t)for(var r=e[t],i=0,o=r.length,a;i<o;++i)(a=r[i])&&(yield a)}var kh=[null];function ze(e,t){this._groups=e,this._parents=t}function li(){return new ze([[document.documentElement]],kh)}function u_(){return this}ze.prototype=li.prototype={constructor:ze,select:Ry,selectAll:Py,selectChild:By,selectChildren:Wy,filter:Gy,data:Jy,enter:Xy,exit:t2,join:n2,merge:r2,selection:u_,order:i2,sort:o2,call:f2,nodes:u2,node:c2,size:s2,empty:l2,each:d2,attr:_2,style:T2,property:A2,classed:N2,text:L2,html:q2,raise:U2,lower:Y2,append:H2,insert:W2,remove:X2,clone:K2,datum:Q2,on:r_,dispatch:a_,[Symbol.iterator]:f_};function Vn(e){return typeof e=="string"?new ze([[document.querySelector(e)]],[document.documentElement]):new ze([[e]],kh)}function c_(e){let t;for(;t=e.sourceEvent;)e=t;return e}function s_(e,t){if(e=c_(e),t===void 0&&(t=e.currentTarget),t){var n=t.ownerSVGElement||t;if(n.createSVGPoint){var r=n.createSVGPoint();return r.x=e.clientX,r.y=e.clientY,r=r.matrixTransform(t.getScreenCTM().inverse()),[r.x,r.y]}if(t.getBoundingClientRect){var i=t.getBoundingClientRect();return[e.clientX-i.left-t.clientLeft,e.clientY-i.top-t.clientTop]}}return[e.pageX,e.pageY]}function br(e,t,n){e.prototype=t.prototype=n,n.constructor=e}function di(e,t){var n=Object.create(e.prototype);for(var r in t)n[r]=t[r];return n}function un(){}var $n=.7,nr=1/$n,Zn="\\s*([+-]?\\d+)\\s*",Kr="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_t="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",l_=/^#([0-9a-f]{3,8})$/,d_=new RegExp(`^rgb\\(${Zn},${Zn},${Zn}\\)$`),h_=new RegExp(`^rgb\\(${_t},${_t},${_t}\\)$`),p_=new RegExp(`^rgba\\(${Zn},${Zn},${Zn},${Kr}\\)$`),m_=new RegExp(`^rgba\\(${_t},${_t},${_t},${Kr}\\)$`),g_=new RegExp(`^hsl\\(${Kr},${_t},${_t}\\)$`),b_=new RegExp(`^hsla\\(${Kr},${_t},${_t},${Kr}\\)$`),Ls={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};br(un,An,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:Os,formatHex:Os,formatHex8:y_,formatHsl:__,formatRgb:Fs,toString:Fs});function Os(){return this.rgb().formatHex()}function y_(){return this.rgb().formatHex8()}function __(){return Nh(this).formatHsl()}function Fs(){return this.rgb().formatRgb()}function An(e){var t,n;return e=(e+"").trim().toLowerCase(),(t=l_.exec(e))?(n=t[1].length,t=parseInt(t[1],16),n===6?Ps(t):n===3?new we(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):n===8?Fi(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):n===4?Fi(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=d_.exec(e))?new we(t[1],t[2],t[3],1):(t=h_.exec(e))?new we(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=p_.exec(e))?Fi(t[1],t[2],t[3],t[4]):(t=m_.exec(e))?Fi(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=g_.exec(e))?Us(t[1],t[2]/100,t[3]/100,1):(t=b_.exec(e))?Us(t[1],t[2]/100,t[3]/100,t[4]):Ls.hasOwnProperty(e)?Ps(Ls[e]):e==="transparent"?new we(NaN,NaN,NaN,0):null}function Ps(e){return new we(e>>16&255,e>>8&255,e&255,1)}function Fi(e,t,n,r){return r<=0&&(e=t=n=NaN),new we(e,t,n,r)}function ec(e){return e instanceof un||(e=An(e)),e?(e=e.rgb(),new we(e.r,e.g,e.b,e.opacity)):new we}function rn(e,t,n,r){return arguments.length===1?ec(e):new we(e,t,n,r??1)}function we(e,t,n,r){this.r=+e,this.g=+t,this.b=+n,this.opacity=+r}br(we,rn,di(un,{brighter(e){return e=e==null?nr:Math.pow(nr,e),new we(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?$n:Math.pow($n,e),new we(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new we(vn(this.r),vn(this.g),vn(this.b),vo(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:qs,formatHex:qs,formatHex8:w_,formatRgb:zs,toString:zs}));function qs(){return`#${wn(this.r)}${wn(this.g)}${wn(this.b)}`}function w_(){return`#${wn(this.r)}${wn(this.g)}${wn(this.b)}${wn((isNaN(this.opacity)?1:this.opacity)*255)}`}function zs(){const e=vo(this.opacity);return`${e===1?"rgb(":"rgba("}${vn(this.r)}, ${vn(this.g)}, ${vn(this.b)}${e===1?")":`, ${e})`}`}function vo(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function vn(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function wn(e){return e=vn(e),(e<16?"0":"")+e.toString(16)}function Us(e,t,n,r){return r<=0?e=t=n=NaN:n<=0||n>=1?e=t=NaN:t<=0&&(e=NaN),new et(e,t,n,r)}function Nh(e){if(e instanceof et)return new et(e.h,e.s,e.l,e.opacity);if(e instanceof un||(e=An(e)),!e)return new et;if(e instanceof et)return e;e=e.rgb();var t=e.r/255,n=e.g/255,r=e.b/255,i=Math.min(t,n,r),o=Math.max(t,n,r),a=NaN,f=o-i,u=(o+i)/2;return f?(t===o?a=(n-r)/f+(n<r)*6:n===o?a=(r-t)/f+2:a=(t-n)/f+4,f/=u<.5?o+i:2-o-i,a*=60):f=u>0&&u<1?0:a,new et(a,f,u,e.opacity)}function tu(e,t,n,r){return arguments.length===1?Nh(e):new et(e,t,n,r??1)}function et(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}br(et,tu,di(un,{brighter(e){return e=e==null?nr:Math.pow(nr,e),new et(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$n:Math.pow($n,e),new et(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*t,i=2*n-r;return new we(of(e>=240?e-240:e+120,i,r),of(e,i,r),of(e<120?e+240:e-120,i,r),this.opacity)},clamp(){return new et(Bs(this.h),Pi(this.s),Pi(this.l),vo(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=vo(this.opacity);return`${e===1?"hsl(":"hsla("}${Bs(this.h)}, ${Pi(this.s)*100}%, ${Pi(this.l)*100}%${e===1?")":`, ${e})`}`}}));function Bs(e){return e=(e||0)%360,e<0?e+360:e}function Pi(e){return Math.max(0,Math.min(1,e||0))}function of(e,t,n){return(e<60?t+(n-t)*e/60:e<180?n:e<240?t+(n-t)*(240-e)/60:t)*255}const Dh=Math.PI/180,Ih=180/Math.PI,xo=18,Rh=.96422,Lh=1,Oh=.82521,Fh=4/29,Kn=6/29,Ph=3*Kn*Kn,v_=Kn*Kn*Kn;function qh(e){if(e instanceof wt)return new wt(e.l,e.a,e.b,e.opacity);if(e instanceof Lt)return zh(e);e instanceof we||(e=ec(e));var t=cf(e.r),n=cf(e.g),r=cf(e.b),i=af((.2225045*t+.7168786*n+.0606169*r)/Lh),o,a;return t===n&&n===r?o=a=i:(o=af((.4360747*t+.3850649*n+.1430804*r)/Rh),a=af((.0139322*t+.0971045*n+.7141733*r)/Oh)),new wt(116*i-16,500*(o-i),200*(i-a),e.opacity)}function nu(e,t,n,r){return arguments.length===1?qh(e):new wt(e,t,n,r??1)}function wt(e,t,n,r){this.l=+e,this.a=+t,this.b=+n,this.opacity=+r}br(wt,nu,di(un,{brighter(e){return new wt(this.l+xo*(e??1),this.a,this.b,this.opacity)},darker(e){return new wt(this.l-xo*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,n=isNaN(this.b)?e:e-this.b/200;return t=Rh*ff(t),e=Lh*ff(e),n=Oh*ff(n),new we(uf(3.1338561*t-1.6168667*e-.4906146*n),uf(-.9787684*t+1.9161415*e+.033454*n),uf(.0719453*t-.2289914*e+1.4052427*n),this.opacity)}}));function af(e){return e>v_?Math.pow(e,1/3):e/Ph+Fh}function ff(e){return e>Kn?e*e*e:Ph*(e-Fh)}function uf(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function cf(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function x_(e){if(e instanceof Lt)return new Lt(e.h,e.c,e.l,e.opacity);if(e instanceof wt||(e=qh(e)),e.a===0&&e.b===0)return new Lt(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*Ih;return new Lt(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function ru(e,t,n,r){return arguments.length===1?x_(e):new Lt(e,t,n,r??1)}function Lt(e,t,n,r){this.h=+e,this.c=+t,this.l=+n,this.opacity=+r}function zh(e){if(isNaN(e.h))return new wt(e.l,0,0,e.opacity);var t=e.h*Dh;return new wt(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}br(Lt,ru,di(un,{brighter(e){return new Lt(this.h,this.c,this.l+xo*(e??1),this.opacity)},darker(e){return new Lt(this.h,this.c,this.l-xo*(e??1),this.opacity)},rgb(){return zh(this).rgb()}}));var Uh=-.14861,tc=1.78277,nc=-.29227,sa=-.90649,Qr=1.97294,Ys=Qr*sa,Hs=Qr*tc,js=tc*nc-sa*Uh;function T_(e){if(e instanceof xn)return new xn(e.h,e.s,e.l,e.opacity);e instanceof we||(e=ec(e));var t=e.r/255,n=e.g/255,r=e.b/255,i=(js*r+Ys*t-Hs*n)/(js+Ys-Hs),o=r-i,a=(Qr*(n-i)-nc*o)/sa,f=Math.sqrt(a*a+o*o)/(Qr*i*(1-i)),u=f?Math.atan2(a,o)*Ih-120:NaN;return new xn(u<0?u+360:u,f,i,e.opacity)}function vt(e,t,n,r){return arguments.length===1?T_(e):new xn(e,t,n,r??1)}function xn(e,t,n,r){this.h=+e,this.s=+t,this.l=+n,this.opacity=+r}br(xn,vt,di(un,{brighter(e){return e=e==null?nr:Math.pow(nr,e),new xn(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?$n:Math.pow($n,e),new xn(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*Dh,t=+this.l,n=isNaN(this.s)?0:this.s*t*(1-t),r=Math.cos(e),i=Math.sin(e);return new we(255*(t+n*(Uh*r+tc*i)),255*(t+n*(nc*r+sa*i)),255*(t+n*(Qr*r)),this.opacity)}}));function M_(e,t,n,r,i){var o=e*e,a=o*e;return((1-3*e+3*o-a)*t+(4-6*o+3*a)*n+(1+3*e+3*o-3*a)*r+a*i)/6}function S_(e){var t=e.length-1;return function(n){var r=n<=0?n=0:n>=1?(n=1,t-1):Math.floor(n*t),i=e[r],o=e[r+1],a=r>0?e[r-1]:2*i-o,f=r<t-1?e[r+2]:2*o-i;return M_((n-r/t)*t,a,i,o,f)}}const la=e=>()=>e;function Bh(e,t){return function(n){return e+n*t}}function $_(e,t,n){return e=Math.pow(e,n),t=Math.pow(t,n)-e,n=1/n,function(r){return Math.pow(e+r*t,n)}}function rc(e,t){var n=t-e;return n?Bh(e,n>180||n<-180?n-360*Math.round(n/360):n):la(isNaN(e)?t:e)}function A_(e){return(e=+e)==1?Ee:function(t,n){return n-t?$_(t,n,e):la(isNaN(t)?n:t)}}function Ee(e,t){var n=t-e;return n?Bh(e,n):la(isNaN(e)?t:e)}const En=function e(t){var n=A_(t);function r(i,o){var a=n((i=rn(i)).r,(o=rn(o)).r),f=n(i.g,o.g),u=n(i.b,o.b),c=Ee(i.opacity,o.opacity);return function(s){return i.r=a(s),i.g=f(s),i.b=u(s),i.opacity=c(s),i+""}}return r.gamma=e,r}(1);function E_(e){return function(t){var n=t.length,r=new Array(n),i=new Array(n),o=new Array(n),a,f;for(a=0;a<n;++a)f=rn(t[a]),r[a]=f.r||0,i[a]=f.g||0,o[a]=f.b||0;return r=e(r),i=e(i),o=e(o),f.opacity=1,function(u){return f.r=r(u),f.g=i(u),f.b=o(u),f+""}}}var C_=E_(S_);function k_(e,t){t||(t=[]);var n=e?Math.min(t.length,e.length):0,r=t.slice(),i;return function(o){for(i=0;i<n;++i)r[i]=e[i]*(1-o)+t[i]*o;return r}}function N_(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function D_(e,t){var n=t?t.length:0,r=e?Math.min(n,e.length):0,i=new Array(r),o=new Array(n),a;for(a=0;a<r;++a)i[a]=hi(e[a],t[a]);for(;a<n;++a)o[a]=t[a];return function(f){for(a=0;a<r;++a)o[a]=i[a](f);return o}}function I_(e,t){var n=new Date;return e=+e,t=+t,function(r){return n.setTime(e*(1-r)+t*r),n}}function $e(e,t){return e=+e,t=+t,function(n){return e*(1-n)+t*n}}function R_(e,t){var n={},r={},i;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(i in t)i in e?n[i]=hi(e[i],t[i]):r[i]=t[i];return function(o){for(i in n)r[i]=n[i](o);return r}}var iu=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,sf=new RegExp(iu.source,"g");function L_(e){return function(){return e}}function O_(e){return function(t){return e(t)+""}}function Yh(e,t){var n=iu.lastIndex=sf.lastIndex=0,r,i,o,a=-1,f=[],u=[];for(e=e+"",t=t+"";(r=iu.exec(e))&&(i=sf.exec(t));)(o=i.index)>n&&(o=t.slice(n,o),f[a]?f[a]+=o:f[++a]=o),(r=r[0])===(i=i[0])?f[a]?f[a]+=i:f[++a]=i:(f[++a]=null,u.push({i:a,x:$e(r,i)})),n=sf.lastIndex;return n<t.length&&(o=t.slice(n),f[a]?f[a]+=o:f[++a]=o),f.length<2?u[0]?O_(u[0].x):L_(t):(t=u.length,function(c){for(var s=0,d;s<t;++s)f[(d=u[s]).i]=d.x(c);return f.join("")})}function hi(e,t){var n=typeof t,r;return t==null||n==="boolean"?la(t):(n==="number"?$e:n==="string"?(r=An(t))?(t=r,En):Yh:t instanceof An?En:t instanceof Date?I_:N_(t)?k_:Array.isArray(t)?D_:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?R_:$e)(e,t)}function ic(e,t){return e=+e,t=+t,function(n){return Math.round(e*(1-n)+t*n)}}var Ws=180/Math.PI,ou={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function Hh(e,t,n,r,i,o){var a,f,u;return(a=Math.sqrt(e*e+t*t))&&(e/=a,t/=a),(u=e*n+t*r)&&(n-=e*u,r-=t*u),(f=Math.sqrt(n*n+r*r))&&(n/=f,r/=f,u/=f),e*r<t*n&&(e=-e,t=-t,u=-u,a=-a),{translateX:i,translateY:o,rotate:Math.atan2(t,e)*Ws,skewX:Math.atan(u)*Ws,scaleX:a,scaleY:f}}var qi;function F_(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?ou:Hh(t.a,t.b,t.c,t.d,t.e,t.f)}function P_(e){return e==null||(qi||(qi=document.createElementNS("http://www.w3.org/2000/svg","g")),qi.setAttribute("transform",e),!(e=qi.transform.baseVal.consolidate()))?ou:(e=e.matrix,Hh(e.a,e.b,e.c,e.d,e.e,e.f))}function jh(e,t,n,r){function i(c){return c.length?c.pop()+" ":""}function o(c,s,d,l,h,p){if(c!==d||s!==l){var m=h.push("translate(",null,t,null,n);p.push({i:m-4,x:$e(c,d)},{i:m-2,x:$e(s,l)})}else(d||l)&&h.push("translate("+d+t+l+n)}function a(c,s,d,l){c!==s?(c-s>180?s+=360:s-c>180&&(c+=360),l.push({i:d.push(i(d)+"rotate(",null,r)-2,x:$e(c,s)})):s&&d.push(i(d)+"rotate("+s+r)}function f(c,s,d,l){c!==s?l.push({i:d.push(i(d)+"skewX(",null,r)-2,x:$e(c,s)}):s&&d.push(i(d)+"skewX("+s+r)}function u(c,s,d,l,h,p){if(c!==d||s!==l){var m=h.push(i(h)+"scale(",null,",",null,")");p.push({i:m-4,x:$e(c,d)},{i:m-2,x:$e(s,l)})}else(d!==1||l!==1)&&h.push(i(h)+"scale("+d+","+l+")")}return function(c,s){var d=[],l=[];return c=e(c),s=e(s),o(c.translateX,c.translateY,s.translateX,s.translateY,d,l),a(c.rotate,s.rotate,d,l),f(c.skewX,s.skewX,d,l),u(c.scaleX,c.scaleY,s.scaleX,s.scaleY,d,l),c=s=null,function(h){for(var p=-1,m=l.length,g;++p<m;)d[(g=l[p]).i]=g.x(h);return d.join("")}}}var q_=jh(F_,"px, ","px)","deg)"),z_=jh(P_,", ",")",")");function U_(e){return function(t,n){var r=e((t=tu(t)).h,(n=tu(n)).h),i=Ee(t.s,n.s),o=Ee(t.l,n.l),a=Ee(t.opacity,n.opacity);return function(f){return t.h=r(f),t.s=i(f),t.l=o(f),t.opacity=a(f),t+""}}}const B_=U_(rc);function Y_(e,t){var n=Ee((e=nu(e)).l,(t=nu(t)).l),r=Ee(e.a,t.a),i=Ee(e.b,t.b),o=Ee(e.opacity,t.opacity);return function(a){return e.l=n(a),e.a=r(a),e.b=i(a),e.opacity=o(a),e+""}}function H_(e){return function(t,n){var r=e((t=ru(t)).h,(n=ru(n)).h),i=Ee(t.c,n.c),o=Ee(t.l,n.l),a=Ee(t.opacity,n.opacity);return function(f){return t.h=r(f),t.c=i(f),t.l=o(f),t.opacity=a(f),t+""}}}const j_=H_(rc);function Wh(e){return function t(n){n=+n;function r(i,o){var a=e((i=vt(i)).h,(o=vt(o)).h),f=Ee(i.s,o.s),u=Ee(i.l,o.l),c=Ee(i.opacity,o.opacity);return function(s){return i.h=a(s),i.s=f(s),i.l=u(Math.pow(s,n)),i.opacity=c(s),i+""}}return r.gamma=t,r}(1)}Wh(rc);var oc=Wh(Ee);function da(e,t){t===void 0&&(t=e,e=hi);for(var n=0,r=t.length-1,i=t[0],o=new Array(r<0?0:r);n<r;)o[n]=e(i,i=t[++n]);return function(a){var f=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return o[f](a-f)}}function rt(e,t){for(var n=new Array(t),r=0;r<t;++r)n[r]=e(r/(t-1));return n}var rr=0,Lr=0,Sr=0,Gh=1e3,To,Or,Mo=0,Cn=0,ha=0,Jr=typeof performance=="object"&&performance.now?performance:Date,Xh=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function ac(){return Cn||(Xh(W_),Cn=Jr.now()+ha)}function W_(){Cn=0}function So(){this._call=this._time=this._next=null}So.prototype=Vh.prototype={constructor:So,restart:function(e,t,n){if(typeof e!="function")throw new TypeError("callback is not a function");n=(n==null?ac():+n)+(t==null?0:+t),!this._next&&Or!==this&&(Or?Or._next=this:To=this,Or=this),this._call=e,this._time=n,au()},stop:function(){this._call&&(this._call=null,this._time=1/0,au())}};function Vh(e,t,n){var r=new So;return r.restart(e,t,n),r}function G_(){ac(),++rr;for(var e=To,t;e;)(t=Cn-e._time)>=0&&e._call.call(void 0,t),e=e._next;--rr}function Gs(){Cn=(Mo=Jr.now())+ha,rr=Lr=0;try{G_()}finally{rr=0,V_(),Cn=0}}function X_(){var e=Jr.now(),t=e-Mo;t>Gh&&(ha-=t,Mo=e)}function V_(){for(var e,t=To,n,r=1/0;t;)t._call?(r>t._time&&(r=t._time),e=t,t=t._next):(n=t._next,t._next=null,t=e?e._next=n:To=n);Or=e,au(r)}function au(e){if(!rr){Lr&&(Lr=clearTimeout(Lr));var t=e-Cn;t>24?(e<1/0&&(Lr=setTimeout(Gs,e-Jr.now()-ha)),Sr&&(Sr=clearInterval(Sr))):(Sr||(Mo=Jr.now(),Sr=setInterval(X_,Gh)),rr=1,Xh(Gs))}}function Xs(e,t,n){var r=new So;return t=t==null?0:+t,r.restart(i=>{r.stop(),e(i+t)},t,n),r}var Z_=_h("start","end","cancel","interrupt"),K_=[],Zh=0,Vs=1,fu=2,co=3,Zs=4,uu=5,so=6;function pa(e,t,n,r,i,o){var a=e.__transition;if(!a)e.__transition={};else if(n in a)return;Q_(e,n,{name:t,index:r,group:i,on:Z_,tween:K_,time:o.time,delay:o.delay,duration:o.duration,ease:o.ease,timer:null,state:Zh})}function fc(e,t){var n=ut(e,t);if(n.state>Zh)throw new Error("too late; already scheduled");return n}function Mt(e,t){var n=ut(e,t);if(n.state>co)throw new Error("too late; already running");return n}function ut(e,t){var n=e.__transition;if(!n||!(n=n[t]))throw new Error("transition not found");return n}function Q_(e,t,n){var r=e.__transition,i;r[t]=n,n.timer=Vh(o,0,n.time);function o(c){n.state=Vs,n.timer.restart(a,n.delay,n.time),n.delay<=c&&a(c-n.delay)}function a(c){var s,d,l,h;if(n.state!==Vs)return u();for(s in r)if(h=r[s],h.name===n.name){if(h.state===co)return Xs(a);h.state===Zs?(h.state=so,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete r[s]):+s<t&&(h.state=so,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete r[s])}if(Xs(function(){n.state===co&&(n.state=Zs,n.timer.restart(f,n.delay,n.time),f(c))}),n.state=fu,n.on.call("start",e,e.__data__,n.index,n.group),n.state===fu){for(n.state=co,i=new Array(l=n.tween.length),s=0,d=-1;s<l;++s)(h=n.tween[s].value.call(e,e.__data__,n.index,n.group))&&(i[++d]=h);i.length=d+1}}function f(c){for(var s=c<n.duration?n.ease.call(null,c/n.duration):(n.timer.restart(u),n.state=uu,1),d=-1,l=i.length;++d<l;)i[d].call(e,s);n.state===uu&&(n.on.call("end",e,e.__data__,n.index,n.group),u())}function u(){n.state=so,n.timer.stop(),delete r[t];for(var c in r)return;delete e.__transition}}function J_(e,t){var n=e.__transition,r,i,o=!0,a;if(n){t=t==null?null:t+"";for(a in n){if((r=n[a]).name!==t){o=!1;continue}i=r.state>fu&&r.state<uu,r.state=so,r.timer.stop(),r.on.call(i?"interrupt":"cancel",e,e.__data__,r.index,r.group),delete n[a]}o&&delete e.__transition}}function ew(e){return this.each(function(){J_(this,e)})}function tw(e,t){var n,r;return function(){var i=Mt(this,e),o=i.tween;if(o!==n){r=n=o;for(var a=0,f=r.length;a<f;++a)if(r[a].name===t){r=r.slice(),r.splice(a,1);break}}i.tween=r}}function nw(e,t,n){var r,i;if(typeof n!="function")throw new Error;return function(){var o=Mt(this,e),a=o.tween;if(a!==r){i=(r=a).slice();for(var f={name:t,value:n},u=0,c=i.length;u<c;++u)if(i[u].name===t){i[u]=f;break}u===c&&i.push(f)}o.tween=i}}function rw(e,t){var n=this._id;if(e+="",arguments.length<2){for(var r=ut(this.node(),n).tween,i=0,o=r.length,a;i<o;++i)if((a=r[i]).name===e)return a.value;return null}return this.each((t==null?tw:nw)(n,e,t))}function uc(e,t,n){var r=e._id;return e.each(function(){var i=Mt(this,r);(i.value||(i.value={}))[t]=n.apply(this,arguments)}),function(i){return ut(i,r).value[t]}}function Kh(e,t){var n;return(typeof t=="number"?$e:t instanceof An?En:(n=An(t))?(t=n,En):Yh)(e,t)}function iw(e){return function(){this.removeAttribute(e)}}function ow(e){return function(){this.removeAttributeNS(e.space,e.local)}}function aw(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttribute(e);return a===i?null:a===r?o:o=t(r=a,n)}}function fw(e,t,n){var r,i=n+"",o;return function(){var a=this.getAttributeNS(e.space,e.local);return a===i?null:a===r?o:o=t(r=a,n)}}function uw(e,t,n){var r,i,o;return function(){var a,f=n(this),u;return f==null?void this.removeAttribute(e):(a=this.getAttribute(e),u=f+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,f)))}}function cw(e,t,n){var r,i,o;return function(){var a,f=n(this),u;return f==null?void this.removeAttributeNS(e.space,e.local):(a=this.getAttributeNS(e.space,e.local),u=f+"",a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,f)))}}function sw(e,t){var n=ua(e),r=n==="transform"?z_:Kh;return this.attrTween(e,typeof t=="function"?(n.local?cw:uw)(n,r,uc(this,"attr."+e,t)):t==null?(n.local?ow:iw)(n):(n.local?fw:aw)(n,r,t))}function lw(e,t){return function(n){this.setAttribute(e,t.call(this,n))}}function dw(e,t){return function(n){this.setAttributeNS(e.space,e.local,t.call(this,n))}}function hw(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&dw(e,o)),n}return i._value=t,i}function pw(e,t){var n,r;function i(){var o=t.apply(this,arguments);return o!==r&&(n=(r=o)&&lw(e,o)),n}return i._value=t,i}function mw(e,t){var n="attr."+e;if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;var r=ua(e);return this.tween(n,(r.local?hw:pw)(r,t))}function gw(e,t){return function(){fc(this,e).delay=+t.apply(this,arguments)}}function bw(e,t){return t=+t,function(){fc(this,e).delay=t}}function yw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?gw:bw)(t,e)):ut(this.node(),t).delay}function _w(e,t){return function(){Mt(this,e).duration=+t.apply(this,arguments)}}function ww(e,t){return t=+t,function(){Mt(this,e).duration=t}}function vw(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?_w:ww)(t,e)):ut(this.node(),t).duration}function xw(e,t){if(typeof t!="function")throw new Error;return function(){Mt(this,e).ease=t}}function Tw(e){var t=this._id;return arguments.length?this.each(xw(t,e)):ut(this.node(),t).ease}function Mw(e,t){return function(){var n=t.apply(this,arguments);if(typeof n!="function")throw new Error;Mt(this,e).ease=n}}function Sw(e){if(typeof e!="function")throw new Error;return this.each(Mw(this._id,e))}function $w(e){typeof e!="function"&&(e=vh(e));for(var t=this._groups,n=t.length,r=new Array(n),i=0;i<n;++i)for(var o=t[i],a=o.length,f=r[i]=[],u,c=0;c<a;++c)(u=o[c])&&e.call(u,u.__data__,c,o)&&f.push(u);return new Ut(r,this._parents,this._name,this._id)}function Aw(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,n=e._groups,r=t.length,i=n.length,o=Math.min(r,i),a=new Array(r),f=0;f<o;++f)for(var u=t[f],c=n[f],s=u.length,d=a[f]=new Array(s),l,h=0;h<s;++h)(l=u[h]||c[h])&&(d[h]=l);for(;f<r;++f)a[f]=t[f];return new Ut(a,this._parents,this._name,this._id)}function Ew(e){return(e+"").trim().split(/^|\s+/).every(function(t){var n=t.indexOf(".");return n>=0&&(t=t.slice(0,n)),!t||t==="start"})}function Cw(e,t,n){var r,i,o=Ew(t)?fc:Mt;return function(){var a=o(this,e),f=a.on;f!==r&&(i=(r=f).copy()).on(t,n),a.on=i}}function kw(e,t){var n=this._id;return arguments.length<2?ut(this.node(),n).on.on(e):this.each(Cw(n,e,t))}function Nw(e){return function(){var t=this.parentNode;for(var n in this.__transition)if(+n!==e)return;t&&t.removeChild(this)}}function Dw(){return this.on("end.remove",Nw(this._id))}function Iw(e){var t=this._name,n=this._id;typeof e!="function"&&(e=Qu(e));for(var r=this._groups,i=r.length,o=new Array(i),a=0;a<i;++a)for(var f=r[a],u=f.length,c=o[a]=new Array(u),s,d,l=0;l<u;++l)(s=f[l])&&(d=e.call(s,s.__data__,l,f))&&("__data__"in s&&(d.__data__=s.__data__),c[l]=d,pa(c[l],t,n,l,c,ut(s,n)));return new Ut(o,this._parents,t,n)}function Rw(e){var t=this._name,n=this._id;typeof e!="function"&&(e=wh(e));for(var r=this._groups,i=r.length,o=[],a=[],f=0;f<i;++f)for(var u=r[f],c=u.length,s,d=0;d<c;++d)if(s=u[d]){for(var l=e.call(s,s.__data__,d,u),h,p=ut(s,n),m=0,g=l.length;m<g;++m)(h=l[m])&&pa(h,t,n,m,l,p);o.push(l),a.push(s)}return new Ut(o,a,t,n)}var Lw=li.prototype.constructor;function Ow(){return new Lw(this._groups,this._parents)}function Fw(e,t){var n,r,i;return function(){var o=tr(this,e),a=(this.style.removeProperty(e),tr(this,e));return o===a?null:o===n&&a===r?i:i=t(n=o,r=a)}}function Qh(e){return function(){this.style.removeProperty(e)}}function Pw(e,t,n){var r,i=n+"",o;return function(){var a=tr(this,e);return a===i?null:a===r?o:o=t(r=a,n)}}function qw(e,t,n){var r,i,o;return function(){var a=tr(this,e),f=n(this),u=f+"";return f==null&&(u=f=(this.style.removeProperty(e),tr(this,e))),a===u?null:a===r&&u===i?o:(i=u,o=t(r=a,f))}}function zw(e,t){var n,r,i,o="style."+t,a="end."+o,f;return function(){var u=Mt(this,e),c=u.on,s=u.value[o]==null?f||(f=Qh(t)):void 0;(c!==n||i!==s)&&(r=(n=c).copy()).on(a,i=s),u.on=r}}function Uw(e,t,n){var r=(e+="")=="transform"?q_:Kh;return t==null?this.styleTween(e,Fw(e,r)).on("end.style."+e,Qh(e)):typeof t=="function"?this.styleTween(e,qw(e,r,uc(this,"style."+e,t))).each(zw(this._id,e)):this.styleTween(e,Pw(e,r,t),n).on("end.style."+e,null)}function Bw(e,t,n){return function(r){this.style.setProperty(e,t.call(this,r),n)}}function Yw(e,t,n){var r,i;function o(){var a=t.apply(this,arguments);return a!==i&&(r=(i=a)&&Bw(e,a,n)),r}return o._value=t,o}function Hw(e,t,n){var r="style."+(e+="");if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;return this.tween(r,Yw(e,t,n??""))}function jw(e){return function(){this.textContent=e}}function Ww(e){return function(){var t=e(this);this.textContent=t??""}}function Gw(e){return this.tween("text",typeof e=="function"?Ww(uc(this,"text",e)):jw(e==null?"":e+""))}function Xw(e){return function(t){this.textContent=e.call(this,t)}}function Vw(e){var t,n;function r(){var i=e.apply(this,arguments);return i!==n&&(t=(n=i)&&Xw(i)),t}return r._value=e,r}function Zw(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,Vw(e))}function Kw(){for(var e=this._name,t=this._id,n=Jh(),r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,u,c=0;c<f;++c)if(u=a[c]){var s=ut(u,t);pa(u,e,n,c,a,{time:s.time+s.delay+s.duration,delay:0,duration:s.duration,ease:s.ease})}return new Ut(r,this._parents,e,n)}function Qw(){var e,t,n=this,r=n._id,i=n.size();return new Promise(function(o,a){var f={value:a},u={value:function(){--i===0&&o()}};n.each(function(){var c=Mt(this,r),s=c.on;s!==e&&(t=(e=s).copy(),t._.cancel.push(f),t._.interrupt.push(f),t._.end.push(u)),c.on=t}),i===0&&o()})}var Jw=0;function Ut(e,t,n,r){this._groups=e,this._parents=t,this._name=n,this._id=r}function Jh(){return++Jw}var At=li.prototype;Ut.prototype={constructor:Ut,select:Iw,selectAll:Rw,selectChild:At.selectChild,selectChildren:At.selectChildren,filter:$w,merge:Aw,selection:Ow,transition:Kw,call:At.call,nodes:At.nodes,node:At.node,size:At.size,empty:At.empty,each:At.each,on:kw,attr:sw,attrTween:mw,style:Uw,styleTween:Hw,text:Gw,textTween:Zw,remove:Dw,tween:rw,delay:yw,duration:vw,ease:Tw,easeVarying:Sw,end:Qw,[Symbol.iterator]:At[Symbol.iterator]};function e6(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var t6={time:null,delay:0,duration:250,ease:e6};function n6(e,t){for(var n;!(n=e.__transition)||!(n=n[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return n}function r6(e){var t,n;e instanceof Ut?(t=e._id,e=e._name):(t=Jh(),(n=t6).time=ac(),e=e==null?null:e+"");for(var r=this._groups,i=r.length,o=0;o<i;++o)for(var a=r[o],f=a.length,u,c=0;c<f;++c)(u=a[c])&&pa(u,e,t,c,a,n||n6(u,t));return new Ut(r,this._parents,e,t)}li.prototype.interrupt=ew;li.prototype.transition=r6;const cu=Math.PI,su=2*cu,yn=1e-6,i6=su-yn;function e0(e){this._+=e[0];for(let t=1,n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function o6(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return e0;const n=10**t;return function(r){this._+=r[0];for(let i=1,o=r.length;i<o;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class t0{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?e0:o6(t)}moveTo(t,n){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,n){this._append`L${this._x1=+t},${this._y1=+n}`}quadraticCurveTo(t,n,r,i){this._append`Q${+t},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(t,n,r,i,o,a){this._append`C${+t},${+n},${+r},${+i},${this._x1=+o},${this._y1=+a}`}arcTo(t,n,r,i,o){if(t=+t,n=+n,r=+r,i=+i,o=+o,o<0)throw new Error(`negative radius: ${o}`);let a=this._x1,f=this._y1,u=r-t,c=i-n,s=a-t,d=f-n,l=s*s+d*d;if(this._x1===null)this._append`M${this._x1=t},${this._y1=n}`;else if(l>yn)if(!(Math.abs(d*u-c*s)>yn)||!o)this._append`L${this._x1=t},${this._y1=n}`;else{let h=r-a,p=i-f,m=u*u+c*c,g=h*h+p*p,y=Math.sqrt(m),b=Math.sqrt(l),w=o*Math.tan((cu-Math.acos((m+l-g)/(2*y*b)))/2),_=w/b,v=w/y;Math.abs(_-1)>yn&&this._append`L${t+_*s},${n+_*d}`,this._append`A${o},${o},0,0,${+(d*h>s*p)},${this._x1=t+v*u},${this._y1=n+v*c}`}}arc(t,n,r,i,o,a){if(t=+t,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let f=r*Math.cos(i),u=r*Math.sin(i),c=t+f,s=n+u,d=1^a,l=a?i-o:o-i;this._x1===null?this._append`M${c},${s}`:(Math.abs(this._x1-c)>yn||Math.abs(this._y1-s)>yn)&&this._append`L${c},${s}`,r&&(l<0&&(l=l%su+su),l>i6?this._append`A${r},${r},0,1,${d},${t-f},${n-u}A${r},${r},0,1,${d},${this._x1=c},${this._y1=s}`:l>yn&&this._append`A${r},${r},0,${+(l>=cu)},${d},${this._x1=t+r*Math.cos(o)},${this._y1=n+r*Math.sin(o)}`)}rect(t,n,r,i){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function lu(e=3){return new t0(+e)}function a6(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function $o(e,t){if((n=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var n,r=e.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+e.slice(n+1)]}function ir(e){return e=$o(Math.abs(e)),e?e[1]:NaN}function f6(e,t){return function(n,r){for(var i=n.length,o=[],a=0,f=e[0],u=0;i>0&&f>0&&(u+f+1>r&&(f=Math.max(1,r-u)),o.push(n.substring(i-=f,i+f)),!((u+=f+1)>r));)f=e[a=(a+1)%e.length];return o.reverse().join(t)}}function u6(e){return function(t){return t.replace(/[0-9]/g,function(n){return e[+n]})}}var c6=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function ei(e){if(!(t=c6.exec(e)))throw new Error("invalid format: "+e);var t;return new cc({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}ei.prototype=cc.prototype;function cc(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}cc.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s6(e){e:for(var t=e.length,n=1,r=-1,i;n<t;++n)switch(e[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+e[n])break e;r>0&&(r=0);break}return r>0?e.slice(0,r)+e.slice(i+1):e}var n0;function l6(e,t){var n=$o(e,t);if(!n)return e+"";var r=n[0],i=n[1],o=i-(n0=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return o===a?r:o>a?r+new Array(o-a+1).join("0"):o>0?r.slice(0,o)+"."+r.slice(o):"0."+new Array(1-o).join("0")+$o(e,Math.max(0,t+o-1))[0]}function Ks(e,t){var n=$o(e,t);if(!n)return e+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const Qs={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:a6,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>Ks(e*100,t),r:Ks,s:l6,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function Js(e){return e}var el=Array.prototype.map,tl=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function d6(e){var t=e.grouping===void 0||e.thousands===void 0?Js:f6(el.call(e.grouping,Number),e.thousands+""),n=e.currency===void 0?"":e.currency[0]+"",r=e.currency===void 0?"":e.currency[1]+"",i=e.decimal===void 0?".":e.decimal+"",o=e.numerals===void 0?Js:u6(el.call(e.numerals,String)),a=e.percent===void 0?"%":e.percent+"",f=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function c(d){d=ei(d);var l=d.fill,h=d.align,p=d.sign,m=d.symbol,g=d.zero,y=d.width,b=d.comma,w=d.precision,_=d.trim,v=d.type;v==="n"?(b=!0,v="g"):Qs[v]||(w===void 0&&(w=12),_=!0,v="g"),(g||l==="0"&&h==="=")&&(g=!0,l="0",h="=");var x=m==="$"?n:m==="#"&&/[boxX]/.test(v)?"0"+v.toLowerCase():"",M=m==="$"?r:/[%p]/.test(v)?a:"",S=Qs[v],A=/[defgprs%]/.test(v);w=w===void 0?6:/[gprs]/.test(v)?Math.max(1,Math.min(21,w)):Math.max(0,Math.min(20,w));function k(T){var D=x,N=M,I,$,L;if(v==="c")N=S(T)+N,T="";else{T=+T;var R=T<0||1/T<0;if(T=isNaN(T)?u:S(Math.abs(T),w),_&&(T=s6(T)),R&&+T==0&&p!=="+"&&(R=!1),D=(R?p==="("?p:f:p==="-"||p==="("?"":p)+D,N=(v==="s"?tl[8+n0/3]:"")+N+(R&&p==="("?")":""),A){for(I=-1,$=T.length;++I<$;)if(L=T.charCodeAt(I),48>L||L>57){N=(L===46?i+T.slice(I+1):T.slice(I))+N,T=T.slice(0,I);break}}}b&&!g&&(T=t(T,1/0));var H=D.length+T.length+N.length,j=H<y?new Array(y-H+1).join(l):"";switch(b&&g&&(T=t(j+T,j.length?y-N.length:1/0),j=""),h){case"<":T=D+T+N+j;break;case"=":T=D+j+T+N;break;case"^":T=j.slice(0,H=j.length>>1)+D+T+N+j.slice(H);break;default:T=j+D+T+N;break}return o(T)}return k.toString=function(){return d+""},k}function s(d,l){var h=c((d=ei(d),d.type="f",d)),p=Math.max(-8,Math.min(8,Math.floor(ir(l)/3)))*3,m=Math.pow(10,-p),g=tl[8+p/3];return function(y){return h(m*y)+g}}return{format:c,formatPrefix:s}}var zi,yr,r0;h6({thousands:",",grouping:[3],currency:["$",""]});function h6(e){return zi=d6(e),yr=zi.format,r0=zi.formatPrefix,zi}function p6(e){return Math.max(0,-ir(Math.abs(e)))}function m6(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(ir(t)/3)))*3-ir(Math.abs(e)))}function g6(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,ir(t)-ir(e))+1}var K=1e-6,i0=1e-12,te=Math.PI,de=te/2,nl=te/4,Ue=te*2,Ne=180/te,le=te/180,fe=Math.abs,_r=Math.atan,Bt=Math.atan2,J=Math.cos,o0=Math.exp,Ao=Math.log,lf=Math.pow,V=Math.sin,We=Math.sign||function(e){return e>0?1:e<0?-1:0},Oe=Math.sqrt,sc=Math.tan;function a0(e){return e>1?0:e<-1?te:Math.acos(e)}function Ze(e){return e>1?de:e<-1?-de:Math.asin(e)}function Ge(){}function Eo(e,t){e&&il.hasOwnProperty(e.type)&&il[e.type](e,t)}var rl={Feature:function(e,t){Eo(e.geometry,t)},FeatureCollection:function(e,t){for(var n=e.features,r=-1,i=n.length;++r<i;)Eo(n[r].geometry,t)}},il={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)e=n[r],t.point(e[0],e[1],e[2])},LineString:function(e,t){du(e.coordinates,t,0)},MultiLineString:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)du(n[r],t,0)},Polygon:function(e,t){ol(e.coordinates,t)},MultiPolygon:function(e,t){for(var n=e.coordinates,r=-1,i=n.length;++r<i;)ol(n[r],t)},GeometryCollection:function(e,t){for(var n=e.geometries,r=-1,i=n.length;++r<i;)Eo(n[r],t)}};function du(e,t,n){var r=-1,i=e.length-n,o;for(t.lineStart();++r<i;)o=e[r],t.point(o[0],o[1],o[2]);t.lineEnd()}function ol(e,t){var n=-1,r=e.length;for(t.polygonStart();++n<r;)du(e[n],t,1);t.polygonEnd()}function _n(e,t){e&&rl.hasOwnProperty(e.type)?rl[e.type](e,t):Eo(e,t)}function hu(e){return[Bt(e[1],e[0]),Ze(e[2])]}function or(e){var t=e[0],n=e[1],r=J(n);return[r*J(t),r*V(t),V(n)]}function Ui(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Co(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function df(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function Bi(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function pu(e){var t=Oe(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function mu(e,t){function n(r,i){return r=e(r,i),t(r[0],r[1])}return e.invert&&t.invert&&(n.invert=function(r,i){return r=t.invert(r,i),r&&e.invert(r[0],r[1])}),n}function gu(e,t){return fe(e)>te&&(e-=Math.round(e/Ue)*Ue),[e,t]}gu.invert=gu;function f0(e,t,n){return(e%=Ue)?t||n?mu(fl(e),ul(t,n)):fl(e):t||n?ul(t,n):gu}function al(e){return function(t,n){return t+=e,fe(t)>te&&(t-=Math.round(t/Ue)*Ue),[t,n]}}function fl(e){var t=al(e);return t.invert=al(-e),t}function ul(e,t){var n=J(e),r=V(e),i=J(t),o=V(t);function a(f,u){var c=J(u),s=J(f)*c,d=V(f)*c,l=V(u),h=l*n+s*r;return[Bt(d*i-h*o,s*n-l*r),Ze(h*i+d*o)]}return a.invert=function(f,u){var c=J(u),s=J(f)*c,d=V(f)*c,l=V(u),h=l*i-d*o;return[Bt(d*i+l*o,s*n+h*r),Ze(h*n-s*r)]},a}function b6(e){e=f0(e[0]*le,e[1]*le,e.length>2?e[2]*le:0);function t(n){return n=e(n[0]*le,n[1]*le),n[0]*=Ne,n[1]*=Ne,n}return t.invert=function(n){return n=e.invert(n[0]*le,n[1]*le),n[0]*=Ne,n[1]*=Ne,n},t}function y6(e,t,n,r,i,o){if(n){var a=J(t),f=V(t),u=r*n;i==null?(i=t+r*Ue,o=t-u/2):(i=cl(a,i),o=cl(a,o),(r>0?i<o:i>o)&&(i+=r*Ue));for(var c,s=i;r>0?s>o:s<o;s-=u)c=hu([a,-f*J(s),-f*V(s)]),e.point(c[0],c[1])}}function cl(e,t){t=or(t),t[0]-=e,pu(t);var n=a0(-t[1]);return((-t[2]<0?-n:n)+Ue-K)%Ue}function u0(){var e=[],t;return{point:function(n,r,i){t.push([n,r,i])},lineStart:function(){e.push(t=[])},lineEnd:Ge,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var n=e;return e=[],t=null,n}}}function lo(e,t){return fe(e[0]-t[0])<K&&fe(e[1]-t[1])<K}function Yi(e,t,n,r){this.x=e,this.z=t,this.o=n,this.e=r,this.v=!1,this.n=this.p=null}function c0(e,t,n,r,i){var o=[],a=[],f,u;if(e.forEach(function(p){if(!((m=p.length-1)<=0)){var m,g=p[0],y=p[m],b;if(lo(g,y)){if(!g[2]&&!y[2]){for(i.lineStart(),f=0;f<m;++f)i.point((g=p[f])[0],g[1]);i.lineEnd();return}y[0]+=2*K}o.push(b=new Yi(g,p,null,!0)),a.push(b.o=new Yi(g,null,b,!1)),o.push(b=new Yi(y,p,null,!1)),a.push(b.o=new Yi(y,null,b,!0))}}),!!o.length){for(a.sort(t),sl(o),sl(a),f=0,u=a.length;f<u;++f)a[f].e=n=!n;for(var c=o[0],s,d;;){for(var l=c,h=!0;l.v;)if((l=l.n)===c)return;s=l.z,i.lineStart();do{if(l.v=l.o.v=!0,l.e){if(h)for(f=0,u=s.length;f<u;++f)i.point((d=s[f])[0],d[1]);else r(l.x,l.n.x,1,i);l=l.n}else{if(h)for(s=l.p.z,f=s.length-1;f>=0;--f)i.point((d=s[f])[0],d[1]);else r(l.x,l.p.x,-1,i);l=l.p}l=l.o,s=l.z,h=!h}while(!l.v);i.lineEnd()}}}function sl(e){if(t=e.length){for(var t,n=0,r=e[0],i;++n<t;)r.n=i=e[n],i.p=r,r=i;r.n=i=e[0],i.p=r}}function hf(e){return fe(e[0])<=te?e[0]:We(e[0])*((fe(e[0])+te)%Ue-te)}function _6(e,t){var n=hf(t),r=t[1],i=V(r),o=[V(n),-J(n),0],a=0,f=0,u=new Mn;i===1?r=de+K:i===-1&&(r=-de-K);for(var c=0,s=e.length;c<s;++c)if(l=(d=e[c]).length)for(var d,l,h=d[l-1],p=hf(h),m=h[1]/2+nl,g=V(m),y=J(m),b=0;b<l;++b,p=_,g=x,y=M,h=w){var w=d[b],_=hf(w),v=w[1]/2+nl,x=V(v),M=J(v),S=_-p,A=S>=0?1:-1,k=A*S,T=k>te,D=g*x;if(u.add(Bt(D*A*V(k),y*M+D*J(k))),a+=T?S+A*Ue:S,T^p>=n^_>=n){var N=Co(or(h),or(w));pu(N);var I=Co(o,N);pu(I);var $=(T^S>=0?-1:1)*Ze(I[2]);(r>$||r===$&&(N[0]||N[1]))&&(f+=T^S>=0?1:-1)}}return(a<-K||a<K&&u<-i0)^f&1}function s0(e,t,n,r){return function(i){var o=t(i),a=u0(),f=t(a),u=!1,c,s,d,l={point:h,lineStart:m,lineEnd:g,polygonStart:function(){l.point=y,l.lineStart=b,l.lineEnd=w,s=[],c=[]},polygonEnd:function(){l.point=h,l.lineStart=m,l.lineEnd=g,s=yh(s);var _=_6(c,r);s.length?(u||(i.polygonStart(),u=!0),c0(s,v6,_,n,i)):_&&(u||(i.polygonStart(),u=!0),i.lineStart(),n(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),s=c=null},sphere:function(){i.polygonStart(),i.lineStart(),n(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function h(_,v){e(_,v)&&i.point(_,v)}function p(_,v){o.point(_,v)}function m(){l.point=p,o.lineStart()}function g(){l.point=h,o.lineEnd()}function y(_,v){d.push([_,v]),f.point(_,v)}function b(){f.lineStart(),d=[]}function w(){y(d[0][0],d[0][1]),f.lineEnd();var _=f.clean(),v=a.result(),x,M=v.length,S,A,k;if(d.pop(),c.push(d),d=null,!!M){if(_&1){if(A=v[0],(S=A.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),x=0;x<S;++x)i.point((k=A[x])[0],k[1]);i.lineEnd()}return}M>1&&_&2&&v.push(v.pop().concat(v.shift())),s.push(v.filter(w6))}}return l}}function w6(e){return e.length>1}function v6(e,t){return((e=e.x)[0]<0?e[1]-de-K:de-e[1])-((t=t.x)[0]<0?t[1]-de-K:de-t[1])}const ll=s0(function(){return!0},x6,M6,[-te,-de]);function x6(e){var t=NaN,n=NaN,r=NaN,i;return{lineStart:function(){e.lineStart(),i=1},point:function(o,a){var f=o>0?te:-te,u=fe(o-t);fe(u-te)<K?(e.point(t,n=(n+a)/2>0?de:-de),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),e.point(o,n),i=0):r!==f&&u>=te&&(fe(t-r)<K&&(t-=r*K),fe(o-f)<K&&(o-=f*K),n=T6(t,n,o,a),e.point(r,n),e.lineEnd(),e.lineStart(),e.point(f,n),i=0),e.point(t=o,n=a),r=f},lineEnd:function(){e.lineEnd(),t=n=NaN},clean:function(){return 2-i}}}function T6(e,t,n,r){var i,o,a=V(e-n);return fe(a)>K?_r((V(t)*(o=J(r))*V(n)-V(r)*(i=J(t))*V(e))/(i*o*a)):(t+r)/2}function M6(e,t,n,r){var i;if(e==null)i=n*de,r.point(-te,i),r.point(0,i),r.point(te,i),r.point(te,0),r.point(te,-i),r.point(0,-i),r.point(-te,-i),r.point(-te,0),r.point(-te,i);else if(fe(e[0]-t[0])>K){var o=e[0]<t[0]?te:-te;i=n*o/2,r.point(-o,i),r.point(0,i),r.point(o,i)}else r.point(t[0],t[1])}function S6(e){var t=J(e),n=2*le,r=t>0,i=fe(t)>K;function o(s,d,l,h){y6(h,e,n,l,s,d)}function a(s,d){return J(s)*J(d)>t}function f(s){var d,l,h,p,m;return{lineStart:function(){p=h=!1,m=1},point:function(g,y){var b=[g,y],w,_=a(g,y),v=r?_?0:c(g,y):_?c(g+(g<0?te:-te),y):0;if(!d&&(p=h=_)&&s.lineStart(),_!==h&&(w=u(d,b),(!w||lo(d,w)||lo(b,w))&&(b[2]=1)),_!==h)m=0,_?(s.lineStart(),w=u(b,d),s.point(w[0],w[1])):(w=u(d,b),s.point(w[0],w[1],2),s.lineEnd()),d=w;else if(i&&d&&r^_){var x;!(v&l)&&(x=u(b,d,!0))&&(m=0,r?(s.lineStart(),s.point(x[0][0],x[0][1]),s.point(x[1][0],x[1][1]),s.lineEnd()):(s.point(x[1][0],x[1][1]),s.lineEnd(),s.lineStart(),s.point(x[0][0],x[0][1],3)))}_&&(!d||!lo(d,b))&&s.point(b[0],b[1]),d=b,h=_,l=v},lineEnd:function(){h&&s.lineEnd(),d=null},clean:function(){return m|(p&&h)<<1}}}function u(s,d,l){var h=or(s),p=or(d),m=[1,0,0],g=Co(h,p),y=Ui(g,g),b=g[0],w=y-b*b;if(!w)return!l&&s;var _=t*y/w,v=-t*b/w,x=Co(m,g),M=Bi(m,_),S=Bi(g,v);df(M,S);var A=x,k=Ui(M,A),T=Ui(A,A),D=k*k-T*(Ui(M,M)-1);if(!(D<0)){var N=Oe(D),I=Bi(A,(-k-N)/T);if(df(I,M),I=hu(I),!l)return I;var $=s[0],L=d[0],R=s[1],H=d[1],j;L<$&&(j=$,$=L,L=j);var O=L-$,P=fe(O-te)<K,F=P||O<K;if(!P&&H<R&&(j=R,R=H,H=j),F?P?R+H>0^I[1]<(fe(I[0]-$)<K?R:H):R<=I[1]&&I[1]<=H:O>te^($<=I[0]&&I[0]<=L)){var z=Bi(A,(-k+N)/T);return df(z,M),[I,hu(z)]}}}function c(s,d){var l=r?e:te-e,h=0;return s<-l?h|=1:s>l&&(h|=2),d<-l?h|=4:d>l&&(h|=8),h}return s0(a,f,o,r?[0,-e]:[-te,e-te])}function $6(e,t,n,r,i,o){var a=e[0],f=e[1],u=t[0],c=t[1],s=0,d=1,l=u-a,h=c-f,p;if(p=n-a,!(!l&&p>0)){if(p/=l,l<0){if(p<s)return;p<d&&(d=p)}else if(l>0){if(p>d)return;p>s&&(s=p)}if(p=i-a,!(!l&&p<0)){if(p/=l,l<0){if(p>d)return;p>s&&(s=p)}else if(l>0){if(p<s)return;p<d&&(d=p)}if(p=r-f,!(!h&&p>0)){if(p/=h,h<0){if(p<s)return;p<d&&(d=p)}else if(h>0){if(p>d)return;p>s&&(s=p)}if(p=o-f,!(!h&&p<0)){if(p/=h,h<0){if(p>d)return;p>s&&(s=p)}else if(h>0){if(p<s)return;p<d&&(d=p)}return s>0&&(e[0]=a+s*l,e[1]=f+s*h),d<1&&(t[0]=a+d*l,t[1]=f+d*h),!0}}}}}var Fr=1e9,Hi=-Fr;function l0(e,t,n,r){function i(c,s){return e<=c&&c<=n&&t<=s&&s<=r}function o(c,s,d,l){var h=0,p=0;if(c==null||(h=a(c,d))!==(p=a(s,d))||u(c,s)<0^d>0)do l.point(h===0||h===3?e:n,h>1?r:t);while((h=(h+d+4)%4)!==p);else l.point(s[0],s[1])}function a(c,s){return fe(c[0]-e)<K?s>0?0:3:fe(c[0]-n)<K?s>0?2:1:fe(c[1]-t)<K?s>0?1:0:s>0?3:2}function f(c,s){return u(c.x,s.x)}function u(c,s){var d=a(c,1),l=a(s,1);return d!==l?d-l:d===0?s[1]-c[1]:d===1?c[0]-s[0]:d===2?c[1]-s[1]:s[0]-c[0]}return function(c){var s=c,d=u0(),l,h,p,m,g,y,b,w,_,v,x,M={point:S,lineStart:D,lineEnd:N,polygonStart:k,polygonEnd:T};function S($,L){i($,L)&&s.point($,L)}function A(){for(var $=0,L=0,R=h.length;L<R;++L)for(var H=h[L],j=1,O=H.length,P=H[0],F,z,Q=P[0],ee=P[1];j<O;++j)F=Q,z=ee,P=H[j],Q=P[0],ee=P[1],z<=r?ee>r&&(Q-F)*(r-z)>(ee-z)*(e-F)&&++$:ee<=r&&(Q-F)*(r-z)<(ee-z)*(e-F)&&--$;return $}function k(){s=d,l=[],h=[],x=!0}function T(){var $=A(),L=x&&$,R=(l=yh(l)).length;(L||R)&&(c.polygonStart(),L&&(c.lineStart(),o(null,null,1,c),c.lineEnd()),R&&c0(l,f,$,o,c),c.polygonEnd()),s=c,l=h=p=null}function D(){M.point=I,h&&h.push(p=[]),v=!0,_=!1,b=w=NaN}function N(){l&&(I(m,g),y&&_&&d.rejoin(),l.push(d.result())),M.point=S,_&&s.lineEnd()}function I($,L){var R=i($,L);if(h&&p.push([$,L]),v)m=$,g=L,y=R,v=!1,R&&(s.lineStart(),s.point($,L));else if(R&&_)s.point($,L);else{var H=[b=Math.max(Hi,Math.min(Fr,b)),w=Math.max(Hi,Math.min(Fr,w))],j=[$=Math.max(Hi,Math.min(Fr,$)),L=Math.max(Hi,Math.min(Fr,L))];$6(H,j,e,t,n,r)?(_||(s.lineStart(),s.point(H[0],H[1])),s.point(j[0],j[1]),R||s.lineEnd(),x=!1):R&&(s.lineStart(),s.point($,L),x=!1)}b=$,w=L,_=R}return M}}const bu=e=>e;var pf=new Mn,yu=new Mn,d0,h0,_u,wu,Rt={point:Ge,lineStart:Ge,lineEnd:Ge,polygonStart:function(){Rt.lineStart=A6,Rt.lineEnd=C6},polygonEnd:function(){Rt.lineStart=Rt.lineEnd=Rt.point=Ge,pf.add(fe(yu)),yu=new Mn},result:function(){var e=pf/2;return pf=new Mn,e}};function A6(){Rt.point=E6}function E6(e,t){Rt.point=p0,d0=_u=e,h0=wu=t}function p0(e,t){yu.add(wu*e-_u*t),_u=e,wu=t}function C6(){p0(d0,h0)}var ar=1/0,ko=ar,ti=-ar,No=ti,Do={point:k6,lineStart:Ge,lineEnd:Ge,polygonStart:Ge,polygonEnd:Ge,result:function(){var e=[[ar,ko],[ti,No]];return ti=No=-(ko=ar=1/0),e}};function k6(e,t){e<ar&&(ar=e),e>ti&&(ti=e),t<ko&&(ko=t),t>No&&(No=t)}var vu=0,xu=0,Pr=0,Io=0,Ro=0,jn=0,Tu=0,Mu=0,qr=0,m0,g0,mt,gt,He={point:kn,lineStart:dl,lineEnd:hl,polygonStart:function(){He.lineStart=I6,He.lineEnd=R6},polygonEnd:function(){He.point=kn,He.lineStart=dl,He.lineEnd=hl},result:function(){var e=qr?[Tu/qr,Mu/qr]:jn?[Io/jn,Ro/jn]:Pr?[vu/Pr,xu/Pr]:[NaN,NaN];return vu=xu=Pr=Io=Ro=jn=Tu=Mu=qr=0,e}};function kn(e,t){vu+=e,xu+=t,++Pr}function dl(){He.point=N6}function N6(e,t){He.point=D6,kn(mt=e,gt=t)}function D6(e,t){var n=e-mt,r=t-gt,i=Oe(n*n+r*r);Io+=i*(mt+e)/2,Ro+=i*(gt+t)/2,jn+=i,kn(mt=e,gt=t)}function hl(){He.point=kn}function I6(){He.point=L6}function R6(){b0(m0,g0)}function L6(e,t){He.point=b0,kn(m0=mt=e,g0=gt=t)}function b0(e,t){var n=e-mt,r=t-gt,i=Oe(n*n+r*r);Io+=i*(mt+e)/2,Ro+=i*(gt+t)/2,jn+=i,i=gt*e-mt*t,Tu+=i*(mt+e),Mu+=i*(gt+t),qr+=i*3,kn(mt=e,gt=t)}function y0(e){this._context=e}y0.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,Ue);break}}},result:Ge};var Su=new Mn,mf,_0,w0,zr,Ur,ni={point:Ge,lineStart:function(){ni.point=O6},lineEnd:function(){mf&&v0(_0,w0),ni.point=Ge},polygonStart:function(){mf=!0},polygonEnd:function(){mf=null},result:function(){var e=+Su;return Su=new Mn,e}};function O6(e,t){ni.point=v0,_0=zr=e,w0=Ur=t}function v0(e,t){zr-=e,Ur-=t,Su.add(Oe(zr*zr+Ur*Ur)),zr=e,Ur=t}let pl,Lo,ml,gl;class bl{constructor(t){this._append=t==null?x0:F6(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,n){switch(this._point){case 0:{this._append`M${t},${n}`,this._point=1;break}case 1:{this._append`L${t},${n}`;break}default:{if(this._append`M${t},${n}`,this._radius!==ml||this._append!==Lo){const r=this._radius,i=this._;this._="",this._append`m0,${r}a${r},${r} 0 1,1 0,${-2*r}a${r},${r} 0 1,1 0,${2*r}z`,ml=r,Lo=this._append,gl=this._,this._=i}this._+=gl;break}}}result(){const t=this._;return this._="",t.length?t:null}}function x0(e){let t=1;this._+=e[0];for(const n=e.length;t<n;++t)this._+=arguments[t]+e[t]}function F6(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return x0;if(t!==pl){const n=10**t;pl=t,Lo=function(i){let o=1;this._+=i[0];for(const a=i.length;o<a;++o)this._+=Math.round(arguments[o]*n)/n+i[o]}}return Lo}function ma(e,t){let n=3,r=4.5,i,o;function a(f){return f&&(typeof r=="function"&&o.pointRadius(+r.apply(this,arguments)),_n(f,i(o))),o.result()}return a.area=function(f){return _n(f,i(Rt)),Rt.result()},a.measure=function(f){return _n(f,i(ni)),ni.result()},a.bounds=function(f){return _n(f,i(Do)),Do.result()},a.centroid=function(f){return _n(f,i(He)),He.result()},a.projection=function(f){return arguments.length?(i=f==null?(e=null,bu):(e=f).stream,a):e},a.context=function(f){return arguments.length?(o=f==null?(t=null,new bl(n)):new y0(t=f),typeof r!="function"&&o.pointRadius(r),a):t},a.pointRadius=function(f){return arguments.length?(r=typeof f=="function"?f:(o.pointRadius(+f),+f),a):r},a.digits=function(f){if(!arguments.length)return n;if(f==null)n=null;else{const u=Math.floor(f);if(!(u>=0))throw new RangeError(`invalid digits: ${f}`);n=u}return t===null&&(o=new bl(n)),a},a.projection(e).digits(n).context(t)}function $u(e){return{stream:ga(e)}}function ga(e){return function(t){var n=new Au;for(var r in e)n[r]=e[r];return n.stream=t,n}}function Au(){}Au.prototype={constructor:Au,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function lc(e,t,n){var r=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),r!=null&&e.clipExtent(null),_n(n,e.stream(Do)),t(Do.result()),r!=null&&e.clipExtent(r),e}function dc(e,t,n){return lc(e,function(r){var i=t[1][0]-t[0][0],o=t[1][1]-t[0][1],a=Math.min(i/(r[1][0]-r[0][0]),o/(r[1][1]-r[0][1])),f=+t[0][0]+(i-a*(r[1][0]+r[0][0]))/2,u=+t[0][1]+(o-a*(r[1][1]+r[0][1]))/2;e.scale(150*a).translate([f,u])},n)}function T0(e,t,n){return dc(e,[[0,0],t],n)}function M0(e,t,n){return lc(e,function(r){var i=+t,o=i/(r[1][0]-r[0][0]),a=(i-o*(r[1][0]+r[0][0]))/2,f=-o*r[0][1];e.scale(150*o).translate([a,f])},n)}function S0(e,t,n){return lc(e,function(r){var i=+t,o=i/(r[1][1]-r[0][1]),a=-o*r[0][0],f=(i-o*(r[1][1]+r[0][1]))/2;e.scale(150*o).translate([a,f])},n)}var yl=16,P6=J(30*le);function _l(e,t){return+t?z6(e,t):q6(e)}function q6(e){return ga({point:function(t,n){t=e(t,n),this.stream.point(t[0],t[1])}})}function z6(e,t){function n(r,i,o,a,f,u,c,s,d,l,h,p,m,g){var y=c-r,b=s-i,w=y*y+b*b;if(w>4*t&&m--){var _=a+l,v=f+h,x=u+p,M=Oe(_*_+v*v+x*x),S=Ze(x/=M),A=fe(fe(x)-1)<K||fe(o-d)<K?(o+d)/2:Bt(v,_),k=e(A,S),T=k[0],D=k[1],N=T-r,I=D-i,$=b*N-y*I;($*$/w>t||fe((y*N+b*I)/w-.5)>.3||a*l+f*h+u*p<P6)&&(n(r,i,o,a,f,u,T,D,A,_/=M,v/=M,x,m,g),g.point(T,D),n(T,D,A,_,v,x,c,s,d,l,h,p,m,g))}}return function(r){var i,o,a,f,u,c,s,d,l,h,p,m,g={point:y,lineStart:b,lineEnd:_,polygonStart:function(){r.polygonStart(),g.lineStart=v},polygonEnd:function(){r.polygonEnd(),g.lineStart=b}};function y(S,A){S=e(S,A),r.point(S[0],S[1])}function b(){d=NaN,g.point=w,r.lineStart()}function w(S,A){var k=or([S,A]),T=e(S,A);n(d,l,s,h,p,m,d=T[0],l=T[1],s=S,h=k[0],p=k[1],m=k[2],yl,r),r.point(d,l)}function _(){g.point=y,r.lineEnd()}function v(){b(),g.point=x,g.lineEnd=M}function x(S,A){w(i=S,A),o=d,a=l,f=h,u=p,c=m,g.point=w}function M(){n(d,l,s,h,p,m,o,a,i,f,u,c,yl,r),g.lineEnd=_,_()}return g}}var U6=ga({point:function(e,t){this.stream.point(e*le,t*le)}});function B6(e){return ga({point:function(t,n){var r=e(t,n);return this.stream.point(r[0],r[1])}})}function Y6(e,t,n,r,i){function o(a,f){return a*=r,f*=i,[t+e*a,n-e*f]}return o.invert=function(a,f){return[(a-t)/e*r,(n-f)/e*i]},o}function wl(e,t,n,r,i,o){if(!o)return Y6(e,t,n,r,i);var a=J(o),f=V(o),u=a*e,c=f*e,s=a/e,d=f/e,l=(f*n-a*t)/e,h=(f*t+a*n)/e;function p(m,g){return m*=r,g*=i,[u*m-c*g+t,n-c*m-u*g]}return p.invert=function(m,g){return[r*(s*m-d*g+l),i*(h-d*m-s*g)]},p}function cn(e){return $0(function(){return e})()}function $0(e){var t,n=150,r=480,i=250,o=0,a=0,f=0,u=0,c=0,s,d=0,l=1,h=1,p=null,m=ll,g=null,y,b,w,_=bu,v=.5,x,M,S,A,k;function T($){return S($[0]*le,$[1]*le)}function D($){return $=S.invert($[0],$[1]),$&&[$[0]*Ne,$[1]*Ne]}T.stream=function($){return A&&k===$?A:A=U6(B6(s)(m(x(_(k=$)))))},T.preclip=function($){return arguments.length?(m=$,p=void 0,I()):m},T.postclip=function($){return arguments.length?(_=$,g=y=b=w=null,I()):_},T.clipAngle=function($){return arguments.length?(m=+$?S6(p=$*le):(p=null,ll),I()):p*Ne},T.clipExtent=function($){return arguments.length?(_=$==null?(g=y=b=w=null,bu):l0(g=+$[0][0],y=+$[0][1],b=+$[1][0],w=+$[1][1]),I()):g==null?null:[[g,y],[b,w]]},T.scale=function($){return arguments.length?(n=+$,N()):n},T.translate=function($){return arguments.length?(r=+$[0],i=+$[1],N()):[r,i]},T.center=function($){return arguments.length?(o=$[0]%360*le,a=$[1]%360*le,N()):[o*Ne,a*Ne]},T.rotate=function($){return arguments.length?(f=$[0]%360*le,u=$[1]%360*le,c=$.length>2?$[2]%360*le:0,N()):[f*Ne,u*Ne,c*Ne]},T.angle=function($){return arguments.length?(d=$%360*le,N()):d*Ne},T.reflectX=function($){return arguments.length?(l=$?-1:1,N()):l<0},T.reflectY=function($){return arguments.length?(h=$?-1:1,N()):h<0},T.precision=function($){return arguments.length?(x=_l(M,v=$*$),I()):Oe(v)},T.fitExtent=function($,L){return dc(T,$,L)},T.fitSize=function($,L){return T0(T,$,L)},T.fitWidth=function($,L){return M0(T,$,L)},T.fitHeight=function($,L){return S0(T,$,L)};function N(){var $=wl(n,0,0,l,h,d).apply(null,t(o,a)),L=wl(n,r-$[0],i-$[1],l,h,d);return s=f0(f,u,c),M=mu(t,L),S=mu(s,M),x=_l(M,v),I()}function I(){return A=k=null,T}return function(){return t=e.apply(this,arguments),T.invert=t.invert&&D,N()}}function hc(e){var t=0,n=te/3,r=$0(e),i=r(t,n);return i.parallels=function(o){return arguments.length?r(t=o[0]*le,n=o[1]*le):[t*Ne,n*Ne]},i}function H6(e){var t=J(e);function n(r,i){return[r*t,V(i)/t]}return n.invert=function(r,i){return[r/t,Ze(i*t)]},n}function j6(e,t){var n=V(e),r=(n+V(t))/2;if(fe(r)<K)return H6(e);var i=1+n*(2*r-n),o=Oe(i)/r;function a(f,u){var c=Oe(i-2*r*V(u))/r;return[c*V(f*=r),o-c*J(f)]}return a.invert=function(f,u){var c=o-u,s=Bt(f,fe(c))*We(c);return c*r<0&&(s-=te*We(f)*We(c)),[s/r,Ze((i-(f*f+c*c)*r*r)/(2*r))]},a}function Oo(){return hc(j6).scale(155.424).center([0,33.6442])}function A0(){return Oo().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function W6(e){var t=e.length;return{point:function(n,r){for(var i=-1;++i<t;)e[i].point(n,r)},sphere:function(){for(var n=-1;++n<t;)e[n].sphere()},lineStart:function(){for(var n=-1;++n<t;)e[n].lineStart()},lineEnd:function(){for(var n=-1;++n<t;)e[n].lineEnd()},polygonStart:function(){for(var n=-1;++n<t;)e[n].polygonStart()},polygonEnd:function(){for(var n=-1;++n<t;)e[n].polygonEnd()}}}function G6(){var e,t,n=A0(),r,i=Oo().rotate([154,0]).center([-2,58.5]).parallels([55,65]),o,a=Oo().rotate([157,0]).center([-3,19.9]).parallels([8,18]),f,u,c={point:function(l,h){u=[l,h]}};function s(l){var h=l[0],p=l[1];return u=null,r.point(h,p),u||(o.point(h,p),u)||(f.point(h,p),u)}s.invert=function(l){var h=n.scale(),p=n.translate(),m=(l[0]-p[0])/h,g=(l[1]-p[1])/h;return(g>=.12&&g<.234&&m>=-.425&&m<-.214?i:g>=.166&&g<.234&&m>=-.214&&m<-.115?a:n).invert(l)},s.stream=function(l){return e&&t===l?e:e=W6([n.stream(t=l),i.stream(l),a.stream(l)])},s.precision=function(l){return arguments.length?(n.precision(l),i.precision(l),a.precision(l),d()):n.precision()},s.scale=function(l){return arguments.length?(n.scale(l),i.scale(l*.35),a.scale(l),s.translate(n.translate())):n.scale()},s.translate=function(l){if(!arguments.length)return n.translate();var h=n.scale(),p=+l[0],m=+l[1];return r=n.translate(l).clipExtent([[p-.455*h,m-.238*h],[p+.455*h,m+.238*h]]).stream(c),o=i.translate([p-.307*h,m+.201*h]).clipExtent([[p-.425*h+K,m+.12*h+K],[p-.214*h-K,m+.234*h-K]]).stream(c),f=a.translate([p-.205*h,m+.212*h]).clipExtent([[p-.214*h+K,m+.166*h+K],[p-.115*h-K,m+.234*h-K]]).stream(c),d()},s.fitExtent=function(l,h){return dc(s,l,h)},s.fitSize=function(l,h){return T0(s,l,h)},s.fitWidth=function(l,h){return M0(s,l,h)},s.fitHeight=function(l,h){return S0(s,l,h)};function d(){return e=t=null,s}return s.scale(1070)}function E0(e){return function(t,n){var r=J(t),i=J(n),o=e(r*i);return o===1/0?[2,0]:[o*i*V(t),o*V(n)]}}function pi(e){return function(t,n){var r=Oe(t*t+n*n),i=e(r),o=V(i),a=J(i);return[Bt(t*o,r*a),Ze(r&&n*o/r)]}}var C0=E0(function(e){return Oe(2/(1+e))});C0.invert=pi(function(e){return 2*Ze(e/2)});function X6(){return cn(C0).scale(124.75).clipAngle(180-.001)}var k0=E0(function(e){return(e=a0(e))&&e/V(e)});k0.invert=pi(function(e){return e});function V6(){return cn(k0).scale(79.4188).clipAngle(180-.001)}function ba(e,t){return[e,Ao(sc((de+t)/2))]}ba.invert=function(e,t){return[e,2*_r(o0(t))-de]};function Z6(){return N0(ba).scale(961/Ue)}function N0(e){var t=cn(e),n=t.center,r=t.scale,i=t.translate,o=t.clipExtent,a=null,f,u,c;t.scale=function(d){return arguments.length?(r(d),s()):r()},t.translate=function(d){return arguments.length?(i(d),s()):i()},t.center=function(d){return arguments.length?(n(d),s()):n()},t.clipExtent=function(d){return arguments.length?(d==null?a=f=u=c=null:(a=+d[0][0],f=+d[0][1],u=+d[1][0],c=+d[1][1]),s()):a==null?null:[[a,f],[u,c]]};function s(){var d=te*r(),l=t(b6(t.rotate()).invert([0,0]));return o(a==null?[[l[0]-d,l[1]-d],[l[0]+d,l[1]+d]]:e===ba?[[Math.max(l[0]-d,a),f],[Math.min(l[0]+d,u),c]]:[[a,Math.max(l[1]-d,f)],[u,Math.min(l[1]+d,c)]])}return s()}function ji(e){return sc((de+e)/2)}function K6(e,t){var n=J(e),r=e===t?V(e):Ao(n/J(t))/Ao(ji(t)/ji(e)),i=n*lf(ji(e),r)/r;if(!r)return ba;function o(a,f){i>0?f<-de+K&&(f=-de+K):f>de-K&&(f=de-K);var u=i/lf(ji(f),r);return[u*V(r*a),i-u*J(r*a)]}return o.invert=function(a,f){var u=i-f,c=We(r)*Oe(a*a+u*u),s=Bt(a,fe(u))*We(u);return u*r<0&&(s-=te*We(a)*We(u)),[s/r,2*_r(lf(i/c,1/r))-de]},o}function Q6(){return hc(K6).scale(109.5).parallels([30,30])}function Fo(e,t){return[e,t]}Fo.invert=Fo;function J6(){return cn(Fo).scale(152.63)}function e3(e,t){var n=J(e),r=e===t?V(e):(n-J(t))/(t-e),i=n/r+e;if(fe(r)<K)return Fo;function o(a,f){var u=i-f,c=r*a;return[u*V(c),i-u*J(c)]}return o.invert=function(a,f){var u=i-f,c=Bt(a,fe(u))*We(u);return u*r<0&&(c-=te*We(a)*We(u)),[c/r,i-We(r)*Oe(a*a+u*u)]},o}function t3(){return hc(e3).scale(131.154).center([0,13.9389])}var Hr=1.340264,jr=-.081106,Wr=893e-6,Gr=.003796,Po=Oe(3)/2,n3=12;function D0(e,t){var n=Ze(Po*V(t)),r=n*n,i=r*r*r;return[e*J(n)/(Po*(Hr+3*jr*r+i*(7*Wr+9*Gr*r))),n*(Hr+jr*r+i*(Wr+Gr*r))]}D0.invert=function(e,t){for(var n=t,r=n*n,i=r*r*r,o=0,a,f,u;o<n3&&(f=n*(Hr+jr*r+i*(Wr+Gr*r))-t,u=Hr+3*jr*r+i*(7*Wr+9*Gr*r),n-=a=f/u,r=n*n,i=r*r*r,!(fe(a)<i0));++o);return[Po*e*(Hr+3*jr*r+i*(7*Wr+9*Gr*r))/J(n),Ze(V(n)/Po)]};function r3(){return cn(D0).scale(177.158)}function I0(e,t){var n=J(t),r=J(e)*n;return[n*V(e)/r,V(t)/r]}I0.invert=pi(_r);function i3(){return cn(I0).scale(144.049).clipAngle(60)}function R0(e,t){return[J(t)*V(e),V(t)]}R0.invert=pi(Ze);function o3(){return cn(R0).scale(249.5).clipAngle(90+K)}function L0(e,t){var n=J(t),r=1+J(e)*n;return[n*V(e)/r,V(t)/r]}L0.invert=pi(function(e){return 2*_r(e)});function a3(){return cn(L0).scale(250).clipAngle(142)}function O0(e,t){return[Ao(sc((de+t)/2)),-e]}O0.invert=function(e,t){return[-t,2*_r(o0(e))-de]};function f3(){var e=N0(O0),t=e.center,n=e.rotate;return e.center=function(r){return arguments.length?t([-r[1],r[0]]):(r=t(),[r[1],-r[0]])},e.rotate=function(r){return arguments.length?n([r[0],r[1],r.length>2?r[2]+90:90]):(r=n(),[r[0],r[1],r[2]-90])},n([0,0,90]).scale(159.155)}function St(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function ya(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Eu=Symbol("implicit");function pc(){var e=new Sn,t=[],n=[],r=Eu;function i(o){let a=e.get(o);if(a===void 0){if(r!==Eu)return r;e.set(o,a=t.push(o)-1)}return n[a%n.length]}return i.domain=function(o){if(!arguments.length)return t.slice();t=[],e=new Sn;for(const a of o)e.has(a)||e.set(a,t.push(a)-1);return i},i.range=function(o){return arguments.length?(n=Array.from(o),i):n.slice()},i.unknown=function(o){return arguments.length?(r=o,i):r},i.copy=function(){return pc(t,n).unknown(r)},St.apply(i,arguments),i}function _a(){var e=pc().unknown(void 0),t=e.domain,n=e.range,r=0,i=1,o,a,f=!1,u=0,c=0,s=.5;delete e.unknown;function d(){var l=t().length,h=i<r,p=h?i:r,m=h?r:i;o=(m-p)/Math.max(1,l-u+c*2),f&&(o=Math.floor(o)),p+=(m-p-o*(l-u))*s,a=o*(1-u),f&&(p=Math.round(p),a=Math.round(a));var g=Jf(l).map(function(y){return p+o*y});return n(h?g.reverse():g)}return e.domain=function(l){return arguments.length?(t(l),d()):t()},e.range=function(l){return arguments.length?([r,i]=l,r=+r,i=+i,d()):[r,i]},e.rangeRound=function(l){return[r,i]=l,r=+r,i=+i,f=!0,d()},e.bandwidth=function(){return a},e.step=function(){return o},e.round=function(l){return arguments.length?(f=!!l,d()):f},e.padding=function(l){return arguments.length?(u=Math.min(1,c=+l),d()):u},e.paddingInner=function(l){return arguments.length?(u=Math.min(1,l),d()):u},e.paddingOuter=function(l){return arguments.length?(c=+l,d()):c},e.align=function(l){return arguments.length?(s=Math.max(0,Math.min(1,l)),d()):s},e.copy=function(){return _a(t(),[r,i]).round(f).paddingInner(u).paddingOuter(c).align(s)},St.apply(d(),arguments)}function F0(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return F0(t())},e}function u3(){return F0(_a.apply(null,arguments).paddingInner(1))}function c3(e){return function(){return e}}function Cu(e){return+e}var vl=[0,1];function Xe(e){return e}function ku(e,t){return(t-=e=+e)?function(n){return(n-e)/t}:c3(isNaN(t)?NaN:.5)}function s3(e,t){var n;return e>t&&(n=e,e=t,t=n),function(r){return Math.max(e,Math.min(t,r))}}function l3(e,t,n){var r=e[0],i=e[1],o=t[0],a=t[1];return i<r?(r=ku(i,r),o=n(a,o)):(r=ku(r,i),o=n(o,a)),function(f){return o(r(f))}}function d3(e,t,n){var r=Math.min(e.length,t.length)-1,i=new Array(r),o=new Array(r),a=-1;for(e[r]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++a<r;)i[a]=ku(e[a],e[a+1]),o[a]=n(t[a],t[a+1]);return function(f){var u=oa(e,f,1,r)-1;return o[u](i[u](f))}}function mi(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function wa(){var e=vl,t=vl,n=hi,r,i,o,a=Xe,f,u,c;function s(){var l=Math.min(e.length,t.length);return a!==Xe&&(a=s3(e[0],e[l-1])),f=l>2?d3:l3,u=c=null,d}function d(l){return l==null||isNaN(l=+l)?o:(u||(u=f(e.map(r),t,n)))(r(a(l)))}return d.invert=function(l){return a(i((c||(c=f(t,e.map(r),$e)))(l)))},d.domain=function(l){return arguments.length?(e=Array.from(l,Cu),s()):e.slice()},d.range=function(l){return arguments.length?(t=Array.from(l),s()):t.slice()},d.rangeRound=function(l){return t=Array.from(l),n=ic,s()},d.clamp=function(l){return arguments.length?(a=l?!0:Xe,s()):a!==Xe},d.interpolate=function(l){return arguments.length?(n=l,s()):n},d.unknown=function(l){return arguments.length?(o=l,d):o},function(l,h){return r=l,i=h,s()}}function P0(){return wa()(Xe,Xe)}function h3(e,t,n,r){var i=Kf(e,t,n),o;switch(r=ei(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(e),Math.abs(t));return r.precision==null&&!isNaN(o=m6(i,a))&&(r.precision=o),r0(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(o=g6(i,Math.max(Math.abs(e),Math.abs(t))))&&(r.precision=o-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(o=p6(i))&&(r.precision=o-(r.type==="%")*2);break}}return yr(r)}function gi(e){var t=e.domain;return e.ticks=function(n){var r=t();return Zr(r[0],r[r.length-1],n??10)},e.tickFormat=function(n,r){var i=t();return h3(i[0],i[i.length-1],n??10,r)},e.nice=function(n){n==null&&(n=10);var r=t(),i=0,o=r.length-1,a=r[i],f=r[o],u,c,s=10;for(f<a&&(c=a,a=f,f=c,c=i,i=o,o=c);s-- >0;){if(c=yo(a,f,n),c===u)return r[i]=a,r[o]=f,t(r);if(c>0)a=Math.floor(a/c)*c,f=Math.ceil(f/c)*c;else if(c<0)a=Math.ceil(a*c)/c,f=Math.floor(f*c)/c;else break;u=c}return e},e}function mc(){var e=P0();return e.copy=function(){return mi(e,mc())},St.apply(e,arguments),gi(e)}function q0(e){var t;function n(r){return r==null||isNaN(r=+r)?t:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(e=Array.from(r,Cu),n):e.slice()},n.unknown=function(r){return arguments.length?(t=r,n):t},n.copy=function(){return q0(e).unknown(t)},e=arguments.length?Array.from(e,Cu):[0,1],gi(n)}function z0(e,t){e=e.slice();var n=0,r=e.length-1,i=e[n],o=e[r],a;return o<i&&(a=n,n=r,r=a,a=i,i=o,o=a),e[n]=t.floor(i),e[r]=t.ceil(o),e}function xl(e){return Math.log(e)}function Tl(e){return Math.exp(e)}function p3(e){return-Math.log(-e)}function m3(e){return-Math.exp(-e)}function g3(e){return isFinite(e)?+("1e"+e):e<0?0:e}function b3(e){return e===10?g3:e===Math.E?Math.exp:t=>Math.pow(e,t)}function y3(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function Ml(e){return(t,n)=>-e(-t,n)}function U0(e){const t=e(xl,Tl),n=t.domain;let r=10,i,o;function a(){return i=y3(r),o=b3(r),n()[0]<0?(i=Ml(i),o=Ml(o),e(p3,m3)):e(xl,Tl),t}return t.base=function(f){return arguments.length?(r=+f,a()):r},t.domain=function(f){return arguments.length?(n(f),a()):n()},t.ticks=f=>{const u=n();let c=u[0],s=u[u.length-1];const d=s<c;d&&([c,s]=[s,c]);let l=i(c),h=i(s),p,m;const g=f==null?10:+f;let y=[];if(!(r%1)&&h-l<g){if(l=Math.floor(l),h=Math.ceil(h),c>0){for(;l<=h;++l)for(p=1;p<r;++p)if(m=l<0?p/o(-l):p*o(l),!(m<c)){if(m>s)break;y.push(m)}}else for(;l<=h;++l)for(p=r-1;p>=1;--p)if(m=l>0?p/o(-l):p*o(l),!(m<c)){if(m>s)break;y.push(m)}y.length*2<g&&(y=Zr(c,s,g))}else y=Zr(l,h,Math.min(h-l,g)).map(o);return d?y.reverse():y},t.tickFormat=(f,u)=>{if(f==null&&(f=10),u==null&&(u=r===10?"s":","),typeof u!="function"&&(!(r%1)&&(u=ei(u)).precision==null&&(u.trim=!0),u=yr(u)),f===1/0)return u;const c=Math.max(1,r*f/t.ticks().length);return s=>{let d=s/o(Math.round(i(s)));return d*r<r-.5&&(d*=r),d<=c?u(s):""}},t.nice=()=>n(z0(n(),{floor:f=>o(Math.floor(i(f))),ceil:f=>o(Math.ceil(i(f)))})),t}function B0(){const e=U0(wa()).domain([1,10]);return e.copy=()=>mi(e,B0()).base(e.base()),St.apply(e,arguments),e}function Sl(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function $l(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function Y0(e){var t=1,n=e(Sl(t),$l(t));return n.constant=function(r){return arguments.length?e(Sl(t=+r),$l(t)):t},gi(n)}function H0(){var e=Y0(wa());return e.copy=function(){return mi(e,H0()).constant(e.constant())},St.apply(e,arguments)}function Al(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function _3(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function w3(e){return e<0?-e*e:e*e}function j0(e){var t=e(Xe,Xe),n=1;function r(){return n===1?e(Xe,Xe):n===.5?e(_3,w3):e(Al(n),Al(1/n))}return t.exponent=function(i){return arguments.length?(n=+i,r()):n},gi(t)}function W0(){var e=j0(wa());return e.copy=function(){return mi(e,W0()).exponent(e.exponent())},St.apply(e,arguments),e}function G0(){var e=[],t=[],n=[],r;function i(){var a=0,f=Math.max(1,t.length);for(n=new Array(f-1);++a<f;)n[a-1]=hy(e,a/f);return o}function o(a){return a==null||isNaN(a=+a)?r:t[oa(n,a)]}return o.invertExtent=function(a){var f=t.indexOf(a);return f<0?[NaN,NaN]:[f>0?n[f-1]:e[0],f<n.length?n[f]:e[e.length-1]]},o.domain=function(a){if(!arguments.length)return e.slice();e=[];for(let f of a)f!=null&&!isNaN(f=+f)&&e.push(f);return e.sort(Le),i()},o.range=function(a){return arguments.length?(t=Array.from(a),i()):t.slice()},o.unknown=function(a){return arguments.length?(r=a,o):r},o.quantiles=function(){return n.slice()},o.copy=function(){return G0().domain(e).range(t).unknown(r)},St.apply(o,arguments)}function X0(){var e=[.5],t=[0,1],n,r=1;function i(o){return o!=null&&o<=o?t[oa(e,o,0,r)]:n}return i.domain=function(o){return arguments.length?(e=Array.from(o),r=Math.min(e.length,t.length-1),i):e.slice()},i.range=function(o){return arguments.length?(t=Array.from(o),r=Math.min(e.length,t.length-1),i):t.slice()},i.invertExtent=function(o){var a=t.indexOf(o);return[e[a-1],e[a]]},i.unknown=function(o){return arguments.length?(n=o,i):n},i.copy=function(){return X0().domain(e).range(t).unknown(n)},St.apply(i,arguments)}const gf=new Date,bf=new Date;function ge(e,t,n,r){function i(o){return e(o=arguments.length===0?new Date:new Date(+o)),o}return i.floor=o=>(e(o=new Date(+o)),o),i.ceil=o=>(e(o=new Date(o-1)),t(o,1),e(o),o),i.round=o=>{const a=i(o),f=i.ceil(o);return o-a<f-o?a:f},i.offset=(o,a)=>(t(o=new Date(+o),a==null?1:Math.floor(a)),o),i.range=(o,a,f)=>{const u=[];if(o=i.ceil(o),f=f==null?1:Math.floor(f),!(o<a)||!(f>0))return u;let c;do u.push(c=new Date(+o)),t(o,f),e(o);while(c<o&&o<a);return u},i.filter=o=>ge(a=>{if(a>=a)for(;e(a),!o(a);)a.setTime(a-1)},(a,f)=>{if(a>=a)if(f<0)for(;++f<=0;)for(;t(a,-1),!o(a););else for(;--f>=0;)for(;t(a,1),!o(a););}),n&&(i.count=(o,a)=>(gf.setTime(+o),bf.setTime(+a),e(gf),e(bf),Math.floor(n(gf,bf))),i.every=o=>(o=Math.floor(o),!isFinite(o)||!(o>0)?null:o>1?i.filter(r?a=>r(a)%o===0:a=>i.count(0,a)%o===0):i)),i}const qo=ge(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);qo.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?ge(t=>{t.setTime(Math.floor(t/e)*e)},(t,n)=>{t.setTime(+t+n*e)},(t,n)=>(n-t)/e):qo);qo.range;const Ot=1e3,Ve=Ot*60,Ft=Ve*60,Yt=Ft*24,gc=Yt*7,El=Yt*30,yf=Yt*365,tt=ge(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Ot)},(e,t)=>(t-e)/Ot,e=>e.getUTCSeconds());tt.range;const bi=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ot)},(e,t)=>{e.setTime(+e+t*Ve)},(e,t)=>(t-e)/Ve,e=>e.getMinutes());bi.range;const yi=ge(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ve)},(e,t)=>(t-e)/Ve,e=>e.getUTCMinutes());yi.range;const _i=ge(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Ot-e.getMinutes()*Ve)},(e,t)=>{e.setTime(+e+t*Ft)},(e,t)=>(t-e)/Ft,e=>e.getHours());_i.range;const wi=ge(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Ft)},(e,t)=>(t-e)/Ft,e=>e.getUTCHours());wi.range;const Rn=ge(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ve)/Yt,e=>e.getDate()-1);Rn.range;const va=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yt,e=>e.getUTCDate()-1);va.range;const xa=ge(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/Yt,e=>Math.floor(e/Yt));xa.range;function Ln(e){return ge(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,n)=>{t.setDate(t.getDate()+n*7)},(t,n)=>(n-t-(n.getTimezoneOffset()-t.getTimezoneOffset())*Ve)/gc)}const fr=Ln(0),ri=Ln(1),V0=Ln(2),Z0=Ln(3),Nn=Ln(4),K0=Ln(5),Q0=Ln(6);fr.range;ri.range;V0.range;Z0.range;Nn.range;K0.range;Q0.range;function On(e){return ge(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCDate(t.getUTCDate()+n*7)},(t,n)=>(n-t)/gc)}const ur=On(0),ii=On(1),J0=On(2),ep=On(3),Dn=On(4),tp=On(5),np=On(6);ur.range;ii.range;J0.range;ep.range;Dn.range;tp.range;np.range;const vi=ge(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());vi.range;const xi=ge(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xi.range;const ot=ge(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());ot.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,n)=>{t.setFullYear(t.getFullYear()+n*e)});ot.range;const at=ge(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());at.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:ge(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,n)=>{t.setUTCFullYear(t.getUTCFullYear()+n*e)});at.range;function rp(e,t,n,r,i,o){const a=[[tt,1,Ot],[tt,5,5*Ot],[tt,15,15*Ot],[tt,30,30*Ot],[o,1,Ve],[o,5,5*Ve],[o,15,15*Ve],[o,30,30*Ve],[i,1,Ft],[i,3,3*Ft],[i,6,6*Ft],[i,12,12*Ft],[r,1,Yt],[r,2,2*Yt],[n,1,gc],[t,1,El],[t,3,3*El],[e,1,yf]];function f(c,s,d){const l=s<c;l&&([c,s]=[s,c]);const h=d&&typeof d.range=="function"?d:u(c,s,d),p=h?h.range(c,+s+1):[];return l?p.reverse():p}function u(c,s,d){const l=Math.abs(s-c)/d,h=ia(([,,g])=>g).right(a,l);if(h===a.length)return e.every(Kf(c/yf,s/yf,d));if(h===0)return qo.every(Math.max(Kf(c,s,d),1));const[p,m]=a[l/a[h-1][2]<a[h][2]/l?h-1:h];return p.every(m)}return[f,u]}const[v3,ip]=rp(at,xi,ur,xa,wi,yi),[x3,T3]=rp(ot,vi,fr,Rn,_i,bi);function _f(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function wf(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function $r(e,t,n){return{y:e,m:t,d:n,H:0,M:0,S:0,L:0}}function M3(e){var t=e.dateTime,n=e.date,r=e.time,i=e.periods,o=e.days,a=e.shortDays,f=e.months,u=e.shortMonths,c=Ar(i),s=Er(i),d=Ar(o),l=Er(o),h=Ar(a),p=Er(a),m=Ar(f),g=Er(f),y=Ar(u),b=Er(u),w={a:R,A:H,b:j,B:O,c:null,d:Rl,e:Rl,f:G3,g:rv,G:ov,H:H3,I:j3,j:W3,L:op,m:X3,M:V3,p:P,q:F,Q:Fl,s:Pl,S:Z3,u:K3,U:Q3,V:J3,w:ev,W:tv,x:null,X:null,y:nv,Y:iv,Z:av,"%":Ol},_={a:z,A:Q,b:ee,B:G,c:null,d:Ll,e:Ll,f:sv,g:wv,G:xv,H:fv,I:uv,j:cv,L:fp,m:lv,M:dv,p:B,q:Y,Q:Fl,s:Pl,S:hv,u:pv,U:mv,V:gv,w:bv,W:yv,x:null,X:null,y:_v,Y:vv,Z:Tv,"%":Ol},v={a:k,A:T,b:D,B:N,c:I,d:Dl,e:Dl,f:z3,g:Nl,G:kl,H:Il,I:Il,j:O3,L:q3,m:L3,M:F3,p:A,q:R3,Q:B3,s:Y3,S:P3,u:C3,U:k3,V:N3,w:E3,W:D3,x:$,X:L,y:Nl,Y:kl,Z:I3,"%":U3};w.x=x(n,w),w.X=x(r,w),w.c=x(t,w),_.x=x(n,_),_.X=x(r,_),_.c=x(t,_);function x(C,q){return function(U){var E=[],ne=-1,W=0,ie=C.length,oe,ce,st;for(U instanceof Date||(U=new Date(+U));++ne<ie;)C.charCodeAt(ne)===37&&(E.push(C.slice(W,ne)),(ce=Cl[oe=C.charAt(++ne)])!=null?oe=C.charAt(++ne):ce=oe==="e"?" ":"0",(st=q[oe])&&(oe=st(U,ce)),E.push(oe),W=ne+1);return E.push(C.slice(W,ne)),E.join("")}}function M(C,q){return function(U){var E=$r(1900,void 0,1),ne=S(E,C,U+="",0),W,ie;if(ne!=U.length)return null;if("Q"in E)return new Date(E.Q);if("s"in E)return new Date(E.s*1e3+("L"in E?E.L:0));if(q&&!("Z"in E)&&(E.Z=0),"p"in E&&(E.H=E.H%12+E.p*12),E.m===void 0&&(E.m="q"in E?E.q:0),"V"in E){if(E.V<1||E.V>53)return null;"w"in E||(E.w=1),"Z"in E?(W=wf($r(E.y,0,1)),ie=W.getUTCDay(),W=ie>4||ie===0?ii.ceil(W):ii(W),W=va.offset(W,(E.V-1)*7),E.y=W.getUTCFullYear(),E.m=W.getUTCMonth(),E.d=W.getUTCDate()+(E.w+6)%7):(W=_f($r(E.y,0,1)),ie=W.getDay(),W=ie>4||ie===0?ri.ceil(W):ri(W),W=Rn.offset(W,(E.V-1)*7),E.y=W.getFullYear(),E.m=W.getMonth(),E.d=W.getDate()+(E.w+6)%7)}else("W"in E||"U"in E)&&("w"in E||(E.w="u"in E?E.u%7:"W"in E?1:0),ie="Z"in E?wf($r(E.y,0,1)).getUTCDay():_f($r(E.y,0,1)).getDay(),E.m=0,E.d="W"in E?(E.w+6)%7+E.W*7-(ie+5)%7:E.w+E.U*7-(ie+6)%7);return"Z"in E?(E.H+=E.Z/100|0,E.M+=E.Z%100,wf(E)):_f(E)}}function S(C,q,U,E){for(var ne=0,W=q.length,ie=U.length,oe,ce;ne<W;){if(E>=ie)return-1;if(oe=q.charCodeAt(ne++),oe===37){if(oe=q.charAt(ne++),ce=v[oe in Cl?q.charAt(ne++):oe],!ce||(E=ce(C,U,E))<0)return-1}else if(oe!=U.charCodeAt(E++))return-1}return E}function A(C,q,U){var E=c.exec(q.slice(U));return E?(C.p=s.get(E[0].toLowerCase()),U+E[0].length):-1}function k(C,q,U){var E=h.exec(q.slice(U));return E?(C.w=p.get(E[0].toLowerCase()),U+E[0].length):-1}function T(C,q,U){var E=d.exec(q.slice(U));return E?(C.w=l.get(E[0].toLowerCase()),U+E[0].length):-1}function D(C,q,U){var E=y.exec(q.slice(U));return E?(C.m=b.get(E[0].toLowerCase()),U+E[0].length):-1}function N(C,q,U){var E=m.exec(q.slice(U));return E?(C.m=g.get(E[0].toLowerCase()),U+E[0].length):-1}function I(C,q,U){return S(C,t,q,U)}function $(C,q,U){return S(C,n,q,U)}function L(C,q,U){return S(C,r,q,U)}function R(C){return a[C.getDay()]}function H(C){return o[C.getDay()]}function j(C){return u[C.getMonth()]}function O(C){return f[C.getMonth()]}function P(C){return i[+(C.getHours()>=12)]}function F(C){return 1+~~(C.getMonth()/3)}function z(C){return a[C.getUTCDay()]}function Q(C){return o[C.getUTCDay()]}function ee(C){return u[C.getUTCMonth()]}function G(C){return f[C.getUTCMonth()]}function B(C){return i[+(C.getUTCHours()>=12)]}function Y(C){return 1+~~(C.getUTCMonth()/3)}return{format:function(C){var q=x(C+="",w);return q.toString=function(){return C},q},parse:function(C){var q=M(C+="",!1);return q.toString=function(){return C},q},utcFormat:function(C){var q=x(C+="",_);return q.toString=function(){return C},q},utcParse:function(C){var q=M(C+="",!0);return q.toString=function(){return C},q}}}var Cl={"-":"",_:" ",0:"0"},ve=/^\s*\d+/,S3=/^%/,$3=/[\\^$*+?|[\]().{}]/g;function ae(e,t,n){var r=e<0?"-":"",i=(r?-e:e)+"",o=i.length;return r+(o<n?new Array(n-o+1).join(t)+i:i)}function A3(e){return e.replace($3,"\\$&")}function Ar(e){return new RegExp("^(?:"+e.map(A3).join("|")+")","i")}function Er(e){return new Map(e.map((t,n)=>[t.toLowerCase(),n]))}function E3(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.w=+r[0],n+r[0].length):-1}function C3(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.u=+r[0],n+r[0].length):-1}function k3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.U=+r[0],n+r[0].length):-1}function N3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.V=+r[0],n+r[0].length):-1}function D3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.W=+r[0],n+r[0].length):-1}function kl(e,t,n){var r=ve.exec(t.slice(n,n+4));return r?(e.y=+r[0],n+r[0].length):-1}function Nl(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function I3(e,t,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(n,n+6));return r?(e.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function R3(e,t,n){var r=ve.exec(t.slice(n,n+1));return r?(e.q=r[0]*3-3,n+r[0].length):-1}function L3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.m=r[0]-1,n+r[0].length):-1}function Dl(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.d=+r[0],n+r[0].length):-1}function O3(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.m=0,e.d=+r[0],n+r[0].length):-1}function Il(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.H=+r[0],n+r[0].length):-1}function F3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.M=+r[0],n+r[0].length):-1}function P3(e,t,n){var r=ve.exec(t.slice(n,n+2));return r?(e.S=+r[0],n+r[0].length):-1}function q3(e,t,n){var r=ve.exec(t.slice(n,n+3));return r?(e.L=+r[0],n+r[0].length):-1}function z3(e,t,n){var r=ve.exec(t.slice(n,n+6));return r?(e.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function U3(e,t,n){var r=S3.exec(t.slice(n,n+1));return r?n+r[0].length:-1}function B3(e,t,n){var r=ve.exec(t.slice(n));return r?(e.Q=+r[0],n+r[0].length):-1}function Y3(e,t,n){var r=ve.exec(t.slice(n));return r?(e.s=+r[0],n+r[0].length):-1}function Rl(e,t){return ae(e.getDate(),t,2)}function H3(e,t){return ae(e.getHours(),t,2)}function j3(e,t){return ae(e.getHours()%12||12,t,2)}function W3(e,t){return ae(1+Rn.count(ot(e),e),t,3)}function op(e,t){return ae(e.getMilliseconds(),t,3)}function G3(e,t){return op(e,t)+"000"}function X3(e,t){return ae(e.getMonth()+1,t,2)}function V3(e,t){return ae(e.getMinutes(),t,2)}function Z3(e,t){return ae(e.getSeconds(),t,2)}function K3(e){var t=e.getDay();return t===0?7:t}function Q3(e,t){return ae(fr.count(ot(e)-1,e),t,2)}function ap(e){var t=e.getDay();return t>=4||t===0?Nn(e):Nn.ceil(e)}function J3(e,t){return e=ap(e),ae(Nn.count(ot(e),e)+(ot(e).getDay()===4),t,2)}function ev(e){return e.getDay()}function tv(e,t){return ae(ri.count(ot(e)-1,e),t,2)}function nv(e,t){return ae(e.getFullYear()%100,t,2)}function rv(e,t){return e=ap(e),ae(e.getFullYear()%100,t,2)}function iv(e,t){return ae(e.getFullYear()%1e4,t,4)}function ov(e,t){var n=e.getDay();return e=n>=4||n===0?Nn(e):Nn.ceil(e),ae(e.getFullYear()%1e4,t,4)}function av(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+ae(t/60|0,"0",2)+ae(t%60,"0",2)}function Ll(e,t){return ae(e.getUTCDate(),t,2)}function fv(e,t){return ae(e.getUTCHours(),t,2)}function uv(e,t){return ae(e.getUTCHours()%12||12,t,2)}function cv(e,t){return ae(1+va.count(at(e),e),t,3)}function fp(e,t){return ae(e.getUTCMilliseconds(),t,3)}function sv(e,t){return fp(e,t)+"000"}function lv(e,t){return ae(e.getUTCMonth()+1,t,2)}function dv(e,t){return ae(e.getUTCMinutes(),t,2)}function hv(e,t){return ae(e.getUTCSeconds(),t,2)}function pv(e){var t=e.getUTCDay();return t===0?7:t}function mv(e,t){return ae(ur.count(at(e)-1,e),t,2)}function up(e){var t=e.getUTCDay();return t>=4||t===0?Dn(e):Dn.ceil(e)}function gv(e,t){return e=up(e),ae(Dn.count(at(e),e)+(at(e).getUTCDay()===4),t,2)}function bv(e){return e.getUTCDay()}function yv(e,t){return ae(ii.count(at(e)-1,e),t,2)}function _v(e,t){return ae(e.getUTCFullYear()%100,t,2)}function wv(e,t){return e=up(e),ae(e.getUTCFullYear()%100,t,2)}function vv(e,t){return ae(e.getUTCFullYear()%1e4,t,4)}function xv(e,t){var n=e.getUTCDay();return e=n>=4||n===0?Dn(e):Dn.ceil(e),ae(e.getUTCFullYear()%1e4,t,4)}function Tv(){return"+0000"}function Ol(){return"%"}function Fl(e){return+e}function Pl(e){return Math.floor(+e/1e3)}var Un,bc,Ti;Mv({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function Mv(e){return Un=M3(e),bc=Un.format,Un.parse,Ti=Un.utcFormat,Un.utcParse,Un}function Sv(e){return new Date(e)}function $v(e){return e instanceof Date?+e:+new Date(+e)}function yc(e,t,n,r,i,o,a,f,u,c){var s=P0(),d=s.invert,l=s.domain,h=c(".%L"),p=c(":%S"),m=c("%I:%M"),g=c("%I %p"),y=c("%a %d"),b=c("%b %d"),w=c("%B"),_=c("%Y");function v(x){return(u(x)<x?h:f(x)<x?p:a(x)<x?m:o(x)<x?g:r(x)<x?i(x)<x?y:b:n(x)<x?w:_)(x)}return s.invert=function(x){return new Date(d(x))},s.domain=function(x){return arguments.length?l(Array.from(x,$v)):l().map(Sv)},s.ticks=function(x){var M=l();return e(M[0],M[M.length-1],x??10)},s.tickFormat=function(x,M){return M==null?v:c(M)},s.nice=function(x){var M=l();return(!x||typeof x.range!="function")&&(x=t(M[0],M[M.length-1],x??10)),x?l(z0(M,x)):s},s.copy=function(){return mi(s,yc(e,t,n,r,i,o,a,f,u,c))},s}function Av(){return St.apply(yc(x3,T3,ot,vi,fr,Rn,_i,bi,tt,bc).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function Ev(){return St.apply(yc(v3,ip,at,xi,ur,va,wi,yi,tt,Ti).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Ta(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function Ma(){var e=0,t=.5,n=1,r=1,i,o,a,f,u,c=Xe,s,d=!1,l;function h(m){return isNaN(m=+m)?l:(m=.5+((m=+s(m))-o)*(r*m<r*o?f:u),c(d?Math.max(0,Math.min(1,m)):m))}h.domain=function(m){return arguments.length?([e,t,n]=m,i=s(e=+e),o=s(t=+t),a=s(n=+n),f=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,h):[e,t,n]},h.clamp=function(m){return arguments.length?(d=!!m,h):d},h.interpolator=function(m){return arguments.length?(c=m,h):c};function p(m){return function(g){var y,b,w;return arguments.length?([y,b,w]=g,c=da(m,[y,b,w]),h):[c(0),c(.5),c(1)]}}return h.range=p(hi),h.rangeRound=p(ic),h.unknown=function(m){return arguments.length?(l=m,h):l},function(m){return s=m,i=m(e),o=m(t),a=m(n),f=i===o?0:.5/(o-i),u=o===a?0:.5/(a-o),r=o<i?-1:1,h}}function cp(){var e=gi(Ma()(Xe));return e.copy=function(){return Ta(e,cp())},ya.apply(e,arguments)}function sp(){var e=U0(Ma()).domain([.1,1,10]);return e.copy=function(){return Ta(e,sp()).base(e.base())},ya.apply(e,arguments)}function lp(){var e=Y0(Ma());return e.copy=function(){return Ta(e,lp()).constant(e.constant())},ya.apply(e,arguments)}function dp(){var e=j0(Ma());return e.copy=function(){return Ta(e,dp()).exponent(e.exponent())},ya.apply(e,arguments)}function Z(e){for(var t=e.length/6|0,n=new Array(t),r=0;r<t;)n[r]="#"+e.slice(r*6,++r*6);return n}const Cv=Z("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),kv=Z("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),Nv=Z("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Dv=Z("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),Iv=Z("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Rv=Z("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Lv=Z("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Ov=Z("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),Fv=Z("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),Pv=Z("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),qv=Z("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),ue=e=>C_(e[e.length-1]);var hp=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(Z);const pp=ue(hp);var mp=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(Z);const gp=ue(mp);var bp=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(Z);const yp=ue(bp);var _p=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(Z);const wp=ue(_p);var Nu=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(Z);const zo=ue(Nu);var vp=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(Z);const xp=ue(vp);var Du=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(Z);const Uo=ue(Du);var Tp=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(Z);const Mp=ue(Tp);var Sp=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(Z);const $p=ue(Sp);var Ap=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(Z);const Ep=ue(Ap);var Cp=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(Z);const kp=ue(Cp);var Np=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(Z);const Dp=ue(Np);var Ip=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(Z);const Rp=ue(Ip);var Lp=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(Z);const Op=ue(Lp);var Fp=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(Z);const Pp=ue(Fp);var qp=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(Z);const zp=ue(qp);var Up=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(Z);const Bp=ue(Up);var Yp=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(Z);const Hp=ue(Yp);var jp=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(Z);const Wp=ue(jp);var Gp=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(Z);const Xp=ue(Gp);var Vp=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(Z);const Zp=ue(Vp);var Kp=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(Z);const Qp=ue(Kp);var Jp=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(Z);const e1=ue(Jp);var t1=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(Z);const n1=ue(t1);var r1=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(Z);const i1=ue(r1);var o1=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(Z);const a1=ue(o1);var f1=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(Z);const u1=ue(f1);function c1(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const s1=oc(vt(300,.5,0),vt(-240,.5,1));var l1=oc(vt(-100,.75,.35),vt(80,1.5,.8)),d1=oc(vt(260,.75,.35),vt(80,1.5,.8)),Wi=vt();function h1(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return Wi.h=360*e-100,Wi.s=1.5-1.5*t,Wi.l=.8-.9*t,Wi+""}var Gi=rn(),zv=Math.PI/3,Uv=Math.PI*2/3;function p1(e){var t;return e=(.5-e)*Math.PI,Gi.r=255*(t=Math.sin(e))*t,Gi.g=255*(t=Math.sin(e+zv))*t,Gi.b=255*(t=Math.sin(e+Uv))*t,Gi+""}function m1(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function Sa(e){var t=e.length;return function(n){return e[Math.max(0,Math.min(t-1,Math.floor(n*t)))]}}const g1=Sa(Z("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var b1=Sa(Z("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),y1=Sa(Z("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),_1=Sa(Z("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));function _e(e){return function(){return e}}const w1=Math.cos,_c=Math.min,Bo=Math.sin,be=Math.sqrt,ql=1e-12,Yo=Math.PI,$a=2*Yo;function v1(e){let t=3;return e.digits=function(n){if(!arguments.length)return t;if(n==null)t=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);t=r}return e},()=>new t0(t)}function x1(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function T1(e){this._context=e}T1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:this._context.lineTo(e,t);break}}};function Mi(e){return new T1(e)}function M1(e){return e[0]}function S1(e){return e[1]}function $1(e,t){var n=_e(!0),r=null,i=Mi,o=null,a=v1(f);e=typeof e=="function"?e:e===void 0?M1:_e(e),t=typeof t=="function"?t:t===void 0?S1:_e(t);function f(u){var c,s=(u=x1(u)).length,d,l=!1,h;for(r==null&&(o=i(h=a())),c=0;c<=s;++c)!(c<s&&n(d=u[c],c,u))===l&&((l=!l)?o.lineStart():o.lineEnd()),l&&o.point(+e(d,c,u),+t(d,c,u));if(h)return o=null,h+""||null}return f.x=function(u){return arguments.length?(e=typeof u=="function"?u:_e(+u),f):e},f.y=function(u){return arguments.length?(t=typeof u=="function"?u:_e(+u),f):t},f.defined=function(u){return arguments.length?(n=typeof u=="function"?u:_e(!!u),f):n},f.curve=function(u){return arguments.length?(i=u,r!=null&&(o=i(r)),f):i},f.context=function(u){return arguments.length?(u==null?r=o=null:o=i(r=u),f):r},f}function Bv(e,t,n){var r=null,i=_e(!0),o=null,a=Mi,f=null,u=v1(c);e=typeof e=="function"?e:e===void 0?M1:_e(+e),t=typeof t=="function"?t:_e(t===void 0?0:+t),n=typeof n=="function"?n:n===void 0?S1:_e(+n);function c(d){var l,h,p,m=(d=x1(d)).length,g,y=!1,b,w=new Array(m),_=new Array(m);for(o==null&&(f=a(b=u())),l=0;l<=m;++l){if(!(l<m&&i(g=d[l],l,d))===y)if(y=!y)h=l,f.areaStart(),f.lineStart();else{for(f.lineEnd(),f.lineStart(),p=l-1;p>=h;--p)f.point(w[p],_[p]);f.lineEnd(),f.areaEnd()}y&&(w[l]=+e(g,l,d),_[l]=+t(g,l,d),f.point(r?+r(g,l,d):w[l],n?+n(g,l,d):_[l]))}if(b)return f=null,b+""||null}function s(){return $1().defined(i).curve(a).context(o)}return c.x=function(d){return arguments.length?(e=typeof d=="function"?d:_e(+d),r=null,c):e},c.x0=function(d){return arguments.length?(e=typeof d=="function"?d:_e(+d),c):e},c.x1=function(d){return arguments.length?(r=d==null?null:typeof d=="function"?d:_e(+d),c):r},c.y=function(d){return arguments.length?(t=typeof d=="function"?d:_e(+d),n=null,c):t},c.y0=function(d){return arguments.length?(t=typeof d=="function"?d:_e(+d),c):t},c.y1=function(d){return arguments.length?(n=d==null?null:typeof d=="function"?d:_e(+d),c):n},c.lineX0=c.lineY0=function(){return s().x(e).y(t)},c.lineY1=function(){return s().x(e).y(n)},c.lineX1=function(){return s().x(r).y(t)},c.defined=function(d){return arguments.length?(i=typeof d=="function"?d:_e(!!d),c):i},c.curve=function(d){return arguments.length?(a=d,o!=null&&(f=a(o)),c):a},c.context=function(d){return arguments.length?(d==null?o=f=null:f=a(o=d),c):o},c}class A1{constructor(t,n){this._context=t,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(t,n){switch(t=+t,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(t,n):this._context.moveTo(t,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+t)/2,this._y0,this._x0,n,t,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,t,this._y0,t,n);break}}this._x0=t,this._y0=n}}function Yv(e){return new A1(e,!0)}function Hv(e){return new A1(e,!1)}const jv=be(3),E1={draw(e,t){const n=be(t+_c(t/28,.75))*.59436,r=n/2,i=r*jv;e.moveTo(0,n),e.lineTo(0,-n),e.moveTo(-i,-r),e.lineTo(i,r),e.moveTo(-i,r),e.lineTo(i,-r)}},wc={draw(e,t){const n=be(t/Yo);e.moveTo(n,0),e.arc(0,0,n,0,$a)}},C1={draw(e,t){const n=be(t/5)/2;e.moveTo(-3*n,-n),e.lineTo(-n,-n),e.lineTo(-n,-3*n),e.lineTo(n,-3*n),e.lineTo(n,-n),e.lineTo(3*n,-n),e.lineTo(3*n,n),e.lineTo(n,n),e.lineTo(n,3*n),e.lineTo(-n,3*n),e.lineTo(-n,n),e.lineTo(-3*n,n),e.closePath()}},k1=be(1/3),Wv=k1*2,N1={draw(e,t){const n=be(t/Wv),r=n*k1;e.moveTo(0,-n),e.lineTo(r,0),e.lineTo(0,n),e.lineTo(-r,0),e.closePath()}},D1={draw(e,t){const n=be(t)*.62625;e.moveTo(0,-n),e.lineTo(n,0),e.lineTo(0,n),e.lineTo(-n,0),e.closePath()}},I1={draw(e,t){const n=be(t-_c(t/7,2))*.87559;e.moveTo(-n,0),e.lineTo(n,0),e.moveTo(0,n),e.lineTo(0,-n)}},R1={draw(e,t){const n=be(t),r=-n/2;e.rect(r,r,n,n)}},L1={draw(e,t){const n=be(t)*.4431;e.moveTo(n,n),e.lineTo(n,-n),e.lineTo(-n,-n),e.lineTo(-n,n),e.closePath()}},Gv=.8908130915292852,O1=Bo(Yo/10)/Bo(7*Yo/10),Xv=Bo($a/10)*O1,Vv=-w1($a/10)*O1,F1={draw(e,t){const n=be(t*Gv),r=Xv*n,i=Vv*n;e.moveTo(0,-n),e.lineTo(r,i);for(let o=1;o<5;++o){const a=$a*o/5,f=w1(a),u=Bo(a);e.lineTo(u*n,-f*n),e.lineTo(f*r-u*i,u*r+f*i)}e.closePath()}},vf=be(3),P1={draw(e,t){const n=-be(t/(vf*3));e.moveTo(0,n*2),e.lineTo(-vf*n,-n),e.lineTo(vf*n,-n),e.closePath()}},Zv=be(3),q1={draw(e,t){const n=be(t)*.6824,r=n/2,i=n*Zv/2;e.moveTo(0,-n),e.lineTo(i,r),e.lineTo(-i,r),e.closePath()}},Be=-.5,Ye=be(3)/2,Iu=1/be(12),Kv=(Iu/2+1)*3,z1={draw(e,t){const n=be(t/Kv),r=n/2,i=n*Iu,o=r,a=n*Iu+n,f=-o,u=a;e.moveTo(r,i),e.lineTo(o,a),e.lineTo(f,u),e.lineTo(Be*r-Ye*i,Ye*r+Be*i),e.lineTo(Be*o-Ye*a,Ye*o+Be*a),e.lineTo(Be*f-Ye*u,Ye*f+Be*u),e.lineTo(Be*r+Ye*i,Be*i-Ye*r),e.lineTo(Be*o+Ye*a,Be*a-Ye*o),e.lineTo(Be*f+Ye*u,Be*u-Ye*f),e.closePath()}},U1={draw(e,t){const n=be(t-_c(t/6,1.7))*.6189;e.moveTo(-n,-n),e.lineTo(n,n),e.moveTo(-n,n),e.lineTo(n,-n)}},Qv=[wc,C1,N1,R1,F1,P1,z1],Jv=[wc,I1,U1,q1,E1,L1,D1];function on(){}function Ho(e,t,n){e._context.bezierCurveTo((2*e._x0+e._x1)/3,(2*e._y0+e._y1)/3,(e._x0+2*e._x1)/3,(e._y0+2*e._y1)/3,(e._x0+4*e._x1+t)/6,(e._y0+4*e._y1+n)/6)}function Aa(e){this._context=e}Aa.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ho(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ho(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function e5(e){return new Aa(e)}function B1(e){this._context=e}B1.prototype={areaStart:on,areaEnd:on,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x2=e,this._y2=t;break;case 1:this._point=2,this._x3=e,this._y3=t;break;case 2:this._point=3,this._x4=e,this._y4=t,this._context.moveTo((this._x0+4*this._x1+e)/6,(this._y0+4*this._y1+t)/6);break;default:Ho(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function t5(e){return new B1(e)}function Y1(e){this._context=e}Y1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+e)/6,r=(this._y0+4*this._y1+t)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Ho(this,e,t);break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t}};function n5(e){return new Y1(e)}function H1(e,t){this._basis=new Aa(e),this._beta=t}H1.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var e=this._x,t=this._y,n=e.length-1;if(n>0)for(var r=e[0],i=t[0],o=e[n]-r,a=t[n]-i,f=-1,u;++f<=n;)u=f/n,this._basis.point(this._beta*e[f]+(1-this._beta)*(r+u*o),this._beta*t[f]+(1-this._beta)*(i+u*a));this._x=this._y=null,this._basis.lineEnd()},point:function(e,t){this._x.push(+e),this._y.push(+t)}};const r5=function e(t){function n(r){return t===1?new Aa(r):new H1(r,t)}return n.beta=function(r){return e(+r)},n}(.85);function jo(e,t,n){e._context.bezierCurveTo(e._x1+e._k*(e._x2-e._x0),e._y1+e._k*(e._y2-e._y0),e._x2+e._k*(e._x1-t),e._y2+e._k*(e._y1-n),e._x2,e._y2)}function vc(e,t){this._context=e,this._k=(1-t)/6}vc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:jo(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2,this._x1=e,this._y1=t;break;case 2:this._point=3;default:jo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const i5=function e(t){function n(r){return new vc(r,t)}return n.tension=function(r){return e(+r)},n}(0);function xc(e,t){this._context=e,this._k=(1-t)/6}xc.prototype={areaStart:on,areaEnd:on,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:jo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const o5=function e(t){function n(r){return new xc(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Tc(e,t){this._context=e,this._k=(1-t)/6}Tc.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:jo(this,e,t);break}this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const a5=function e(t){function n(r){return new Tc(r,t)}return n.tension=function(r){return e(+r)},n}(0);function Mc(e,t,n){var r=e._x1,i=e._y1,o=e._x2,a=e._y2;if(e._l01_a>ql){var f=2*e._l01_2a+3*e._l01_a*e._l12_a+e._l12_2a,u=3*e._l01_a*(e._l01_a+e._l12_a);r=(r*f-e._x0*e._l12_2a+e._x2*e._l01_2a)/u,i=(i*f-e._y0*e._l12_2a+e._y2*e._l01_2a)/u}if(e._l23_a>ql){var c=2*e._l23_2a+3*e._l23_a*e._l12_a+e._l12_2a,s=3*e._l23_a*(e._l23_a+e._l12_a);o=(o*c+e._x1*e._l23_2a-t*e._l12_2a)/s,a=(a*c+e._y1*e._l23_2a-n*e._l12_2a)/s}e._context.bezierCurveTo(r,i,o,a,e._x2,e._y2)}function j1(e,t){this._context=e,this._alpha=t}j1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3;default:Mc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const f5=function e(t){function n(r){return t?new j1(r,t):new vc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function W1(e,t){this._context=e,this._alpha=t}W1.prototype={areaStart:on,areaEnd:on,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=e,this._y3=t;break;case 1:this._point=2,this._context.moveTo(this._x4=e,this._y4=t);break;case 2:this._point=3,this._x5=e,this._y5=t;break;default:Mc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const u5=function e(t){function n(r){return t?new W1(r,t):new xc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function G1(e,t){this._context=e,this._alpha=t}G1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){if(e=+e,t=+t,this._point){var n=this._x2-e,r=this._y2-t;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(n*n+r*r,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Mc(this,e,t);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=e,this._y0=this._y1,this._y1=this._y2,this._y2=t}};const c5=function e(t){function n(r){return t?new G1(r,t):new Tc(r,0)}return n.alpha=function(r){return e(+r)},n}(.5);function X1(e){this._context=e}X1.prototype={areaStart:on,areaEnd:on,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(e,t){e=+e,t=+t,this._point?this._context.lineTo(e,t):(this._point=1,this._context.moveTo(e,t))}};function s5(e){return new X1(e)}function zl(e){return e<0?-1:1}function Ul(e,t,n){var r=e._x1-e._x0,i=t-e._x1,o=(e._y1-e._y0)/(r||i<0&&-0),a=(n-e._y1)/(i||r<0&&-0),f=(o*i+a*r)/(r+i);return(zl(o)+zl(a))*Math.min(Math.abs(o),Math.abs(a),.5*Math.abs(f))||0}function Bl(e,t){var n=e._x1-e._x0;return n?(3*(e._y1-e._y0)/n-t)/2:t}function xf(e,t,n){var r=e._x0,i=e._y0,o=e._x1,a=e._y1,f=(o-r)/3;e._context.bezierCurveTo(r+f,i+f*t,o-f,a-f*n,o,a)}function Wo(e){this._context=e}Wo.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:xf(this,this._t0,Bl(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(e,t){var n=NaN;if(e=+e,t=+t,!(e===this._x1&&t===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;break;case 2:this._point=3,xf(this,Bl(this,n=Ul(this,e,t)),n);break;default:xf(this,this._t0,n=Ul(this,e,t));break}this._x0=this._x1,this._x1=e,this._y0=this._y1,this._y1=t,this._t0=n}}};function V1(e){this._context=new Z1(e)}(V1.prototype=Object.create(Wo.prototype)).point=function(e,t){Wo.prototype.point.call(this,t,e)};function Z1(e){this._context=e}Z1.prototype={moveTo:function(e,t){this._context.moveTo(t,e)},closePath:function(){this._context.closePath()},lineTo:function(e,t){this._context.lineTo(t,e)},bezierCurveTo:function(e,t,n,r,i,o){this._context.bezierCurveTo(t,e,r,n,o,i)}};function l5(e){return new Wo(e)}function d5(e){return new V1(e)}function K1(e){this._context=e}K1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var e=this._x,t=this._y,n=e.length;if(n)if(this._line?this._context.lineTo(e[0],t[0]):this._context.moveTo(e[0],t[0]),n===2)this._context.lineTo(e[1],t[1]);else for(var r=Yl(e),i=Yl(t),o=0,a=1;a<n;++o,++a)this._context.bezierCurveTo(r[0][o],i[0][o],r[1][o],i[1][o],e[a],t[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(e,t){this._x.push(+e),this._y.push(+t)}};function Yl(e){var t,n=e.length-1,r,i=new Array(n),o=new Array(n),a=new Array(n);for(i[0]=0,o[0]=2,a[0]=e[0]+2*e[1],t=1;t<n-1;++t)i[t]=1,o[t]=4,a[t]=4*e[t]+2*e[t+1];for(i[n-1]=2,o[n-1]=7,a[n-1]=8*e[n-1]+e[n],t=1;t<n;++t)r=i[t]/o[t-1],o[t]-=r,a[t]-=r*a[t-1];for(i[n-1]=a[n-1]/o[n-1],t=n-2;t>=0;--t)i[t]=(a[t]-i[t+1])/o[t];for(o[n-1]=(e[n]+i[n-1])/2,t=0;t<n-1;++t)o[t]=2*e[t+1]-i[t+1];return[i,o]}function h5(e){return new K1(e)}function Ea(e,t){this._context=e,this._t=t}Ea.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(e,t){switch(e=+e,t=+t,this._point){case 0:this._point=1,this._line?this._context.lineTo(e,t):this._context.moveTo(e,t);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,t),this._context.lineTo(e,t);else{var n=this._x*(1-this._t)+e*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,t)}break}}this._x=e,this._y=t}};function p5(e){return new Ea(e,.5)}function m5(e){return new Ea(e,0)}function g5(e){return new Ea(e,1)}function Br(e,t,n){this.k=e,this.x=t,this.y=n}Br.prototype={constructor:Br,scale:function(e){return e===1?this:new Br(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new Br(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};Br.prototype;function an(e){return e!=null&&!Number.isNaN(e)}function ft(e,t){return+an(t)-+an(e)||Le(e,t)}function Go(e,t){return+an(t)-+an(e)||si(e,t)}function Sc(e){return e!=null&&`${e}`!=""}function Q1(e){return isFinite(e)?e:NaN}function $c(e){return e>0&&isFinite(e)?e:NaN}function J1(e){return e<0&&isFinite(e)?e:NaN}function b5(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const n=e.getUTCHours(),r=e.getUTCMinutes(),i=e.getUTCSeconds(),o=e.getUTCMilliseconds();return`${y5(e.getUTCFullYear())}-${It(e.getUTCMonth()+1,2)}-${It(e.getUTCDate(),2)}${n||r||i||o?`T${It(n,2)}:${It(r,2)}${i||o?`:${It(i,2)}${o?`.${It(o,3)}`:""}`:""}Z`:""}`}function y5(e){return e<0?`-${It(-e,6)}`:e>9999?`+${It(e,6)}`:It(e,4)}function It(e,t){return`${e}`.padStart(t,"0")}const _5=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function em(e,t){return _5.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function cr(e){if(e==null)return;const t=e[0],n=e[e.length-1];return si(t,n)}const Wn=1e3,Jt=Wn*60,en=Jt*60,xt=en*24,pt=xt*7,Tn=xt*30,Kt=xt*365,Tf=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Wn],["5 seconds",5*Wn],["15 seconds",15*Wn],["30 seconds",30*Wn],["minute",Jt],["5 minutes",5*Jt],["15 minutes",15*Jt],["30 minutes",30*Jt],["hour",en],["3 hours",3*en],["6 hours",6*en],["12 hours",12*en],["day",xt],["2 days",2*xt],["week",pt],["2 weeks",2*pt],["month",Tn],["3 months",3*Tn],["6 months",6*Tn],["year",Kt],["2 years",2*Kt],["5 years",5*Kt],["10 years",10*Kt],["20 years",20*Kt],["50 years",50*Kt],["100 years",100*Kt]],Ac=new Map([["second",Wn],["minute",Jt],["hour",en],["day",xt],["monday",pt],["tuesday",pt],["wednesday",pt],["thursday",pt],["friday",pt],["saturday",pt],["sunday",pt],["week",pt],["month",Tn],["year",Kt]]),tm=new Map([["second",tt],["minute",bi],["hour",_i],["day",Rn],["monday",ri],["tuesday",V0],["wednesday",Z0],["thursday",Nn],["friday",K0],["saturday",Q0],["sunday",fr],["week",fr],["month",vi],["year",ot]]),Ec=new Map([["second",tt],["minute",yi],["hour",wi],["day",xa],["monday",ii],["tuesday",J0],["wednesday",ep],["thursday",Dn],["friday",tp],["saturday",np],["sunday",ur],["week",ur],["month",xi],["year",at]]),Si=Symbol("intervalDuration"),Ca=Symbol("intervalType");for(const[e,t]of tm)t[Si]=Ac.get(e),t[Ca]="time";for(const[e,t]of Ec)t[Si]=Ac.get(e),t[Ca]="utc";const Yr=[["year",at,"utc"],["month",xi,"utc"],["day",xa,"utc",6*Tn],["hour",wi,"utc",3*xt],["minute",yi,"utc",6*en],["second",tt,"utc",30*Jt]],ho=[["year",ot,"time"],["month",vi,"time"],["day",Rn,"time",6*Tn],["hour",_i,"time",3*xt],["minute",bi,"time",6*en],["second",tt,"time",30*Jt]],w5=[Yr[0],ho[0],Yr[1],ho[1],Yr[2],ho[2],...Yr.slice(3)];function nm(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let n=1;const r=/^(?:(\d+)\s+)/.exec(t);switch(r&&(t=t.slice(r[0].length),n=+r[1]),t){case"quarter":t="month",n*=3;break;case"half":t="month",n*=6;break}let i=Ec.get(t);if(!i)throw new Error(`unknown interval: ${e}`);if(n>1&&!i.every)throw new Error(`non-periodic interval: ${t}`);return[t,n]}function rm(e){return im(nm(e),"time")}function Cc(e){return im(nm(e),"utc")}function im([e,t],n){let r=(n==="time"?tm:Ec).get(e);return t>1&&(r=r.every(t),r[Si]=Ac.get(e)*t,r[Ca]=n),r}function Hl(e,t){if(!(t>1))return;const n=e[Si];if(!Tf.some(([,i])=>i===n)||n%xt===0&&xt<n&&n<Tn)return;const[r]=Tf[ia(([,i])=>Math.log(i)).center(Tf,Math.log(n*t))];return(e[Ca]==="time"?rm:Cc)(r)}function jl(e,t,n){const r=t==="time"?bc:Ti;if(n==null)return r(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const i=v5(n);switch(e){case"millisecond":return Bn(r(".%L"),r(":%M:%S"),i);case"second":return Bn(r(":%S"),r("%-I:%M"),i);case"minute":return Bn(r("%-I:%M"),r("%p"),i);case"hour":return Bn(r("%-I %p"),r("%b %-d"),i);case"day":return Bn(r("%-d"),r("%b"),i);case"month":return Bn(r("%b"),r("%Y"),i);case"year":return r("%Y")}throw new Error("unable to format time ticks")}function v5(e){return e==="left"||e==="right"?(t,n)=>`
${t}
${n}`:e==="top"?(t,n)=>`${n}
${t}`:(t,n)=>`${t}
${n}`}function x5(e){return e==="time"?ho:e==="utc"?Yr:w5}function T5(e,t,n){const r=nt(yy(t,(i,o)=>Math.abs(o-i)));if(r<1e3)return jl("millisecond","utc",n);for(const[i,o,a,f]of x5(e)){if(r>f||i==="hour"&&!r)break;if(t.every(u=>o.floor(u)>=u))return jl(i,a,n)}}function Bn(e,t,n){return(r,i,o)=>{const a=e(r,i),f=t(r,i),u=i-cr(o);return i!==u&&o[u]!==void 0&&f===t(o[u],u)?a:n(a,f)}}const kc=Object.getPrototypeOf(Uint8Array),M5=Object.prototype.toString;function sn(e){return e instanceof Array||e instanceof kc}function om(e){return e instanceof kc&&!S5(e)}function am(e){return(e==null?void 0:e.prototype)instanceof kc&&!$5(e)}function S5(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function $5(e){return e===BigInt64Array||e===BigUint64Array}const fm=Symbol("reindex");function se(e,t,n){const r=typeof t;return r==="string"?bm(e)?Nc(e.getChild(t),n):Wl(e,um(t),n):r==="function"?Wl(e,t,n):r==="number"||t instanceof Date||r==="boolean"?me(e,Pt(t),n):typeof(t==null?void 0:t.transform)=="function"?Ru(t.transform(e),n):A5(Ru(t,n),e==null?void 0:e[fm])}function A5(e,t){return e!=null&&t?Oc(e,t):e}function Wl(e,t,n){return me(e,am(n)?(r,i)=>Ic(t(r,i)):t,n)}function Ru(e,t){return t===void 0?fn(e):ym(e)?Nc(e,t):e instanceof t?e:t.from(e,am(t)&&!om(e)?Ic:void 0)}function Nc(e,t){return e==null?e:(t===void 0||t===Array)&&X5(e.type)?cm(e.toArray()):Ru(e.toArray(),t)}const po=[null],um=e=>t=>{var r;const n=t[e];return n===void 0&&t.type==="Feature"?(r=t.properties)==null?void 0:r[e]:n},$i={transform:Ht},xe={transform:e=>e},E5=()=>1,C5=()=>!0,Ie=e=>e==null?e:`${e}`,Ce=e=>e==null?e:+e,Dc=e=>e?e[0]:void 0,Xo=e=>e?e[1]:void 0,Pt=e=>()=>e;function k5(e){const t=+`${e}`.slice(1)/100;return(n,r)=>Jn(n,t,r)}function sr(e){return om(e)?e:me(e,Ic,Float64Array)}function Ic(e){return e==null?NaN:Number(e)}function cm(e){return me(e,sm)}function sm(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?em(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function Ke(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:Na(e)?[void 0,e]:[e,void 0]}function Pe(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function lm(e,t,n){if(e!=null)return ct(e,t,n)}function ct(e,t,n){const r=`${e}`.toLowerCase();if(!n.includes(r))throw new Error(`invalid ${t}: ${e}`);return r}function lr(e){return bm(e)?e:fn(e)}function fn(e){if(e==null||sn(e))return e;if(ym(e))return Nc(e);switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[e]}return Array.from(e)}function me(e,t,n=Array){return e==null?e:e instanceof n?e.map(t):n.from(e,t)}function oi(e,t=Array){return e instanceof t?e.slice():t.from(e)}function N5({x:e,x1:t,x2:n}){return e!==void 0||t!==void 0||n!==void 0}function dm({y:e,y1:t,y2:n}){return e!==void 0||t!==void 0||n!==void 0}function D5(e){return N5(e)||dm(e)||e.interval!==void 0}function ln(e){return(e==null?void 0:e.toString)===M5}function Lu(e){return ln(e)&&(e.type!==void 0||e.domain!==void 0)}function ka(e){return ln(e)&&typeof e.transform!="function"}function dr(e){return ka(e)&&e.value===void 0&&e.channel===void 0}function I5(e,t,n,r=xe){return t===void 0&&n===void 0?(t=0,n=e===void 0?r:e):t===void 0?t=e===void 0?0:e:n===void 0&&(n=e===void 0?0:e),[t,n]}function Rc(e,t){return e===void 0&&t===void 0?[Dc,Xo]:[e,t]}function Lc({z:e,fill:t,stroke:n}={}){return e===void 0&&([e]=Ke(t)),e===void 0&&([e]=Ke(n)),e}function ai(e){return sn(e)?e.length:e==null?void 0:e.numRows}function Ht(e){const t=ai(e),n=new Uint32Array(t);for(let r=0;r<t;++r)n[r]=r;return n}function Oc(e,t){return sn(e)?me(t,n=>e[n],e.constructor):me(t,n=>e.at(n))}function R5(e,t,n){return e.subarray?e.subarray(t,n):e.slice(t,n)}function qt(e){return e!==null&&typeof e=="object"?e.valueOf():e}function L5(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function Vo(e){let t;return[{transform:()=>t,label:dn(e)},n=>t=n]}function Re(e){return e==null?[e]:Vo(e)}function dn(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function Ou(e,t){return{transform(n){const r=e.transform(n),i=t.transform(n);return Fe(r)||Fe(i)?me(r,(o,a)=>new Date((+r[a]+ +i[a])/2)):me(r,(o,a)=>(+r[a]+ +i[a])/2,Float64Array)},label:e.label}}function Zo(e,t){const n=hm(t==null?void 0:t.interval,t==null?void 0:t.type);return n?me(e,n):e}function hm(e,t){const n=Fc(e,t);return n&&(r=>an(r)?n.floor(r):r)}function Fc(e,t){if(e!=null){if(typeof e=="number")return O5(e);if(typeof e=="string")return(t==="time"?rm:Cc)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function O5(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:n=>Math.floor(n*t)/t,offset:(n,r=1)=>(n*t+Math.floor(r))/t,range:(n,r)=>Jf(Math.ceil(n*t),r*t).map(i=>i/t)}:{floor:n=>Math.floor(n/t)*t,offset:(n,r=1)=>n+t*Math.floor(r),range:(n,r)=>Jf(Math.ceil(n/t),r/t).map(i=>i*t)}}function wr(e,t){if(e=Fc(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function F5(e,t){if(e=wr(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function P5(e){return Gn(e)&&typeof(e==null?void 0:e.floor)=="function"&&e.floor()instanceof Date}function Gn(e){return typeof(e==null?void 0:e.range)=="function"}function vr(e){return e===void 0||ka(e)?e:{value:e}}function q5(e){return e==null?null:{transform:t=>se(t,e,Float64Array),label:dn(e)}}function hn(e){return e&&typeof e[Symbol.iterator]=="function"}function pm(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function Gl(e){for(const t of e){if(t==null)continue;const n=typeof t;return n==="string"||n==="boolean"}}function Fe(e){for(const t of e)if(t!=null)return t instanceof Date}function z5(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&em(t)}function U5(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function B5(e){for(const t of e)if(t!=null)return typeof t=="number"}function Mf(e,t){let n;for(const r of e)if(r!=null){if(!t(r))return!1;n=!0}return n}const Y5=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function Na(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||Y5.has(e))}function H5(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function Ae(e){return e==null||fi(e)}function fi(e){return/^\s*none\s*$/i.test(e)}function j5(e){return/^\s*round\s*$/i.test(e)}function Fu(e,t){return lm(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function Pc(e="middle"){return Fu(e,"frameAnchor")}function W5(e={},...t){let n=e;for(const r of t)for(const i in r)if(n[i]===void 0){const o=r[i];n===e?n={...n,[i]:o}:n[i]=o}return n}function G5(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,n=>{const{name:r}=n;if(r==null)throw new Error("missing name");const i=`${r}`;if(i==="__proto__")throw new Error(`illegal name: ${i}`);if(t.has(i))throw new Error(`duplicate name: ${i}`);return t.add(i),[r,n]}))}function mm(e){return hn(e)?G5(e):e}function gm(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=ct(e,"clip",["frame","sphere"])),e}function bm(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function ym(e){return e&&typeof e.toArray=="function"&&e.type}function X5(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}const bt=Symbol("position"),jt=Symbol("color"),Ai=Symbol("radius"),Ei=Symbol("length"),Ci=Symbol("opacity"),Da=Symbol("symbol"),_m=Symbol("projection"),he=new Map([["x",bt],["y",bt],["fx",bt],["fy",bt],["r",Ai],["color",jt],["opacity",Ci],["symbol",Da],["length",Ei],["projection",_m]]);function V5(e){return e===bt||e===_m}function Z5(e){return e===bt||e===Ai||e===Ei||e===Ci}const K5=Math.sqrt(3),Q5=2/K5,J5={draw(e,t){const n=Math.sqrt(t/Math.PI),r=n*Q5,i=r/2;e.moveTo(0,r),e.lineTo(n,i),e.lineTo(n,-i),e.lineTo(0,-r),e.lineTo(-n,-i),e.lineTo(-n,i),e.closePath()}},qc=new Map([["asterisk",E1],["circle",wc],["cross",C1],["diamond",N1],["diamond2",D1],["hexagon",J5],["plus",I1],["square",R1],["square2",L1],["star",F1],["times",U1],["triangle",P1],["triangle2",q1],["wye",z1]]);function zc(e){return e&&typeof e.draw=="function"}function e8(e){return zc(e)?!0:typeof e!="string"?!1:qc.has(e.toLowerCase())}function Uc(e){if(e==null||zc(e))return e;const t=qc.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function W9(e){if(e==null||zc(e))return[void 0,e];if(typeof e=="string"){const t=qc.get(`${e}`.toLowerCase());if(t)return[void 0,t]}return[e,void 0]}function ki({filter:e,sort:t,reverse:n,transform:r,initializer:i,...o}={},a){if(r===void 0&&(e!=null&&(r=wm(e)),t!=null&&!dr(t)&&(r=Sf(r,Bc(t))),n&&(r=Sf(r,vm))),a!=null&&i!=null)throw new Error("transforms cannot be applied after initializers");return{...o,...(t===null||dr(t))&&{sort:t},transform:Sf(r,a)}}function hr({filter:e,sort:t,reverse:n,initializer:r,...i}={},o){return r===void 0&&(e!=null&&(r=wm(e)),t!=null&&!dr(t)&&(r=$f(r,Bc(t))),n&&(r=$f(r,vm))),{...i,...(t===null||dr(t))&&{sort:t},initializer:$f(r,o)}}function Sf(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i){return{data:n,facets:r}=e.call(this,n,r,i),t.call(this,lr(n),r,i)}}function $f(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(n,r,i,...o){let a,f,u,c,s,d;return{data:f=n,facets:u=r,channels:a}=e.call(this,n,r,i,...o),{data:s=f,facets:d=u,channels:c}=t.call(this,f,u,{...i,...a},...o),{data:s,facets:d,channels:{...a,...c}}}}function t8(e,t){return(e.initializer!=null?hr:ki)(e,t)}function wm(e){return(t,n)=>{const r=se(t,e);return{data:t,facets:n.map(i=>i.filter(o=>r[o]))}}}function vm(e,t){return{data:e,facets:t.map(n=>n.slice().reverse())}}function G9(e,{sort:t,...n}={}){return{...(ka(e)&&e.channel!==void 0?hr:t8)(n,Bc(e)),sort:dr(t)?t:null}}function Bc(e){return(typeof e=="function"&&e.length!==1?n8:r8)(e)}function n8(e){return(t,n)=>{const r=sn(t)?(i,o)=>e(t[i],t[o]):(i,o)=>e(t.get(i),t.get(o));return{data:t,facets:n.map(i=>i.slice().sort(r))}}}function r8(e){let t,n;({channel:t,value:e,order:n}={...vr(e)});const r=t==null?void 0:t.startsWith("-");if(r&&(t=t.slice(1)),n===void 0&&(n=r?Go:ft),typeof n!="function")switch(`${n}`.toLowerCase()){case"ascending":n=ft;break;case"descending":n=Go;break;default:throw new Error(`invalid order: ${n}`)}return(i,o,a)=>{let f;if(t===void 0)f=se(i,e);else{if(a===void 0)throw new Error("channel sort requires an initializer");if(f=a[t],!f)return{};f=f.value}const u=(c,s)=>n(f[c],f[s]);return{data:i,facets:o.map(c=>c.slice().sort(u))}}}function xm(e={y:"count"},t={}){const{x:n=xe}=t;if(n==null)throw new Error("missing channel: x");return i8(n,null,e,t)}function i8(e,t,{data:n=jc,filter:r,sort:i,reverse:o,...a}={},f={}){a=f8(a,f),n=$m(n,xe),i=i==null?void 0:Mm("sort",i,f),r=r==null?void 0:Sm("filter",r,f);const[u,c]=Re(e),[s,d]=Re(t),{z:l,fill:h,stroke:p,x1:m,x2:g,y1:y,y2:b,...w}=f,[_,v]=Re(l),[x]=Ke(h),[M]=Ke(p),[S,A]=Re(x),[k,T]=Re(M);return{..."z"in f&&{z:_||l},..."fill"in f&&{fill:S||h},..."stroke"in f&&{stroke:k||p},...ki(w,(D,N,I)=>{const $=Zo(se(D,e),I==null?void 0:I.x),L=Zo(se(D,t),I==null?void 0:I.y),R=se(D,l),H=se(D,x),j=se(D,M),O=Am(a,{z:R,fill:H,stroke:j}),P=[],F=[],z=$&&c([]),Q=L&&d([]),ee=R&&v([]),G=H&&A([]),B=j&&T([]);let Y=0;for(const C of a)C.initialize(D);i&&i.initialize(D),r&&r.initialize(D);for(const C of N){const q=[];for(const U of a)U.scope("facet",C);i&&i.scope("facet",C),r&&r.scope("facet",C);for(const[U,E]of Vr(C,O))for(const[ne,W]of Vr(E,L))for(const[ie,oe]of Vr(W,$)){const ce={data:D};if($&&(ce.x=ie),L&&(ce.y=ne),O&&(ce.z=U),!(r&&!r.reduce(oe,ce))){q.push(Y++),F.push(n.reduceIndex(oe,D,ce)),$&&z.push(ie),L&&Q.push(ne),R&&ee.push(O===R?U:R[oe[0]]),H&&G.push(O===H?U:H[oe[0]]),j&&B.push(O===j?U:j[oe[0]]);for(const st of a)st.reduce(oe,ce);i&&i.reduce(oe,ce)}}P.push(q)}return Em(P,i,o),{data:F,facets:P}}),...!Xr(a,"x")&&(u?{x:u}:{x1:m,x2:g}),...!Xr(a,"y")&&(s?{y:s}:{y1:y,y2:b}),...Object.fromEntries(a.map(({name:D,output:N})=>[D,N]))}}function Xr(e,...t){for(const{name:n}of e)if(t.includes(n))return!0;return!1}function Tm(e,t,n=Yc){const r=Object.entries(e);return t.title!=null&&e.title===void 0&&r.push(["title",l8]),t.href!=null&&e.href===void 0&&r.push(["href",Wc]),r.filter(([,i])=>i!==void 0).map(([i,o])=>o===null?o8(i):n(i,o,t))}function Yc(e,t,n,r=Hc){let i;ln(t)&&"reduce"in t&&(i=t.scale,t=t.reduce);const o=r(e,t,n),[a,f]=Vo(o.label);let u;return{name:e,output:i===void 0?a:{value:a,scale:i},initialize(c){o.initialize(c),u=f([])},scope(c,s){o.scope(c,s)},reduce(c,s){u.push(o.reduce(c,s))}}}function o8(e){return{name:e,initialize(){},scope(){},reduce(){}}}function Hc(e,t,n,r=Ia){const i=L5(e,n),o=r(t,i);let a,f;return{label:dn(o===Ko?null:i,o.label),initialize(u){a=i===void 0?u:se(u,i),o.scope==="data"&&(f=o.reduceIndex(Ht(u),a))},scope(u,c){o.scope===u&&(f=o.reduceIndex(c,a))},reduce(u,c){return o.scope==null?o.reduceIndex(u,a,c):o.reduceIndex(u,a,f,c)}}}function Vr(e,t){return t?fa(e,n=>t[n]):[[,e]]}function Ia(e,t,n=a8){if(e==null)return n(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&ln(e))return c8(e);if(typeof e=="function")return s8(e);if(/^p\d{2}$/i.test(e))return Dt(k5(e));switch(`${e}`.toLowerCase()){case"first":return Wc;case"last":return d8;case"identity":return jc;case"count":return Ko;case"distinct":return h8;case"sum":return t==null?Ko:p8;case"proportion":return Vl(t,"data");case"proportion-facet":return Vl(t,"facet");case"deviation":return Dt(sh);case"min":return Dt(zt);case"min-index":return Dt(dy);case"max":return Dt(nt);case"max-index":return Dt(ly);case"mean":return Xl(my);case"median":return Xl(Qf);case"variance":return Dt(ch);case"mode":return Dt(by)}return n(e)}function a8(e){throw new Error(`invalid reduce: ${e}`)}function f8(e,t){return Tm(e,t,Mm)}function Mm(e,t,n){return Yc(e,t,n,Sm)}function Sm(e,t,n){return Hc(e,t,n,$m)}function $m(e,t){return Ia(e,t,u8)}function u8(e){switch(`${e}`.toLowerCase()){case"x":return m8;case"y":return g8;case"z":return Cm}throw new Error(`invalid group reduce: ${e}`)}function Am(e,t){for(const n in t){const r=t[n];if(r!==void 0&&!e.some(i=>i.name===n))return r}}function Em(e,t,n){if(t){const r=t.output.transform(),i=(o,a)=>ft(r[o],r[a]);e.forEach(o=>o.sort(i))}n&&e.forEach(r=>r.reverse())}function c8(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function s8(e){return{reduceIndex(t,n,r){return e(Oc(n,t),r)}}}function Dt(e){return{reduceIndex(t,n){return e(t,r=>n[r])}}}function Xl(e){return{reduceIndex(t,n){const r=e(t,i=>n[i]);return Fe(n)?new Date(r):r}}}const jc={reduceIndex(e,t){return Oc(t,e)}},Wc={reduceIndex(e,t){return t[e[0]]}},l8={reduceIndex(e,t){const r=mo(Xn(e,o=>o.length,o=>t[o]),Xo),i=r.slice(-5).reverse();if(i.length<r.length){const o=r.slice(0,-4);i[4]=[` ${o.length.toLocaleString("en-US")} more`,nn(o,Xo)]}return i.map(([o,a])=>`${o} (${a.toLocaleString("en-US")})`).join(`
`)}},d8={reduceIndex(e,t){return t[e[e.length-1]]}},Ko={label:"Frequency",reduceIndex(e){return e.length}},h8={label:"Distinct",reduceIndex(e,t){const n=new aa;for(const r of e)n.add(t[r]);return n.size}},p8=Dt(nn);function Vl(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(n,r,i=1)=>n.length/i}:{scope:t,reduceIndex:(n,r,i=1)=>nn(n,o=>r[o])/i}}const m8={reduceIndex(e,t,{x:n}){return n}},g8={reduceIndex(e,t,{y:n}){return n}},Cm={reduceIndex(e,t,{z:n}){return n}};function Qo(e){if(typeof e!="function")throw new Error(`invalid test function: ${e}`);return{reduceIndex(t,n,{data:r}){return n[t.find(sn(r)?i=>e(r[i],i,r):i=>e(r.get(i),i,r))]}}}function ui(e,{scale:t,type:n,value:r,filter:i,hint:o,label:a=dn(r)},f){return o===void 0&&typeof(r==null?void 0:r.transform)=="function"&&(o=r.hint),km(f,{scale:t,type:n,value:se(e,r),label:a,filter:i,hint:o})}function b8(e,t){return Object.fromEntries(Object.entries(e).map(([n,r])=>[n,ui(t,r,n)]))}function y8(e,t){const n=Object.fromEntries(Object.entries(e).map(([r,{scale:i,value:o}])=>{const a=i==null?null:t[i];return[r,a==null?o:me(o,a)]}));return n.channels=e,n}function km(e,t){const{scale:n,value:r}=t;if(n===!0||n==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=n!==!0&&Mf(r,Na)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=n!==!0&&Mf(r,H5)?null:"opacity",t.defaultScale="opacity";break;case"symbol":n!==!0&&Mf(r,e8)?(t.scale=null,t.value=me(r,Uc)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=he.has(e)?e:null;break}else if(n===!1)t.scale=null;else if(n!=null&&!he.has(n))throw new Error(`unknown scale: ${n}`);return t}function _8(e,t,n,r,i){const{order:o,reverse:a,reduce:f=!0,limit:u}=i;for(const c in i){if(!he.has(c))continue;let{value:s,order:d=o,reverse:l=a,reduce:h=f,limit:p=u}=vr(i[c]);const m=s==null?void 0:s.startsWith("-");if(m&&(s=s.slice(1)),d=d===void 0?m!==(s==="width"||s==="height")?Dm:Nm:x8(d),h==null||h===!1)continue;const g=c==="fx"||c==="fy"?v8(t,r[c]):w8(n,c);if(!g)throw new Error(`missing channel for scale: ${c}`);const y=g.value,[b=0,w=1/0]=hn(p)?p:p<0?[p]:[0,p];if(s==null)g.domain=()=>{let _=Array.from(new aa(y));return l&&(_=_.reverse()),(b!==0||w!==1/0)&&(_=_.slice(b,w)),_};else{const _=s==="data"?e:s==="height"?Zl(n,"y1","y2"):s==="width"?Zl(n,"x1","x2"):Pu(n,s,s==="y"?"y2":s==="x"?"x2":void 0),v=Ia(h===!0?"max":h,_);g.domain=()=>{let x=oy(Ht(y),M=>v.reduceIndex(M,_),M=>y[M]);return d&&x.sort(d),l&&x.reverse(),(b!==0||w!==1/0)&&(x=x.slice(b,w)),x.map(Dc)}}}}function w8(e,t){for(const n in e){const r=e[n];if(r.scale===t)return r}}function v8(e,t){const n=e.original;if(n===e)return t;const r=t.value,i=t.value=[];for(let o=0;o<n.length;++o){const a=r[n[o][0]];for(const f of e[o])i[f]=a}return t}function Zl(e,t,n){const r=Pu(e,t),i=Pu(e,n);return me(i,(o,a)=>Math.abs(o-r[a]),Float64Array)}function Pu(e,t,n){let r=e[t];if(!r&&n!==void 0&&(r=e[n]),r)return r.value;throw new Error(`missing channel: ${t}`)}function x8(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return Nm;case"descending":return Dm}throw new Error(`invalid order: ${e}`)}function Nm([e,t],[n,r]){return ft(t,r)||ft(e,n)}function Dm([e,t],[n,r]){return Go(t,r)||ft(e,n)}function Kl(e,t){let n=e[t];if(n){for(;n.source;)n=n.source;return n.source===null?null:n}}const Im=new Map([["accent",kv],["category10",Cv],["dark2",Nv],["observable10",Dv],["paired",Iv],["pastel1",Rv],["pastel2",Lv],["set1",Ov],["set2",Fv],["set3",Pv],["tableau10",qv]]);function T8(e){return e!=null&&Im.has(`${e}`.toLowerCase())}const Ql=new Map([...Im,["brbg",Et(hp,pp)],["prgn",Et(mp,gp)],["piyg",Et(bp,yp)],["puor",Et(_p,wp)],["rdbu",Et(Nu,zo)],["rdgy",Et(vp,xp)],["rdylbu",Et(Du,Uo)],["rdylgn",Et(Tp,Mp)],["spectral",Et(Sp,$p)],["burd",Jl(Nu,zo)],["buylrd",Jl(Du,Uo)],["blues",ye(Kp,Qp)],["greens",ye(Jp,e1)],["greys",ye(t1,n1)],["oranges",ye(f1,u1)],["purples",ye(r1,i1)],["reds",ye(o1,a1)],["turbo",Ct(m1)],["viridis",Ct(g1)],["magma",Ct(b1)],["inferno",Ct(y1)],["plasma",Ct(_1)],["cividis",Ct(c1)],["cubehelix",Ct(s1)],["warm",Ct(l1)],["cool",Ct(d1)],["bugn",ye(Ap,Ep)],["bupu",ye(Cp,kp)],["gnbu",ye(Np,Dp)],["orrd",ye(Ip,Rp)],["pubu",ye(Fp,Pp)],["pubugn",ye(Lp,Op)],["purd",ye(qp,zp)],["rdpu",ye(Up,Bp)],["ylgn",ye(jp,Wp)],["ylgnbu",ye(Yp,Hp)],["ylorbr",ye(Gp,Xp)],["ylorrd",ye(Vp,Zp)],["rainbow",ed(h1)],["sinebow",ed(p1)]]);function ye(e,t){return({length:n})=>n===1?[e[3][1]]:n===2?[e[3][1],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>9?rt(t,n):e[n])}function Et(e,t){return({length:n})=>n===2?[e[3][0],e[3][2]]:(n=Math.max(3,Math.floor(n)),n>11?rt(t,n):e[n])}function Jl(e,t){return({length:n})=>n===2?[e[3][2],e[3][0]]:(n=Math.max(3,Math.floor(n)),n>11?rt(r=>t(1-r),n):e[n].slice().reverse())}function Ct(e){return({length:t})=>rt(e,Math.max(2,Math.floor(t)))}function ed(e){return({length:t})=>rt(e,Math.floor(t)+1).slice(0,-1)}function Rm(e){const t=`${e}`.toLowerCase();if(!Ql.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return Ql.get(t)}function Ra(e,t){const n=Rm(e),r=typeof n=="function"?n({length:t}):n;return r.length!==t?r.slice(0,t):r}function M8(e,t="greys"){const n=new Set,[r,i]=Ra(t,2);for(const o of e)if(o!=null)if(o===!0)n.add(i);else if(o===!1)n.add(r);else return;return[...n]}const td=new Map([["brbg",pp],["prgn",gp],["piyg",yp],["puor",wp],["rdbu",zo],["rdgy",xp],["rdylbu",Uo],["rdylgn",Mp],["spectral",$p],["burd",e=>zo(1-e)],["buylrd",e=>Uo(1-e)],["blues",Qp],["greens",e1],["greys",n1],["purples",i1],["reds",a1],["oranges",u1],["turbo",m1],["viridis",g1],["magma",b1],["inferno",y1],["plasma",_1],["cividis",c1],["cubehelix",s1],["warm",l1],["cool",d1],["bugn",Ep],["bupu",kp],["gnbu",Dp],["orrd",Rp],["pubugn",Op],["pubu",Pp],["purd",zp],["rdpu",Bp],["ylgnbu",Hp],["ylgn",Wp],["ylorbr",Xp],["ylorrd",Zp],["rainbow",h1],["sinebow",p1]]);function Gc(e){const t=`${e}`.toLowerCase();if(!td.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return td.get(t)}const S8=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function $8(e){return e!=null&&S8.has(`${e}`.toLowerCase())}const Lm=e=>t=>e(1-t),Af=[0,1],nd=new Map([["number",$e],["rgb",En],["hsl",B_],["hcl",j_],["lab",Y_]]);function Om(e){const t=`${e}`.toLowerCase();if(!nd.has(t))throw new Error(`unknown interpolator: ${t}`);return nd.get(t)}function Ni(e,t,n,{type:r,nice:i,clamp:o,zero:a,domain:f=Pm(e,n),unknown:u,round:c,scheme:s,interval:d,range:l=he.get(e)===Ai?F8(n,f):he.get(e)===Ei?P8(n,f):he.get(e)===Ci?Af:void 0,interpolate:h=he.get(e)===jt?s==null&&l!==void 0?En:Gc(s!==void 0?s:r==="cyclical"?"rainbow":"turbo"):c?ic:$e,reverse:p}){if(d=wr(d,r),(r==="cyclical"||r==="sequential")&&(r="linear"),typeof h!="function"&&(h=Om(h)),p=!!p,l!==void 0){const m=(f=fn(f)).length,g=(l=fn(l)).length;if(m!==g){if(h.length===1)throw new Error("invalid piecewise interpolator");h=da(h,l),l=void 0}}if(h.length===1?(p&&(h=Lm(h),p=!1),l===void 0&&(l=Float64Array.from(f,(m,g)=>g/(f.length-1)),l.length===2&&(l=Af)),t.interpolate((l===Af?Pt:Vc)(h))):t.interpolate(h),a){const[m,g]=je(f);(m>0||g<0)&&(f=oi(f),(cr(f)||1)===Math.sign(m)?f[0]=0:f[f.length-1]=0)}return p&&(f=_o(f)),t.domain(f).unknown(u),i&&(t.nice(A8(i,r)),f=t.domain()),l!==void 0&&t.range(l),o&&t.clamp(o),{type:r,domain:f,range:l,scale:t,interpolate:h,interval:d}}function A8(e,t){return e===!0?void 0:typeof e=="number"?e:F5(e,t)}function E8(e,t,n){return Ni(e,mc(),t,n)}function C8(e,t,n){return Fm(e,t,{...n,exponent:.5})}function Fm(e,t,{exponent:n=1,...r}){return Ni(e,W0().exponent(n),t,{...r,type:"pow"})}function k8(e,t,{base:n=10,domain:r=q8(t),...i}){return Ni(e,B0().base(n),t,{...i,domain:r})}function N8(e,t,{constant:n=1,...r}){return Ni(e,H0().constant(n),t,r)}function D8(e,t,{range:n,quantiles:r=n===void 0?5:(n=[...n]).length,n:i=r,scheme:o="rdylbu",domain:a=z8(t),unknown:f,interpolate:u,reverse:c}){return n===void 0&&(n=u!==void 0?rt(u,i):he.get(e)===jt?Ra(o,i):void 0),a.length>0&&(a=G0(a,n===void 0?{length:i}:n).quantiles()),Xc(e,t,{domain:a,range:n,reverse:c,unknown:f})}function I8(e,t,{range:n,n:r=n===void 0?5:(n=[...n]).length,scheme:i="rdylbu",domain:o=Pm(e,t),unknown:a,interpolate:f,reverse:u}){const[c,s]=je(o);let d;return n===void 0?(d=Zr(c,s,r),d[0]<=c&&d.splice(0,1),d[d.length-1]>=s&&d.pop(),r=d.length+1,n=f!==void 0?rt(f,r):he.get(e)===jt?Ra(i,r):void 0):(d=rt($e(c,s),r+1).slice(1,-1),c instanceof Date&&(d=d.map(l=>new Date(l)))),cr(fn(o))<0&&d.reverse(),Xc(e,t,{domain:d,range:n,reverse:u,unknown:a})}function Xc(e,t,{domain:n=[0],unknown:r,scheme:i="rdylbu",interpolate:o,range:a=o!==void 0?rt(o,n.length+1):he.get(e)===jt?Ra(i,n.length+1):void 0,reverse:f}){n=fn(n);const u=cr(n);if(!isNaN(u)&&!R8(n,u))throw new Error(`the ${e} scale has a non-monotonic domain`);return f&&(a=_o(a)),{type:"threshold",scale:X0(u<0?_o(n):n,a===void 0?[]:a).unknown(r),domain:n,range:a}}function R8(e,t){for(let n=1,r=e.length,i=e[0];n<r;++n){const o=si(i,i=e[n]);if(o!==0&&o!==t)return!1}return!0}function L8(e){return{type:"identity",scale:Z5(he.get(e))?q0():t=>t}}function ci(e,t=Q1){return e.length?[zt(e,({value:n})=>n===void 0?n:zt(n,t)),nt(e,({value:n})=>n===void 0?n:nt(n,t))]:[0,1]}function Pm(e,t){const n=he.get(e);return(n===Ai||n===Ci||n===Ei?O8:ci)(t)}function O8(e){return[0,e.length?nt(e,({value:t})=>t===void 0?t:nt(t,Q1)):1]}function F8(e,t){const n=e.find(({radius:a})=>a!==void 0);if(n!==void 0)return[0,n.radius];const r=Jn(e,.5,({value:a})=>a===void 0?NaN:Jn(a,.25,$c)),i=t.map(a=>3*Math.sqrt(a/r)),o=30/nt(i);return o<1?i.map(a=>a*o):i}function P8(e,t){const n=Qf(e,({value:o})=>o===void 0?NaN:Qf(o,Math.abs)),r=t.map(o=>12*o/n),i=60/nt(r);return i<1?r.map(o=>o*i):r}function q8(e){for(const{value:t}of e)if(t!==void 0)for(let n of t){if(n>0)return ci(e,$c);if(n<0)return ci(e,J1)}return[1,10]}function z8(e){const t=[];for(const{value:n}of e)if(n!==void 0)for(const r of n)t.push(r);return t}function Vc(e){return(t,n)=>r=>e(t+r*(n-t))}let qu=0,zu;function U8(){const e=qu;return qu=0,zu=void 0,e}function tn(e){e!==zu&&(zu=e,console.warn(e),++qu)}function La(e,t,n,r,{type:i,nice:o,clamp:a,domain:f=ci(r),unknown:u,pivot:c=0,scheme:s,range:d,symmetric:l=!0,interpolate:h=he.get(e)===jt?s==null&&d!==void 0?En:Gc(s!==void 0?s:"rdbu"):$e,reverse:p}){c=+c,f=fn(f);let[m,g]=f;if(f.length>2&&tn(`Warning: the diverging ${e} scale domain contains extra elements.`),si(m,g)<0&&([m,g]=[g,m],p=!p),m=Math.min(m,c),g=Math.max(g,c),typeof h!="function"&&(h=Om(h)),d!==void 0&&(h=h.length===1?Vc(h)(...d):da(h,d)),p&&(h=Lm(h)),l){const y=n.apply(c),b=y-n.apply(m),w=n.apply(g)-y;b<w?m=n.invert(y-w):b>w&&(g=n.invert(y+b))}return t.domain([m,c,g]).unknown(u).interpolator(h),a&&t.clamp(a),o&&t.nice(o),{type:i,domain:[m,g],pivot:c,interpolate:h,scale:t}}function B8(e,t,n){return La(e,cp(),W8,t,n)}function Y8(e,t,n){return qm(e,t,{...n,exponent:.5})}function qm(e,t,{exponent:n=1,...r}){return La(e,dp().exponent(n=+n),V8(n),t,{...r,type:"diverging-pow"})}function H8(e,t,{base:n=10,pivot:r=1,domain:i=ci(t,r<0?J1:$c),...o}){return La(e,sp().base(n=+n),G8,t,{domain:i,pivot:r,...o})}function j8(e,t,{constant:n=1,...r}){return La(e,lp().constant(n=+n),Z8(n),t,r)}const W8={apply(e){return e},invert(e){return e}},G8={apply:Math.log,invert:Math.exp},X8={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function V8(e){return e===.5?X8:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function Z8(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function zm(e,t,n,r){return Ni(e,t,n,r)}function K8(e,t,n){return zm(e,Av(),t,n)}function Q8(e,t,n){return zm(e,Ev(),t,n)}const Di=Symbol("ordinal");function Um(e,t,n,{type:r,interval:i,domain:o,range:a,reverse:f,hint:u}){return i=wr(i,r),o===void 0&&(o=Ym(n,i,e)),(r==="categorical"||r===Di)&&(r="ordinal"),f&&(o=_o(o)),o=t.domain(o).domain(),a!==void 0&&(typeof a=="function"&&(a=a(o)),t.range(a)),{type:r,domain:o,range:a,scale:t,hint:u,interval:i}}function J8(e,t,{type:n,interval:r,domain:i,range:o,scheme:a,unknown:f,...u}){r=wr(r,n),i===void 0&&(i=Ym(t,r,e));let c;if(he.get(e)===Da)c=n4(t),o=o===void 0?r4(c):me(o,Uc);else if(he.get(e)===jt&&(o===void 0&&(n==="ordinal"||n===Di)&&(o=M8(i,a),o!==void 0&&(a=void 0)),a===void 0&&o===void 0&&(a=n==="ordinal"?"turbo":"observable10"),a!==void 0))if(o!==void 0){const s=Gc(a),d=o[0],l=o[1]-o[0];o=({length:h})=>rt(p=>s(d+l*p),h)}else o=Rm(a);if(f===Eu)throw new Error(`implicit unknown on ${e} scale is not supported`);return Um(e,pc().unknown(f),t,{...u,type:n,domain:i,range:o,hint:c})}function e4(e,t,{align:n=.5,padding:r=.5,...i}){return Bm(u3().align(n).padding(r),t,i,e)}function t4(e,t,{align:n=.5,padding:r=.1,paddingInner:i=r,paddingOuter:o=e==="fx"||e==="fy"?0:r,...a}){return Bm(_a().align(n).paddingInner(i).paddingOuter(o),t,a,e)}function Bm(e,t,n,r){let{round:i}=n;return i!==void 0&&e.round(i=!!i),e=Um(r,e,t,n),e.round=i,e}function Ym(e,t,n){const r=new aa;for(const{value:i,domain:o}of e){if(o!==void 0)return o();if(i!==void 0)for(const a of i)r.add(a)}if(t!==void 0){const[i,o]=je(r).map(t.floor,t);return t.range(i,t.offset(o))}if(r.size>1e4&&he.get(n)===bt)throw new Error(`implicit ordinal domain of ${n} scale has more than 10,000 values`);return mo(r,ft)}function rd(e,t){let n;for(const{hint:r}of e){const i=r==null?void 0:r[t];if(i!==void 0){if(n===void 0)n=i;else if(n!==i)return}}return n}function n4(e){return{fill:rd(e,"fill"),stroke:rd(e,"stroke")}}function r4(e){return Ae(e.fill)?Jv:Qv}function Uu(e,{label:t,inset:n=0,insetTop:r=n,insetRight:i=n,insetBottom:o=n,insetLeft:a=n,round:f,nice:u,clamp:c,zero:s,align:d,padding:l,projection:h,facet:{label:p=t}={},...m}={}){const g={};for(const[y,b]of e){const w=m[y],_=f4(y,b,{round:he.get(y)===bt?f:void 0,nice:u,clamp:c,zero:s,align:d,padding:l,projection:h,...w});if(_){let{label:v=y==="fx"||y==="fy"?p:t,percent:x,transform:M,inset:S,insetTop:A=S!==void 0?S:y==="y"?r:0,insetRight:k=S!==void 0?S:y==="x"?i:0,insetBottom:T=S!==void 0?S:y==="y"?o:0,insetLeft:D=S!==void 0?S:y==="x"?a:0}=w||{};if(M==null)M=void 0;else if(typeof M!="function")throw new Error("invalid scale transform; not a function");_.percent=!!x,_.label=v===void 0?o4(b,_):v,_.transform=M,y==="x"||y==="fx"?(_.insetLeft=+D,_.insetRight=+k):(y==="y"||y==="fy")&&(_.insetTop=+A,_.insetBottom=+T),g[y]=_}}return g}function id(e){const t={},n={scales:t};for(const[r,i]of Object.entries(e)){const{scale:o,type:a,interval:f,label:u}=i;t[r]=d4(i),n[r]=o,o.type=a,f!=null&&(o.interval=f),u!=null&&(o.label=u)}return n}function i4(e,t){const{x:n,y:r,fx:i,fy:o}=e,a=i||o?Zc(t):t;i&&od(i,a),o&&ad(o,a);const f=i||o?jm(e,t):t;n&&od(n,f),r&&ad(r,f)}function o4(e=[],t){let n;for(const{label:r}of e)if(r!==void 0){if(n===void 0)n=r;else if(n!==r)return}if(n!==void 0)return!Fn(t)&&t.percent&&(n=`${n} (%)`),{inferred:!0,toString:()=>n}}function Hm(e){return Math.sign(cr(e.domain()))*Math.sign(cr(e.range()))}function Zc(e){const{marginTop:t,marginRight:n,marginBottom:r,marginLeft:i,width:o,height:a,facet:{marginTop:f,marginRight:u,marginBottom:c,marginLeft:s}}=e;return{marginTop:Math.max(t,f),marginRight:Math.max(n,u),marginBottom:Math.max(r,c),marginLeft:Math.max(i,s),width:o,height:a}}function jm({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:u}=Zc(n);return{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:e?e.scale.bandwidth()+a+i:f,height:t?t.scale.bandwidth()+r+o:u,facet:{width:f,height:u}}}function od(e,t){if(e.range===void 0){const{insetLeft:n,insetRight:r}=e,{width:i,marginLeft:o=0,marginRight:a=0}=t,f=o+n,u=i-a-r;e.range=[f,Math.max(f,u)],Fn(e)||(e.range=Gm(e)),e.scale.range(e.range)}Wm(e)}function ad(e,t){if(e.range===void 0){const{insetTop:n,insetBottom:r}=e,{height:i,marginTop:o=0,marginBottom:a=0}=t,f=o+n,u=i-a-r;e.range=[Math.max(f,u),f],Fn(e)?e.range.reverse():e.range=Gm(e),e.scale.range(e.range)}Wm(e)}function Wm(e){e.round===void 0&&c4(e)&&a4(e)<=30&&e.scale.round(!0)}function a4({scale:e}){const t=e.domain().length,[n,r]=e.range(),i=e.paddingInner?e.paddingInner():1,o=e.paddingOuter?e.paddingOuter():e.padding(),a=t-i,f=Math.abs(r-n)/Math.max(1,a+o*2);return(f-Math.floor(f))*a}function Gm(e){const t=e.scale.domain().length+Xm(e);if(!(t>2))return e.range;const[n,r]=e.range;return Array.from({length:t},(i,o)=>n+o/(t-1)*(r-n))}function f4(e,t=[],n={}){const r=u4(e,t,n);if(n.type===void 0&&n.domain===void 0&&n.range===void 0&&n.interval==null&&e!=="fx"&&e!=="fy"&&Fn({type:r})){const i=t.map(({value:o})=>o).filter(o=>o!==void 0);i.some(Fe)?tn(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Yn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Yn(r)}".`):i.some(z5)?tn(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Yn(r)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Yn(r)}".`):i.some(U5)&&tn(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Yn(r)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Yn(r)}".`)}switch(n.type=r,r){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":n=Xi(t,n,sr);break;case"identity":switch(he.get(e)){case bt:n=Xi(t,n,sr);break;case Da:n=Xi(t,n,s4);break}break;case"utc":case"time":n=Xi(t,n,cm);break}switch(r){case"diverging":return B8(e,t,n);case"diverging-sqrt":return Y8(e,t,n);case"diverging-pow":return qm(e,t,n);case"diverging-log":return H8(e,t,n);case"diverging-symlog":return j8(e,t,n);case"categorical":case"ordinal":case Di:return J8(e,t,n);case"cyclical":case"sequential":case"linear":return E8(e,t,n);case"sqrt":return C8(e,t,n);case"threshold":return Xc(e,t,n);case"quantile":return D8(e,t,n);case"quantize":return I8(e,t,n);case"pow":return Fm(e,t,n);case"log":return k8(e,t,n);case"symlog":return N8(e,t,n);case"utc":return Q8(e,t,n);case"time":return K8(e,t,n);case"point":return e4(e,t,n);case"band":return t4(e,t,n);case"identity":return L8(e);case void 0:return;default:throw new Error(`unknown scale type: ${r}`)}}function Yn(e){return typeof e=="symbol"?e.description:e}function fd(e){return typeof e=="string"?`${e}`.toLowerCase():e}const ud={toString:()=>"projection"};function u4(e,t,{type:n,domain:r,range:i,scheme:o,pivot:a,projection:f}){if(n=fd(n),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&f!=null&&(n=ud);for(const c of t){const s=fd(c.type);if(s!==void 0){if(n===void 0)n=s;else if(n!==s)throw new Error(`scale incompatible with channel: ${n} !== ${s}`)}}if(n===ud)return;if(n!==void 0)return n;if(r===void 0&&!t.some(({value:c})=>c!==void 0))return;const u=he.get(e);if(u===Ai)return"sqrt";if(u===Ci||u===Ei)return"linear";if(u===Da)return"ordinal";if((r||i||[]).length>2)return Ef(u);if(r!==void 0){if(Gl(r))return Ef(u);if(Fe(r))return"utc"}else{const c=t.map(({value:s})=>s).filter(s=>s!==void 0);if(c.some(Gl))return Ef(u);if(c.some(Fe))return"utc"}if(u===jt){if(a!=null||$8(o))return"diverging";if(T8(o))return"categorical"}return"linear"}function Ef(e){switch(e){case bt:return"point";case jt:return Di;default:return"ordinal"}}function Fn({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===Di}function Xm({type:e}){return e==="threshold"}function c4({type:e}){return e==="point"||e==="band"}function pr(e){if(e===void 0)return!0;const t=e.domain(),n=e(t[0]);for(let r=1,i=t.length;r<i;++r)if(e(t[r])-n)return!1;return!0}function Xi(e,{domain:t,...n},r){var i;for(const o of e)o.value!==void 0&&(t===void 0&&(t=(i=o.value)==null?void 0:i.domain),o.value=r(o.value));return{domain:t===void 0?t:r(t),...n}}function s4(e){return me(e,Uc)}function l4(e){return t=>{if(!he.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function d4({scale:e,type:t,domain:n,range:r,interpolate:i,interval:o,transform:a,percent:f,pivot:u}){if(t==="identity")return{type:"identity",apply:s=>s,invert:s=>s};const c=e.unknown?e.unknown():void 0;return{type:t,domain:oi(n),...r!==void 0&&{range:oi(r)},...a!==void 0&&{transform:a},...f&&{percent:f},...c!==void 0&&{unknown:c},...o!==void 0&&{interval:o},...i!==void 0&&{interpolate:i},...e.clamp&&{clamp:e.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:s=>e(s),...e.invert&&{invert:s=>e.invert(s)}}}function h4(e,t){const{fx:n,fy:r}=Uu(e,t),i=n==null?void 0:n.scale.domain(),o=r==null?void 0:r.scale.domain();return i&&o?ry(i,o).map(([a,f],u)=>({x:a,y:f,i:u})):i?i.map((a,f)=>({x:a,i:f})):o?o.map((a,f)=>({y:a,i:f})):void 0}function p4(e,{x:t,y:n}){return t&&(t=Bu(t)),n&&(n=Bu(n)),e.filter(t&&n?r=>t.has(r.x)&&n.has(r.y):t?r=>t.has(r.x):r=>n.has(r.y)).sort(t&&n?(r,i)=>t.get(r.x)-t.get(i.x)||n.get(r.y)-n.get(i.y):t?(r,i)=>t.get(r.x)-t.get(i.x):(r,i)=>n.get(r.y)-n.get(i.y))}function Kc(e,{fx:t,fy:n}){const r=Ht(e),i=t==null?void 0:t.value,o=n==null?void 0:n.value;return t&&n?Xn(r,a=>(a.fx=i[a[0]],a.fy=o[a[0]],a),a=>i[a],a=>o[a]):t?Xn(r,a=>(a.fx=i[a[0]],a),a=>i[a]):Xn(r,a=>(a.fy=o[a[0]],a),a=>o[a])}function m4(e,t,{marginTop:n,marginLeft:r}){return e&&t?({x:i,y:o})=>`translate(${e(i)-r},${t(o)-n})`:e?({x:i})=>`translate(${e(i)-r},0)`:({y:i})=>`translate(0,${t(i)-n})`}function g4(e){const t=[],n=new Uint32Array(nn(e,r=>r.length));for(const r of e){let i=0;for(const o of e)r!==o&&(n.set(o,i),i+=o.length);t.push(n.slice(0,i))}return t}const b4=new Map([["top",Cf],["right",Df],["bottom",kf],["left",Nf],["top-left",Vi(Cf,Nf)],["top-right",Vi(Cf,Df)],["bottom-left",Vi(kf,Nf)],["bottom-right",Vi(kf,Df)],["top-empty",w4],["right-empty",T4],["bottom-empty",v4],["left-empty",x4],["empty",M4]]);function y4(e){if(e==null)return null;const t=b4.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const cd=new WeakMap;function Bu(e){let t=cd.get(e);return t||cd.set(e,t=new Sn(me(e,(n,r)=>[n,r]))),t}function pn(e,t){return Bu(e).get(t)}function _4(e,t,n){return t=qt(t),n=qt(n),e.find(r=>Object.is(qt(r.x),t)&&Object.is(qt(r.y),n))}function Oa(e,t,n){var r;return(r=_4(e,t,n))==null?void 0:r.empty}function Cf(e,{y:t},{y:n}){return t?pn(t,n)===0:!0}function kf(e,{y:t},{y:n}){return t?pn(t,n)===t.length-1:!0}function Nf(e,{x:t},{x:n}){return t?pn(t,n)===0:!0}function Df(e,{x:t},{x:n}){return t?pn(t,n)===t.length-1:!0}function w4(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=pn(t,r);if(o>0)return Oa(e,n,t[o-1])}function v4(e,{y:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=pn(t,r);if(o<t.length-1)return Oa(e,n,t[o+1])}function x4(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=pn(t,n);if(o>0)return Oa(e,t[o-1],r)}function T4(e,{x:t},{x:n,y:r,empty:i}){if(i)return!1;if(!t)return;const o=pn(t,n);if(o<t.length-1)return Oa(e,t[o+1],r)}function M4(e,t,{empty:n}){return n}function Vi(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function If(e,{channels:{fx:t,fy:n},groups:r}){return t&&n?e.map(({x:i,y:o})=>{var a;return((a=r.get(i))==null?void 0:a.get(o))??[]}):t?e.map(({x:i})=>r.get(i)??[]):e.map(({y:i})=>r.get(i)??[])}const Vm=Math.PI,kt=2*Vm,Rf=.618;function S4({projection:e,inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={},a){if(e==null)return;if(typeof e.stream=="function")return e;let f,u,c="frame";if(ln(e)){let v;if({type:e,domain:u,inset:v,insetTop:n=v!==void 0?v:n,insetRight:r=v!==void 0?v:r,insetBottom:i=v!==void 0?v:i,insetLeft:o=v!==void 0?v:o,clip:c=c,...f}=e,e==null)return}typeof e!="function"&&({type:e}=Yu(e));const{width:s,height:d,marginLeft:l,marginRight:h,marginTop:p,marginBottom:m}=a,g=s-l-h-o-r,y=d-p-m-n-i;if(e=e==null?void 0:e({width:g,height:y,clip:c,...f}),e==null)return;c=$4(c,l,p,s-h,d-m);let b=l+o,w=p+n,_;if(u!=null){const[[v,x],[M,S]]=ma(e).bounds(u),A=Math.min(g/(M-v),y/(S-x));A>0?(b-=(A*(v+M)-g)/2,w-=(A*(x+S)-y)/2,_=$u({point(k,T){this.stream.point(k*A+b,T*A+w)}})):tn("Warning: the projection could not be fit to the specified domain; using the default scale.")}return _??(_=b===0&&w===0?Zm():$u({point(v,x){this.stream.point(v+b,x+w)}})),{stream:v=>e.stream(_.stream(c(v)))}}function Yu(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Je(G6,.7463,.4673);case"albers":return Zi(A0,.7463,.4673);case"azimuthal-equal-area":return Je(X6,4,4);case"azimuthal-equidistant":return Je(V6,kt,kt);case"conic-conformal":return Zi(Q6,kt,kt);case"conic-equal-area":return Zi(Oo,6.1702,2.9781);case"conic-equidistant":return Zi(t3,7.312,3.6282);case"equal-earth":return Je(r3,5.4133,2.6347);case"equirectangular":return Je(J6,kt,Vm);case"gnomonic":return Je(i3,3.4641,3.4641);case"identity":return{type:Zm};case"reflect-y":return{type:A4};case"mercator":return Je(Z6,kt,kt);case"orthographic":return Je(o3,2,2);case"stereographic":return Je(a3,2,2);case"transverse-mercator":return Je(f3,kt,kt);default:throw new Error(`unknown projection type: ${e}`)}}function $4(e,t,n,r,i){if(e===!1||e==null||typeof e=="number")return o=>o;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return l0(t,n,r,i);default:throw new Error(`unknown projection clip type: ${e}`)}}function Je(e,t,n){return{type:({width:r,height:i,rotate:o,precision:a=.15,clip:f})=>{var c,s,d;const u=e();return a!=null&&((c=u.precision)==null||c.call(u,a)),o!=null&&((s=u.rotate)==null||s.call(u,o)),typeof f=="number"&&((d=u.clipAngle)==null||d.call(u,f)),r!=null&&(u.scale(Math.min(r/t,i/n)),u.translate([r/2,i/2])),u},aspectRatio:n/t}}function Zi(e,t,n){const{type:r,aspectRatio:i}=Je(e,t,n);return{type:o=>{const{parallels:a,domain:f,width:u,height:c}=o,s=r(o);return a!=null&&(s.parallels(a),f===void 0&&u!=null&&s.fitSize([u,c],{type:"Sphere"})),s},aspectRatio:i}}const Zm=Pt({stream:e=>e}),A4=Pt($u({point(e,t){this.stream.point(e,-t)}}));function E4(e,t,n,r){const i=n[e],o=n[t],a=i.length,f=n[e]=new Float64Array(a).fill(NaN),u=n[t]=new Float64Array(a).fill(NaN);let c;const s=r.stream({point(d,l){f[c]=d,u[c]=l}});for(c=0;c<a;++c)s.point(i[c],o[c])}function C4({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(ln(e)&&(e=e.type),e!=null)}function k4(e){if(typeof(e==null?void 0:e.stream)=="function")return Rf;if(ln(e)){let t,n;if({domain:t,type:e,...n}=e,t!=null&&e!=null){const r=typeof e=="string"?Yu(e).type:e,[[i,o],[a,f]]=ma(r({...n,width:100,height:100})).bounds(t),u=(f-o)/(a-i);return u&&isFinite(u)?u<.2?.2:u>5?5:u:Rf}}if(e!=null){if(typeof e!="function"){const{aspectRatio:t}=Yu(e);if(t)return t}return Rf}}function N4(e){const t=[],n=[],r={scale:"x",value:t},i={scale:"y",value:n},o={point(a,f){t.push(a),n.push(f)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const a of e.value)_n(a,o);return[r,i]}function Qc(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:n}=e;return{document:t,clip:gm(n)}}function Te(e,{document:t}){return Vn(ca(e).call(t.documentElement))}const Hu=Symbol("unset");function Jc(e){return(e.length===1?D4:I4)(e)}function D4(e){let t,n=Hu;return r=>(Object.is(n,r)||(n=r,t=e(r)),t)}function I4(e){let t,n;return(...r)=>(((n==null?void 0:n.length)!==r.length||n.some((i,o)=>!Object.is(i,r[o])))&&(n=r,t=e(...r)),t)}const R4=Jc(e=>new Intl.NumberFormat(e));Jc((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{month:t}}));Jc((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{weekday:t}}));function L4(e="en-US"){const t=R4(e);return n=>n!=null&&!isNaN(n)?t.format(n):void 0}function O4(e){return b5(e,"Invalid Date")}function F4(e="en-US"){const t=L4(e);return n=>(n instanceof Date?O4:typeof n=="number"?t:Ie)(n)}const mr=F4(),qe=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let P4=0;function Km(){return`plot-clip-${++P4}`}function q4(e,{title:t,href:n,ariaLabel:r,ariaDescription:i,ariaHidden:o,target:a,fill:f,fillOpacity:u,stroke:c,strokeWidth:s,strokeOpacity:d,strokeLinejoin:l,strokeLinecap:h,strokeMiterlimit:p,strokeDasharray:m,strokeDashoffset:g,opacity:y,mixBlendMode:b,imageFilter:w,paintOrder:_,pointerEvents:v,shapeRendering:x,channels:M},{ariaLabel:S,fill:A="currentColor",fillOpacity:k,stroke:T="none",strokeOpacity:D,strokeWidth:N,strokeLinecap:I,strokeLinejoin:$,strokeMiterlimit:L,paintOrder:R}){A===null&&(f=null,u=null),T===null&&(c=null,d=null),Ae(A)?!Ae(T)&&(!Ae(f)||M!=null&&M.fill)&&(T="none"):Ae(T)&&(!Ae(c)||M!=null&&M.stroke)&&(A="none");const[H,j]=Ke(f,A),[O,P]=Pe(u,k),[F,z]=Ke(c,T),[Q,ee]=Pe(d,D),[G,B]=Pe(y);fi(z)||(s===void 0&&(s=N),h===void 0&&(h=I),l===void 0&&(l=$),p===void 0&&!j5(l)&&(p=L),!fi(j)&&_===void 0&&(_=R));const[Y,C]=Pe(s);return A!==null&&(e.fill=Se(j,"currentColor"),e.fillOpacity=Cr(P,1)),T!==null&&(e.stroke=Se(z,"none"),e.strokeWidth=Cr(C,1),e.strokeOpacity=Cr(ee,1),e.strokeLinejoin=Se(l,"miter"),e.strokeLinecap=Se(h,"butt"),e.strokeMiterlimit=Cr(p,4),e.strokeDasharray=Se(m,"none"),e.strokeDashoffset=Se(g,"0")),e.target=Ie(a),e.ariaLabel=Ie(S),e.ariaDescription=Ie(i),e.ariaHidden=Ie(o),e.opacity=Cr(B,1),e.mixBlendMode=Se(b,"normal"),e.imageFilter=Se(w,"none"),e.paintOrder=Se(_,"normal"),e.pointerEvents=Se(v,"auto"),e.shapeRendering=Se(x,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:n,optional:!0,filter:null},ariaLabel:{value:r,optional:!0,filter:null},fill:{value:H,scale:"auto",optional:!0},fillOpacity:{value:O,scale:"auto",optional:!0},stroke:{value:F,scale:"auto",optional:!0},strokeOpacity:{value:Q,scale:"auto",optional:!0},strokeWidth:{value:Y,optional:!0},opacity:{value:G,scale:"auto",optional:!0}}}function z4(e,t){t&&e.filter(n=>Sc(t[n])).append("title").call(B4,t)}function U4(e,t){t&&e.filter(([n])=>Sc(t[n])).append("title").call(Y4,t)}function B4(e,t){t&&e.text(n=>mr(t[n]))}function Y4(e,t){t&&e.text(([n])=>mr(t[n]))}function In(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:d}){r&&X(e,"aria-label",l=>r[l]),o&&X(e,"fill",l=>o[l]),a&&X(e,"fill-opacity",l=>a[l]),f&&X(e,"stroke",l=>f[l]),u&&X(e,"stroke-opacity",l=>u[l]),c&&X(e,"stroke-width",l=>c[l]),s&&X(e,"opacity",l=>s[l]),d&&tg(e,l=>d[l],t),n||z4(e,i)}function Qm(e,{target:t,tip:n},{ariaLabel:r,title:i,fill:o,fillOpacity:a,stroke:f,strokeOpacity:u,strokeWidth:c,opacity:s,href:d}){r&&X(e,"aria-label",([l])=>r[l]),o&&X(e,"fill",([l])=>o[l]),a&&X(e,"fill-opacity",([l])=>a[l]),f&&X(e,"stroke",([l])=>f[l]),u&&X(e,"stroke-opacity",([l])=>u[l]),c&&X(e,"stroke-width",([l])=>c[l]),s&&X(e,"opacity",([l])=>s[l]),d&&tg(e,([l])=>d[l],t),n||U4(e,i)}function H4({ariaLabel:e,title:t,fill:n,fillOpacity:r,stroke:i,strokeOpacity:o,strokeWidth:a,opacity:f,href:u},{tip:c}){return[e,c?void 0:t,n,r,i,o,a,f,u].filter(s=>s!==void 0)}function j4(e,t,n){const r=fa(e,i=>t[i]);return n===void 0&&r.size>1+e.length>>1&&tn("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),r.values()}function*Jm(e,t,n,r){const{z:i}=n,{z:o}=r,a=H4(r,n),f=[...t,...a];for(const u of o?j4(e,o,i):[e]){let c,s;e:for(const d of u){for(const l of f)if(!an(l[d])){s&&s.push(-1);continue e}if(c===void 0){s&&(yield s),c=a.map(l=>qt(l[d])),s=[d];continue}s.push(d);for(let l=0;l<a.length;++l)if(qt(a[l][d])!==c[l]){yield s,c=a.map(p=>qt(p[d])),s=[d];continue e}}s&&(yield s)}}function W4(e,t,n,r){let i;const{clip:o=r.clip}=t;switch(o){case"frame":{e=Te("svg:g",r).each(function(){this.appendChild(e.node()),e.node=()=>this}),i=G4(r,n);break}case"sphere":{i=X4(r);break}}X(e,"aria-label",t.ariaLabel),X(e,"aria-description",t.ariaDescription),X(e,"aria-hidden",t.ariaHidden),X(e,"clip-path",i)}function eg(e){const t=new WeakMap;return(n,r)=>{let i=t.get(n);if(!i){const o=Km();Vn(n.ownerSVGElement).append("clipPath").attr("id",o).call(e,n,r),t.set(n,i=`url(#${o})`)}return i}}const G4=eg((e,t,n)=>{const{width:r,height:i,marginLeft:o,marginRight:a,marginTop:f,marginBottom:u}=n;e.append("rect").attr("x",o).attr("y",f).attr("width",r-a-o).attr("height",i-f-u)}),X4=eg((e,t)=>{const{projection:n}=t;if(!n)throw new Error('the "sphere" clip option requires a projection');e.append("path").attr("d",ma(n)({type:"Sphere"}))});function Wt(e,t,n,r){W4(e,t,n,r),X(e,"class",t.className),X(e,"fill",t.fill),X(e,"fill-opacity",t.fillOpacity),X(e,"stroke",t.stroke),X(e,"stroke-width",t.strokeWidth),X(e,"stroke-opacity",t.strokeOpacity),X(e,"stroke-linejoin",t.strokeLinejoin),X(e,"stroke-linecap",t.strokeLinecap),X(e,"stroke-miterlimit",t.strokeMiterlimit),X(e,"stroke-dasharray",t.strokeDasharray),X(e,"stroke-dashoffset",t.strokeDashoffset),X(e,"shape-rendering",t.shapeRendering),X(e,"filter",t.imageFilter),X(e,"paint-order",t.paintOrder);const{pointerEvents:i=r.pointerSticky===!1?"none":void 0}=t;X(e,"pointer-events",i)}function Tt(e,t){V4(e,"mix-blend-mode",t.mixBlendMode),X(e,"opacity",t.opacity)}function tg(e,t,n){e.each(function(r){const i=t(r);if(i!=null){const o=this.ownerDocument.createElementNS(er.svg,"a");o.setAttribute("fill","inherit"),o.setAttributeNS(er.xlink,"href",i),n!=null&&o.setAttribute("target",n),this.parentNode.insertBefore(o,this).appendChild(this)}})}function X(e,t,n){n!=null&&e.attr(t,n)}function V4(e,t,n){n!=null&&e.style(t,n)}function Gt(e,t,{x:n,y:r},i=qe,o=qe){i+=t.dx,o+=t.dy,n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),r!=null&&r.bandwidth&&(o+=r.bandwidth()/2),(i||o)&&e.attr("transform",`translate(${i},${o})`)}function Se(e,t){if((e=Ie(e))!==t)return e}function Cr(e,t){if((e=Ce(e))!==t)return e}const Z4=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function Fa(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!Z4.test(e))throw new Error(`invalid class name: ${e}`);return e}function es(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const n of e)Object.assign(n.style,t)}function Pa({frameAnchor:e},{width:t,height:n,marginTop:r,marginRight:i,marginBottom:o,marginLeft:a}){return[/left$/.test(e)?a:/right$/.test(e)?t-i:(a+t-i)/2,/^top/.test(e)?r:/^bottom/.test(e)?n-o:(r+n-o)/2]}class Qe{constructor(t,n={},r={},i){const{facet:o="auto",facetAnchor:a,fx:f,fy:u,sort:c,dx:s=0,dy:d=0,margin:l=0,marginTop:h=l,marginRight:p=l,marginBottom:m=l,marginLeft:g=l,className:y,clip:b=i==null?void 0:i.clip,channels:w,tip:_,render:v}=r;if(this.data=t,this.sort=dr(c)?c:null,this.initializer=hr(r).initializer,this.transform=this.initializer?r.transform:ki(r).transform,o===null||o===!1?this.facet=null:(this.facet=ct(o===!0?"include":o,"facet",["auto","include","exclude","super"]),this.fx=t===po&&typeof f=="string"?[f]:f,this.fy=t===po&&typeof u=="string"?[u]:u),this.facetAnchor=y4(a),n=mm(n),w!==void 0&&(n={...K4(w),...n}),i!==void 0&&(n={...q4(this,r,i),...n}),this.channels=Object.fromEntries(Object.entries(n).map(([x,M])=>{if(ka(M.value)){const{value:S,label:A=M.label,scale:k=M.scale}=M.value;M={...M,label:A,scale:k,value:S}}if(t===po&&typeof M.value=="string"){const{value:S}=M;M={...M,value:[S]}}return[x,M]}).filter(([x,{value:M,optional:S}])=>{if(M!=null)return!0;if(S)return!1;throw new Error(`missing channel value: ${x}`)})),this.dx=+s,this.dy=+d,this.marginTop=+h,this.marginRight=+p,this.marginBottom=+m,this.marginLeft=+g,this.clip=gm(b),this.tip=Q4(_),this.className=y?Fa(y):null,this.facet==="super"){if(f||u)throw new Error("super-faceting cannot use fx or fy");for(const x in this.channels){const{scale:M}=n[x];if(!(M!=="x"&&M!=="y"))throw new Error("super-faceting cannot use x or y")}}v!=null&&(this.render=Jo(v,this.render))}initialize(t,n,r){let i=lr(this.data);t===void 0&&i!=null&&(t=[Ht(i)]);const o=t;this.transform!=null&&({facets:t,data:i}=this.transform(i,t,r),i=lr(i)),t!==void 0&&(t.original=o);const a=b8(this.channels,i);return this.sort!=null&&_8(i,t,a,n,this.sort),{data:i,facets:t,channels:a}}filter(t,n,r){for(const i in n){const{filter:o=an}=n[i];if(o!==null){const a=r[i];t=t.filter(f=>o(a[f]))}}return t}project(t,n,r){for(const i in t)if(t[i].scale==="x"&&/^x|x$/.test(i)){const o=i.replace(/^x|x$/,"y");o in t&&t[o].scale==="y"&&E4(i,o,n,r.projection)}}scale(t,n,r){const i=y8(t,n);return r.projection&&this.project(t,i,r),i}}function Pn(...e){return e.plot=Qe.prototype.plot,e}function Jo(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(n,r,i,o,a,f){return e.call(this,n,r,i,o,a,(u,c,s,d,l)=>t.call(this,u,c,s,d,l,f))}}function K4(e){return Object.fromEntries(Object.entries(mm(e)).map(([t,n])=>(n=typeof n=="string"?{value:n,label:t}:vr(n),n.filter===void 0&&n.scale==null&&(n={...n,filter:null}),[t,n])))}function Q4(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?ct(e,"tip",["x","y","xy"]):e}function Ii(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:ln(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function J4(e,t,n={}){let r=.5-qe,i=.5+qe,o=.5+qe,a=.5-qe;for(const{marginTop:m,marginRight:g,marginBottom:y,marginLeft:b}of t)m>r&&(r=m),g>i&&(i=g),y>o&&(o=y),b>a&&(a=b);let{margin:f,marginTop:u=f!==void 0?f:r,marginRight:c=f!==void 0?f:i,marginBottom:s=f!==void 0?f:o,marginLeft:d=f!==void 0?f:a}=n;u=+u,c=+c,s=+s,d=+d;let{width:l=640,height:h=e7(e,n,{width:l,marginTopDefault:r,marginRightDefault:i,marginBottomDefault:o,marginLeftDefault:a})+Math.max(0,u-r+s-o)}=n;l=+l,h=+h;const p={width:l,height:h,marginTop:u,marginRight:c,marginBottom:s,marginLeft:d};if(e.fx||e.fy){let{margin:m,marginTop:g=m!==void 0?m:u,marginRight:y=m!==void 0?m:c,marginBottom:b=m!==void 0?m:s,marginLeft:w=m!==void 0?m:d}=n.facet??{};g=+g,y=+y,b=+b,w=+w,p.facet={marginTop:g,marginRight:y,marginBottom:b,marginLeft:w}}return p}function e7({x:e,y:t,fy:n,fx:r},{projection:i,aspectRatio:o},{width:a,marginTopDefault:f,marginRightDefault:u,marginBottomDefault:c,marginLeftDefault:s}){const d=n&&n.scale.domain().length||1,l=k4(i);if(l){const p=r?r.scale.domain().length:1,m=(1.1*d-.1)/(1.1*p-.1)*l,g=Math.max(.1,Math.min(10,m));return Math.round((a-s-u)*g+f+c)}const h=t?Fn(t)?t.scale.domain().length||1:Math.max(7,17/d):1;if(o!=null){if(o=+o,!(isFinite(o)&&o>0))throw new Error(`invalid aspectRatio: ${o}`);const p=sd("y",t)/(sd("x",e)*o),m=r?r.scale.bandwidth():1,g=n?n.scale.bandwidth():1,y=m*(a-s-u)-e.insetLeft-e.insetRight;return(p*y+t.insetTop+t.insetBottom)/g+f+c}return!!(t||n)*Math.max(1,Math.min(60,h*d))*20+!!r*30+60}function sd(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:n,domain:r}=t;let i;switch(n){case"linear":case"utc":case"time":i=Number;break;case"pow":{const f=t.scale.exponent();i=u=>Math.pow(u,f);break}case"log":i=Math.log;break;case"point":case"band":return r.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${n}`)}const[o,a]=je(r);return Math.abs(i(a)-i(o))}const ld=new WeakMap;function ts(e,t,{x:n,y:r,px:i,py:o,maxRadius:a=40,channels:f,render:u,...c}={}){return a=+a,i!=null&&(n??(n=null),f={...f,px:{value:i,scale:"x"}}),o!=null&&(r??(r=null),f={...f,py:{value:o,scale:"y"}}),{x:n,y:r,channels:f,...c,render:Jo(function(s,d,l,h,p,m){p={...p,pointerSticky:!1};const g=p.ownerSVGElement,{data:y}=p.getMarkState(this);let b=ld.get(g);b||ld.set(g,b={sticky:!1,roots:[],renders:[]});let w=b.renders.push(z)-1;const{x:_,y:v,fx:x,fy:M}=d;let S=x?x(s.fx)-h.marginLeft:0,A=M?M(s.fy)-h.marginTop:0;_!=null&&_.bandwidth&&(S+=_.bandwidth()/2),v!=null&&v.bandwidth&&(A+=v.bandwidth()/2);const k=s.fi!=null;let T;if(k){let B=b.facetStates;B||(b.facetStates=B=new Map),T=B.get(this),T||B.set(this,T=new Map)}const[D,N]=Pa(this,h),{px:I,py:$}=l,L=I?B=>I[B]:ng(l,D),R=$?B=>$[B]:rg(l,N);let H,j,O,P;function F(B,Y){if(k)if(P&&(P=cancelAnimationFrame(P)),B==null)T.delete(s.fi);else{T.set(s.fi,Y),P=requestAnimationFrame(()=>{P=null;for(const[C,q]of T)if(q<Y||q===Y&&C<s.fi){B=null;break}z(B)});return}z(B)}function z(B){if(H===B&&O===b.sticky)return;H=B,O=p.pointerSticky=b.sticky;const Y=H==null?[]:[H];k&&(Y.fx=s.fx,Y.fy=s.fy,Y.fi=s.fi);const C=m(Y,d,l,h,p);if(j){if(k){const q=j.parentNode,U=j.getAttribute("transform"),E=C.getAttribute("transform");U?C.setAttribute("transform",U):C.removeAttribute("transform"),E?q.setAttribute("transform",E):q.removeAttribute("transform"),C.removeAttribute("aria-label"),C.removeAttribute("aria-description"),C.removeAttribute("aria-hidden")}j.replaceWith(C)}if(b.roots[w]=j=C,!(H==null&&(T==null?void 0:T.size)>1)){const q=H==null?null:sn(y)?y[H]:y.get(H);p.dispatchValue(q)}return C}function Q(B){if(b.sticky||B.pointerType==="mouse"&&B.buttons===1)return;let[Y,C]=s_(B);Y-=S,C-=A;const q=Y<h.marginLeft||Y>h.width-h.marginRight?1:e,U=C<h.marginTop||C>h.height-h.marginBottom?1:t;let E=null,ne=a*a;for(const W of s){const ie=q*(L(W)-Y),oe=U*(R(W)-C),ce=ie*ie+oe*oe;ce<=ne&&(E=W,ne=ce)}if(E!=null&&(e!==1||t!==1)){const W=L(E)-Y,ie=R(E)-C;ne=W*W+ie*ie}F(E,ne)}function ee(B){B.pointerType==="mouse"&&H!=null&&(b.sticky&&b.roots.some(Y=>Y==null?void 0:Y.contains(B.target))||(b.sticky?(b.sticky=!1,b.renders.forEach(Y=>Y(null))):(b.sticky=!0,z(H)),B.stopImmediatePropagation()))}function G(B){B.pointerType==="mouse"&&(b.sticky||F(null))}return g.addEventListener("pointerenter",Q),g.addEventListener("pointermove",Q),g.addEventListener("pointerdown",ee),g.addEventListener("pointerleave",G),z(null)},u)}}function t7(e){return ts(1,1,e)}function n7(e){return ts(1,.01,e)}function dd(e){return ts(.01,1,e)}function ng({x1:e,x2:t,x:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function rg({y1:e,y2:t,y:n=e},r){return e&&t?i=>(e[i]+t[i])/2:n?i=>n[i]:()=>r}function ig(e){return Fn(e)&&e.interval===void 0?void 0:"tabular-nums"}function r7(e,t){let{label:n=e.label,tickSize:r=6,width:i=240,height:o=44+r,marginTop:a=18,marginRight:f=0,marginBottom:u=16+r,marginLeft:c=0,style:s,ticks:d=(i-c-f)/64,tickFormat:l,fontVariant:h=ig(e),round:p=!0,opacity:m,className:g}=t;const y=Qc(t);g=Fa(g),m=Pe(m)[1],l===null&&(l=()=>null);const b=Te("svg",y).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",i).attr("height",o).attr("viewBox",`0 0 ${i} ${o}`).call(D=>D.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(es,s);let w=D=>D.selectAll(".tick line").attr("y1",a+u-o),_;const v=p?(D,N)=>D.rangeRound(N):(D,N)=>D.range(N),{type:x,domain:M,range:S,interpolate:A,scale:k,pivot:T}=e;if(A){const D=S===void 0?A:da(A.length===1?Vc(A):A,S);_=v(k.copy(),rt($e(c,i-f),Math.min(M.length+(T!==void 0),S===void 0?1/0:S.length)));const N=256,I=y.document.createElement("canvas");I.width=N,I.height=1;const $=I.getContext("2d");for(let L=0,R=N-1;L<N;++L)$.fillStyle=D(L/R),$.fillRect(L,0,1,1);b.append("image").attr("opacity",m).attr("x",c).attr("y",a).attr("width",i-c-f).attr("height",o-a-u).attr("preserveAspectRatio","none").attr("xlink:href",I.toDataURL())}else if(x==="threshold"){const D=M,N=l===void 0?I=>I:typeof l=="string"?yr(l):l;_=v(mc().domain([-1,S.length-1]),[c,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(S).enter().append("rect").attr("x",(I,$)=>_($-1)).attr("y",a).attr("width",(I,$)=>_($)-_($-1)).attr("height",o-a-u).attr("fill",I=>I),d=me(D,(I,$)=>$),l=I=>N(D[I],I)}else _=v(_a().domain(M),[c,i-f]),b.append("g").attr("fill-opacity",m).selectAll().data(M).enter().append("rect").attr("x",_).attr("y",a).attr("width",Math.max(0,_.bandwidth()-1)).attr("height",o-a-u).attr("fill",k),w=()=>{};return b.append("g").attr("transform",`translate(0,${o-u})`).call(Ay(_).ticks(Array.isArray(d)?null:d,typeof l=="string"?l:void 0).tickFormat(typeof l=="function"?l:void 0).tickSize(r).tickValues(Array.isArray(d)?d:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Se(h,"normal")).call(w).call(D=>D.select(".domain").remove()),n!==void 0&&b.append("text").attr("x",c).attr("y",a-6).attr("fill","currentColor").attr("font-weight","bold").text(n),b.node()}const og=Math.PI/180;function ns(e,{marker:t,markerStart:n=t,markerMid:r=t,markerEnd:i=t}={}){e.markerStart=Lf(n),e.markerMid=Lf(r),e.markerEnd=Lf(i)}function Lf(e){if(e==null||e===!1)return null;if(e===!0)return pd;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return hd("auto");case"arrow-reverse":return hd("auto-start-reverse");case"dot":return i7;case"circle":case"circle-fill":return pd;case"circle-stroke":return o7;case"tick":return Of("auto");case"tick-x":return Of(90);case"tick-y":return Of(0)}throw new Error(`invalid marker: ${e}`)}function hd(e){return(t,n)=>Te("svg:marker",n).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(r=>r.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function i7(e,t){return Te("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(n=>n.append("circle").attr("r",2.5)).node()}function pd(e,t){return Te("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function o7(e,t){return Te("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(n=>n.append("circle").attr("r",3)).node()}function Of(e){return(t,n)=>Te("svg:marker",n).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(r=>r.append("path").attr("d","M0,-3v6")).node()}let a7=0;function ag(e,t,{stroke:n},r){return ug(e,t,n&&(i=>n[i]),null,r)}function f7(e,t,{stroke:n,z:r},i){return ug(e,t,n&&(([o])=>n[o]),r,i)}const ju=1,fg=2;function u7(e,t){const n=new Uint8Array(t.length),r=e.data().filter(o=>o.length>1),i=r.length;for(let o=0,a=Hu;o<i;++o){const f=r[o];if(f.length>1){const u=f[0];a!==(a=qt(t[u]))&&(n[u]|=ju)}}for(let o=i-1,a=Hu;o>=0;--o){const f=r[o];if(f.length>1){const u=f[0];a!==(a=qt(t[u]))&&(n[u]|=fg)}}return([o])=>n[o]}function ug(e,{markerStart:t,markerMid:n,markerEnd:r,stroke:i},o=()=>i,a,f){if(!t&&!n&&!r)return;const u=new Map,c=a&&u7(e,a);function s(d,l,h){return function(p){if(h&&!h(p))return;const m=o(p);let g=u.get(l);g||u.set(l,g=new Map);let y=g.get(m);if(!y){const b=this.parentNode.insertBefore(l(m,f),this),w=`plot-marker-${++a7}`;b.setAttribute("id",w),g.set(m,y=`url(#${w})`)}this.setAttribute(d,y)}}t&&e.each(s("marker-start",t,c&&(d=>c(d)&ju))),n&&c&&e.each(s("marker-start",n,d=>!(c(d)&ju))),n&&e.each(s("marker-mid",n)),r&&e.each(s("marker-end",r,c&&(d=>c(d)&fg)))}function qa({inset:e,insetLeft:t,insetRight:n,...r}={}){return[t,n]=sg(e,t,n),{inset:e,insetLeft:t,insetRight:n,...r}}function cg({inset:e,insetTop:t,insetBottom:n,...r}={}){return[t,n]=sg(e,t,n),{inset:e,insetTop:t,insetBottom:n,...r}}function sg(e,t,n){return e===void 0&&t===void 0&&n===void 0?qe?[1,0]:[.5,.5]:[t,n]}function lg(e,{interval:t}){return e={...vr(e)},e.interval=Fc(e.interval===void 0?t:e.interval),e}function rs(e,t,n,r){const{[e]:i,[`${e}1`]:o,[`${e}2`]:a}=n,{value:f,interval:u}=lg(i,n);if(f==null||u==null&&!r)return n;const c=dn(i);if(u==null){let h;const p={transform:m=>h||(h=se(m,f)),label:c};return{...n,[e]:void 0,[`${e}1`]:o===void 0?p:o,[`${e}2`]:a===void 0&&!(o===a&&r)?p:a}}let s,d;function l(h){return d!==void 0&&h===s?d:d=me(se(s=h,f),p=>u.floor(p))}return t({...n,[e]:void 0,[`${e}1`]:o===void 0?{transform:l,label:c}:o,[`${e}2`]:a===void 0?{transform:h=>l(h).map(p=>u.offset(p)),label:c}:a})}function dg(e,t,n){const{[e]:r}=n,{value:i,interval:o}=lg(r,n);return i==null||o==null?n:t({...n,[e]:{label:dn(r),transform:a=>{const f=me(se(a,i),c=>o.floor(c)),u=f.map(c=>o.offset(c));return f.map(Fe(f)?(c,s)=>c==null||isNaN(c=+c)||(s=u[s],s==null)||isNaN(s=+s)?void 0:new Date((c+s)/2):(c,s)=>c==null||(s=u[s],s==null)?NaN:(+c+ +s)/2)}}})}function c7(e={}){return rs("x",qa,e,!0)}function s7(e={}){return rs("x",qa,e)}function l7(e={}){return rs("y",cg,e)}function d7(e={}){return dg("x",qa,e)}function h7(e={}){return dg("y",cg,e)}const hg={ariaLabel:"rule",fill:null,stroke:"currentColor"};class p7 extends Qe{constructor(t,n={}){const{x:r,y1:i,y2:o,inset:a=0,insetTop:f=a,insetBottom:u=a}=n;super(t,{x:{value:r,scale:"x",optional:!0},y1:{value:i,scale:"y",optional:!0},y2:{value:o,scale:"y",optional:!0}},Ii(n,"x"),hg),this.insetTop=Ce(f),this.insetBottom=Ce(u),ns(this,n)}render(t,n,r,i,o){const{x:a,y:f}=n,{x:u,y1:c,y2:s}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetTop:y,insetBottom:b}=this;return Te("svg:g",o).call(Wt,this,i,o).call(Gt,this,{x:u&&a},qe,0).call(w=>w.selectAll().data(t).enter().append("line").call(Tt,this).attr("x1",u?_=>u[_]:(m+d-p)/2).attr("x2",u?_=>u[_]:(m+d-p)/2).attr("y1",c&&!pr(f)?_=>c[_]+y:h+y).attr("y2",s&&!pr(f)?f.bandwidth?_=>s[_]+f.bandwidth()-b:_=>s[_]-b:l-g-b).call(In,this,r).call(ag,this,r,o)).node()}}class m7 extends Qe{constructor(t,n={}){const{x1:r,x2:i,y:o,inset:a=0,insetRight:f=a,insetLeft:u=a}=n;super(t,{y:{value:o,scale:"y",optional:!0},x1:{value:r,scale:"x",optional:!0},x2:{value:i,scale:"x",optional:!0}},Ii(n,"y"),hg),this.insetRight=Ce(f),this.insetLeft=Ce(u),ns(this,n)}render(t,n,r,i,o){const{x:a,y:f}=n,{y:u,x1:c,x2:s}=r,{width:d,height:l,marginTop:h,marginRight:p,marginLeft:m,marginBottom:g}=i,{insetLeft:y,insetRight:b}=this;return Te("svg:g",o).call(Wt,this,i,o).call(Gt,this,{y:u&&f},0,qe).call(w=>w.selectAll().data(t).enter().append("line").call(Tt,this).attr("x1",c&&!pr(a)?_=>c[_]+y:m+y).attr("x2",s&&!pr(a)?a.bandwidth?_=>s[_]+a.bandwidth()-b:_=>s[_]-b:d-p-b).attr("y1",u?_=>u[_]:(h+l-g)/2).attr("y2",u?_=>u[_]:(h+l-g)/2).call(In,this,r).call(ag,this,r,o)).node()}}function is(e,t){let{x:n=xe,y:r,y1:i,y2:o,...a}=l7(t);return[i,o]=pg(r,i,o),new p7(e,{...a,x:n,y1:i,y2:o})}function Ri(e,t){let{y:n=xe,x:r,x1:i,x2:o,...a}=s7(t);return[i,o]=pg(r,i,o),new m7(e,{...a,y:n,x1:i,x2:o})}function pg(e,t,n){if(e==null){if(t===void 0){if(n!==void 0)return[0,n]}else if(n===void 0)return[0,t]}else{if(t===void 0)return n===void 0?[0,e]:[e,n];if(n===void 0)return[e,t]}return[t,n]}function mg(e,...t){let n=t.length;for(let r=0,i=!0;r<n;++r)typeof t[r]!="function"&&(i&&(e=e.slice(),i=!1),e.splice(r,2,e[r]+t[r]+e[r+1]),t.splice(r,1),--r,--n);return r=>{let i=e[0];for(let o=0;o<n;++o)i+=t[o](r)+e[o+1];return i}}const g7={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},gg="";class os extends Qe{constructor(t,n={}){const{x:r,y:i,text:o=hn(t)&&pm(t)?xe:$i,frameAnchor:a,textAnchor:f=/right$/i.test(a)?"end":/left$/i.test(a)?"start":"middle",lineAnchor:u=/^top/i.test(a)?"top":/^bottom/i.test(a)?"bottom":"middle",lineHeight:c=1,lineWidth:s=1/0,textOverflow:d,monospace:l,fontFamily:h=l?"ui-monospace, monospace":void 0,fontSize:p,fontStyle:m,fontVariant:g,fontWeight:y,rotate:b}=n,[w,_]=Pe(b,0),[v,x]=v7(p);if(super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},fontSize:{value:v,optional:!0},rotate:{value:q5(w),optional:!0},text:{value:o,filter:Sc,optional:!0}},n,g7),this.rotate=_,this.textAnchor=Se(f,"middle"),this.lineAnchor=ct(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+c,this.lineWidth=+s,this.textOverflow=bg(d),this.monospace=!!l,this.fontFamily=Ie(h),this.fontSize=x,this.fontStyle=Ie(m),this.fontVariant=Ie(g),this.fontWeight=Ie(y),this.frameAnchor=Pc(a),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${s}`);this.splitLines=wg(this),this.clipLine=vg(this)}render(t,n,r,i,o){const{x:a,y:f}=n,{x:u,y:c,rotate:s,text:d,title:l,fontSize:h}=r,{rotate:p}=this,[m,g]=Pa(this,i);return Te("svg:g",o).call(Wt,this,i,o).call(_g,this,d,i).call(Gt,this,{x:u&&a,y:c&&f}).call(y=>y.selectAll().data(t).enter().append("text").call(Tt,this).call(b7,this,d,l).attr("transform",mg`translate(${u?b=>u[b]:m},${c?b=>c[b]:g})${s?b=>` rotate(${s[b]})`:p?` rotate(${p})`:""}`).call(X,"font-size",h&&(b=>h[b])).call(In,this,r)).node()}}function bg(e){return e==null?null:ct(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function b7(e,t,n,r){if(!n)return;const{lineAnchor:i,lineHeight:o,textOverflow:a,splitLines:f,clipLine:u}=t;e.each(function(c){const s=f(mr(n[c])??"").map(u),d=s.length,l=i==="top"?.71:i==="bottom"?1-d:(164-d*100)/200;if(d>1){let h=0;for(let p=0;p<d;++p){if(++h,!s[p])continue;const m=this.ownerDocument.createElementNS(er.svg,"tspan");m.setAttribute("x",0),p===h-1?m.setAttribute("y",`${(l+p)*o}em`):m.setAttribute("dy",`${h*o}em`),m.textContent=s[p],this.appendChild(m),h=0}}else l&&this.setAttribute("y",`${l*o}em`),this.textContent=s[0];if(a&&!r&&s[0]!==n[c]){const h=this.ownerDocument.createElementNS(er.svg,"title");h.textContent=n[c],this.appendChild(h)}})}function yg(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Rc(t,n)),new os(e,{...r,x:t,y:n})}function as(e,{x:t=xe,...n}={}){return new os(e,h7({...n,x:t}))}function y7(e,{y:t=xe,...n}={}){return new os(e,d7({...n,y:t}))}function _g(e,t,n){X(e,"text-anchor",t.textAnchor),X(e,"font-family",t.fontFamily),X(e,"font-size",t.fontSize),X(e,"font-style",t.fontStyle),X(e,"font-variant",t.fontVariant===void 0?_7(n):t.fontVariant),X(e,"font-weight",t.fontWeight)}function _7(e){return e&&(B5(e)||Fe(e))?"tabular-nums":void 0}const w7=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function v7(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),w7.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function x7(e,t,n){const r=[];let i,o=0;for(const[a,f,u]of T7(e)){if(i===void 0&&(i=a),o>i&&n(e,i,f)>t&&(r.push(e.slice(i,o)+(e[o-1]===gg?"-":"")),i=a),u){r.push(e.slice(i,f)),i=void 0;continue}o=f}return r}function*T7(e){let t=0,n=0;const r=e.length;for(;n<r;){let i=1;switch(e[n]){case gg:case"-":++n,yield[t,n,!1],t=n;break;case" ":for(yield[t,n,!1];e[++n]===" ";);t=n;break;case"\r":e[n+1]===`
`&&++i;case`
`:yield[t,n,!0],n+=i,t=n;break;default:++n;break}}yield[t,n,!0]}const md={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function fs(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=xr(e,i))r+=md[e[i]]??(Tg(e,i)?120:md.e);return r}function us(e,t=0,n=e.length){let r=0;for(let i=t;i<n;i=xr(e,i))r+=Tg(e,i)?126:63;return r}function wg({monospace:e,lineWidth:t,textOverflow:n}){if(n!=null||t==1/0)return o=>o.split(/\r\n?|\n/g);const r=e?us:fs,i=t*100;return o=>x7(o,i,r)}function vg({monospace:e,lineWidth:t,textOverflow:n}){if(n==null||t==1/0)return o=>o;const r=e?us:fs,i=t*100;switch(n){case"clip-start":return o=>bd(o,i,r,"");case"clip-end":return o=>gd(o,i,r,"");case"ellipsis-start":return o=>bd(o,i,r,Qn);case"ellipsis-middle":return o=>M7(o,i,r,Qn);case"ellipsis-end":return o=>gd(o,i,r,Qn)}}const Qn="";function gr(e,t,n,r){const i=[];let o=0;for(let a=0,f=0,u=e.length;a<u;a=f){f=xr(e,a);const c=n(e,a,f);if(o+c>t){for(o+=r;o>t&&a>0;)f=a,a=i.pop(),o-=n(e,a,f);return[a,t-o]}o+=c,i.push(a)}return[-1,0]}function gd(e,t,n,r){e=e.trim();const i=n(r),[o]=gr(e,t,n,i);return o<0?e:e.slice(0,o).trimEnd()+r}function M7(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r)/2,[a,f]=gr(e,t/2,n,o),[u]=gr(e,i-t/2-f+o,n,-o);return u<0?r:e.slice(0,a).trimEnd()+r+e.slice(xr(e,u)).trimStart()}function bd(e,t,n,r){e=e.trim();const i=n(e);if(i<=t)return e;const o=n(r),[a]=gr(e,i-t+o,n,-o);return a<0?r:r+e.slice(xr(e,a)).trimStart()}const Wu=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,yd=new RegExp("\\p{Extended_Pictographic}","uy");function xr(e,t){return t+=S7(e,t)?2:1,A7(e,t)&&(t=Wu.lastIndex),$7(e,t)?xr(e,t+1):t}function xg(e,t){return e.charCodeAt(t)<128}function S7(e,t){const n=e.charCodeAt(t);if(n>=55296&&n<56320){const r=e.charCodeAt(t+1);return r>=56320&&r<57344}return!1}function $7(e,t){return e.charCodeAt(t)===8205}function A7(e,t){return xg(e,t)?!1:(Wu.lastIndex=t,Wu.test(e))}function Tg(e,t){return xg(e,t)?!1:(yd.lastIndex=t,yd.test(e))}const E7={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},Mg=3.5,C7=Mg*5,Sg={draw(e,t,n){const r=t*n/C7;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-r,r-t),e.lineTo(0,-t),e.lineTo(r,r-t)}},k7={draw(e,t,n){e.moveTo(-n,0),e.lineTo(0,-t),e.lineTo(n,0)}},N7=new Map([["arrow",Sg],["spike",k7]]);function D7(e){return e&&typeof e.draw=="function"}function I7(e){if(D7(e))return e;const t=N7.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class $g extends Qe{constructor(t,n={}){const{x:r,y:i,r:o=Mg,length:a,rotate:f,shape:u=Sg,anchor:c="middle",frameAnchor:s}=n,[d,l]=Pe(a,12),[h,p]=Pe(f,0);super(t,{x:{value:r,scale:"x",optional:!0},y:{value:i,scale:"y",optional:!0},length:{value:d,scale:"length",optional:!0},rotate:{value:h,optional:!0}},n,E7),this.r=+o,this.length=l,this.rotate=p,this.shape=I7(u),this.anchor=ct(c,"anchor",["start","middle","end"]),this.frameAnchor=Pc(s)}render(t,n,r,i,o){const{x:a,y:f}=n,{x:u,y:c,length:s,rotate:d}=r,{length:l,rotate:h,anchor:p,shape:m,r:g}=this,[y,b]=Pa(this,i);return Te("svg:g",o).call(Wt,this,i,o).call(Gt,this,{x:u&&a,y:c&&f}).call(w=>w.selectAll().data(t).enter().append("path").call(Tt,this).attr("transform",mg`translate(${u?_=>u[_]:y},${c?_=>c[_]:b})${d?_=>` rotate(${d[_]})`:h?` rotate(${h})`:""}${p==="start"?"":p==="end"?s?_=>` translate(0,${s[_]})`:` translate(0,${l})`:s?_=>` translate(0,${s[_]/2})`:` translate(0,${l/2})`}`).attr("d",s?_=>{const v=lu();return m.draw(v,s[_],g),v}:(()=>{const _=lu();return m.draw(_,l,g),_})()).call(In,this,r)).node()}}function R7(e,t={}){const{x:n=xe,...r}=t;return new $g(e,{...r,x:n})}function L7(e,t={}){const{y:n=xe,...r}=t;return new $g(e,{...r,y:n})}function mn(e,t){return arguments.length<2&&!hn(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function za({anchor:e}={},t){return e===void 0?t[0]:ct(e,"anchor",t)}function Ag(e){return za(e,["left","right"])}function Eg(e){return za(e,["right","left"])}function Cg(e){return za(e,["bottom","top"])}function kg(e){return za(e,["top","bottom"])}function Ng(){const[e,t]=mn(...arguments);return Ig("y",Ag(t),e,t)}function O7(){const[e,t]=mn(...arguments);return Ig("fy",Eg(t),e,t)}function Dg(){const[e,t]=mn(...arguments);return Rg("x",Cg(t),e,t)}function F7(){const[e,t]=mn(...arguments);return Rg("fx",kg(t),e,t)}function Ig(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=e==="y"?6:0,tickPadding:m,tickRotate:g,x:y,margin:b,marginTop:w=b===void 0?20:b,marginRight:_=b===void 0?t==="right"?40:0:b,marginBottom:v=b===void 0?20:b,marginLeft:x=b===void 0?t==="left"?40:0:b,label:M,labelAnchor:S,labelArrow:A,labelOffset:k,...T}){return p=Ce(p),m=Ce(m),g=Ce(g),S!==void 0&&(S=ct(S,"labelAnchor",["center","top","bottom"])),A=Bg(A),Pn(p&&!Ae(o)?P7(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,x:y,...T}):null,Ae(u)?null:z7(e,t,n,{fill:u,fillOpacity:c,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:s,tickSize:p,tickPadding:m,tickRotate:g,x:y,marginTop:w,marginRight:_,marginBottom:v,marginLeft:x,...T}),!Ae(u)&&M!==null?yg([],Pg({fill:u,fillOpacity:c,...T},function(D,N,I,$,L){const R=$[e],{marginTop:H,marginRight:j,marginBottom:O,marginLeft:P}=e==="y"&&L.inset||L,F=S??(R.bandwidth?"center":"top"),z=k??(t==="right"?j:P)-3;return F==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=F,this.frameAnchor=`${F}-${t}`,this.rotate=0),this.dy=F==="top"?3-H:F==="bottom"?O-3:0,this.dx=t==="right"?z:-z,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Ug(e,R,{anchor:t,label:M,labelAnchor:F,labelArrow:A})]}}}})):null)}function Rg(e,t,n,{color:r="currentColor",opacity:i=1,stroke:o=r,strokeOpacity:a=i,strokeWidth:f=1,fill:u=r,fillOpacity:c=i,textAnchor:s,textStroke:d,textStrokeOpacity:l,textStrokeWidth:h,tickSize:p=e==="x"?6:0,tickPadding:m,tickRotate:g,y,margin:b,marginTop:w=b===void 0?t==="top"?30:0:b,marginRight:_=b===void 0?20:b,marginBottom:v=b===void 0?t==="bottom"?30:0:b,marginLeft:x=b===void 0?20:b,label:M,labelAnchor:S,labelArrow:A,labelOffset:k,...T}){return p=Ce(p),m=Ce(m),g=Ce(g),S!==void 0&&(S=ct(S,"labelAnchor",["center","left","right"])),A=Bg(A),Pn(p&&!Ae(o)?q7(e,t,n,{stroke:o,strokeOpacity:a,strokeWidth:f,tickSize:p,tickPadding:m,tickRotate:g,y,...T}):null,Ae(u)?null:U7(e,t,n,{fill:u,fillOpacity:c,stroke:d,strokeOpacity:l,strokeWidth:h,textAnchor:s,tickSize:p,tickPadding:m,tickRotate:g,y,marginTop:w,marginRight:_,marginBottom:v,marginLeft:x,...T}),!Ae(u)&&M!==null?yg([],Pg({fill:u,fillOpacity:c,...T},function(D,N,I,$,L){const R=$[e],{marginTop:H,marginRight:j,marginBottom:O,marginLeft:P}=e==="x"&&L.inset||L,F=S??(R.bandwidth?"center":"right"),z=k??(t==="top"?H:O)-3;return F==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${F}`,this.textAnchor=F==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-z:z,this.dx=F==="right"?j-3:F==="left"?3-P:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[Ug(e,R,{anchor:t,label:M,labelAnchor:F,labelArrow:A})]}}}})):null)}function P7(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="y"?"-empty":""),frameAnchor:f=t,tickSize:u,inset:c=0,insetLeft:s=c,insetRight:d=c,dx:l=0,y:h=e==="y"?void 0:null,...p}){return Tr(L7,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinecap:i,strokeLinejoin:o,facetAnchor:a,frameAnchor:f,y:h,...p,dx:t==="left"?+l-qe+ +s:+l+qe-d,anchor:"start",length:u,shape:t==="left"?V7:Z7})}function q7(e,t,n,{strokeWidth:r=1,strokeLinecap:i=null,strokeLinejoin:o=null,facetAnchor:a=t+(e==="x"?"-empty":""),frameAnchor:f=t,tickSize:u,inset:c=0,insetTop:s=c,insetBottom:d=c,dy:l=0,x:h=e==="x"?void 0:null,...p}){return Tr(R7,e,n,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:r,strokeLinejoin:o,strokeLinecap:i,facetAnchor:a,frameAnchor:f,x:h,...p,dy:t==="bottom"?+l-qe-d:+l+qe+ +s,anchor:"start",length:u,shape:t==="bottom"?G7:X7})}function z7(e,t,n,{facetAnchor:r=t+(e==="y"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>60?4*Math.cos(a*og):0),text:u,textAnchor:c=Math.abs(a)>60?"middle":t==="left"?"end":"start",lineAnchor:s=a>60?"top":a<-60?"bottom":"middle",fontVariant:d,inset:l=0,insetLeft:h=l,insetRight:p=l,dx:m=0,y:g=e==="y"?void 0:null,...y}){return Tr(y7,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u,textAnchor:c,lineAnchor:s,fontVariant:d,rotate:a,y:g,...y,dx:t==="left"?+m-o-f+ +h:+m+ +o+ +f-p},function(b,w,_,v,x){d===void 0&&(this.fontVariant=zg(b)),u===void 0&&(x.text=qg(b,w,_,v,t))})}function U7(e,t,n,{facetAnchor:r=t+(e==="x"?"-empty":""),frameAnchor:i=t,tickSize:o,tickRotate:a=0,tickPadding:f=Math.max(3,9-o)+(Math.abs(a)>=10?4*Math.cos(a*og):0),text:u,textAnchor:c=Math.abs(a)>=10?a<0^t==="bottom"?"start":"end":"middle",lineAnchor:s=Math.abs(a)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:d,inset:l=0,insetTop:h=l,insetBottom:p=l,dy:m=0,x:g=e==="x"?void 0:null,...y}){return Tr(as,e,n,{ariaLabel:`${e}-axis tick label`},{facetAnchor:r,frameAnchor:i,text:u===void 0?null:u,textAnchor:c,lineAnchor:s,fontVariant:d,rotate:a,x:g,...y,dy:t==="bottom"?+m+ +o+ +f-p:+m-o-f+ +h},function(b,w,_,v,x){d===void 0&&(this.fontVariant=zg(b)),u===void 0&&(x.text=qg(b,w,_,v,t))})}function B7(){const[e,t]=mn(...arguments);return Lg("y",Ag(t),e,t)}function Y7(){const[e,t]=mn(...arguments);return Lg("fy",Eg(t),e,t)}function H7(){const[e,t]=mn(...arguments);return Og("x",Cg(t),e,t)}function j7(){const[e,t]=mn(...arguments);return Og("fx",kg(t),e,t)}function Lg(e,t,n,{y:r=e==="y"?void 0:null,x:i=null,x1:o=t==="left"?i:null,x2:a=t==="right"?i:null,...f}){return Tr(Ri,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:r,x1:o,x2:a,...Fg(f)})}function Og(e,t,n,{x:r=e==="x"?void 0:null,y:i=null,y1:o=t==="top"?i:null,y2:a=t==="bottom"?i:null,...f}){return Tr(is,e,n,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:r,y1:o,y2:a,...Fg(f)})}function Fg({color:e="currentColor",opacity:t=.1,stroke:n=e,strokeOpacity:r=t,strokeWidth:i=1,...o}){return{stroke:n,strokeOpacity:r,strokeWidth:i,...o}}function Pg({fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s=!1},d){return[,e]=Ke(e),[,t]=Pe(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:n,fontSize:r,fontStyle:i,fontVariant:o,fontWeight:a,monospace:f,pointerEvents:u,shapeRendering:c,clip:s,initializer:d}}function Tr(e,t,n,r,i,o){let a;function f(s,d,l,h,p,m){const g=s==null&&(t==="fx"||t==="fy"),{[t]:y}=h;if(!y)throw new Error(`missing scale: ${t}`);const b=y.domain();let{interval:w,ticks:_,tickFormat:v,tickSpacing:x=t==="x"?80:35}=i;if(typeof _=="string"&&Yg(y)&&(w=_,_=void 0),_===void 0&&(_=wr(w,y.type)??W7(y,x)),s==null){if(hn(_))s=fn(_);else if(Gn(_))s=Ff(_,...je(b));else if(y.interval){let S=y.interval;if(y.ticks){const[A,k]=je(b),T=(k-A)/S[Si];S=Hl(S,T/_)??S,s=Ff(S,A,k)}else{s=b;const A=s.length;S=Hl(S,A/_)??S,S!==y.interval&&(s=Ff(S,...je(s)))}if(S===y.interval){const A=Math.round(s.length/_);A>1&&(s=s.filter((k,T)=>T%A===0))}}else y.ticks?s=y.ticks(_):s=b;if(!y.ticks&&s.length&&s!==b){const S=new aa(b);s=s.filter(A=>S.has(A)),s.length||tn(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?d=[Ht(s)]:a[t]={scale:t,value:xe}}o==null||o.call(this,y,s,_,v,a);const M=Object.fromEntries(Object.entries(a).map(([S,A])=>[S,{...A,value:se(s,A.value)}]));return g&&(d=m.filterFacets(s,M)),{data:s,facets:d,channels:M}}const u=hr(i).initializer,c=e(n,hr({...i,initializer:f},u));return n==null?(a=c.channels,c.channels={}):a={},r!==void 0&&Object.assign(c,r),c.clip===void 0&&(c.clip=!1),c}function W7(e,t){const[n,r]=je(e.range());return(r-n)/t}function qg(e,t,n,r,i){return{value:cs(e,t,n,r,i)}}function cs(e,t,n,r,i){return typeof r=="function"&&!(e.type==="log"&&e.tickFormat)?r:r===void 0&&t&&Fe(t)?T5(e.type,t,i)??mr:e.tickFormat?e.tickFormat(typeof n=="number"?n:null,r):r===void 0?mr:typeof r=="string"?(Fe(e.domain())?Ti:yr)(r):Pt(r)}function Ff(e,t,n){return e.range(t,e.offset(e.floor(n)))}const G7={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},X7={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},V7={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},Z7={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function zg(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function Ug(e,t,{anchor:n,label:r=t.label,labelAnchor:i,labelArrow:o}={}){if(!(r==null||r.inferred&&Yg(t)&&/^(date|time|year)$/i.test(r))){if(r=String(r),o==="auto"&&(o=(!t.bandwidth||t.interval)&&!/[]/.test(r)),!o)return r;if(o===!0){const a=Hm(t);a&&(o=/x$/.test(e)||i==="center"?/x$/.test(e)===a<0?"left":"right":a<0?"up":"down")}switch(o){case"left":return` ${r}`;case"right":return`${r} `;case"up":return n==="right"?`${r} `:` ${r}`;case"down":return n==="right"?`${r} `:` ${r}`}return r}}function Bg(e="auto"){return Ae(e)?!1:typeof e=="boolean"?e:ct(e,"labelArrow",["auto","up","right","down","left"])}function Yg(e){return Fe(e.domain())}function _d(e,t){if(t==null)return t;const n=e(t);if(!n)throw new Error(`scale not found: ${t}`);return n}function K7(e,{opacity:t,...n}={}){if(!Fn(e)&&!Xm(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return Hg(e,n,(r,i,o,a)=>r.append("svg").attr("width",o).attr("height",a).attr("fill",i.scale).attr("fill-opacity",Pe(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function Q7(e,{fill:t=(c=>(c=e.hint)==null?void 0:c.fill)()!==void 0?e.hint.fill:"none",fillOpacity:n=1,stroke:r=(s=>(s=e.hint)==null?void 0:s.stroke)()!==void 0?e.hint.stroke:Ae(t)?"currentColor":"none",strokeOpacity:i=1,strokeWidth:o=1.5,r:a=4.5,...f}={},u){const[d,l]=Ke(t),[h,p]=Ke(r),m=_d(u,d),g=_d(u,h),y=a*a*Math.PI;return n=Pe(n)[1],i=Pe(i)[1],o=Pe(o)[1],Hg(e,f,(b,w,_,v)=>b.append("svg").attr("viewBox","-8 -8 16 16").attr("width",_).attr("height",v).attr("fill",d==="color"?x=>m.scale(x):l).attr("fill-opacity",n).attr("stroke",h==="color"?x=>g.scale(x):p).attr("stroke-opacity",i).attr("stroke-width",o).append("path").attr("d",x=>{const M=lu();return e.scale(x).draw(M,y),M}))}function Hg(e,t={},n){let{columns:r,tickFormat:i,fontVariant:o=ig(e),swatchSize:a=15,swatchWidth:f=a,swatchHeight:u=a,marginLeft:c=0,className:s,style:d,width:l}=t;const h=Qc(t);s=Fa(s),i=cs(e.scale,e.domain,void 0,i);const p=Te("div",h).attr("class",`${s}-swatches ${s}-swatches-${r!=null?"columns":"wrap"}`);let m;return r!=null?(m=`:where(.${s}-swatches-columns .${s}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${s}-swatches-columns .${s}-swatch::before) {
  flex-shrink: 0;
}
:where(.${s}-swatches-columns .${s}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,p.style("columns",r).selectAll().data(e.domain).enter().append("div").attr("class",`${s}-swatch`).call(n,e,f,u).call(g=>g.append("div").attr("class",`${s}-swatch-label`).attr("title",i).text(i))):(m=`:where(.${s}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${s}-swatches-wrap .${s}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,p.selectAll().data(e.domain).enter().append("span").attr("class",`${s}-swatch`).call(n,e,f,u).append(function(){return this.ownerDocument.createTextNode(i.apply(this,arguments))})),p.call(g=>g.insert("style","*").text(`:where(.${s}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${s}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${m}`)).style("margin-left",c?`${+c}px`:null).style("width",l===void 0?null:`${+l}px`).style("font-variant",Se(o,"normal")).call(es,d).node()}const Gu=new Map([["symbol",Q7],["color",Wg],["opacity",ex]]);function J7(e,t,n={}){return(r,i)=>{if(!Gu.has(r))throw new Error(`unknown legend type: ${r}`);if(r in e)return Gu.get(r)(e[r],jg(t,n[r],i),o=>e[o])}}function jg({className:e,...t},{label:n,ticks:r,tickFormat:i}={},o){return W5(o,{className:e,...t},{label:n,ticks:r,tickFormat:i})}function Wg(e,{legend:t=!0,...n}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return K7(e,n);case"ramp":return r7(e,n);default:throw new Error(`unknown legend type: ${t}`)}}function ex({type:e,interpolate:t,...n},{legend:r=!0,color:i=rn(0,0,0),...o}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(r===!0&&(r="ramp"),`${r}`.toLowerCase()!=="ramp")throw new Error(`${r} opacity legends are not supported`);return Wg({type:e,...n,interpolate:tx(i)},{legend:r,...o})}function tx(e){const{r:t,g:n,b:r}=rn(e)||rn(0,0,0);return i=>`rgba(${t},${n},${r},${i})`}function nx(e,t,n){const r=[];for(const[i,o]of Gu){const a=n[i];if(a!=null&&a.legend&&i in e){const f=o(e[i],jg(t,e[i],a),u=>e[u]);f!=null&&r.push(f)}}return r}function Gg(e={}){return dm(e)?e:{...e,y:xe}}function rx(e,t){if(t.length===1)return{data:e,facets:t};const n=ai(e),r=new Uint8Array(n);let i=0;for(const f of t)for(const u of f)r[u]&&++i,r[u]=1;if(i===0)return{data:e,facets:t};e=oi(e);const o=e[fm]=new Uint32Array(n+i);t=t.map(f=>oi(f,Uint32Array));let a=n;r.fill(0);for(const f of t)for(let u=0,c=f.length;u<c;++u){const s=f[u];r[s]?(f[u]=a,e[a]=e[s],o[a]=s,++a):o[s]=s,r[s]=1}return{data:e,facets:t}}function ix(e={},t={}){arguments.length===1&&([e,t]=ox(e));const{x1:n,x:r=n,y:i,...o}=t,[a,f,u,c]=fx(r,i,"x","y",e,o);return{...a,x1:n,x:f,y1:u,y2:c,y:Ou(u,c)}}function Xg({y:e,y1:t,y2:n,...r}={}){return r=Ii(r,"x"),t===void 0&&n===void 0?ix({y:e,...r}):([t,n]=I5(e,t,n),{...r,y1:t,y2:n})}function ox(e){const{offset:t,order:n,reverse:r,...i}=e;return[{offset:t,order:n,reverse:r},i]}const ax={length:!0};function fx(e,t=E5,n,r,{offset:i,order:o,reverse:a},f){if(t===null)throw new Error(`stack requires ${r}`);const u=Lc(f),[c,s]=Re(e),[d,l]=Vo(t),[h,p]=Vo(t);return d.hint=h.hint=ax,i=ux(i),o=lx(o,i,r),[ki(f,(m,g,y)=>{({data:m,facets:g}=rx(m,g));const b=e==null?void 0:s(Zo(se(m,e),y==null?void 0:y[n])),w=se(m,t,Float64Array),_=se(m,u),v=o&&o(m,b,w,_),x=ai(m),M=l(new Float64Array(x)),S=p(new Float64Array(x)),A=[];for(const k of g){const T=b?Array.from(fa(k,D=>b[D]).values()):[k];if(v)for(const D of T)D.sort(v);for(const D of T){let N=0,I=0;a&&D.reverse();for(const $ of D){const L=w[$];L<0?N=S[$]=(M[$]=N)+L:L>0?I=S[$]=(M[$]=I)+L:S[$]=M[$]=I}}A.push(T)}return i&&i(A,M,S,_),{data:m,facets:g}}),c,d,h]}function ux(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return cx;case"center":case"silhouette":return sx;case"wiggle":return Zg}throw new Error(`unknown offset: ${e}`)}}function Vg(e,t){let n=0,r=0;for(const i of e){const o=t[i];o<n&&(n=o),o>r&&(r=o)}return[n,r]}function cx(e,t,n){for(const r of e)for(const i of r){const[o,a]=Vg(i,n);for(const f of i){const u=1/(a-o||1);t[f]=u*(t[f]-o),n[f]=u*(n[f]-o)}}}function sx(e,t,n){for(const r of e){for(const i of r){const[o,a]=Vg(i,n);for(const f of i){const u=(a+o)/2;t[f]-=u,n[f]-=u}}Kg(r,t,n)}Qg(e,t,n)}function Zg(e,t,n,r){for(const i of e){const o=new Sn;let a=0;for(const f of i){let u=-1;const c=f.map(h=>Math.abs(n[h]-t[h])),s=f.map(h=>{u=r?r[h]:++u;const p=n[h]-t[h],m=o.has(u)?p-o.get(u):0;return o.set(u,p),m}),d=[0,...iy(s)];for(const h of f)t[h]+=a,n[h]+=a;const l=nn(c);l&&(a-=nn(c,(h,p)=>(s[p]/2+d[p])*h)/l)}Kg(i,t,n)}Qg(e,t,n)}function Kg(e,t,n){const r=zt(e,i=>zt(i,o=>t[o]));for(const i of e)for(const o of i)t[o]-=r,n[o]-=r}function Qg(e,t,n){const r=e.length;if(r===1)return;const i=e.map(f=>f.flat()),o=i.map(f=>(zt(f,u=>t[u])+nt(f,u=>n[u]))/2),a=zt(o);for(let f=0;f<r;f++){const u=a-o[f];for(const c of i[f])t[c]+=u,n[c]+=u}}function lx(e,t,n){if(e===void 0&&t===Zg)return wd(ft);if(e!=null){if(typeof e=="string"){const r=e.startsWith("-"),i=r?Go:ft;switch((r?e.slice(1):e).toLowerCase()){case"value":case n:return dx(i);case"z":return hx(i);case"sum":return px(i);case"appearance":return mx(i);case"inside-out":return wd(i)}return vd(um(e))}if(typeof e=="function")return(e.length===1?vd:gx)(e);if(sn(e))return bx(e);throw new Error(`invalid order: ${e}`)}}function dx(e){return(t,n,r)=>(i,o)=>e(r[i],r[o])}function hx(e){return(t,n,r,i)=>(o,a)=>e(i[o],i[a])}function px(e){return Ua(e,(t,n,r,i)=>Ku(Ht(t),o=>nn(o,a=>r[a]),o=>i[o]))}function mx(e){return Ua(e,(t,n,r,i)=>Ku(Ht(t),o=>n[gh(o,a=>r[a])],o=>i[o]))}function wd(e){return Ua(e,(t,n,r,i)=>{const o=Ht(t),a=Ku(o,d=>n[gh(d,l=>r[l])],d=>i[d]),f=Xn(o,d=>nn(d,l=>r[l]),d=>i[d]),u=[],c=[];let s=0;for(const d of a)s<0?(s+=f.get(d),u.push(d)):(s-=f.get(d),c.push(d));return c.reverse().concat(u)})}function vd(e){return t=>{const n=se(t,e);return(r,i)=>ft(n[r],n[i])}}function gx(e){return t=>sn(t)?(n,r)=>e(t[n],t[r]):(n,r)=>e(t.get(n),t.get(r))}function bx(e){return Ua(ft,()=>e)}function Ua(e,t){return(n,r,i,o)=>{if(!o)throw new Error("missing channel: z");const a=new Sn(t(n,r,i,o).map((f,u)=>[f,u]));return(f,u)=>e(a.get(o[f]),a.get(o[u]))}}const yx={ariaLabel:"rect"};class _x extends Qe{constructor(t,n={}){const{x1:r,y1:i,x2:o,y2:a}=n;super(t,{x1:{value:r,scale:"x",type:r!=null&&o==null?"band":void 0,optional:!0},y1:{value:i,scale:"y",type:i!=null&&a==null?"band":void 0,optional:!0},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0}},n,yx),Jg(this,n),eb(this,n)}render(t,n,r,i,o){const{x:a,y:f}=n;let{x1:u,y1:c,x2:s,y2:d}=r;const{marginTop:l,marginRight:h,marginBottom:p,marginLeft:m,width:g,height:y}=i,{projection:b}=o,{insetTop:w,insetRight:_,insetBottom:v,insetLeft:x}=this,{rx:M,ry:S,rx1y1:A,rx1y2:k,rx2y1:T,rx2y2:D}=this;(u||s)&&!b&&pr(a)&&(u=s=null),(c||d)&&!b&&pr(f)&&(c=d=null);const N=a!=null&&a.bandwidth?a.bandwidth():0,I=f!=null&&f.bandwidth?f.bandwidth():0;return Te("svg:g",o).call(Wt,this,i,o).call(Gt,this,{},0,0).call($=>$.selectAll().data(t).enter().call(A||k||T||D?L=>L.append("path").call(Tt,this).call(tb,u&&s?R=>u[R]+(s[R]<u[R]?-_:x):u?R=>u[R]+x:m+x,c&&d?R=>c[R]+(d[R]<c[R]?-v:w):c?R=>c[R]+w:l+w,u&&s?R=>s[R]-(s[R]<u[R]?-x:_):u?R=>u[R]+N-_:g-h-_,c&&d?R=>d[R]-(d[R]<c[R]?-w:v):c?R=>c[R]+I-v:y-p-v,this).call(In,this,r):L=>L.append("rect").call(Tt,this).attr("x",u?s?R=>Math.min(u[R],s[R])+x:R=>u[R]+x:m+x).attr("y",c?d?R=>Math.min(c[R],d[R])+w:R=>c[R]+w:l+w).attr("width",u?s?R=>Math.max(0,Math.abs(s[R]-u[R])+N-x-_):N-x-_:g-h-m-_-x).attr("height",c?d?R=>Math.max(0,Math.abs(c[R]-d[R])+I-w-v):I-w-v:y-l-p-w-v).call(X,"rx",M).call(X,"ry",S).call(In,this,r))).node()}}function Jg(e,{inset:t=0,insetTop:n=t,insetRight:r=t,insetBottom:i=t,insetLeft:o=t}={}){e.insetTop=Ce(n),e.insetRight=Ce(r),e.insetBottom=Ce(i),e.insetLeft=Ce(o)}function eb(e,{r:t,rx:n,ry:r,rx1:i=t,ry1:o=t,rx2:a=t,ry2:f=t,rx1y1:u=i!==void 0?+i:o!==void 0?+o:0,rx1y2:c=i!==void 0?+i:f!==void 0?+f:0,rx2y1:s=a!==void 0?+a:o!==void 0?+o:0,rx2y2:d=a!==void 0?+a:f!==void 0?+f:0}={}){u||c||s||d?(e.rx1y1=u,e.rx1y2=c,e.rx2y1=s,e.rx2y2=d):(e.rx=Se(n,"auto"),e.ry=Se(r,"auto"))}function tb(e,t,n,r,i,o){const{rx1y1:a,rx1y2:f,rx2y1:u,rx2y2:c}=o;typeof t!="function"&&(t=Pt(t)),typeof n!="function"&&(n=Pt(n)),typeof r!="function"&&(r=Pt(r)),typeof i!="function"&&(i=Pt(i));const s=Math.max(Math.abs(a+u),Math.abs(f+c)),d=Math.max(Math.abs(a+f),Math.abs(u+c));e.attr("d",l=>{const h=t(l),p=n(l),m=r(l),g=i(l),y=h>m,b=p>g,w=y?m:h,_=y?h:m,v=b?g:p,x=b?p:g,M=Math.min(1,(_-w)/s,(x-v)/d),S=M*(y?b?c:u:b?f:a),A=M*(y?b?f:a:b?c:u),k=M*(y?b?a:f:b?u:c),T=M*(y?b?u:c:b?a:f);return`M${w},${v+Qi(S,T)}A${S},${S} 0 0 ${S<0?0:1} ${w+Ki(S,T)},${v}H${_-Ki(A,k)}A${A},${A} 0 0 ${A<0?0:1} ${_},${v+Qi(A,k)}V${x-Qi(k,A)}A${k},${k} 0 0 ${k<0?0:1} ${_-Ki(k,A)},${x}H${w+Ki(T,S)}A${T},${T} 0 0 ${T<0?0:1} ${w},${x-Qi(T,S)}Z`})}function Ki(e,t){return t<0?e:Math.abs(e)}function Qi(e,t){return t<0?Math.abs(e):e}function X9(e,t={}){return D5(t)||(t={...t,x:$i,y2:xe,interval:1}),new _x(e,Xg(c7(Gg(t))))}const wx={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},vx={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class xx extends Qe{constructor(t={}){const{anchor:n=null}=t;super(po,void 0,t,n==null?wx:vx),this.anchor=lm(n,"anchor",["top","right","bottom","left"]),Jg(this,t),n||eb(this,t)}render(t,n,r,i,o){const{marginTop:a,marginRight:f,marginBottom:u,marginLeft:c,width:s,height:d}=i,{anchor:l,insetTop:h,insetRight:p,insetBottom:m,insetLeft:g}=this,{rx:y,ry:b,rx1y1:w,rx1y2:_,rx2y1:v,rx2y2:x}=this,M=c+g,S=s-f-p,A=a+h,k=d-u-m;return Te(l?"svg:line":w||_||v||x?"svg:path":"svg:rect",o).datum(0).call(Wt,this,i,o).call(Tt,this).call(In,this,r).call(Gt,this,{}).call(l==="left"?T=>T.attr("x1",M).attr("x2",M).attr("y1",A).attr("y2",k):l==="right"?T=>T.attr("x1",S).attr("x2",S).attr("y1",A).attr("y2",k):l==="top"?T=>T.attr("x1",M).attr("x2",S).attr("y1",A).attr("y2",A):l==="bottom"?T=>T.attr("x1",M).attr("x2",S).attr("y1",k).attr("y2",k):w||_||v||x?T=>T.call(tb,M,A,S,k,this):T=>T.attr("x",M).attr("y",A).attr("width",S-M).attr("height",k-A).attr("rx",y).attr("ry",b)).node()}}function Tx(e){return new xx(e)}const Pf={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},Mx=new Set(["geometry","href","src","ariaLabel","scales"]);class Sx extends Qe{constructor(t,n={}){n.tip&&(n={...n,tip:!1}),n.title===void 0&&hn(t)&&pm(t)&&(n={...n,title:xe});const{x:r,y:i,x1:o,x2:a,y1:f,y2:u,anchor:c,preferredAnchor:s="bottom",monospace:d,fontFamily:l=d?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:p,fontVariant:m,fontWeight:g,lineHeight:y=1,lineWidth:b=20,frameAnchor:w,format:_,textAnchor:v="start",textOverflow:x,textPadding:M=8,title:S,pointerSize:A=12,pathFilter:k="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=n;super(t,{x:{value:o!=null&&a!=null?null:r,scale:"x",optional:!0},y:{value:f!=null&&u!=null?null:i,scale:"y",optional:!0},x1:{value:o,scale:"x",optional:a==null},y1:{value:f,scale:"y",optional:u==null},x2:{value:a,scale:"x",optional:o==null},y2:{value:u,scale:"y",optional:f==null},title:{value:S,optional:!0}},n,Pf),this.anchor=Fu(c,"anchor"),this.preferredAnchor=Fu(s,"preferredAnchor"),this.frameAnchor=Pc(w),this.textAnchor=Se(v,"middle"),this.textPadding=+M,this.pointerSize=+A,this.pathFilter=Ie(k),this.lineHeight=+y,this.lineWidth=+b,this.textOverflow=bg(x),this.monospace=!!d,this.fontFamily=Ie(l),this.fontSize=Ce(h),this.fontStyle=Ie(p),this.fontVariant=Ie(m),this.fontWeight=Ie(g);for(const T in Pf)T in this.channels&&(this[T]=Pf[T]);this.splitLines=wg(this),this.clipLine=vg(this),this.format=typeof _=="string"||typeof _=="function"?{title:_}:{..._}}render(t,n,r,i,o){const a=this,{x:f,y:u,fx:c,fy:s}=n,{ownerSVGElement:d,document:l}=o,{anchor:h,monospace:p,lineHeight:m,lineWidth:g}=this,{textPadding:y,pointerSize:b,pathFilter:w}=this,{marginTop:_,marginLeft:v}=i,{x1:x,y1:M,x2:S,y2:A,x:k=x??S,y:T=M??A}=r,D=c?c(t.fx)-v:0,N=s?s(t.fy)-_:0,[I,$]=Pa(this,i),L=ng(r,I),R=rg(r,$),H=p?us:fs,j=H(Qn);let O,P;"title"in r?(O=xd.call(this,{title:r.channels.title},n),P=kx):(O=xd.call(this,r.channels,n),P=Nx);const F=Te("svg:g",o).call(Wt,this,i,o).call(_g,this).call(Gt,this,{x:k&&f,y:T&&u}).call(ee=>ee.selectAll().data(t).enter().append("g").attr("transform",G=>`translate(${Math.round(L(G))},${Math.round(R(G))})`).call(Tt,this).call(G=>G.append("path").attr("filter",w)).call(G=>G.append("text").each(function(B){const Y=Vn(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const C=P.call(a,B,t,O,n,r);if(typeof C=="string")for(const q of a.splitLines(C))z(Y,{value:a.clipLine(q)});else{const q=new Set;for(const U of C){const{label:E=""}=U;E&&q.has(E)||(q.add(E),z(Y,U))}}})));function z(ee,{label:G,value:B,color:Y,opacity:C}){G??(G=""),B??(B="");const q=Y!=null||C!=null;let U,E=g*100;const[ne]=gr(G,E,H,j);if(ne>=0)G=G.slice(0,ne).trimEnd()+Qn,U=B.trim(),B="";else{(G||!B&&!q)&&(B=" "+B);const[ie]=gr(B,E-H(G),H,j);ie>=0&&(U=B.trim(),B=B.slice(0,ie).trimEnd()+Qn)}const W=ee.append("tspan").attr("x",0).attr("dy",`${m}em`).text("");G&&W.append("tspan").attr("font-weight","bold").text(G),B&&W.append(()=>l.createTextNode(B)),q&&W.append("tspan").text(" ").attr("fill",Y).attr("fill-opacity",C).style("user-select","none"),U&&W.append("title").text(U)}function Q(){const{width:ee,height:G}=i.facet??i;F.selectChildren().each(function(B){let{x:Y,width:C,height:q}=this.getBBox();C=Math.round(C),q=Math.round(q);let U=h;if(U===void 0){const W=L(B)+D,ie=R(B)+N,oe=W+C+b+y*2<ee,ce=W-C-b-y*2>0,st=ie+q+b+y*2<G,gn=ie-q-b-y*2>0;U=oe&&ce?st&&gn?a.preferredAnchor:gn?"bottom":"top":st&&gn?oe?"left":"right":(oe||ce)&&(st||gn)?`${gn?"bottom":"top"}-${oe?"left":"right"}`:a.preferredAnchor}const E=this.firstChild,ne=this.lastChild;if(E.setAttribute("d",Cx(U,b,y,C,q)),Y)for(const W of ne.childNodes)W.setAttribute("x",-Y);ne.setAttribute("y",`${+Ax(U,ne.childNodes.length,m).toFixed(6)}em`),ne.setAttribute("transform",`translate(${Ex(U,b,y,C,q)})`)}),F.attr("visibility",null)}return t.length&&(F.attr("visibility","hidden"),d.isConnected?Promise.resolve().then(Q):typeof requestAnimationFrame<"u"&&requestAnimationFrame(Q)),F.node()}}function $x(e,{x:t,y:n,...r}={}){return r.frameAnchor===void 0&&([t,n]=Rc(t,n)),new Sx(e,{...r,x:t,y:n})}function Ax(e,t,n){return/^top(?:-|$)/.test(e)?.94-n:-.29-t*n}function Ex(e,t,n,r,i){switch(e){case"middle":return[-r/2,i/2];case"top-left":return[n,t+n];case"top":return[-r/2,t/2+n];case"top-right":return[-r-n,t+n];case"right":return[-t/2-r-n,i/2];case"bottom-left":return[n,-t-n];case"bottom":return[-r/2,-t/2-n];case"bottom-right":return[-r-n,-t-n];case"left":return[n+t/2,i/2]}}function Cx(e,t,n,r,i){const o=r+n*2,a=i+n*2;switch(e){case"middle":return`M${-o/2},${-a/2}h${o}v${a}h${-o}z`;case"top-left":return`M0,0l${t},${t}h${o-t}v${a}h${-o}z`;case"top":return`M0,0l${t/2},${t/2}h${(o-t)/2}v${a}h${-o}v${-a}h${(o-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-o}v${a}h${o}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-a/2}h${-o}v${a}h${o}v${t/2-a/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${o-t}v${-a}h${-o}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(o-t)/2}v${-a}h${-o}v${a}h${(o-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-o}v${-a}h${o}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-a/2}h${o}v${a}h${-o}v${t/2-a/2}z`}}function xd(e,t){var i,o;const n={};let r=this.format;r=Td(r,e,"x"),r=Td(r,e,"y"),this.format=r;for(const a in r){const f=r[a];if(!(f===null||f===!1))if(a==="fx"||a==="fy")n[a]=!0;else{const u=Kl(e,a);u&&(n[a]=u)}}for(const a in e){if(a in n||a in r||Mx.has(a)||(a==="x"||a==="y")&&e.geometry)continue;const f=Kl(e,a);if(f){if(f.scale==null&&f.defaultScale==="color")continue;n[a]=f}}this.facet&&(t.fx&&!("fx"in r)&&(n.fx=!0),t.fy&&!("fy"in r)&&(n.fy=!0));for(const a in n){const f=this.format[a];if(typeof f=="string"){const u=((i=n[a])==null?void 0:i.value)??((o=t[a])==null?void 0:o.domain())??[];this.format[a]=(Fe(u)?Ti:yr)(f)}else if(f===void 0||f===!0){const u=t[a];this.format[a]=u!=null&&u.bandwidth?cs(u,u.domain()):mr}}return n}function Td(e,t,n){if(!(n in e))return e;const r=`${n}1`,i=`${n}2`;if((r in e||!(r in t))&&(i in e||!(i in t)))return e;const o=Object.entries(e),a=e[n];return o.splice(o.findIndex(([f])=>f===n)+1,0,[r,a],[i,a]),Object.fromEntries(o)}function kx(e,t,{title:n}){return this.format.title(n.value[e],e)}function*Nx(e,t,n,r,i){for(const o in n){if(o==="fx"||o==="fy"){yield{label:ea(r,n,o),value:this.format[o](t[o],e)};continue}if(o==="x1"&&"x2"in n||o==="y1"&&"y2"in n)continue;const a=n[o];if(o==="x2"&&"x1"in n)yield{label:Sd(r,n,"x"),value:Md(this.format.x2,n.x1,a,e)};else if(o==="y2"&&"y1"in n)yield{label:Sd(r,n,"y"),value:Md(this.format.y2,n.y1,a,e)};else{const f=a.value[e],u=a.scale;if(!an(f)&&u==null)continue;yield{label:ea(r,n,o),value:this.format[o](f,e),color:u==="color"?i[o][e]:null,opacity:u==="opacity"?i[o][e]:null}}}}function Md(e,t,n,r){var i;return(i=n.hint)!=null&&i.length?`${e(n.value[r]-t.value[r],r)}`:`${e(t.value[r],r)}${e(n.value[r],r)}`}function Sd(e,t,n){const r=ea(e,t,`${n}1`,n),i=ea(e,t,`${n}2`,n);return r===i?r:`${r}${i}`}function ea(e,t,n,r=n){const i=t[n],o=e[(i==null?void 0:i.scale)??n];return String((o==null?void 0:o.label)??(i==null?void 0:i.label)??r)}function Dx(e={}){var j;const{facet:t,style:n,title:r,subtitle:i,caption:o,ariaLabel:a,ariaDescription:f}=e,u=Fa(e.className),c=e.marks===void 0?[]:Ad(e.marks);c.push(...qx(c));const s=Fx(t,e),d=new Map;for(const O of c){const P=Ed(O,s,e);P&&d.set(O,P)}const l=new Map;s&&kr(l,[s],e),kr(l,d,e);const h=Ad(zx(c,l,e));for(const O of h){const P=Ed(O,s,e);P&&d.set(O,P)}c.unshift(...h);let p=h4(l,e);if(p!==void 0){const O=s?If(p,s):void 0;for(const F of c){if(F.facet===null||F.facet==="super")continue;const z=d.get(F);z!==void 0&&(z.facetsIndex=F.fx!=null||F.fy!=null?If(p,z):O)}const P=new Set;for(const{facetsIndex:F}of d.values())F==null||F.forEach((z,Q)=>{(z==null?void 0:z.length)>0&&P.add(Q)});p.forEach(0<P.size&&P.size<p.length?(F,z)=>F.empty=!P.has(z):F=>F.empty=!1);for(const F of c)if(F.facet==="exclude"){const z=d.get(F);z!==void 0&&(z.facetsIndex=g4(z.facetsIndex))}}for(const O of he.keys())Lu(e[O])&&O!=="fx"&&O!=="fy"&&l.set(O,[]);const m=new Map;for(const O of c){if(m.has(O))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:P,channels:F}=d.get(O)??{},{data:z,facets:Q,channels:ee}=O.initialize(P,F,e);ss(ee,e),m.set(O,{data:z,facets:Q,channels:ee})}const g=Uu(kr(l,m,e),e),y=J4(g,c,e);i4(g,y);const b=id(g),{fx:w,fy:_}=b,v=w||_?jm(g,y):y,x=w||_?Gx(b,y):y,M=Qc(e),S=M.document,A=ca("svg").call(S.documentElement);let k=A;M.ownerSVGElement=A,M.className=u,M.projection=S4(e,v),M.filterFacets=(O,P)=>If(p,{channels:P,groups:Kc(O,P)}),M.getMarkState=O=>{const P=m.get(O),F=d.get(O);return{...P,channels:{...P.channels,...F==null?void 0:F.channels}}},M.dispatchValue=O=>{k.value!==O&&(k.value=O,k.dispatchEvent(new Event("input",{bubbles:!0})))};const T=new Set;for(const[O,P]of m)if(O.initializer!=null){const F=O.facet==="super"?x:v,z=O.initializer(P.data,P.facets,P.channels,b,F,M);if(z.data!==void 0&&(P.data=z.data),z.facets!==void 0&&(P.facets=z.facets),z.channels!==void 0){const{fx:Q,fy:ee,...G}=z.channels;Ox(G),Object.assign(P.channels,G);for(const B of Object.values(G)){const{scale:Y}=B;Y!=null&&!V5(he.get(Y))&&(nb(B,e),T.add(Y))}(Q!=null||ee!=null)&&d.set(O,!0)}}if(T.size){const O=new Map;kr(O,m,e,Q=>T.has(Q)),kr(l,m,e,Q=>T.has(Q));const P=Wx(Uu(O,e),g),{scales:F,...z}=id(P);Object.assign(g,P),Object.assign(b,z),Object.assign(b.scales,F)}let D,N;p!==void 0&&(D={x:w==null?void 0:w.domain(),y:_==null?void 0:_.domain()},p=p4(p,D),N=m4(w,_,y));for(const[O,P]of m)P.values=O.scale(P.channels,b,M);const{width:I,height:$}=y;Vn(A).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",I).attr("height",$).attr("viewBox",`0 0 ${I} ${$}`).attr("aria-label",a).attr("aria-description",f).call(O=>O.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(es,n);for(const O of c){const{channels:P,values:F,facets:z}=m.get(O);if(p===void 0||O.facet==="super"){let Q=null;if(z&&(Q=z[0],Q=O.filter(Q,P,F),Q.length===0))continue;const ee=O.render(Q,b,F,x,M);if(ee==null)continue;A.appendChild(ee)}else{let Q;for(const ee of p){if(!(((j=O.facetAnchor)==null?void 0:j.call(O,p,D,ee))??!ee.empty))continue;let G=null;if(z){const Y=d.has(O);if(G=z[Y?ee.i:0],G=O.filter(G,P,F),G.length===0)continue;!Y&&G===z[0]&&(G=R5(G)),G.fx=ee.x,G.fy=ee.y,G.fi=ee.i}const B=O.render(G,b,F,v,M);if(B!=null){(Q??(Q=Vn(A).append("g"))).append(()=>B).datum(ee);for(const Y of["aria-label","aria-description","aria-hidden","transform"])B.hasAttribute(Y)&&(Q.attr(Y,B.getAttribute(Y)),B.removeAttribute(Y))}}Q==null||Q.selectChildren().attr("transform",N)}}const L=nx(g,M,e),{figure:R=r!=null||i!=null||o!=null||L.length>0}=e;R&&(k=S.createElement("figure"),k.className=`${u}-figure`,k.style.maxWidth="initial",r!=null&&k.append($d(S,r,"h2")),i!=null&&k.append($d(S,i,"h3")),k.append(...L,A),o!=null&&k.append(Ix(S,o)),"value"in A&&(k.value=A.value,delete A.value)),k.scale=l4(b.scales),k.legend=J7(g,M,e);const H=U8();return H>0&&Vn(A).append("text").attr("x",I).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${H.toLocaleString("en-US")} warning${H===1?"":"s"}. Please check the console.`),k}function $d(e,t,n){if(t.ownerDocument)return t;const r=e.createElement(n);return r.append(t),r}function Ix(e,t){const n=e.createElement("figcaption");return n.append(t),n}function Ad(e){return e.flat(1/0).filter(t=>t!=null).map(Rx)}function Rx(e){return typeof e.render=="function"?e:new Lx(e)}class Lx extends Qe{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function ss(e,t){for(const n in e)nb(e[n],t);return e}function nb(e,t){const{scale:n,transform:r=!0}=e;if(n==null||!r)return;const{type:i,percent:o,interval:a,transform:f=o?u=>u==null?NaN:u*100:hm(a,i)}=t[n]??{};f!=null&&(e.value=me(e.value,f),e.transform=!1)}function Ox(e){for(const t in e)km(t,e[t])}function kr(e,t,n,r=C5){var i,o;for(const{channels:a}of t.values())for(const f in a){const u=a[f],{scale:c}=u;if(c!=null&&r(c))if(c==="projection"){if(!C4(n)){const s=((i=n.x)==null?void 0:i.domain)===void 0,d=((o=n.y)==null?void 0:o.domain)===void 0;if(s||d){const[l,h]=N4(u);s&&qf(e,"x",l),d&&qf(e,"y",h)}}}else qf(e,c,u)}return e}function qf(e,t,n){const r=e.get(t);r!==void 0?r.push(n):e.set(t,[n])}function Fx(e,t){if(e==null)return;const{x:n,y:r}=e;if(n==null&&r==null)return;const i=lr(e.data);if(i==null)throw new Error("missing facet data");const o={};n!=null&&(o.fx=ui(i,{value:n,scale:"fx"})),r!=null&&(o.fy=ui(i,{value:r,scale:"fy"})),ss(o,t);const a=Kc(i,o);return{channels:o,groups:a,data:e.data}}function Ed(e,t,n){if(e.facet===null||e.facet==="super")return;const{fx:r,fy:i}=e;if(r!=null||i!=null){const u=lr(e.data??r??i);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const c={};return r!=null&&(c.fx=ui(u,{value:r,scale:"fx"})),i!=null&&(c.fy=ui(u,{value:i,scale:"fy"})),ss(c,n),{channels:c,groups:Kc(u,c)}}if(t===void 0)return;const{channels:o,groups:a,data:f}=t;if(e.facet!=="auto"||e.data===f)return{channels:o,groups:a};f.length>0&&(a.size>1||a.size===1&&o.fx&&o.fy&&[...a][0][1].size>1)&&ai(lr(e.data))===ai(f)&&tn(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function Px(e,t={}){return hr({...t,x:null,y:null},(n,r,i,o,a,f)=>f.getMarkState(e))}function qx(e){const t=[];for(const n of e){let r=n.tip;if(r){r===!0?r={}:typeof r=="string"&&(r={pointer:r});let{pointer:i,preferredAnchor:o}=r;i=/^x$/i.test(i)?n7:/^y$/i.test(i)?dd:t7,r=i(Px(n,r)),r.title=null,o===void 0&&(r.preferredAnchor=i===dd?"left":"bottom");const a=$x(n.data,r);a.facet=n.facet,a.facetAnchor=n.facetAnchor,t.push(a)}}return t}function zx(e,t,n){let{projection:r,x:i={},y:o={},fx:a={},fy:f={},axis:u,grid:c,facet:s={},facet:{axis:d=u,grid:l}=s,x:{axis:h=u,grid:p=h===null?null:c}=i,y:{axis:m=u,grid:g=m===null?null:c}=o,fx:{axis:y=d,grid:b=y===null?null:l}=a,fy:{axis:w=d,grid:_=w===null?null:l}=f}=n;(r||!Lu(i)&&!Cd("x",e))&&(h=p=null),(r||!Lu(o)&&!Cd("y",e))&&(m=g=null),t.has("fx")||(y=b=null),t.has("fy")||(w=_=null),h===void 0&&(h=!to(e,"x")),m===void 0&&(m=!to(e,"y")),y===void 0&&(y=!to(e,"fx")),w===void 0&&(w=!to(e,"fy")),h===!0&&(h="bottom"),m===!0&&(m="left"),y===!0&&(y=h==="top"||h===null?"bottom":"top"),w===!0&&(w=m==="right"||m===null?"left":"right");const v=[];return eo(v,_,Y7,f),Ji(v,w,O7,"right","left",s,f),eo(v,b,j7,a),Ji(v,y,F7,"top","bottom",s,a),eo(v,g,B7,o),Ji(v,m,Ng,"left","right",n,o),eo(v,p,H7,i),Ji(v,h,Dg,"bottom","top",n,i),v}function Ji(e,t,n,r,i,o,a){if(!t)return;const f=Ux(t);a=Bx(f?r:t,o,a);const{line:u}=a;(n===Ng||n===Dg)&&u&&!fi(u)&&e.push(Tx(Yx(a))),e.push(n(a)),f&&e.push(n({...a,anchor:i,label:null}))}function eo(e,t,n,r){!t||fi(t)||e.push(n(Hx(t,r)))}function Ux(e){return/^\s*both\s*$/i.test(e)}function Bx(e,t,{line:n=t.line,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:d,label:l=t.label,labelAnchor:h,labelArrow:p=t.labelArrow,labelOffset:m}){return{anchor:e,line:n,ticks:r,tickSize:i,tickSpacing:o,tickPadding:a,tickFormat:f,tickRotate:u,fontVariant:c,ariaLabel:s,ariaDescription:d,label:l,labelAnchor:h,labelArrow:p,labelOffset:m}}function Yx(e){const{anchor:t,line:n}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:n===!0?void 0:n}}function Hx(e,{stroke:t=Na(e)?e:void 0,ticks:n=jx(e)?e:void 0,tickSpacing:r,ariaLabel:i,ariaDescription:o}){return{stroke:t,ticks:n,tickSpacing:r,ariaLabel:i,ariaDescription:o}}function jx(e){switch(typeof e){case"number":return!0;case"string":return!Na(e)}return hn(e)||typeof(e==null?void 0:e.range)=="function"}function to(e,t){const n=`${t}-axis `;return e.some(r=>{var i;return(i=r.ariaLabel)==null?void 0:i.startsWith(n)})}function Cd(e,t){for(const n of t)for(const r in n.channels){const{scale:i}=n.channels[r];if(i===e||i==="projection")return!0}return!1}function Wx(e,t){for(const n in e){const r=e[n],i=t[n];r.label===void 0&&i&&(r.label=i.label)}return e}function Gx({fx:e,fy:t},n){const{marginTop:r,marginRight:i,marginBottom:o,marginLeft:a,width:f,height:u}=Zc(n),c=e&&kd(e),s=t&&kd(t);return{marginTop:t?s[0]:r,marginRight:e?f-c[1]:i,marginBottom:t?u-s[1]:o,marginLeft:e?c[0]:a,inset:{marginTop:n.marginTop,marginRight:n.marginRight,marginBottom:n.marginBottom,marginLeft:n.marginLeft},width:f,height:u}}function kd(e){const t=e.domain();if(t.length===0)return[0,e.bandwidth()];let n=e(t[0]),r=e(t[t.length-1]);return r<n&&([n,r]=[r,n]),[n,r+e.bandwidth()]}const Xx=new Map([["basis",e5],["basis-closed",t5],["basis-open",n5],["bundle",r5],["bump-x",Yv],["bump-y",Hv],["cardinal",i5],["cardinal-closed",o5],["cardinal-open",a5],["catmull-rom",f5],["catmull-rom-closed",u5],["catmull-rom-open",c5],["linear",Mi],["linear-closed",s5],["monotone-x",l5],["monotone-y",d5],["natural",h5],["step",p5],["step-after",g5],["step-before",m5]]);function rb(e=Mi,t){if(typeof e=="function")return e;const n=Xx.get(`${e}`.toLowerCase());if(!n)throw new Error(`unknown curve: ${e}`);if(t!==void 0){if("beta"in n)return n.beta(t);if("tension"in n)return n.tension(t);if("alpha"in n)return n.alpha(t)}return n}function Vx(e=ta,t){return typeof e!="function"&&`${e}`.toLowerCase()==="auto"?ta:rb(e,t)}function ta(e){return Mi(e)}function Zx(e={y:"count"},t={}){[e,t]=Jx(e,t);const{x:n,y:r}=t;return Qx(e9(n,t,xe),null,null,r,e,qa(t))}function Kx(e,t,n={}){if((n==null?void 0:n.interval)==null)return n;const{reduce:r=Wc}=n,i={filter:null};return n[t]!=null&&(i[t]=r),n[`${t}1`]!=null&&(i[`${t}1`]=r),n[`${t}2`]!=null&&(i[`${t}2`]=r),e(i,n)}function ib(e={}){return Kx(Zx,"y",Ii(e,"x"))}function Qx(e,t,n,r,{data:i=jc,filter:o=Ko,sort:a,reverse:f,...u}={},c={}){e=Nd(e),t=Nd(t),u=n9(u,c),i=fb(i,xe),a=a==null?void 0:ob("sort",a,c),o=o==null?void 0:ab("filter",o,c),r!=null&&Xr(u,"y","y1","y2")&&(r=null);const[s,d]=Re(e),[l,h]=Re(e),[p,m]=Re(t),[g,y]=Re(t),[b,w]=r!=null?[r,"y"]:[],[_,v]=Re(b),{x,y:M,z:S,fill:A,stroke:k,x1:T,x2:D,y1:N,y2:I,domain:$,cumulative:L,thresholds:R,interval:H,...j}=c,[O,P]=Re(S),[F]=Ke(A),[z]=Ke(k),[Q,ee]=Re(F),[G,B]=Re(z);return{..."z"in c&&{z:O||S},..."fill"in c&&{fill:Q||A},..."stroke"in c&&{stroke:G||k},...ki(j,(Y,C,q)=>{const U=Zo(se(Y,b),q==null?void 0:q[w]),E=se(Y,S),ne=se(Y,F),W=se(Y,z),ie=Am(u,{z:E,fill:ne,stroke:W}),oe=[],ce=[],st=U&&v([]),gn=E&&P([]),wb=ne&&ee([]),vb=W&&B([]),hs=e&&d([]),xb=e&&h([]),ps=t&&m([]),Tb=t&&y([]),Mb=o9(e,t,Y);let Sb=0;for(const qn of u)qn.initialize(Y);a&&a.initialize(Y),o&&o.initialize(Y);for(const qn of C){const ms=[];for(const zn of u)zn.scope("facet",qn);a&&a.scope("facet",qn),o&&o.scope("facet",qn);for(const[zn,$b]of Vr(qn,ie))for(const[Ab,Li]of Vr($b,U))for(const[lt,$t]of Mb(Li))if(ie&&($t.z=zn),!(o&&!o.reduce(lt,$t))){ms.push(Sb++),ce.push(i.reduceIndex(lt,Y,$t)),U&&st.push(Ab),E&&gn.push(ie===E?zn:E[(lt.length>0?lt:Li)[0]]),ne&&wb.push(ie===ne?zn:ne[(lt.length>0?lt:Li)[0]]),W&&vb.push(ie===W?zn:W[(lt.length>0?lt:Li)[0]]),hs&&(hs.push($t.x1),xb.push($t.x2)),ps&&(ps.push($t.y1),Tb.push($t.y2));for(const Eb of u)Eb.reduce(lt,$t);a&&a.reduce(lt,$t)}oe.push(ms)}return Em(oe,a,f),{data:ce,facets:oe}}),...!Xr(u,"x")&&(s?{x1:s,x2:l,x:Ou(s,l)}:{x,x1:T,x2:D}),...!Xr(u,"y")&&(p?{y1:p,y2:g,y:Ou(p,g)}:{y:M,y1:N,y2:I}),..._&&{[w]:_},...Object.fromEntries(u.map(({name:Y,output:C})=>[Y,C]))}}function Jx({cumulative:e,domain:t,thresholds:n,interval:r,...i},o){return[i,{cumulative:e,domain:t,thresholds:n,interval:r,...o}]}function e9(e,{cumulative:t,domain:n,thresholds:r,interval:i},o){return e={...vr(e)},e.domain===void 0&&(e.domain=n),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=r),e.interval===void 0&&(e.interval=i),e.value===void 0&&(e.value=o),e.thresholds=t9(e.thresholds,e.interval),e}function Nd(e){if(e==null)return;const{value:t,cumulative:n,domain:r=je,thresholds:i}=e,o=a=>{let f=se(a,t),u;if(Fe(f)||i9(i)){f=me(f,sm,Float64Array);let[s,d]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!Gn(i)?i(f,s,d):i;typeof l=="number"&&(l=ip(s,d,l)),Gn(l)&&(r===je&&(s=l.floor(s),d=l.offset(l.floor(d))),l=l.range(s,l.offset(d))),u=l}else{f=sr(f);let[s,d]=typeof r=="function"?r(f):r,l=typeof i=="function"&&!Gn(i)?i(f,s,d):i;if(typeof l=="number")if(r===je){let h=yo(s,d,l);if(isFinite(h))if(h>0){let p=Math.round(s/h),m=Math.round(d/h);p*h<=s||--p,m*h>d||++m;let g=m-p+1;l=new Float64Array(g);for(let y=0;y<g;++y)l[y]=(p+y)*h}else if(h<0){h=-h;let p=Math.round(s*h),m=Math.round(d*h);p/h<=s||--p,m/h>d||++m;let g=m-p+1;l=new Float64Array(g);for(let y=0;y<g;++y)l[y]=(p+y)/h}else l=[s];else l=[s]}else l=Zr(s,d,l);else Gn(l)&&(r===je&&(s=l.floor(s),d=l.offset(l.floor(d))),l=l.range(s,l.offset(d)));u=l}const c=[];if(u.length===1)c.push([u[0],u[0]]);else for(let s=1;s<u.length;++s)c.push([u[s-1],u[s]]);return c.bin=(n<0?f9:n>0?a9:ls)(c,u,f),c};return o.label=dn(t),o}function t9(e,t,n=Dd){if(e===void 0)return t===void 0?n:wr(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return py;case"scott":return bh;case"sturges":return sy;case"auto":return Dd}return Cc(e)}return e}function n9(e,t){return Tm(e,t,ob)}function ob(e,t,n){return Yc(e,t,n,ab)}function ab(e,t,n){return Hc(e,t,n,fb)}function fb(e,t){return Ia(e,t,r9)}function r9(e){switch(`${e}`.toLowerCase()){case"x":return u9;case"x1":return s9;case"x2":return l9;case"y":return c9;case"y1":return d9;case"y2":return h9;case"z":return Cm}throw new Error(`invalid bin reduce: ${e}`)}function Dd(e,t,n){return Math.min(200,bh(e,t,n))}function i9(e){return P5(e)||hn(e)&&Fe(e)}function o9(e,t,n){const r=e==null?void 0:e(n),i=t==null?void 0:t(n);return r&&i?function*(o){const a=r.bin(o);for(const[f,[u,c]]of r.entries()){const s=i.bin(a[f]);for(const[d,[l,h]]of i.entries())yield[s[d],{data:n,x1:u,y1:l,x2:c,y2:h}]}}:r?function*(o){const a=r.bin(o);for(const[f,[u,c]]of r.entries())yield[a[f],{data:n,x1:u,x2:c}]}:function*(o){const a=i.bin(o);for(const[f,[u,c]]of i.entries())yield[a[f],{data:n,y1:u,y2:c}]}}function ls(e,t,n){return t=sr(t),r=>{var o;const i=e.map(()=>[]);for(const a of r)(o=i[oa(t,n[a])-1])==null||o.push(a);return i}}function a9(e,t,n){const r=ls(e,t,n);return i=>{const o=r(i);for(let a=1,f=o.length;a<f;++a){const u=o[a-1],c=o[a];for(const s of u)c.push(s)}return o}}function f9(e,t,n){const r=ls(e,t,n);return i=>{const o=r(i);for(let a=o.length-2;a>=0;--a){const f=o[a+1],u=o[a];for(const c of f)u.push(c)}return o}}function ub(e,t){const n=(+e+ +t)/2;return e instanceof Date?new Date(n):n}const u9={reduceIndex(e,t,{x1:n,x2:r}){return ub(n,r)}},c9={reduceIndex(e,t,{y1:n,y2:r}){return ub(n,r)}},s9={reduceIndex(e,t,{x1:n}){return n}},l9={reduceIndex(e,t,{x2:n}){return n}},d9={reduceIndex(e,t,{y1:n}){return n}},h9={reduceIndex(e,t,{y2:n}){return n}},p9={ariaLabel:"area",strokeWidth:1,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class cb extends Qe{constructor(t,n={}){const{x1:r,y1:i,x2:o,y2:a,z:f,curve:u,tension:c}=n;super(t,{x1:{value:r,scale:"x"},y1:{value:i,scale:"y"},x2:{value:o,scale:"x",optional:!0},y2:{value:a,scale:"y",optional:!0},z:{value:Lc(n),optional:!0}},n,p9),this.z=f,this.curve=rb(u,c)}filter(t){return t}render(t,n,r,i,o){const{x1:a,y1:f,x2:u=a,y2:c=f}=r;return Te("svg:g",o).call(Wt,this,i,o).call(Gt,this,n,0,0).call(s=>s.selectAll().data(Jm(t,[a,f,u,c],this,r)).enter().append("path").call(Tt,this).call(Qm,this,r).attr("d",Bv().curve(this.curve).defined(d=>d>=0).x0(d=>a[d]).y0(d=>f[d]).x1(d=>u[d]).y1(d=>c[d]))).node()}}function Id(e,t){return t===void 0?ds(e,{x:Dc,y:Xo}):new cb(e,t)}function ds(e,t){const{x:n=$i,...r}=ib(t);return new cb(e,Xg(Gg({...r,x1:n,x2:void 0})))}const m9={ariaLabel:"line",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinecap:"round",strokeLinejoin:"round",strokeMiterlimit:1};class sb extends Qe{constructor(t,n={}){const{x:r,y:i,z:o,curve:a,tension:f}=n;super(t,{x:{value:r,scale:"x"},y:{value:i,scale:"y"},z:{value:Lc(n),optional:!0}},n,m9),this.z=o,this.curve=Vx(a,f),ns(this,n)}filter(t){return t}project(t,n,r){this.curve!==ta&&super.project(t,n,r)}render(t,n,r,i,o){const{x:a,y:f}=r,{curve:u}=this;return Te("svg:g",o).call(Wt,this,i,o).call(Gt,this,n).call(c=>c.selectAll().data(Jm(t,[a,f],this,r)).enter().append("path").call(Tt,this).call(Qm,this,r).call(f7,this,r,o).attr("d",u===ta&&o.projection?g9(o.projection,a,f):$1().curve(u).defined(s=>s>=0).x(s=>a[s]).y(s=>f[s]))).node()}}function g9(e,t,n){const r=ma(e);return t=sr(t),n=sr(n),i=>{let o=[];const a=[o];for(const f of i)f===-1?(o=[],a.push(o)):o.push([t[f],n[f]]);return r({type:"MultiLineString",coordinates:a})}}function b9(e,{x:t,y:n,...r}={}){return[t,n]=Rc(t,n),new sb(e,{...r,x:t,y:n})}function Ba(e,{x:t=$i,y:n=xe,...r}={}){return new sb(e,ib({...r,x:t,y:n}))}function lb(e,t){return y9("y",e,t)}function y9(e,t,{x1:n,x2:r,y1:i,y2:o,x:a=n===void 0&&r===void 0?$i:void 0,y:f=i===void 0&&o===void 0?xe:void 0,fill:u,positiveFill:c="#3ca951",negativeFill:s="#4269d0",fillOpacity:d=1,positiveFillOpacity:l=d,negativeFillOpacity:h=d,stroke:p,strokeOpacity:m,z:g=Ke(p)[0],clip:y,tip:b,render:w,..._}={}){return[n,r]=Rd(a,n,r),[i,o]=Rd(f,i,o),n===r&&i===o&&(i=Qt(0)),{tip:b}=Ii({tip:b},"x"),Pn(Ae(c)?null:Object.assign(Id(t,{x1:n,x2:r,y1:i,y2:o,z:g,fill:c,fillOpacity:l,render:Jo(w,Ld(e,!0)),clip:y,..._}),{ariaLabel:"positive difference"}),Ae(s)?null:Object.assign(Id(t,{x1:n,x2:r,y1:i,y2:o,z:g,fill:s,fillOpacity:h,render:Jo(w,Ld(e,!1)),clip:y,..._}),{ariaLabel:"negative difference"}),b9(t,{x:r,y:o,z:g,stroke:p,strokeOpacity:m,tip:b,clip:!0,..._}))}function Rd(e,t,n){return t===void 0&&n===void 0?t=n=Qt(e):t===void 0?(n=Qt(n),t=e===void 0?n:Qt(e)):n===void 0?(t=Qt(t),n=e===void 0?t:Qt(e)):(t=Qt(t),n=Qt(n)),[t,n]}function Qt(e){let t;const{value:n,label:r=dn(n)}=vr(e);return{transform:i=>t||(t=se(i,n)),label:r}}function Ld(e,t){const n="x",r=`${n}1`,i=`${n}2`,o=`${e}1`,a=`${e}2`;return(f,u,c,s,d,l)=>{const{[r]:h,[i]:p}=c,m=new Float32Array(h.length),g=new Float32Array(p.length),y=s.height;(t===Hm(u[e])<0?m:g).fill(y);const b=l(f,u,{...c,[i]:h,[a]:g},s,d),w=l(f,u,{...c,[r]:p,[o]:m},s,d),_=b.querySelector("g")??b,v=w.querySelector("g")??w;for(let x=0;_.firstChild;x+=2){const M=Km(),S=Te("svg:clipPath",d).attr("id",M).node();S.appendChild(_.firstChild),v.childNodes[x].setAttribute("clip-path",`url(#${M})`),v.insertBefore(S,v.childNodes[x])}return w}}Qe.prototype.plot=function({marks:e=[],...t}={}){return Dx({...t,marks:[...e,this]})};function Od(e){const t=document.createElement("template");return t.innerHTML=e,document.importNode(t.content,!0)}function Fd(e){const t=document.createElementNS("http://www.w3.org/2000/svg","g");return t.innerHTML=e,t}Object.assign(ra(Od,e=>{if(e.firstChild===null)return null;if(e.firstChild===e.lastChild)return e.removeChild(e.firstChild);const t=document.createElement("span");return t.appendChild(e),t}),{fragment:ra(Od,e=>e)});const _9=Object.assign(ra(Fd,e=>e.firstChild===null?null:e.firstChild===e.lastChild?e.removeChild(e.firstChild):e),{fragment:ra(Fd,e=>{const t=document.createDocumentFragment();for(;e.firstChild;)t.appendChild(e.firstChild);return t})}),w9=9,v9=10,x9=12,T9=13,M9=32,S9=65,$9=90,A9=97,E9=122,no=60,ke=62,Xt=47,dt=45,zf=33,Uf=61,Pd=34,qd=39,C9=63,Me=1,zd=2,Ud=3,Bf=4,ro=5,Vt=6,Yf=7,io=8,oo=9,Hf=10,jf=11,ao=12,Wf=13,Nr=14,Bd=15,Yd=16,Nt=17,Hd=18,jd=19,Wd=20,Gd=21,Gf=22,Dr=23,Xd=24,Vd=25,ht=26,Zd=27,Kd=28,Qd=29,k9=128,Jd=1,N9=8,D9=1,db="http://www.w3.org/2000/svg",bn="http://www.w3.org/1999/xlink",eh="http://www.w3.org/XML/1998/namespace",th="http://www.w3.org/2000/xmlns/",hb=new Map(["attributeName","attributeType","baseFrequency","baseProfile","calcMode","clipPathUnits","diffuseConstant","edgeMode","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"].map(e=>[e.toLowerCase(),e])),na=new Map([["xlink:actuate",bn],["xlink:arcrole",bn],["xlink:href",bn],["xlink:role",bn],["xlink:show",bn],["xlink:title",bn],["xlink:type",bn],["xml:lang",eh],["xml:space",eh],["xmlns",th],["xmlns:xlink",th]]);function ra(e,t){return function({raw:n}){let r=Me,i="",o,a,f,u,c=0;for(let h=0,p=arguments.length;h<p;++h){const m=n[h];if(h>0){const g=arguments[h];switch(r){case ht:{if(g!=null){const y=`${g}`;if(pb(a))i+=y.replace(/[<]/g,Hn);else{if(new RegExp(`</${a}[\\s>/]`,"i").test(i.slice(-a.length-2)+y))throw new Error("unsafe raw text");i+=y}}break}case Me:{g==null||(g instanceof Node||typeof g!="string"&&g[Symbol.iterator]||/(?:^|>)$/.test(n[h-1])&&/^(?:<|$)/.test(m)?(i+="<!--::"+h+"-->",c|=k9):i+=`${g}`.replace(/[<&]/g,Hn));break}case oo:{r=ao;let y;if(/^[\s>]/.test(m)){if(g==null||g===!1){i=i.slice(0,f-n[h-1].length);break}if(g===!0||(y=`${g}`)==""){i+="''";break}if(n[h-1].slice(f,u)==="style"&&Xf(g)||typeof g=="function"){i+="::"+h,c|=Jd;break}}if(y===void 0&&(y=`${g}`),y==="")throw new Error("unsafe unquoted empty string");i+=y.replace(/^['"]|[\s>&]/g,Hn);break}case ao:{i+=`${g}`.replace(/[\s>&]/g,Hn);break}case jf:{i+=`${g}`.replace(/['&]/g,Hn);break}case Hf:{i+=`${g}`.replace(/["&]/g,Hn);break}case Vt:{if(Xf(g)){i+="::"+h+"=''",c|=Jd;break}throw new Error("invalid binding")}case Nt:break;default:throw new Error("invalid binding")}}for(let g=0,y=m.length;g<y;++g){const b=m.charCodeAt(g);switch(r){case Me:{b===no&&(r=zd);break}case zd:{b===zf?r=Vd:b===Xt?r=Ud:fo(b)?(o=g,a=void 0,r=Bf,--g):b===C9?(r=ro,--g):(r=Me,--g);break}case Ud:{fo(b)?(r=Bf,--g):b===ke?r=Me:(r=ro,--g);break}case Bf:{Zt(b)?(r=Vt,a=Rr(m,o,g)):b===Xt?r=Nr:b===ke&&(a=Rr(m,o,g),r=Ir(a)?ht:Me);break}case Vt:{Zt(b)||(b===Xt||b===ke?(r=Yf,--g):b===Uf?(r=io,f=g+1,u=void 0):(r=io,--g,f=g+1,u=void 0));break}case io:{Zt(b)||b===Xt||b===ke?(r=Yf,--g,u=g):b===Uf&&(r=oo,u=g);break}case Yf:{Zt(b)||(b===Xt?r=Nr:b===Uf?r=oo:b===ke?r=Ir(a)?ht:Me:(r=io,--g,f=g+1,u=void 0));break}case oo:{Zt(b)||(b===Pd?r=Hf:b===qd?r=jf:b===ke?r=Ir(a)?ht:Me:(r=ao,--g));break}case Hf:{b===Pd&&(r=Wf);break}case jf:{b===qd&&(r=Wf);break}case ao:{Zt(b)?r=Vt:b===ke&&(r=Ir(a)?ht:Me);break}case Wf:{Zt(b)?r=Vt:b===Xt?r=Nr:b===ke?r=Ir(a)?ht:Me:(r=Vt,--g);break}case Nr:{b===ke?r=Me:(r=Vt,--g);break}case ro:{b===ke&&(r=Me);break}case Bd:{b===dt?r=Yd:b===ke?r=Me:(r=Nt,--g);break}case Yd:{b===dt?r=Dr:b===ke?r=Me:(r=Nt,--g);break}case Nt:{b===no?r=Hd:b===dt&&(r=Gf);break}case Hd:{b===zf?r=jd:b!==no&&(r=Nt,--g);break}case jd:{b===dt?r=Wd:(r=Nt,--g);break}case Wd:{b===dt?r=Gd:(r=Dr,--g);break}case Gd:{r=Dr,--g;break}case Gf:{b===dt?r=Dr:(r=Nt,--g);break}case Dr:{b===ke?r=Me:b===zf?r=Xd:b!==dt&&(r=Nt,--g);break}case Xd:{b===dt?r=Gf:b===ke?r=Me:(r=Nt,--g);break}case Vd:{b===dt&&m.charCodeAt(g+1)===dt?(r=Bd,++g):(r=ro,--g);break}case ht:{b===no&&(r=Zd);break}case Zd:{b===Xt?r=Kd:(r=ht,--g);break}case Kd:{fo(b)?(o=g,r=Qd,--g):(r=ht,--g);break}case Qd:{Zt(b)&&a===Rr(m,o,g)?r=Vt:b===Xt&&a===Rr(m,o,g)?r=Nr:b===ke&&a===Rr(m,o,g)?r=Me:fo(b)||(r=ht,--g);break}default:{r=void 0;break}}}i+=m}const s=e(i),d=document.createTreeWalker(s,c,null,!1),l=[];for(;d.nextNode();){const h=d.currentNode;switch(h.nodeType){case D9:{const p=h.attributes;for(let m=0,g=p.length;m<g;++m){const{name:y,value:b}=p[m];if(/^::/.test(y)){const w=arguments[+y.slice(2)];nh(h,y),--m,--g;for(const _ in w){const v=w[_];v==null||v===!1||(typeof v=="function"?h[_]=v:_==="style"&&Xf(v)?rh(h[_],v):I9(h,_,v===!0?"":v))}}else if(/^::/.test(b)){const w=arguments[+b.slice(2)];nh(h,y),--m,--g,typeof w=="function"?h[y]=w:rh(h[y],w)}}break}case N9:{if(/^::/.test(h.data)){const p=h.parentNode,m=arguments[+h.data.slice(2)];if(m instanceof Node)p.insertBefore(m,h);else if(typeof m!="string"&&m[Symbol.iterator])if(m instanceof NodeList||m instanceof HTMLCollection)for(let g=m.length-1,y=h;g>=0;--g)y=p.insertBefore(m[g],y);else for(const g of m)g!=null&&p.insertBefore(g instanceof Node?g:document.createTextNode(g),h);else p.insertBefore(document.createTextNode(m),h);l.push(h)}break}}}for(const h of l)h.parentNode.removeChild(h);return t(s)}}function Hn(e){return`&#${e.charCodeAt(0).toString()};`}function fo(e){return S9<=e&&e<=$9||A9<=e&&e<=E9}function Zt(e){return e===w9||e===v9||e===x9||e===M9||e===T9}function Xf(e){return e&&e.toString===Object.prototype.toString}function Ir(e){return e==="script"||e==="style"||pb(e)}function pb(e){return e==="textarea"||e==="title"}function Rr(e,t,n){return e.slice(t,n).toLowerCase()}function I9(e,t,n){if(e.namespaceURI===db&&(t=t.toLowerCase(),t=hb.get(t)||t,na.has(t))){e.setAttributeNS(na.get(t),t,n);return}e.setAttribute(t,n)}function nh(e,t){if(e.namespaceURI===db&&(t=t.toLowerCase(),t=hb.get(t)||t,na.has(t))){e.removeAttributeNS(na.get(t),t);return}e.removeAttribute(t)}function rh(e,t){for(const n in t){const r=t[n];n.startsWith("--")?e.setProperty(n,r):e[n]=r}}function mb({width:e,height:t,timeseries:n,periods:r,color:i=De.violet[700],opacity:o=.5}){const a=pe.useRef(null);return pe.useEffect(()=>{var u;const f=Pn([()=>_9`<defs>
        <linearGradient id="gradient" gradientTransform="rotate(90)">
          <stop offset="20%" stop-color="${i}" stop-opacity="0.5" />
          <stop offset="100%" stop-color="${i}" stop-opacity="0" />
        </linearGradient>
      </defs>`,Ri([0]),is(r,{x:c=>new Date(c.date),stroke:De.slate[500],opacity:.3}),as(r,{x:c=>new Date(c.date),text:c=>c.name,frameAnchor:"top",textAnchor:"start",fill:De.slate[500],stroke:De.slate[950],dx:1,dy:-17}),ds(n,{x:c=>new Date(c.date),y:"amount",fill:"url(#gradient)",opacity:o}),Ba(n,{x:c=>new Date(c.date),y:"amount",stroke:i,marker:"dot",channels:{amount:{label:"",value:"amount"},date:{label:"",value:"date"}},tip:{stroke:De.slate[700],fill:De.slate[800],fillOpacity:.9,format:{x:!1,y:!1,amount:c=>c.toLocaleString("en-AU",{style:"currency",currency:"AUD"}),date:c=>ih(c).format("D MMMM, YYYY")}}})]).plot({width:e,height:t,marginLeft:50,y:{grid:!0}});return(u=a.current)==null||u.append(f),()=>f.remove()},[i,n,t,o,r,e]),re.jsx("div",{ref:a,className:"h-full w-full"})}mb.__docgenInfo={description:"",methods:[],displayName:"AreaChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},periods:{required:!0,tsType:{name:"Periods"},description:""},color:{required:!1,tsType:{name:"string"},description:"",defaultValue:{value:"twColors.violet[700]",computed:!0}},opacity:{required:!1,tsType:{name:"number"},description:"",defaultValue:{value:"0.5",computed:!1}}}};const yt={primaryLight:De.violet[600],primary:De.violet[700],secondary:De.amber[400],secondaryDark:De.amber[500]};function gb({width:e,height:t,timeseries:n,periods:r}){const i=pe.useRef(null);return console.log("DifferenceChart",{timeseries:n,periods:r}),pe.useEffect(()=>{var a;const o=Pn([Ri([0]),is(r,{x:f=>new Date(f.date),stroke:De.slate[500],opacity:.3}),as(r,{x:f=>new Date(f.date),text:f=>f.name,frameAnchor:"top",textAnchor:"start",fill:De.slate[500],stroke:De.slate[950],dx:1,dy:-17}),lb(n,xm({y1:Qo(f=>f.name==="highlighted"),y2:Qo(f=>f.name==="pinned")},{x:f=>new Date(f.date),y:"amount",positiveFill:yt.secondary,negativeFill:yt.primary,fillOpacity:.2})),Ba(n,{x:f=>new Date(f.date),y:"amount",stroke:f=>f.name==="highlighted"?yt.primaryLight:yt.secondary,marker:"dot",channels:{amount:{label:"",value:"amount"},date:{label:"",value:"date"}},tip:{stroke:De.slate[700],fill:De.slate[800],fillOpacity:.9,format:{x:!1,y:!1,z:!1,amount:f=>f.toLocaleString("en-AU",{style:"currency",currency:"AUD"}),date:f=>ih(f).format("D MMMM, YYYY")}}})]).plot({width:e,height:t,marginLeft:50,y:{grid:!0}});return(a=i.current)==null||a.append(o),()=>o.remove()},[n,t,e,r]),re.jsx("div",{ref:i,className:"h-full w-full"})}gb.__docgenInfo={description:"",methods:[],displayName:"DifferenceChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},periods:{required:!0,tsType:{name:"Periods"},description:""}}};function R9(e,t){if(e.length<=2)return e;const[n,r]=t;let i=Math.floor((e.length-1)*(n/100)),o=Math.floor((e.length-1)*(r/100));if(o-i===0)if(o+1<e.length)o+=1;else if(i-1>=0)i-=1;else throw new Error("Invalid selection (should have at least two data points)");const a=e[i].date,f=e[o].date;return e.filter(u=>u.date>=a&&u.date<=f)}function L9({type:e,timeseries:t,periods:n,selection:r}){const i=pe.useMemo(()=>R9(t,r),[t,r]);if(i.length<2){const o=i.length===0?"No data":"Insufficient data";return re.jsx("div",{className:"flex h-full items-center justify-center text-lg font-medium text-slate-600",children:o})}return re.jsx(Xu,{children:({width:o,height:a})=>e==="area"?re.jsx(mb,{width:o,height:a,timeseries:i,periods:n}):re.jsx(gb,{width:o,height:a,timeseries:i,periods:n})})}L9.__docgenInfo={description:"",methods:[],displayName:"ScenarioChart",props:{type:{required:!0,tsType:{name:"union",raw:"'area' | 'difference'",elements:[{name:"literal",value:"'area'"},{name:"literal",value:"'difference'"}]},description:""},timeseries:{required:!0,tsType:{name:"TimeSeriesData"},description:""},periods:{required:!0,tsType:{name:"Periods"},description:""},selection:{required:!0,tsType:{name:"Selection"},description:""}}};function bb({width:e,height:t,data:n}){const r=pe.useRef(null);return pe.useEffect(()=>{var o;const i=Pn([Ri([0]),ds(n,{x:a=>new Date(a.date),y:"amount",fill:yt.primary,opacity:.5}),Ba(n,{x:a=>new Date(a.date),y:"amount",stroke:yt.primary})]).plot({width:e,height:t,marginLeft:0,marginRight:0,marginTop:16,y:{axis:null}});return(o=r.current)==null||o.append(i),()=>i.remove()},[n,t,e]),re.jsx("div",{ref:r,className:"h-full w-full"})}bb.__docgenInfo={description:"",methods:[],displayName:"TimelineAreaChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""}}};function yb({width:e,height:t,data:n}){const r=pe.useRef(null);return pe.useEffect(()=>{var o;const i=Pn([Ri([0]),lb(n,xm({y1:Qo(a=>a.name==="highlighted"),y2:Qo(a=>a.name==="pinned")},{x:a=>new Date(a.date),y:"amount",positiveFill:yt.secondary,negativeFill:yt.primary,fillOpacity:.2})),Ba(n,{x:a=>new Date(a.date),y:"amount",stroke:a=>a.name==="highlighted"?yt.primaryLight:yt.secondary})]).plot({width:e,height:t,marginLeft:0,marginRight:0,marginTop:16,y:{axis:null}});return(o=r.current)==null||o.append(i),()=>i.remove()},[n,t,e]),re.jsx("div",{ref:r,className:"h-full w-full"})}yb.__docgenInfo={description:"",methods:[],displayName:"TimelineDifferenceChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""}}};function O9({leftPanelRef:e,rightPanelRef:t,initialSelection:n,onUpdateSelection:r}){const[i,o]=pe.useState(n[0]),[a,f]=pe.useState(n[1]),u=pe.useCallback(d=>{o(d),r&&r([d,a])},[r,a]),c=pe.useCallback(d=>{f(100-d),r&&r([i,100-d])},[r,i]),s=pe.useCallback(()=>{var l,h;a-i!==100&&((l=e.current)==null||l.resize(0),(h=t.current)==null||h.resize(0),o(0),f(100),r&&r([0,100]))},[i,a,e,t,r]);return{start:i,end:a,updateStart:u,updateEnd:c,maximize:s}}function _b({disabled:e=!1,initialSelection:t=[0,100],onUpdateSelection:n}){const[r,i]=t,o=pe.useRef(null),a=pe.useRef(null),{start:f,end:u,updateStart:c,updateEnd:s,maximize:d}=O9({leftPanelRef:o,rightPanelRef:a,initialSelection:t,onUpdateSelection:n}),l=u-f===999;return re.jsxs(Nb,{direction:"horizontal",onDoubleClick:d,children:[re.jsx(Ya,{className:"bg-gradient-to-tr from-slate-600/5 to-slate-600/20 backdrop-blur-[1px]",ref:o,defaultSize:r,onResize:c}),re.jsx(bs,{className:"flex w-[5px] flex-col items-center justify-center bg-slate-700",disabled:e,children:re.jsx(gs,{className:"text-slate-950",size:16})}),re.jsx(Ya,{className:`border-b border-t border-slate-700 ${l&&"cursor-grab"}`}),re.jsx(bs,{className:"flex w-[5px] flex-col items-center justify-center bg-slate-700",disabled:e,children:re.jsx(gs,{className:"text-slate-950",size:16})}),re.jsx(Ya,{className:"bg-gradient-to-tr from-slate-600/5 to-slate-600/20 backdrop-blur-[1px]",ref:a,defaultSize:100-i,onResize:s})]})}_b.__docgenInfo={description:"",methods:[],displayName:"TimelineSelector",props:{disabled:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}},initialSelection:{required:!1,tsType:{name:"Selection"},description:"",defaultValue:{value:"[0, 100]",computed:!1}},onUpdateSelection:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection: Selection) => void",signature:{arguments:[{type:{name:"Selection"},name:"selection"}],return:{name:"void"}}},description:""}}};function F9({data:e,type:t,initialSelection:n,onUpdateSelection:r}){const i=e&&Array.from(e).length<2;return re.jsxs("div",{className:"relative h-20 bg-slate-900",children:[!i&&re.jsx(Xu,{children:({width:o,height:a})=>t==="area"?re.jsx(bb,{width:o,height:a,data:e}):re.jsx(yb,{width:o,height:a,data:e})}),re.jsx("div",{className:"absolute bottom-0 left-0 right-0 top-0",children:re.jsx(_b,{initialSelection:n,onUpdateSelection:r,disabled:i})})]})}F9.__docgenInfo={description:"",methods:[],displayName:"TimelineScrubber",props:{type:{required:!0,tsType:{name:"union",raw:"'area' | 'difference'",elements:[{name:"literal",value:"'area'"},{name:"literal",value:"'difference'"}]},description:""},data:{required:!1,tsType:{name:"Plot.Data"},description:""},initialSelection:{required:!1,tsType:{name:"Selection"},description:""},onUpdateSelection:{required:!1,tsType:{name:"signature",type:"function",raw:"(selection: Selection) => void",signature:{arguments:[{type:{name:"Selection"},name:"selection"}],return:{name:"void"}}},description:""}}};export{Kl as A,ds as B,lb as C,Ba as D,xm as E,Qo as F,as as G,ix as H,_9 as I,Qe as M,Xu as R,Xb as S,F9 as T,L9 as a,X9 as b,Zx as c,d7 as d,W9 as e,Pc as f,Te as g,Wt as h,xe as i,Gt as j,Tt as k,lu as l,Pn as m,In as n,wc as o,$c as p,Pe as q,Ri as r,G9 as s,mg as t,Pa as u,J1 as v,is as w,yg as x,hr as y,t7 as z};
