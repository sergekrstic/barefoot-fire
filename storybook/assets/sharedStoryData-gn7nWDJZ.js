import{j as d}from"./jsx-runtime-D_zvdyIk.js";import"./CollapsibleTree.component-Bl3dlfdS.js";import"./DropdownMenu.component-2YZdI-ss.js";import{m as l,r as f,d as y,e as D,R as g}from"./TimelineScrubber.component-BzaO8mdv.js";import"./ScenarioGraph.component-Da6RCEiv.js";import{r as m}from"./index-PahMPgEy.js";function c({width:r,height:n,data:s,period:a,interval:o="month",cumulative:i=!1}){const e=m.useRef(null);return m.useEffect(()=>{var u;const t=l([f([0]),y(s,D({y:"sum"},{x:"date",y:"amount",fill:"name",interval:o,cumulative:i}))]).plot({width:r,height:n,marginLeft:50,y:{grid:!0},x:{domain:[new Date(a.startDate),new Date(a.endDate)]}});return(u=e.current)==null||u.append(t),()=>t.remove()},[i,s,n,o,a.endDate,a.startDate,r]),d.jsx("div",{ref:e,className:"h-full w-full"})}c.__docgenInfo={description:"",methods:[],displayName:"ScenarioChartV1",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},data:{required:!0,tsType:{name:"Plot.Data"},description:""},period:{required:!0,tsType:{name:"Period"},description:""},interval:{required:!1,tsType:{name:"Plot.RangeInterval"},description:"",defaultValue:{value:"'month'",computed:!1}},cumulative:{required:!1,tsType:{name:"boolean"},description:"",defaultValue:{value:"false",computed:!1}}}};function v({scenarioEvents:r,interval:n,cumulative:s}){const{period:a,budgetEvents:o}=r,i=o.map(e=>e.events.map(t=>({date:new Date(t.date),amount:t.value,name:e.budget.name}))).flat();return d.jsx(g,{children:({width:e,height:t})=>d.jsx(c,{width:e,height:t,data:i,period:a,cumulative:s,interval:n})})}v.__docgenInfo={description:"",methods:[],displayName:"ScenarioChartV1",props:{scenarioEvents:{required:!0,tsType:{name:"ScenarioEvents"},description:""},interval:{required:!1,tsType:{name:"Plot.RangeInterval"},description:""},cumulative:{required:!1,tsType:{name:"boolean"},description:""}}};const h={startDate:"2024-01-01",endDate:"2024-12-31"},S={startDate:"2024-01-01",endDate:"2034-12-31"},p={startDate:"2024-01-01",endDate:"2054-12-31"},C={id:"mock-scenario",name:"Mock scenario",period:h,periods:[],budgets:[]},V={id:"1",name:"Budget 1",amount:1e3,frequency:"year",...p},Y={id:"2",name:"Budget 1",amount:1e3,interestRate:.05,frequency:"year",...p};export{v as S,p as a,V as b,C as d,h as o,S as t,Y as y};
