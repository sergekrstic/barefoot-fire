var UT=Object.defineProperty;var HT=(e,t,r)=>t in e?UT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:r}):e[t]=r;var Me=(e,t,r)=>HT(e,typeof t!="symbol"?t+"":t,r);import{j as ii}from"./jsx-runtime-BjgbQsUx.js";import{c as Uu,g as p1,r as ln}from"./index-jJyPZTrg.js";import{t as Hu}from"./colors-UMl0uCuE.js";function GT(){return ii.jsx("div",{className:"flex h-full w-full items-center justify-center border border-black",children:"Budget Properties"})}GT.__docgenInfo={description:"",methods:[],displayName:"BudgetPropertiesPanel"};var ed,Ip;function m1(){if(Ip)return ed;Ip=1;function e(t){var r=typeof t;return t!=null&&(r=="object"||r=="function")}return ed=e,ed}var td,Bp;function XT(){if(Bp)return td;Bp=1;var e=typeof Uu=="object"&&Uu&&Uu.Object===Object&&Uu;return td=e,td}var rd,Fp;function y1(){if(Fp)return rd;Fp=1;var e=XT(),t=typeof self=="object"&&self&&self.Object===Object&&self,r=e||t||Function("return this")();return rd=r,rd}var nd,zp;function KT(){if(zp)return nd;zp=1;var e=y1(),t=function(){return e.Date.now()};return nd=t,nd}var ad,Yp;function ZT(){if(Yp)return ad;Yp=1;var e=/\s/;function t(r){for(var n=r.length;n--&&e.test(r.charAt(n)););return n}return ad=t,ad}var id,qp;function QT(){if(qp)return id;qp=1;var e=ZT(),t=/^\s+/;function r(n){return n&&n.slice(0,e(n)+1).replace(t,"")}return id=r,id}var od,Vp;function b1(){if(Vp)return od;Vp=1;var e=y1(),t=e.Symbol;return od=t,od}var sd,Wp;function jT(){if(Wp)return sd;Wp=1;var e=b1(),t=Object.prototype,r=t.hasOwnProperty,n=t.toString,a=e?e.toStringTag:void 0;function i(o){var s=r.call(o,a),u=o[a];try{o[a]=void 0;var l=!0}catch{}var f=n.call(o);return l&&(s?o[a]=u:delete o[a]),f}return sd=i,sd}var ud,Up;function JT(){if(Up)return ud;Up=1;var e=Object.prototype,t=e.toString;function r(n){return t.call(n)}return ud=r,ud}var ld,Hp;function eM(){if(Hp)return ld;Hp=1;var e=b1(),t=jT(),r=JT(),n="[object Null]",a="[object Undefined]",i=e?e.toStringTag:void 0;function o(s){return s==null?s===void 0?a:n:i&&i in Object(s)?t(s):r(s)}return ld=o,ld}var fd,Gp;function tM(){if(Gp)return fd;Gp=1;function e(t){return t!=null&&typeof t=="object"}return fd=e,fd}var cd,Xp;function rM(){if(Xp)return cd;Xp=1;var e=eM(),t=tM(),r="[object Symbol]";function n(a){return typeof a=="symbol"||t(a)&&e(a)==r}return cd=n,cd}var dd,Kp;function nM(){if(Kp)return dd;Kp=1;var e=QT(),t=m1(),r=rM(),n=NaN,a=/^[-+]0x[0-9a-f]+$/i,i=/^0b[01]+$/i,o=/^0o[0-7]+$/i,s=parseInt;function u(l){if(typeof l=="number")return l;if(r(l))return n;if(t(l)){var f=typeof l.valueOf=="function"?l.valueOf():l;l=t(f)?f+"":f}if(typeof l!="string")return l===0?l:+l;l=e(l);var c=i.test(l);return c||o.test(l)?s(l.slice(2),c?2:8):a.test(l)?n:+l}return dd=u,dd}var hd,Zp;function aM(){if(Zp)return hd;Zp=1;var e=m1(),t=KT(),r=nM(),n="Expected a function",a=Math.max,i=Math.min;function o(s,u,l){var f,c,d,h,v,p,g=0,m=!1,y=!1,b=!0;if(typeof s!="function")throw new TypeError(n);u=r(u)||0,e(l)&&(m=!!l.leading,y="maxWait"in l,d=y?a(r(l.maxWait)||0,u):d,b="trailing"in l?!!l.trailing:b);function w(A){var D=f,P=c;return f=c=void 0,g=A,h=s.apply(P,D),h}function E(A){return g=A,v=setTimeout(M,u),m?w(A):h}function S(A){var D=A-p,P=A-g,R=u-D;return y?i(R,d-P):R}function x(A){var D=A-p,P=A-g;return p===void 0||D>=u||D<0||y&&P>=d}function M(){var A=t();if(x(A))return T(A);v=setTimeout(M,S(A))}function T(A){return v=void 0,b&&f?w(A):(f=c=void 0,h)}function C(){v!==void 0&&clearTimeout(v),g=0,f=p=c=v=void 0}function k(){return v===void 0?h:T(t())}function _(){var A=t(),D=x(A);if(f=arguments,c=this,p=A,D){if(v===void 0)return E(p);if(y)return clearTimeout(v),v=setTimeout(M,u),w(p)}return v===void 0&&(v=setTimeout(M,u)),h}return _.cancel=C,_.flush=k,_}return hd=o,hd}var iM=aM();const oM=p1(iM),sM=[],Qp={width:0,height:0,top:0,left:0};function uM({initialSize:e=Qp,debounceTime:t=300,ignoreDimensions:r=sM,enableDebounceLeadingCall:n=!0,resizeObserverPolyfill:a}={}){const i=ln.useRef(null),o=ln.useRef(0),[s,u]=ln.useState({...Qp,...e}),l=ln.useMemo(()=>{const f=Array.isArray(r)?r:[r];return oM(c=>{u(d=>Object.keys(d).filter(g=>d[g]!==c[g]).every(g=>f.includes(g))?d:c)},t,{leading:n})},[t,n,r]);return ln.useEffect(()=>{const f=a||window.ResizeObserver,c=new f(d=>{d.forEach(h=>{const{left:v,top:p,width:g,height:m}=(h==null?void 0:h.contentRect)??{};o.current=window.requestAnimationFrame(()=>{l({width:g,height:m,top:p,left:v})})})});return i.current&&c.observe(i.current),()=>{window.cancelAnimationFrame(o.current),c.disconnect(),l.cancel()}},[l,a]),{parentRef:i,resize:l,...s}}const lM={width:"100%",height:"100%"};function w1({className:e,children:t,debounceTime:r,ignoreDimensions:n,initialSize:a,parentSizeStyles:i=lM,enableDebounceLeadingCall:o=!0,resizeObserverPolyfill:s,...u}){const{parentRef:l,resize:f,...c}=uM({initialSize:a,debounceTime:r,ignoreDimensions:n,enableDebounceLeadingCall:o,resizeObserverPolyfill:s});return ii.jsx("div",{style:i,ref:l,className:e,...u,children:t({...c,ref:l.current,resize:f})})}w1.__docgenInfo={description:"",methods:[],displayName:"ResponsiveContainer",props:{className:{required:!1,tsType:{name:"string"},description:"Optional `className` to add to the parent `div` wrapper used for size measurement."},parentSizeStyles:{required:!1,tsType:{name:"ReactCSSProperties",raw:"React.CSSProperties"},description:"@deprecated - use `style` prop as all other props are passed directly to the parent `div`.\n@TODO remove in the next major version.\nOptional `style` object to apply to the parent `div` wrapper used for size measurement.",defaultValue:{value:"{ width: '100%', height: '100%' }",computed:!1}},children:{required:!0,tsType:{name:"signature",type:"function",raw:"(args: ParentSizeProvidedProps) => React.ReactNode",signature:{arguments:[{type:{name:"intersection",raw:`ParentSizeState & {
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"signature",type:"object",raw:`{
  ref: HTMLDivElement | null
  resize: (state: ParentSizeState) => void
}`,signature:{properties:[{key:"ref",value:{name:"union",raw:"HTMLDivElement | null",elements:[{name:"HTMLDivElement"},{name:"null"}],required:!0}},{key:"resize",value:{name:"signature",type:"function",raw:"(state: ParentSizeState) => void",signature:{arguments:[{type:{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},name:"state"}],return:{name:"void"}},required:!0}}]}}]},name:"args"}],return:{name:"ReactReactNode",raw:"React.ReactNode"}}},description:"Child render function `({ width, height, top, left, ref, resize }) => ReactNode`."},initialSize:{required:!1,tsType:{name:"Partial",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}}],raw:"Partial<ParentSizeState>"},description:"Initial size before measuring the parent."},resizeObserverPolyfill:{required:!1,tsType:{name:"ResizeObserverPolyfill"},description:"Optionally inject a ResizeObserver polyfill, else this *must* be globally available."},ignoreDimensions:{required:!1,tsType:{name:"union",raw:"keyof ParentSizeState | (keyof ParentSizeState)[]",elements:[{name:"signature",type:"object",raw:`{
  width: number
  height: number
  top: number
  left: number
}`,signature:{properties:[{key:"width",value:{name:"number",required:!0}},{key:"height",value:{name:"number",required:!0}},{key:"top",value:{name:"number",required:!0}},{key:"left",value:{name:"number",required:!0}}]}},{name:"Array",elements:[{name:"unknown"}],raw:"(keyof ParentSizeState)[]"}]},description:"Optional dimensions provided won't trigger a state change when changed."},debounceTime:{required:!1,tsType:{name:"number"},description:"Child render updates upon resize are delayed until `debounceTime` milliseconds _after_ the last resize event is observed. Defaults to `300`."},enableDebounceLeadingCall:{required:!1,tsType:{name:"boolean"},description:"Optional flag to toggle leading debounce calls. When set to true this will ensure that the component always renders immediately. Defaults to `true`.",defaultValue:{value:"true",computed:!1}}}};function or(e,t){return e==null||t==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function lu(e,t){return e==null||t==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function Wf(e){let t,r,n;e.length!==2?(t=or,r=(s,u)=>or(e(s),u),n=(s,u)=>e(s)-u):(t=e===or||e===lu?e:fM,r=e,n=e);function a(s,u,l=0,f=s.length){if(l<f){if(t(u,u)!==0)return f;do{const c=l+f>>>1;r(s[c],u)<0?l=c+1:f=c}while(l<f)}return l}function i(s,u,l=0,f=s.length){if(l<f){if(t(u,u)!==0)return f;do{const c=l+f>>>1;r(s[c],u)<=0?l=c+1:f=c}while(l<f)}return l}function o(s,u,l=0,f=s.length){const c=a(s,u,l,f-1);return c>l&&n(s[c-1],u)>-n(s[c],u)?c-1:c}return{left:a,center:o,right:i}}function fM(){return 0}function x1(e){return e===null?NaN:+e}function*cM(e,t){if(t===void 0)for(let r of e)r!=null&&(r=+r)>=r&&(yield r);else{let r=-1;for(let n of e)(n=t(n,++r,e))!=null&&(n=+n)>=n&&(yield n)}}const dM=Wf(or),Uf=dM.right;Wf(x1).center;function $v(e,t){let r=0;for(let n of e)n!=null&&(n=+n)>=n&&++r;return r}function hM(e){return e.length|0}function vM(e){return!(e>0)}function gM(e){return typeof e!="object"||"length"in e?e:Array.from(e)}function pM(e){return t=>e(...t)}function mM(...e){const t=typeof e[e.length-1]=="function"&&pM(e.pop());e=e.map(gM);const r=e.map(hM),n=e.length-1,a=new Array(n+1).fill(0),i=[];if(n<0||r.some(vM))return i;for(;;){i.push(a.map((s,u)=>e[u][s]));let o=n;for(;++a[o]===r[o];){if(o===0)return t?i.map(t):i;a[o--]=0}}}function yM(e,t){var r=0;return Float64Array.from(e,n=>r+=+n||0)}function S1(e,t){let r=0,n,a=0,i=0;if(t===void 0)for(let o of e)o!=null&&(o=+o)>=o&&(n=o-a,a+=n/++r,i+=n*(o-a));else{let o=-1;for(let s of e)(s=t(s,++o,e))!=null&&(s=+s)>=s&&(n=s-a,a+=n/++r,i+=n*(s-a))}if(r>1)return i/(r-1)}function E1(e,t){const r=S1(e,t);return r&&Math.sqrt(r)}function Cr(e,t){let r,n;if(t===void 0)for(const a of e)a!=null&&(r===void 0?a>=a&&(r=n=a):(r>a&&(r=a),n<a&&(n=a)));else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(r===void 0?i>=i&&(r=n=i):(r>i&&(r=i),n<i&&(n=i)))}return[r,n]}class oi{constructor(){this._partials=new Float64Array(32),this._n=0}add(t){const r=this._partials;let n=0;for(let a=0;a<this._n&&a<32;a++){const i=r[a],o=t+i,s=Math.abs(t)<Math.abs(i)?t-(o-i):i-(o-t);s&&(r[n++]=s),t=o}return r[n]=t,this._n=n+1,this}valueOf(){const t=this._partials;let r=this._n,n,a,i,o=0;if(r>0){for(o=t[--r];r>0&&(n=o,a=t[--r],o=n+a,i=a-(o-n),!i););r>0&&(i<0&&t[r-1]<0||i>0&&t[r-1]>0)&&(a=i*2,n=o+a,a==n-o&&(o=n))}return o}}class si extends Map{constructor(t,r=k1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const[n,a]of t)this.set(n,a)}get(t){return super.get(dh(this,t))}has(t){return super.has(dh(this,t))}set(t,r){return super.set(T1(this,t),r)}delete(t){return super.delete(M1(this,t))}}class Hf extends Set{constructor(t,r=k1){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),t!=null)for(const n of t)this.add(n)}has(t){return super.has(dh(this,t))}add(t){return super.add(T1(this,t))}delete(t){return super.delete(M1(this,t))}}function dh({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):r}function T1({_intern:e,_key:t},r){const n=t(r);return e.has(n)?e.get(n):(e.set(n,r),r)}function M1({_intern:e,_key:t},r){const n=t(r);return e.has(n)&&(r=e.get(n),e.delete(n)),r}function k1(e){return e!==null&&typeof e=="object"?e.valueOf():e}function hh(e){return e}function Gf(e,...t){return Nv(e,hh,hh,t)}function ji(e,t,...r){return Nv(e,hh,t,r)}function bM(e,t,...r){return Nv(e,Array.from,t,r)}function Nv(e,t,r,n){return function a(i,o){if(o>=n.length)return r(i);const s=new si,u=n[o++];let l=-1;for(const f of i){const c=u(f,++l,i),d=s.get(c);d?d.push(f):s.set(c,[f])}for(const[f,c]of s)s.set(f,a(c,o));return t(s)}(e,0)}function wM(e,t){return Array.from(t,r=>e[r])}function Ul(e,...t){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");e=Array.from(e);let[r]=t;if(r&&r.length!==2||t.length>1){const n=Uint32Array.from(e,(a,i)=>i);return t.length>1?(t=t.map(a=>e.map(a)),n.sort((a,i)=>{for(const o of t){const s=Hl(o[a],o[i]);if(s)return s}})):(r=e.map(r),n.sort((a,i)=>Hl(r[a],r[i]))),wM(e,n)}return e.sort(C1(r))}function C1(e=or){if(e===or)return Hl;if(typeof e!="function")throw new TypeError("compare is not a function");return(t,r)=>{const n=e(t,r);return n||n===0?n:(e(r,r)===0)-(e(t,t)===0)}}function Hl(e,t){return(e==null||!(e>=e))-(t==null||!(t>=t))||(e<t?-1:e>t?1:0)}function Iv(e,t,r){return(t.length!==2?Ul(ji(e,t,r),([n,a],[i,o])=>or(a,o)||or(n,i)):Ul(Gf(e,r),([n,a],[i,o])=>t(a,o)||or(n,i))).map(([n])=>n)}const xM=Math.sqrt(50),SM=Math.sqrt(10),EM=Math.sqrt(2);function Gl(e,t,r){const n=(t-e)/Math.max(0,r),a=Math.floor(Math.log10(n)),i=n/Math.pow(10,a),o=i>=xM?10:i>=SM?5:i>=EM?2:1;let s,u,l;return a<0?(l=Math.pow(10,-a)/o,s=Math.round(e*l),u=Math.round(t*l),s/l<e&&++s,u/l>t&&--u,l=-l):(l=Math.pow(10,a)*o,s=Math.round(e/l),u=Math.round(t/l),s*l<e&&++s,u*l>t&&--u),u<s&&.5<=r&&r<2?Gl(e,t,r*2):[s,u,l]}function Rs(e,t,r){if(t=+t,e=+e,r=+r,!(r>0))return[];if(e===t)return[e];const n=t<e,[a,i,o]=n?Gl(t,e,r):Gl(e,t,r);if(!(i>=a))return[];const s=i-a+1,u=new Array(s);if(n)if(o<0)for(let l=0;l<s;++l)u[l]=(i-l)/-o;else for(let l=0;l<s;++l)u[l]=(i-l)*o;else if(o<0)for(let l=0;l<s;++l)u[l]=(a+l)/-o;else for(let l=0;l<s;++l)u[l]=(a+l)*o;return u}function Xl(e,t,r){return t=+t,e=+e,r=+r,Gl(e,t,r)[2]}function vh(e,t,r){t=+t,e=+e,r=+r;const n=t<e,a=n?Xl(t,e,r):Xl(e,t,r);return(n?-1:1)*(a<0?1/-a:a)}function TM(e){return Math.max(1,Math.ceil(Math.log($v(e))/Math.LN2)+1)}function Hr(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r<a||r===void 0&&a>=a)&&(r=a)}return r}function MM(e,t){let r,n=-1,a=-1;if(t===void 0)for(const i of e)++a,i!=null&&(r<i||r===void 0&&i>=i)&&(r=i,n=a);else for(let i of e)(i=t(i,++a,e))!=null&&(r<i||r===void 0&&i>=i)&&(r=i,n=a);return n}function Qn(e,t){let r;if(t===void 0)for(const n of e)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);else{let n=-1;for(let a of e)(a=t(a,++n,e))!=null&&(r>a||r===void 0&&a>=a)&&(r=a)}return r}function kM(e,t){let r,n=-1,a=-1;if(t===void 0)for(const i of e)++a,i!=null&&(r>i||r===void 0&&i>=i)&&(r=i,n=a);else for(let i of e)(i=t(i,++a,e))!=null&&(r>i||r===void 0&&i>=i)&&(r=i,n=a);return n}function D1(e,t,r=0,n=1/0,a){if(t=Math.floor(t),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(e.length-1,n)),!(r<=t&&t<=n))return e;for(a=a===void 0?Hl:C1(a);n>r;){if(n-r>600){const u=n-r+1,l=t-r+1,f=Math.log(u),c=.5*Math.exp(2*f/3),d=.5*Math.sqrt(f*c*(u-c)/u)*(l-u/2<0?-1:1),h=Math.max(r,Math.floor(t-l*c/u+d)),v=Math.min(n,Math.floor(t+(u-l)*c/u+d));D1(e,t,h,v,a)}const i=e[t];let o=r,s=n;for(Qo(e,r,t),a(e[n],i)>0&&Qo(e,r,n);o<s;){for(Qo(e,o,s),++o,--s;a(e[o],i)<0;)++o;for(;a(e[s],i)>0;)--s}a(e[r],i)===0?Qo(e,r,s):(++s,Qo(e,s,n)),s<=t&&(r=s+1),t<=s&&(n=s-1)}return e}function Qo(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function _1(e,t=or){let r,n=!1;if(t.length===1){let a;for(const i of e){const o=t(i);(n?or(o,a)>0:or(o,o)===0)&&(r=i,a=o,n=!0)}}else for(const a of e)(n?t(a,r)>0:t(a,a)===0)&&(r=a,n=!0);return r}function fo(e,t,r){if(e=Float64Array.from(cM(e,r)),!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return Qn(e);if(t>=1)return Hr(e);var n,a=(n-1)*t,i=Math.floor(a),o=Hr(D1(e,i).subarray(0,i+1)),s=Qn(e.subarray(i+1));return o+(s-o)*(a-i)}}function CM(e,t,r=x1){if(!(!(n=e.length)||isNaN(t=+t))){if(t<=0||n<2)return+r(e[0],0,e);if(t>=1)return+r(e[n-1],n-1,e);var n,a=(n-1)*t,i=Math.floor(a),o=+r(e[i],i,e),s=+r(e[i+1],i+1,e);return o+(s-o)*(a-i)}}function DM(e,t,r){const n=$v(e),a=fo(e,.75)-fo(e,.25);return n&&a?Math.ceil((r-t)/(2*a*Math.pow(n,-1/3))):1}function P1(e,t,r){const n=$v(e),a=E1(e);return n&&a?Math.ceil((r-t)*Math.cbrt(n)/(3.49*a)):1}function _M(e,t){let r=0,n=0;if(t===void 0)for(let a of e)a!=null&&(a=+a)>=a&&(++r,n+=a);else{let a=-1;for(let i of e)(i=t(i,++a,e))!=null&&(i=+i)>=i&&(++r,n+=i)}if(r)return n/r}function gh(e,t){return fo(e,.5,t)}function*PM(e){for(const t of e)yield*t}function A1(e){return Array.from(PM(e))}function AM(e,t){const r=new si;if(t===void 0)for(let i of e)i!=null&&i>=i&&r.set(i,(r.get(i)||0)+1);else{let i=-1;for(let o of e)(o=t(o,++i,e))!=null&&o>=o&&r.set(o,(r.get(o)||0)+1)}let n,a=0;for(const[i,o]of r)o>a&&(a=o,n=i);return n}function OM(e,t=RM){const r=[];let n,a=!1;for(const i of e)a&&r.push(t(n,i)),n=i,a=!0;return r}function RM(e,t){return[e,t]}function ph(e,t,r){e=+e,t=+t,r=(a=arguments.length)<2?(t=e,e=0,1):a<3?1:+r;for(var n=-1,a=Math.max(0,Math.ceil((t-e)/r))|0,i=new Array(a);++n<a;)i[n]=e+n*r;return i}function ka(e,t){let r=0;if(t===void 0)for(let n of e)(n=+n)&&(r+=n);else{let n=-1;for(let a of e)(a=+t(a,++n,e))&&(r+=a)}return r}function Kl(e){if(typeof e[Symbol.iterator]!="function")throw new TypeError("values is not iterable");return Array.from(e).reverse()}function LM(e){return e}var $M=3,jp=1e-6;function NM(e){return"translate("+e+",0)"}function IM(e){return t=>+e(t)}function BM(e,t){return t=Math.max(0,e.bandwidth()-t*2)/2,e.round()&&(t=Math.round(t)),r=>+e(r)+t}function FM(){return!this.__axis}function zM(e,t){var r=[],n=null,a=null,i=6,o=6,s=3,u=typeof window<"u"&&window.devicePixelRatio>1?0:.5,l=1,f="y",c=NM;function d(h){var v=n??(t.ticks?t.ticks.apply(t,r):t.domain()),p=a??(t.tickFormat?t.tickFormat.apply(t,r):LM),g=Math.max(i,0)+s,m=t.range(),y=+m[0]+u,b=+m[m.length-1]+u,w=(t.bandwidth?BM:IM)(t.copy(),u),E=h.selection?h.selection():h,S=E.selectAll(".domain").data([null]),x=E.selectAll(".tick").data(v,t).order(),M=x.exit(),T=x.enter().append("g").attr("class","tick"),C=x.select("line"),k=x.select("text");S=S.merge(S.enter().insert("path",".tick").attr("class","domain").attr("stroke","currentColor")),x=x.merge(T),C=C.merge(T.append("line").attr("stroke","currentColor").attr(f+"2",l*i)),k=k.merge(T.append("text").attr("fill","currentColor").attr(f,l*g).attr("dy","0.71em")),h!==E&&(S=S.transition(h),x=x.transition(h),C=C.transition(h),k=k.transition(h),M=M.transition(h).attr("opacity",jp).attr("transform",function(_){return isFinite(_=w(_))?c(_+u):this.getAttribute("transform")}),T.attr("opacity",jp).attr("transform",function(_){var A=this.parentNode.__axis;return c((A&&isFinite(A=A(_))?A:w(_))+u)})),M.remove(),S.attr("d",o?"M"+y+","+l*o+"V"+u+"H"+b+"V"+l*o:"M"+y+","+u+"H"+b),x.attr("opacity",1).attr("transform",function(_){return c(w(_)+u)}),C.attr(f+"2",l*i),k.attr(f,l*g).text(p),E.filter(FM).attr("fill","none").attr("font-size",10).attr("font-family","sans-serif").attr("text-anchor","middle"),E.each(function(){this.__axis=w})}return d.scale=function(h){return arguments.length?(t=h,d):t},d.ticks=function(){return r=Array.from(arguments),d},d.tickArguments=function(h){return arguments.length?(r=h==null?[]:Array.from(h),d):r.slice()},d.tickValues=function(h){return arguments.length?(n=h==null?null:Array.from(h),d):n&&n.slice()},d.tickFormat=function(h){return arguments.length?(a=h,d):a},d.tickSize=function(h){return arguments.length?(i=o=+h,d):i},d.tickSizeInner=function(h){return arguments.length?(i=+h,d):i},d.tickSizeOuter=function(h){return arguments.length?(o=+h,d):o},d.tickPadding=function(h){return arguments.length?(s=+h,d):s},d.offset=function(h){return arguments.length?(u=+h,d):u},d}function YM(e){return zM($M,e)}var qM={value:()=>{}};function O1(){for(var e=0,t=arguments.length,r={},n;e<t;++e){if(!(n=arguments[e]+"")||n in r||/[\s.]/.test(n))throw new Error("illegal type: "+n);r[n]=[]}return new kl(r)}function kl(e){this._=e}function VM(e,t){return e.trim().split(/^|\s+/).map(function(r){var n="",a=r.indexOf(".");if(a>=0&&(n=r.slice(a+1),r=r.slice(0,a)),r&&!t.hasOwnProperty(r))throw new Error("unknown type: "+r);return{type:r,name:n}})}kl.prototype=O1.prototype={constructor:kl,on:function(e,t){var r=this._,n=VM(e+"",r),a,i=-1,o=n.length;if(arguments.length<2){for(;++i<o;)if((a=(e=n[i]).type)&&(a=WM(r[a],e.name)))return a;return}if(t!=null&&typeof t!="function")throw new Error("invalid callback: "+t);for(;++i<o;)if(a=(e=n[i]).type)r[a]=Jp(r[a],e.name,t);else if(t==null)for(a in r)r[a]=Jp(r[a],e.name,null);return this},copy:function(){var e={},t=this._;for(var r in t)e[r]=t[r].slice();return new kl(e)},call:function(e,t){if((a=arguments.length-2)>0)for(var r=new Array(a),n=0,a,i;n<a;++n)r[n]=arguments[n+2];if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(i=this._[e],n=0,a=i.length;n<a;++n)i[n].value.apply(t,r)},apply:function(e,t,r){if(!this._.hasOwnProperty(e))throw new Error("unknown type: "+e);for(var n=this._[e],a=0,i=n.length;a<i;++a)n[a].value.apply(t,r)}};function WM(e,t){for(var r=0,n=e.length,a;r<n;++r)if((a=e[r]).name===t)return a.value}function Jp(e,t,r){for(var n=0,a=e.length;n<a;++n)if(e[n].name===t){e[n]=qM,e=e.slice(0,n).concat(e.slice(n+1));break}return r!=null&&e.push({name:t,value:r}),e}var mh="http://www.w3.org/1999/xhtml";const co={svg:"http://www.w3.org/2000/svg",xhtml:mh,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Xf(e){var t=e+="",r=t.indexOf(":");return r>=0&&(t=e.slice(0,r))!=="xmlns"&&(e=e.slice(r+1)),co.hasOwnProperty(t)?{space:co[t],local:e}:e}function UM(e){return function(){var t=this.ownerDocument,r=this.namespaceURI;return r===mh&&t.documentElement.namespaceURI===mh?t.createElement(e):t.createElementNS(r,e)}}function HM(e){return function(){return this.ownerDocument.createElementNS(e.space,e.local)}}function Kf(e){var t=Xf(e);return(t.local?HM:UM)(t)}function GM(){}function Bv(e){return e==null?GM:function(){return this.querySelector(e)}}function XM(e){typeof e!="function"&&(e=Bv(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,s=n[a]=new Array(o),u,l,f=0;f<o;++f)(u=i[f])&&(l=e.call(u,u.__data__,f,i))&&("__data__"in u&&(l.__data__=u.__data__),s[f]=l);return new pr(n,this._parents)}function KM(e){return e==null?[]:Array.isArray(e)?e:Array.from(e)}function ZM(){return[]}function R1(e){return e==null?ZM:function(){return this.querySelectorAll(e)}}function QM(e){return function(){return KM(e.apply(this,arguments))}}function jM(e){typeof e=="function"?e=QM(e):e=R1(e);for(var t=this._groups,r=t.length,n=[],a=[],i=0;i<r;++i)for(var o=t[i],s=o.length,u,l=0;l<s;++l)(u=o[l])&&(n.push(e.call(u,u.__data__,l,o)),a.push(u));return new pr(n,a)}function L1(e){return function(){return this.matches(e)}}function $1(e){return function(t){return t.matches(e)}}var JM=Array.prototype.find;function ek(e){return function(){return JM.call(this.children,e)}}function tk(){return this.firstElementChild}function rk(e){return this.select(e==null?tk:ek(typeof e=="function"?e:$1(e)))}var nk=Array.prototype.filter;function ak(){return Array.from(this.children)}function ik(e){return function(){return nk.call(this.children,e)}}function ok(e){return this.selectAll(e==null?ak:ik(typeof e=="function"?e:$1(e)))}function sk(e){typeof e!="function"&&(e=L1(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,s=n[a]=[],u,l=0;l<o;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&s.push(u);return new pr(n,this._parents)}function N1(e){return new Array(e.length)}function uk(){return new pr(this._enter||this._groups.map(N1),this._parents)}function Zl(e,t){this.ownerDocument=e.ownerDocument,this.namespaceURI=e.namespaceURI,this._next=null,this._parent=e,this.__data__=t}Zl.prototype={constructor:Zl,appendChild:function(e){return this._parent.insertBefore(e,this._next)},insertBefore:function(e,t){return this._parent.insertBefore(e,t)},querySelector:function(e){return this._parent.querySelector(e)},querySelectorAll:function(e){return this._parent.querySelectorAll(e)}};function lk(e){return function(){return e}}function fk(e,t,r,n,a,i){for(var o=0,s,u=t.length,l=i.length;o<l;++o)(s=t[o])?(s.__data__=i[o],n[o]=s):r[o]=new Zl(e,i[o]);for(;o<u;++o)(s=t[o])&&(a[o]=s)}function ck(e,t,r,n,a,i,o){var s,u,l=new Map,f=t.length,c=i.length,d=new Array(f),h;for(s=0;s<f;++s)(u=t[s])&&(d[s]=h=o.call(u,u.__data__,s,t)+"",l.has(h)?a[s]=u:l.set(h,u));for(s=0;s<c;++s)h=o.call(e,i[s],s,i)+"",(u=l.get(h))?(n[s]=u,u.__data__=i[s],l.delete(h)):r[s]=new Zl(e,i[s]);for(s=0;s<f;++s)(u=t[s])&&l.get(d[s])===u&&(a[s]=u)}function dk(e){return e.__data__}function hk(e,t){if(!arguments.length)return Array.from(this,dk);var r=t?ck:fk,n=this._parents,a=this._groups;typeof e!="function"&&(e=lk(e));for(var i=a.length,o=new Array(i),s=new Array(i),u=new Array(i),l=0;l<i;++l){var f=n[l],c=a[l],d=c.length,h=vk(e.call(f,f&&f.__data__,l,n)),v=h.length,p=s[l]=new Array(v),g=o[l]=new Array(v),m=u[l]=new Array(d);r(f,c,p,g,m,h,t);for(var y=0,b=0,w,E;y<v;++y)if(w=p[y]){for(y>=b&&(b=y+1);!(E=g[b])&&++b<v;);w._next=E||null}}return o=new pr(o,n),o._enter=s,o._exit=u,o}function vk(e){return typeof e=="object"&&"length"in e?e:Array.from(e)}function gk(){return new pr(this._exit||this._groups.map(N1),this._parents)}function pk(e,t,r){var n=this.enter(),a=this,i=this.exit();return typeof e=="function"?(n=e(n),n&&(n=n.selection())):n=n.append(e+""),t!=null&&(a=t(a),a&&(a=a.selection())),r==null?i.remove():r(i),n&&a?n.merge(a).order():a}function mk(e){for(var t=e.selection?e.selection():e,r=this._groups,n=t._groups,a=r.length,i=n.length,o=Math.min(a,i),s=new Array(a),u=0;u<o;++u)for(var l=r[u],f=n[u],c=l.length,d=s[u]=new Array(c),h,v=0;v<c;++v)(h=l[v]||f[v])&&(d[v]=h);for(;u<a;++u)s[u]=r[u];return new pr(s,this._parents)}function yk(){for(var e=this._groups,t=-1,r=e.length;++t<r;)for(var n=e[t],a=n.length-1,i=n[a],o;--a>=0;)(o=n[a])&&(i&&o.compareDocumentPosition(i)^4&&i.parentNode.insertBefore(o,i),i=o);return this}function bk(e){e||(e=wk);function t(c,d){return c&&d?e(c.__data__,d.__data__):!c-!d}for(var r=this._groups,n=r.length,a=new Array(n),i=0;i<n;++i){for(var o=r[i],s=o.length,u=a[i]=new Array(s),l,f=0;f<s;++f)(l=o[f])&&(u[f]=l);u.sort(t)}return new pr(a,this._parents).order()}function wk(e,t){return e<t?-1:e>t?1:e>=t?0:NaN}function xk(){var e=arguments[0];return arguments[0]=this,e.apply(null,arguments),this}function Sk(){return Array.from(this)}function Ek(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length;a<i;++a){var o=n[a];if(o)return o}return null}function Tk(){let e=0;for(const t of this)++e;return e}function Mk(){return!this.node()}function kk(e){for(var t=this._groups,r=0,n=t.length;r<n;++r)for(var a=t[r],i=0,o=a.length,s;i<o;++i)(s=a[i])&&e.call(s,s.__data__,i,a);return this}function Ck(e){return function(){this.removeAttribute(e)}}function Dk(e){return function(){this.removeAttributeNS(e.space,e.local)}}function _k(e,t){return function(){this.setAttribute(e,t)}}function Pk(e,t){return function(){this.setAttributeNS(e.space,e.local,t)}}function Ak(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttribute(e):this.setAttribute(e,r)}}function Ok(e,t){return function(){var r=t.apply(this,arguments);r==null?this.removeAttributeNS(e.space,e.local):this.setAttributeNS(e.space,e.local,r)}}function Rk(e,t){var r=Xf(e);if(arguments.length<2){var n=this.node();return r.local?n.getAttributeNS(r.space,r.local):n.getAttribute(r)}return this.each((t==null?r.local?Dk:Ck:typeof t=="function"?r.local?Ok:Ak:r.local?Pk:_k)(r,t))}function I1(e){return e.ownerDocument&&e.ownerDocument.defaultView||e.document&&e||e.defaultView}function Lk(e){return function(){this.style.removeProperty(e)}}function $k(e,t,r){return function(){this.style.setProperty(e,t,r)}}function Nk(e,t,r){return function(){var n=t.apply(this,arguments);n==null?this.style.removeProperty(e):this.style.setProperty(e,n,r)}}function Ik(e,t,r){return arguments.length>1?this.each((t==null?Lk:typeof t=="function"?Nk:$k)(e,t,r??"")):ho(this.node(),e)}function ho(e,t){return e.style.getPropertyValue(t)||I1(e).getComputedStyle(e,null).getPropertyValue(t)}function Bk(e){return function(){delete this[e]}}function Fk(e,t){return function(){this[e]=t}}function zk(e,t){return function(){var r=t.apply(this,arguments);r==null?delete this[e]:this[e]=r}}function Yk(e,t){return arguments.length>1?this.each((t==null?Bk:typeof t=="function"?zk:Fk)(e,t)):this.node()[e]}function B1(e){return e.trim().split(/^|\s+/)}function Fv(e){return e.classList||new F1(e)}function F1(e){this._node=e,this._names=B1(e.getAttribute("class")||"")}F1.prototype={add:function(e){var t=this._names.indexOf(e);t<0&&(this._names.push(e),this._node.setAttribute("class",this._names.join(" ")))},remove:function(e){var t=this._names.indexOf(e);t>=0&&(this._names.splice(t,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(e){return this._names.indexOf(e)>=0}};function z1(e,t){for(var r=Fv(e),n=-1,a=t.length;++n<a;)r.add(t[n])}function Y1(e,t){for(var r=Fv(e),n=-1,a=t.length;++n<a;)r.remove(t[n])}function qk(e){return function(){z1(this,e)}}function Vk(e){return function(){Y1(this,e)}}function Wk(e,t){return function(){(t.apply(this,arguments)?z1:Y1)(this,e)}}function Uk(e,t){var r=B1(e+"");if(arguments.length<2){for(var n=Fv(this.node()),a=-1,i=r.length;++a<i;)if(!n.contains(r[a]))return!1;return!0}return this.each((typeof t=="function"?Wk:t?qk:Vk)(r,t))}function Hk(){this.textContent=""}function Gk(e){return function(){this.textContent=e}}function Xk(e){return function(){var t=e.apply(this,arguments);this.textContent=t??""}}function Kk(e){return arguments.length?this.each(e==null?Hk:(typeof e=="function"?Xk:Gk)(e)):this.node().textContent}function Zk(){this.innerHTML=""}function Qk(e){return function(){this.innerHTML=e}}function jk(e){return function(){var t=e.apply(this,arguments);this.innerHTML=t??""}}function Jk(e){return arguments.length?this.each(e==null?Zk:(typeof e=="function"?jk:Qk)(e)):this.node().innerHTML}function eC(){this.nextSibling&&this.parentNode.appendChild(this)}function tC(){return this.each(eC)}function rC(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function nC(){return this.each(rC)}function aC(e){var t=typeof e=="function"?e:Kf(e);return this.select(function(){return this.appendChild(t.apply(this,arguments))})}function iC(){return null}function oC(e,t){var r=typeof e=="function"?e:Kf(e),n=t==null?iC:typeof t=="function"?t:Bv(t);return this.select(function(){return this.insertBefore(r.apply(this,arguments),n.apply(this,arguments)||null)})}function sC(){var e=this.parentNode;e&&e.removeChild(this)}function uC(){return this.each(sC)}function lC(){var e=this.cloneNode(!1),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function fC(){var e=this.cloneNode(!0),t=this.parentNode;return t?t.insertBefore(e,this.nextSibling):e}function cC(e){return this.select(e?fC:lC)}function dC(e){return arguments.length?this.property("__data__",e):this.node().__data__}function hC(e){return function(t){e.call(this,t,this.__data__)}}function vC(e){return e.trim().split(/^|\s+/).map(function(t){var r="",n=t.indexOf(".");return n>=0&&(r=t.slice(n+1),t=t.slice(0,n)),{type:t,name:r}})}function gC(e){return function(){var t=this.__on;if(t){for(var r=0,n=-1,a=t.length,i;r<a;++r)i=t[r],(!e.type||i.type===e.type)&&i.name===e.name?this.removeEventListener(i.type,i.listener,i.options):t[++n]=i;++n?t.length=n:delete this.__on}}}function pC(e,t,r){return function(){var n=this.__on,a,i=hC(t);if(n){for(var o=0,s=n.length;o<s;++o)if((a=n[o]).type===e.type&&a.name===e.name){this.removeEventListener(a.type,a.listener,a.options),this.addEventListener(a.type,a.listener=i,a.options=r),a.value=t;return}}this.addEventListener(e.type,i,r),a={type:e.type,name:e.name,value:t,listener:i,options:r},n?n.push(a):this.__on=[a]}}function mC(e,t,r){var n=vC(e+""),a,i=n.length,o;if(arguments.length<2){var s=this.node().__on;if(s){for(var u=0,l=s.length,f;u<l;++u)for(a=0,f=s[u];a<i;++a)if((o=n[a]).type===f.type&&o.name===f.name)return f.value}return}for(s=t?pC:gC,a=0;a<i;++a)this.each(s(n[a],t,r));return this}function q1(e,t,r){var n=I1(e),a=n.CustomEvent;typeof a=="function"?a=new a(t,r):(a=n.document.createEvent("Event"),r?(a.initEvent(t,r.bubbles,r.cancelable),a.detail=r.detail):a.initEvent(t,!1,!1)),e.dispatchEvent(a)}function yC(e,t){return function(){return q1(this,e,t)}}function bC(e,t){return function(){return q1(this,e,t.apply(this,arguments))}}function wC(e,t){return this.each((typeof t=="function"?bC:yC)(e,t))}function*xC(){for(var e=this._groups,t=0,r=e.length;t<r;++t)for(var n=e[t],a=0,i=n.length,o;a<i;++a)(o=n[a])&&(yield o)}var V1=[null];function pr(e,t){this._groups=e,this._parents=t}function fu(){return new pr([[document.documentElement]],V1)}function SC(){return this}pr.prototype=fu.prototype={constructor:pr,select:XM,selectAll:jM,selectChild:rk,selectChildren:ok,filter:sk,data:hk,enter:uk,exit:gk,join:pk,merge:mk,selection:SC,order:yk,sort:bk,call:xk,nodes:Sk,node:Ek,size:Tk,empty:Mk,each:kk,attr:Rk,style:Ik,property:Yk,classed:Uk,text:Kk,html:Jk,raise:tC,lower:nC,append:aC,insert:oC,remove:uC,clone:cC,datum:dC,on:mC,dispatch:wC,[Symbol.iterator]:xC};function Ji(e){return typeof e=="string"?new pr([[document.querySelector(e)]],[document.documentElement]):new pr([[e]],V1)}function EC(e){let t;for(;t=e.sourceEvent;)e=t;return e}function TC(e,t){if(e=EC(e),t===void 0&&(t=e.currentTarget),t){var r=t.ownerSVGElement||t;if(r.createSVGPoint){var n=r.createSVGPoint();return n.x=e.clientX,n.y=e.clientY,n=n.matrixTransform(t.getScreenCTM().inverse()),[n.x,n.y]}if(t.getBoundingClientRect){var a=t.getBoundingClientRect();return[e.clientX-a.left-t.clientLeft,e.clientY-a.top-t.clientTop]}}return[e.pageX,e.pageY]}function Po(e,t,r){e.prototype=t.prototype=r,r.constructor=e}function cu(e,t){var r=Object.create(e.prototype);for(var n in t)r[n]=t[n];return r}function Na(){}var ui=.7,vo=1/ui,eo="\\s*([+-]?\\d+)\\s*",Ls="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",pn="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",MC=/^#([0-9a-f]{3,8})$/,kC=new RegExp(`^rgb\\(${eo},${eo},${eo}\\)$`),CC=new RegExp(`^rgb\\(${pn},${pn},${pn}\\)$`),DC=new RegExp(`^rgba\\(${eo},${eo},${eo},${Ls}\\)$`),_C=new RegExp(`^rgba\\(${pn},${pn},${pn},${Ls}\\)$`),PC=new RegExp(`^hsl\\(${Ls},${pn},${pn}\\)$`),AC=new RegExp(`^hsla\\(${Ls},${pn},${pn},${Ls}\\)$`),e0={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Po(Na,li,{copy(e){return Object.assign(new this.constructor,this,e)},displayable(){return this.rgb().displayable()},hex:t0,formatHex:t0,formatHex8:OC,formatHsl:RC,formatRgb:r0,toString:r0});function t0(){return this.rgb().formatHex()}function OC(){return this.rgb().formatHex8()}function RC(){return W1(this).formatHsl()}function r0(){return this.rgb().formatRgb()}function li(e){var t,r;return e=(e+"").trim().toLowerCase(),(t=MC.exec(e))?(r=t[1].length,t=parseInt(t[1],16),r===6?n0(t):r===3?new At(t>>8&15|t>>4&240,t>>4&15|t&240,(t&15)<<4|t&15,1):r===8?Gu(t>>24&255,t>>16&255,t>>8&255,(t&255)/255):r===4?Gu(t>>12&15|t>>8&240,t>>8&15|t>>4&240,t>>4&15|t&240,((t&15)<<4|t&15)/255):null):(t=kC.exec(e))?new At(t[1],t[2],t[3],1):(t=CC.exec(e))?new At(t[1]*255/100,t[2]*255/100,t[3]*255/100,1):(t=DC.exec(e))?Gu(t[1],t[2],t[3],t[4]):(t=_C.exec(e))?Gu(t[1]*255/100,t[2]*255/100,t[3]*255/100,t[4]):(t=PC.exec(e))?o0(t[1],t[2]/100,t[3]/100,1):(t=AC.exec(e))?o0(t[1],t[2]/100,t[3]/100,t[4]):e0.hasOwnProperty(e)?n0(e0[e]):e==="transparent"?new At(NaN,NaN,NaN,0):null}function n0(e){return new At(e>>16&255,e>>8&255,e&255,1)}function Gu(e,t,r,n){return n<=0&&(e=t=r=NaN),new At(e,t,r,n)}function zv(e){return e instanceof Na||(e=li(e)),e?(e=e.rgb(),new At(e.r,e.g,e.b,e.opacity)):new At}function Ca(e,t,r,n){return arguments.length===1?zv(e):new At(e,t,r,n??1)}function At(e,t,r,n){this.r=+e,this.g=+t,this.b=+r,this.opacity=+n}Po(At,Ca,cu(Na,{brighter(e){return e=e==null?vo:Math.pow(vo,e),new At(this.r*e,this.g*e,this.b*e,this.opacity)},darker(e){return e=e==null?ui:Math.pow(ui,e),new At(this.r*e,this.g*e,this.b*e,this.opacity)},rgb(){return this},clamp(){return new At(ti(this.r),ti(this.g),ti(this.b),Ql(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:a0,formatHex:a0,formatHex8:LC,formatRgb:i0,toString:i0}));function a0(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}`}function LC(){return`#${ja(this.r)}${ja(this.g)}${ja(this.b)}${ja((isNaN(this.opacity)?1:this.opacity)*255)}`}function i0(){const e=Ql(this.opacity);return`${e===1?"rgb(":"rgba("}${ti(this.r)}, ${ti(this.g)}, ${ti(this.b)}${e===1?")":`, ${e})`}`}function Ql(e){return isNaN(e)?1:Math.max(0,Math.min(1,e))}function ti(e){return Math.max(0,Math.min(255,Math.round(e)||0))}function ja(e){return e=ti(e),(e<16?"0":"")+e.toString(16)}function o0(e,t,r,n){return n<=0?e=t=r=NaN:r<=0||r>=1?e=t=NaN:t<=0&&(e=NaN),new qr(e,t,r,n)}function W1(e){if(e instanceof qr)return new qr(e.h,e.s,e.l,e.opacity);if(e instanceof Na||(e=li(e)),!e)return new qr;if(e instanceof qr)return e;e=e.rgb();var t=e.r/255,r=e.g/255,n=e.b/255,a=Math.min(t,r,n),i=Math.max(t,r,n),o=NaN,s=i-a,u=(i+a)/2;return s?(t===i?o=(r-n)/s+(r<n)*6:r===i?o=(n-t)/s+2:o=(t-r)/s+4,s/=u<.5?i+a:2-i-a,o*=60):s=u>0&&u<1?0:o,new qr(o,s,u,e.opacity)}function yh(e,t,r,n){return arguments.length===1?W1(e):new qr(e,t,r,n??1)}function qr(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Po(qr,yh,cu(Na,{brighter(e){return e=e==null?vo:Math.pow(vo,e),new qr(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ui:Math.pow(ui,e),new qr(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=this.h%360+(this.h<0)*360,t=isNaN(e)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*t,a=2*r-n;return new At(vd(e>=240?e-240:e+120,a,n),vd(e,a,n),vd(e<120?e+240:e-120,a,n),this.opacity)},clamp(){return new qr(s0(this.h),Xu(this.s),Xu(this.l),Ql(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const e=Ql(this.opacity);return`${e===1?"hsl(":"hsla("}${s0(this.h)}, ${Xu(this.s)*100}%, ${Xu(this.l)*100}%${e===1?")":`, ${e})`}`}}));function s0(e){return e=(e||0)%360,e<0?e+360:e}function Xu(e){return Math.max(0,Math.min(1,e||0))}function vd(e,t,r){return(e<60?t+(r-t)*e/60:e<180?r:e<240?t+(r-t)*(240-e)/60:t)*255}const U1=Math.PI/180,H1=180/Math.PI,jl=18,G1=.96422,X1=1,K1=.82521,Z1=4/29,to=6/29,Q1=3*to*to,$C=to*to*to;function j1(e){if(e instanceof mn)return new mn(e.l,e.a,e.b,e.opacity);if(e instanceof qn)return J1(e);e instanceof At||(e=zv(e));var t=yd(e.r),r=yd(e.g),n=yd(e.b),a=gd((.2225045*t+.7168786*r+.0606169*n)/X1),i,o;return t===r&&r===n?i=o=a:(i=gd((.4360747*t+.3850649*r+.1430804*n)/G1),o=gd((.0139322*t+.0971045*r+.7141733*n)/K1)),new mn(116*a-16,500*(i-a),200*(a-o),e.opacity)}function bh(e,t,r,n){return arguments.length===1?j1(e):new mn(e,t,r,n??1)}function mn(e,t,r,n){this.l=+e,this.a=+t,this.b=+r,this.opacity=+n}Po(mn,bh,cu(Na,{brighter(e){return new mn(this.l+jl*(e??1),this.a,this.b,this.opacity)},darker(e){return new mn(this.l-jl*(e??1),this.a,this.b,this.opacity)},rgb(){var e=(this.l+16)/116,t=isNaN(this.a)?e:e+this.a/500,r=isNaN(this.b)?e:e-this.b/200;return t=G1*pd(t),e=X1*pd(e),r=K1*pd(r),new At(md(3.1338561*t-1.6168667*e-.4906146*r),md(-.9787684*t+1.9161415*e+.033454*r),md(.0719453*t-.2289914*e+1.4052427*r),this.opacity)}}));function gd(e){return e>$C?Math.pow(e,1/3):e/Q1+Z1}function pd(e){return e>to?e*e*e:Q1*(e-Z1)}function md(e){return 255*(e<=.0031308?12.92*e:1.055*Math.pow(e,1/2.4)-.055)}function yd(e){return(e/=255)<=.04045?e/12.92:Math.pow((e+.055)/1.055,2.4)}function NC(e){if(e instanceof qn)return new qn(e.h,e.c,e.l,e.opacity);if(e instanceof mn||(e=j1(e)),e.a===0&&e.b===0)return new qn(NaN,0<e.l&&e.l<100?0:NaN,e.l,e.opacity);var t=Math.atan2(e.b,e.a)*H1;return new qn(t<0?t+360:t,Math.sqrt(e.a*e.a+e.b*e.b),e.l,e.opacity)}function wh(e,t,r,n){return arguments.length===1?NC(e):new qn(e,t,r,n??1)}function qn(e,t,r,n){this.h=+e,this.c=+t,this.l=+r,this.opacity=+n}function J1(e){if(isNaN(e.h))return new mn(e.l,0,0,e.opacity);var t=e.h*U1;return new mn(e.l,Math.cos(t)*e.c,Math.sin(t)*e.c,e.opacity)}Po(qn,wh,cu(Na,{brighter(e){return new qn(this.h,this.c,this.l+jl*(e??1),this.opacity)},darker(e){return new qn(this.h,this.c,this.l-jl*(e??1),this.opacity)},rgb(){return J1(this).rgb()}}));var eb=-.14861,Yv=1.78277,qv=-.29227,Zf=-.90649,$s=1.97294,u0=$s*Zf,l0=$s*Yv,f0=Yv*qv-Zf*eb;function IC(e){if(e instanceof ri)return new ri(e.h,e.s,e.l,e.opacity);e instanceof At||(e=zv(e));var t=e.r/255,r=e.g/255,n=e.b/255,a=(f0*n+u0*t-l0*r)/(f0+u0-l0),i=n-a,o=($s*(r-a)-qv*i)/Zf,s=Math.sqrt(o*o+i*i)/($s*a*(1-a)),u=s?Math.atan2(o,i)*H1-120:NaN;return new ri(u<0?u+360:u,s,a,e.opacity)}function yn(e,t,r,n){return arguments.length===1?IC(e):new ri(e,t,r,n??1)}function ri(e,t,r,n){this.h=+e,this.s=+t,this.l=+r,this.opacity=+n}Po(ri,yn,cu(Na,{brighter(e){return e=e==null?vo:Math.pow(vo,e),new ri(this.h,this.s,this.l*e,this.opacity)},darker(e){return e=e==null?ui:Math.pow(ui,e),new ri(this.h,this.s,this.l*e,this.opacity)},rgb(){var e=isNaN(this.h)?0:(this.h+120)*U1,t=+this.l,r=isNaN(this.s)?0:this.s*t*(1-t),n=Math.cos(e),a=Math.sin(e);return new At(255*(t+r*(eb*n+Yv*a)),255*(t+r*(qv*n+Zf*a)),255*(t+r*($s*n)),this.opacity)}}));function BC(e,t,r,n,a){var i=e*e,o=i*e;return((1-3*e+3*i-o)*t+(4-6*i+3*o)*r+(1+3*e+3*i-3*o)*n+o*a)/6}function FC(e){var t=e.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,t-1):Math.floor(r*t),a=e[n],i=e[n+1],o=n>0?e[n-1]:2*a-i,s=n<t-1?e[n+2]:2*i-a;return BC((r-n/t)*t,o,a,i,s)}}const Qf=e=>()=>e;function tb(e,t){return function(r){return e+r*t}}function zC(e,t,r){return e=Math.pow(e,r),t=Math.pow(t,r)-e,r=1/r,function(n){return Math.pow(e+n*t,r)}}function Vv(e,t){var r=t-e;return r?tb(e,r>180||r<-180?r-360*Math.round(r/360):r):Qf(isNaN(e)?t:e)}function YC(e){return(e=+e)==1?qt:function(t,r){return r-t?zC(t,r,e):Qf(isNaN(t)?r:t)}}function qt(e,t){var r=t-e;return r?tb(e,r):Qf(isNaN(e)?t:e)}const fi=function e(t){var r=YC(t);function n(a,i){var o=r((a=Ca(a)).r,(i=Ca(i)).r),s=r(a.g,i.g),u=r(a.b,i.b),l=qt(a.opacity,i.opacity);return function(f){return a.r=o(f),a.g=s(f),a.b=u(f),a.opacity=l(f),a+""}}return n.gamma=e,n}(1);function qC(e){return function(t){var r=t.length,n=new Array(r),a=new Array(r),i=new Array(r),o,s;for(o=0;o<r;++o)s=Ca(t[o]),n[o]=s.r||0,a[o]=s.g||0,i[o]=s.b||0;return n=e(n),a=e(a),i=e(i),s.opacity=1,function(u){return s.r=n(u),s.g=a(u),s.b=i(u),s+""}}}var VC=qC(FC);function WC(e,t){t||(t=[]);var r=e?Math.min(t.length,e.length):0,n=t.slice(),a;return function(i){for(a=0;a<r;++a)n[a]=e[a]*(1-i)+t[a]*i;return n}}function UC(e){return ArrayBuffer.isView(e)&&!(e instanceof DataView)}function HC(e,t){var r=t?t.length:0,n=e?Math.min(r,e.length):0,a=new Array(n),i=new Array(r),o;for(o=0;o<n;++o)a[o]=du(e[o],t[o]);for(;o<r;++o)i[o]=t[o];return function(s){for(o=0;o<n;++o)i[o]=a[o](s);return i}}function GC(e,t){var r=new Date;return e=+e,t=+t,function(n){return r.setTime(e*(1-n)+t*n),r}}function Yt(e,t){return e=+e,t=+t,function(r){return e*(1-r)+t*r}}function XC(e,t){var r={},n={},a;(e===null||typeof e!="object")&&(e={}),(t===null||typeof t!="object")&&(t={});for(a in t)a in e?r[a]=du(e[a],t[a]):n[a]=t[a];return function(i){for(a in r)n[a]=r[a](i);return n}}var xh=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,bd=new RegExp(xh.source,"g");function KC(e){return function(){return e}}function ZC(e){return function(t){return e(t)+""}}function rb(e,t){var r=xh.lastIndex=bd.lastIndex=0,n,a,i,o=-1,s=[],u=[];for(e=e+"",t=t+"";(n=xh.exec(e))&&(a=bd.exec(t));)(i=a.index)>r&&(i=t.slice(r,i),s[o]?s[o]+=i:s[++o]=i),(n=n[0])===(a=a[0])?s[o]?s[o]+=a:s[++o]=a:(s[++o]=null,u.push({i:o,x:Yt(n,a)})),r=bd.lastIndex;return r<t.length&&(i=t.slice(r),s[o]?s[o]+=i:s[++o]=i),s.length<2?u[0]?ZC(u[0].x):KC(t):(t=u.length,function(l){for(var f=0,c;f<t;++f)s[(c=u[f]).i]=c.x(l);return s.join("")})}function du(e,t){var r=typeof t,n;return t==null||r==="boolean"?Qf(t):(r==="number"?Yt:r==="string"?(n=li(t))?(t=n,fi):rb:t instanceof li?fi:t instanceof Date?GC:UC(t)?WC:Array.isArray(t)?HC:typeof t.valueOf!="function"&&typeof t.toString!="function"||isNaN(t)?XC:Yt)(e,t)}function Wv(e,t){return e=+e,t=+t,function(r){return Math.round(e*(1-r)+t*r)}}var c0=180/Math.PI,Sh={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function nb(e,t,r,n,a,i){var o,s,u;return(o=Math.sqrt(e*e+t*t))&&(e/=o,t/=o),(u=e*r+t*n)&&(r-=e*u,n-=t*u),(s=Math.sqrt(r*r+n*n))&&(r/=s,n/=s,u/=s),e*n<t*r&&(e=-e,t=-t,u=-u,o=-o),{translateX:a,translateY:i,rotate:Math.atan2(t,e)*c0,skewX:Math.atan(u)*c0,scaleX:o,scaleY:s}}var Ku;function QC(e){const t=new(typeof DOMMatrix=="function"?DOMMatrix:WebKitCSSMatrix)(e+"");return t.isIdentity?Sh:nb(t.a,t.b,t.c,t.d,t.e,t.f)}function jC(e){return e==null||(Ku||(Ku=document.createElementNS("http://www.w3.org/2000/svg","g")),Ku.setAttribute("transform",e),!(e=Ku.transform.baseVal.consolidate()))?Sh:(e=e.matrix,nb(e.a,e.b,e.c,e.d,e.e,e.f))}function ab(e,t,r,n){function a(l){return l.length?l.pop()+" ":""}function i(l,f,c,d,h,v){if(l!==c||f!==d){var p=h.push("translate(",null,t,null,r);v.push({i:p-4,x:Yt(l,c)},{i:p-2,x:Yt(f,d)})}else(c||d)&&h.push("translate("+c+t+d+r)}function o(l,f,c,d){l!==f?(l-f>180?f+=360:f-l>180&&(l+=360),d.push({i:c.push(a(c)+"rotate(",null,n)-2,x:Yt(l,f)})):f&&c.push(a(c)+"rotate("+f+n)}function s(l,f,c,d){l!==f?d.push({i:c.push(a(c)+"skewX(",null,n)-2,x:Yt(l,f)}):f&&c.push(a(c)+"skewX("+f+n)}function u(l,f,c,d,h,v){if(l!==c||f!==d){var p=h.push(a(h)+"scale(",null,",",null,")");v.push({i:p-4,x:Yt(l,c)},{i:p-2,x:Yt(f,d)})}else(c!==1||d!==1)&&h.push(a(h)+"scale("+c+","+d+")")}return function(l,f){var c=[],d=[];return l=e(l),f=e(f),i(l.translateX,l.translateY,f.translateX,f.translateY,c,d),o(l.rotate,f.rotate,c,d),s(l.skewX,f.skewX,c,d),u(l.scaleX,l.scaleY,f.scaleX,f.scaleY,c,d),l=f=null,function(h){for(var v=-1,p=d.length,g;++v<p;)c[(g=d[v]).i]=g.x(h);return c.join("")}}}var JC=ab(QC,"px, ","px)","deg)"),e6=ab(jC,", ",")",")");function t6(e){return function(t,r){var n=e((t=yh(t)).h,(r=yh(r)).h),a=qt(t.s,r.s),i=qt(t.l,r.l),o=qt(t.opacity,r.opacity);return function(s){return t.h=n(s),t.s=a(s),t.l=i(s),t.opacity=o(s),t+""}}}const r6=t6(Vv);function n6(e,t){var r=qt((e=bh(e)).l,(t=bh(t)).l),n=qt(e.a,t.a),a=qt(e.b,t.b),i=qt(e.opacity,t.opacity);return function(o){return e.l=r(o),e.a=n(o),e.b=a(o),e.opacity=i(o),e+""}}function a6(e){return function(t,r){var n=e((t=wh(t)).h,(r=wh(r)).h),a=qt(t.c,r.c),i=qt(t.l,r.l),o=qt(t.opacity,r.opacity);return function(s){return t.h=n(s),t.c=a(s),t.l=i(s),t.opacity=o(s),t+""}}}const i6=a6(Vv);function ib(e){return function t(r){r=+r;function n(a,i){var o=e((a=yn(a)).h,(i=yn(i)).h),s=qt(a.s,i.s),u=qt(a.l,i.l),l=qt(a.opacity,i.opacity);return function(f){return a.h=o(f),a.s=s(f),a.l=u(Math.pow(f,r)),a.opacity=l(f),a+""}}return n.gamma=t,n}(1)}ib(Vv);var Uv=ib(qt);function jf(e,t){t===void 0&&(t=e,e=du);for(var r=0,n=t.length-1,a=t[0],i=new Array(n<0?0:n);r<n;)i[r]=e(a,a=t[++r]);return function(o){var s=Math.max(0,Math.min(n-1,Math.floor(o*=n)));return i[s](o-s)}}function Gr(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e(n/(t-1));return r}var go=0,ds=0,jo=0,ob=1e3,Jl,hs,ef=0,ci=0,Jf=0,Ns=typeof performance=="object"&&performance.now?performance:Date,sb=typeof window=="object"&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(e){setTimeout(e,17)};function Hv(){return ci||(sb(o6),ci=Ns.now()+Jf)}function o6(){ci=0}function tf(){this._call=this._time=this._next=null}tf.prototype=ub.prototype={constructor:tf,restart:function(e,t,r){if(typeof e!="function")throw new TypeError("callback is not a function");r=(r==null?Hv():+r)+(t==null?0:+t),!this._next&&hs!==this&&(hs?hs._next=this:Jl=this,hs=this),this._call=e,this._time=r,Eh()},stop:function(){this._call&&(this._call=null,this._time=1/0,Eh())}};function ub(e,t,r){var n=new tf;return n.restart(e,t,r),n}function s6(){Hv(),++go;for(var e=Jl,t;e;)(t=ci-e._time)>=0&&e._call.call(void 0,t),e=e._next;--go}function d0(){ci=(ef=Ns.now())+Jf,go=ds=0;try{s6()}finally{go=0,l6(),ci=0}}function u6(){var e=Ns.now(),t=e-ef;t>ob&&(Jf-=t,ef=e)}function l6(){for(var e,t=Jl,r,n=1/0;t;)t._call?(n>t._time&&(n=t._time),e=t,t=t._next):(r=t._next,t._next=null,t=e?e._next=r:Jl=r);hs=e,Eh(n)}function Eh(e){if(!go){ds&&(ds=clearTimeout(ds));var t=e-ci;t>24?(e<1/0&&(ds=setTimeout(d0,e-Ns.now()-Jf)),jo&&(jo=clearInterval(jo))):(jo||(ef=Ns.now(),jo=setInterval(u6,ob)),go=1,sb(d0))}}function h0(e,t,r){var n=new tf;return t=t==null?0:+t,n.restart(a=>{n.stop(),e(a+t)},t,r),n}var f6=O1("start","end","cancel","interrupt"),c6=[],lb=0,v0=1,Th=2,Cl=3,g0=4,Mh=5,Dl=6;function ec(e,t,r,n,a,i){var o=e.__transition;if(!o)e.__transition={};else if(r in o)return;d6(e,r,{name:t,index:n,group:a,on:f6,tween:c6,time:i.time,delay:i.delay,duration:i.duration,ease:i.ease,timer:null,state:lb})}function Gv(e,t){var r=Jr(e,t);if(r.state>lb)throw new Error("too late; already scheduled");return r}function Sn(e,t){var r=Jr(e,t);if(r.state>Cl)throw new Error("too late; already running");return r}function Jr(e,t){var r=e.__transition;if(!r||!(r=r[t]))throw new Error("transition not found");return r}function d6(e,t,r){var n=e.__transition,a;n[t]=r,r.timer=ub(i,0,r.time);function i(l){r.state=v0,r.timer.restart(o,r.delay,r.time),r.delay<=l&&o(l-r.delay)}function o(l){var f,c,d,h;if(r.state!==v0)return u();for(f in n)if(h=n[f],h.name===r.name){if(h.state===Cl)return h0(o);h.state===g0?(h.state=Dl,h.timer.stop(),h.on.call("interrupt",e,e.__data__,h.index,h.group),delete n[f]):+f<t&&(h.state=Dl,h.timer.stop(),h.on.call("cancel",e,e.__data__,h.index,h.group),delete n[f])}if(h0(function(){r.state===Cl&&(r.state=g0,r.timer.restart(s,r.delay,r.time),s(l))}),r.state=Th,r.on.call("start",e,e.__data__,r.index,r.group),r.state===Th){for(r.state=Cl,a=new Array(d=r.tween.length),f=0,c=-1;f<d;++f)(h=r.tween[f].value.call(e,e.__data__,r.index,r.group))&&(a[++c]=h);a.length=c+1}}function s(l){for(var f=l<r.duration?r.ease.call(null,l/r.duration):(r.timer.restart(u),r.state=Mh,1),c=-1,d=a.length;++c<d;)a[c].call(e,f);r.state===Mh&&(r.on.call("end",e,e.__data__,r.index,r.group),u())}function u(){r.state=Dl,r.timer.stop(),delete n[t];for(var l in n)return;delete e.__transition}}function h6(e,t){var r=e.__transition,n,a,i=!0,o;if(r){t=t==null?null:t+"";for(o in r){if((n=r[o]).name!==t){i=!1;continue}a=n.state>Th&&n.state<Mh,n.state=Dl,n.timer.stop(),n.on.call(a?"interrupt":"cancel",e,e.__data__,n.index,n.group),delete r[o]}i&&delete e.__transition}}function v6(e){return this.each(function(){h6(this,e)})}function g6(e,t){var r,n;return function(){var a=Sn(this,e),i=a.tween;if(i!==r){n=r=i;for(var o=0,s=n.length;o<s;++o)if(n[o].name===t){n=n.slice(),n.splice(o,1);break}}a.tween=n}}function p6(e,t,r){var n,a;if(typeof r!="function")throw new Error;return function(){var i=Sn(this,e),o=i.tween;if(o!==n){a=(n=o).slice();for(var s={name:t,value:r},u=0,l=a.length;u<l;++u)if(a[u].name===t){a[u]=s;break}u===l&&a.push(s)}i.tween=a}}function m6(e,t){var r=this._id;if(e+="",arguments.length<2){for(var n=Jr(this.node(),r).tween,a=0,i=n.length,o;a<i;++a)if((o=n[a]).name===e)return o.value;return null}return this.each((t==null?g6:p6)(r,e,t))}function Xv(e,t,r){var n=e._id;return e.each(function(){var a=Sn(this,n);(a.value||(a.value={}))[t]=r.apply(this,arguments)}),function(a){return Jr(a,n).value[t]}}function fb(e,t){var r;return(typeof t=="number"?Yt:t instanceof li?fi:(r=li(t))?(t=r,fi):rb)(e,t)}function y6(e){return function(){this.removeAttribute(e)}}function b6(e){return function(){this.removeAttributeNS(e.space,e.local)}}function w6(e,t,r){var n,a=r+"",i;return function(){var o=this.getAttribute(e);return o===a?null:o===n?i:i=t(n=o,r)}}function x6(e,t,r){var n,a=r+"",i;return function(){var o=this.getAttributeNS(e.space,e.local);return o===a?null:o===n?i:i=t(n=o,r)}}function S6(e,t,r){var n,a,i;return function(){var o,s=r(this),u;return s==null?void this.removeAttribute(e):(o=this.getAttribute(e),u=s+"",o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,s)))}}function E6(e,t,r){var n,a,i;return function(){var o,s=r(this),u;return s==null?void this.removeAttributeNS(e.space,e.local):(o=this.getAttributeNS(e.space,e.local),u=s+"",o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,s)))}}function T6(e,t){var r=Xf(e),n=r==="transform"?e6:fb;return this.attrTween(e,typeof t=="function"?(r.local?E6:S6)(r,n,Xv(this,"attr."+e,t)):t==null?(r.local?b6:y6)(r):(r.local?x6:w6)(r,n,t))}function M6(e,t){return function(r){this.setAttribute(e,t.call(this,r))}}function k6(e,t){return function(r){this.setAttributeNS(e.space,e.local,t.call(this,r))}}function C6(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&k6(e,i)),r}return a._value=t,a}function D6(e,t){var r,n;function a(){var i=t.apply(this,arguments);return i!==n&&(r=(n=i)&&M6(e,i)),r}return a._value=t,a}function _6(e,t){var r="attr."+e;if(arguments.length<2)return(r=this.tween(r))&&r._value;if(t==null)return this.tween(r,null);if(typeof t!="function")throw new Error;var n=Xf(e);return this.tween(r,(n.local?C6:D6)(n,t))}function P6(e,t){return function(){Gv(this,e).delay=+t.apply(this,arguments)}}function A6(e,t){return t=+t,function(){Gv(this,e).delay=t}}function O6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?P6:A6)(t,e)):Jr(this.node(),t).delay}function R6(e,t){return function(){Sn(this,e).duration=+t.apply(this,arguments)}}function L6(e,t){return t=+t,function(){Sn(this,e).duration=t}}function $6(e){var t=this._id;return arguments.length?this.each((typeof e=="function"?R6:L6)(t,e)):Jr(this.node(),t).duration}function N6(e,t){if(typeof t!="function")throw new Error;return function(){Sn(this,e).ease=t}}function I6(e){var t=this._id;return arguments.length?this.each(N6(t,e)):Jr(this.node(),t).ease}function B6(e,t){return function(){var r=t.apply(this,arguments);if(typeof r!="function")throw new Error;Sn(this,e).ease=r}}function F6(e){if(typeof e!="function")throw new Error;return this.each(B6(this._id,e))}function z6(e){typeof e!="function"&&(e=L1(e));for(var t=this._groups,r=t.length,n=new Array(r),a=0;a<r;++a)for(var i=t[a],o=i.length,s=n[a]=[],u,l=0;l<o;++l)(u=i[l])&&e.call(u,u.__data__,l,i)&&s.push(u);return new jn(n,this._parents,this._name,this._id)}function Y6(e){if(e._id!==this._id)throw new Error;for(var t=this._groups,r=e._groups,n=t.length,a=r.length,i=Math.min(n,a),o=new Array(n),s=0;s<i;++s)for(var u=t[s],l=r[s],f=u.length,c=o[s]=new Array(f),d,h=0;h<f;++h)(d=u[h]||l[h])&&(c[h]=d);for(;s<n;++s)o[s]=t[s];return new jn(o,this._parents,this._name,this._id)}function q6(e){return(e+"").trim().split(/^|\s+/).every(function(t){var r=t.indexOf(".");return r>=0&&(t=t.slice(0,r)),!t||t==="start"})}function V6(e,t,r){var n,a,i=q6(t)?Gv:Sn;return function(){var o=i(this,e),s=o.on;s!==n&&(a=(n=s).copy()).on(t,r),o.on=a}}function W6(e,t){var r=this._id;return arguments.length<2?Jr(this.node(),r).on.on(e):this.each(V6(r,e,t))}function U6(e){return function(){var t=this.parentNode;for(var r in this.__transition)if(+r!==e)return;t&&t.removeChild(this)}}function H6(){return this.on("end.remove",U6(this._id))}function G6(e){var t=this._name,r=this._id;typeof e!="function"&&(e=Bv(e));for(var n=this._groups,a=n.length,i=new Array(a),o=0;o<a;++o)for(var s=n[o],u=s.length,l=i[o]=new Array(u),f,c,d=0;d<u;++d)(f=s[d])&&(c=e.call(f,f.__data__,d,s))&&("__data__"in f&&(c.__data__=f.__data__),l[d]=c,ec(l[d],t,r,d,l,Jr(f,r)));return new jn(i,this._parents,t,r)}function X6(e){var t=this._name,r=this._id;typeof e!="function"&&(e=R1(e));for(var n=this._groups,a=n.length,i=[],o=[],s=0;s<a;++s)for(var u=n[s],l=u.length,f,c=0;c<l;++c)if(f=u[c]){for(var d=e.call(f,f.__data__,c,u),h,v=Jr(f,r),p=0,g=d.length;p<g;++p)(h=d[p])&&ec(h,t,r,p,d,v);i.push(d),o.push(f)}return new jn(i,o,t,r)}var K6=fu.prototype.constructor;function Z6(){return new K6(this._groups,this._parents)}function Q6(e,t){var r,n,a;return function(){var i=ho(this,e),o=(this.style.removeProperty(e),ho(this,e));return i===o?null:i===r&&o===n?a:a=t(r=i,n=o)}}function cb(e){return function(){this.style.removeProperty(e)}}function j6(e,t,r){var n,a=r+"",i;return function(){var o=ho(this,e);return o===a?null:o===n?i:i=t(n=o,r)}}function J6(e,t,r){var n,a,i;return function(){var o=ho(this,e),s=r(this),u=s+"";return s==null&&(u=s=(this.style.removeProperty(e),ho(this,e))),o===u?null:o===n&&u===a?i:(a=u,i=t(n=o,s))}}function eD(e,t){var r,n,a,i="style."+t,o="end."+i,s;return function(){var u=Sn(this,e),l=u.on,f=u.value[i]==null?s||(s=cb(t)):void 0;(l!==r||a!==f)&&(n=(r=l).copy()).on(o,a=f),u.on=n}}function tD(e,t,r){var n=(e+="")=="transform"?JC:fb;return t==null?this.styleTween(e,Q6(e,n)).on("end.style."+e,cb(e)):typeof t=="function"?this.styleTween(e,J6(e,n,Xv(this,"style."+e,t))).each(eD(this._id,e)):this.styleTween(e,j6(e,n,t),r).on("end.style."+e,null)}function rD(e,t,r){return function(n){this.style.setProperty(e,t.call(this,n),r)}}function nD(e,t,r){var n,a;function i(){var o=t.apply(this,arguments);return o!==a&&(n=(a=o)&&rD(e,o,r)),n}return i._value=t,i}function aD(e,t,r){var n="style."+(e+="");if(arguments.length<2)return(n=this.tween(n))&&n._value;if(t==null)return this.tween(n,null);if(typeof t!="function")throw new Error;return this.tween(n,nD(e,t,r??""))}function iD(e){return function(){this.textContent=e}}function oD(e){return function(){var t=e(this);this.textContent=t??""}}function sD(e){return this.tween("text",typeof e=="function"?oD(Xv(this,"text",e)):iD(e==null?"":e+""))}function uD(e){return function(t){this.textContent=e.call(this,t)}}function lD(e){var t,r;function n(){var a=e.apply(this,arguments);return a!==r&&(t=(r=a)&&uD(a)),t}return n._value=e,n}function fD(e){var t="text";if(arguments.length<1)return(t=this.tween(t))&&t._value;if(e==null)return this.tween(t,null);if(typeof e!="function")throw new Error;return this.tween(t,lD(e))}function cD(){for(var e=this._name,t=this._id,r=db(),n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],s=o.length,u,l=0;l<s;++l)if(u=o[l]){var f=Jr(u,t);ec(u,e,r,l,o,{time:f.time+f.delay+f.duration,delay:0,duration:f.duration,ease:f.ease})}return new jn(n,this._parents,e,r)}function dD(){var e,t,r=this,n=r._id,a=r.size();return new Promise(function(i,o){var s={value:o},u={value:function(){--a===0&&i()}};r.each(function(){var l=Sn(this,n),f=l.on;f!==e&&(t=(e=f).copy(),t._.cancel.push(s),t._.interrupt.push(s),t._.end.push(u)),l.on=t}),a===0&&i()})}var hD=0;function jn(e,t,r,n){this._groups=e,this._parents=t,this._name=r,this._id=n}function db(){return++hD}var An=fu.prototype;jn.prototype={constructor:jn,select:G6,selectAll:X6,selectChild:An.selectChild,selectChildren:An.selectChildren,filter:z6,merge:Y6,selection:Z6,transition:cD,call:An.call,nodes:An.nodes,node:An.node,size:An.size,empty:An.empty,each:An.each,on:W6,attr:T6,attrTween:_6,style:tD,styleTween:aD,text:sD,textTween:fD,remove:H6,tween:m6,delay:O6,duration:$6,ease:I6,easeVarying:F6,end:dD,[Symbol.iterator]:An[Symbol.iterator]};function vD(e){return((e*=2)<=1?e*e*e:(e-=2)*e*e+2)/2}var gD={time:null,delay:0,duration:250,ease:vD};function pD(e,t){for(var r;!(r=e.__transition)||!(r=r[t]);)if(!(e=e.parentNode))throw new Error(`transition ${t} not found`);return r}function mD(e){var t,r;e instanceof jn?(t=e._id,e=e._name):(t=db(),(r=gD).time=Hv(),e=e==null?null:e+"");for(var n=this._groups,a=n.length,i=0;i<a;++i)for(var o=n[i],s=o.length,u,l=0;l<s;++l)(u=o[l])&&ec(u,e,t,l,o,r||pD(u,t));return new jn(n,this._parents,e,t)}fu.prototype.interrupt=v6;fu.prototype.transition=mD;const kh=Math.PI,Ch=2*kh,Ha=1e-6,yD=Ch-Ha;function hb(e){this._+=e[0];for(let t=1,r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function bD(e){let t=Math.floor(e);if(!(t>=0))throw new Error(`invalid digits: ${e}`);if(t>15)return hb;const r=10**t;return function(n){this._+=n[0];for(let a=1,i=n.length;a<i;++a)this._+=Math.round(arguments[a]*r)/r+n[a]}}class wD{constructor(t){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=t==null?hb:bD(t)}moveTo(t,r){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(t,r){this._append`L${this._x1=+t},${this._y1=+r}`}quadraticCurveTo(t,r,n,a){this._append`Q${+t},${+r},${this._x1=+n},${this._y1=+a}`}bezierCurveTo(t,r,n,a,i,o){this._append`C${+t},${+r},${+n},${+a},${this._x1=+i},${this._y1=+o}`}arcTo(t,r,n,a,i){if(t=+t,r=+r,n=+n,a=+a,i=+i,i<0)throw new Error(`negative radius: ${i}`);let o=this._x1,s=this._y1,u=n-t,l=a-r,f=o-t,c=s-r,d=f*f+c*c;if(this._x1===null)this._append`M${this._x1=t},${this._y1=r}`;else if(d>Ha)if(!(Math.abs(c*u-l*f)>Ha)||!i)this._append`L${this._x1=t},${this._y1=r}`;else{let h=n-o,v=a-s,p=u*u+l*l,g=h*h+v*v,m=Math.sqrt(p),y=Math.sqrt(d),b=i*Math.tan((kh-Math.acos((p+d-g)/(2*m*y)))/2),w=b/y,E=b/m;Math.abs(w-1)>Ha&&this._append`L${t+w*f},${r+w*c}`,this._append`A${i},${i},0,0,${+(c*h>f*v)},${this._x1=t+E*u},${this._y1=r+E*l}`}}arc(t,r,n,a,i,o){if(t=+t,r=+r,n=+n,o=!!o,n<0)throw new Error(`negative radius: ${n}`);let s=n*Math.cos(a),u=n*Math.sin(a),l=t+s,f=r+u,c=1^o,d=o?a-i:i-a;this._x1===null?this._append`M${l},${f}`:(Math.abs(this._x1-l)>Ha||Math.abs(this._y1-f)>Ha)&&this._append`L${l},${f}`,n&&(d<0&&(d=d%Ch+Ch),d>yD?this._append`A${n},${n},0,1,${c},${t-s},${r-u}A${n},${n},0,1,${c},${this._x1=l},${this._y1=f}`:d>Ha&&this._append`A${n},${n},0,${+(d>=kh)},${c},${this._x1=t+n*Math.cos(i)},${this._y1=r+n*Math.sin(i)}`)}rect(t,r,n,a){this._append`M${this._x0=this._x1=+t},${this._y0=this._y1=+r}h${n=+n}v${+a}h${-n}Z`}toString(){return this._}}function Dh(e=3){return new wD(+e)}function xD(e){return Math.abs(e=Math.round(e))>=1e21?e.toLocaleString("en").replace(/,/g,""):e.toString(10)}function rf(e,t){if((r=(e=t?e.toExponential(t-1):e.toExponential()).indexOf("e"))<0)return null;var r,n=e.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+e.slice(r+1)]}function po(e){return e=rf(Math.abs(e)),e?e[1]:NaN}function SD(e,t){return function(r,n){for(var a=r.length,i=[],o=0,s=e[0],u=0;a>0&&s>0&&(u+s+1>n&&(s=Math.max(1,n-u)),i.push(r.substring(a-=s,a+s)),!((u+=s+1)>n));)s=e[o=(o+1)%e.length];return i.reverse().join(t)}}function ED(e){return function(t){return t.replace(/[0-9]/g,function(r){return e[+r]})}}var TD=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Is(e){if(!(t=TD.exec(e)))throw new Error("invalid format: "+e);var t;return new Kv({fill:t[1],align:t[2],sign:t[3],symbol:t[4],zero:t[5],width:t[6],comma:t[7],precision:t[8]&&t[8].slice(1),trim:t[9],type:t[10]})}Is.prototype=Kv.prototype;function Kv(e){this.fill=e.fill===void 0?" ":e.fill+"",this.align=e.align===void 0?">":e.align+"",this.sign=e.sign===void 0?"-":e.sign+"",this.symbol=e.symbol===void 0?"":e.symbol+"",this.zero=!!e.zero,this.width=e.width===void 0?void 0:+e.width,this.comma=!!e.comma,this.precision=e.precision===void 0?void 0:+e.precision,this.trim=!!e.trim,this.type=e.type===void 0?"":e.type+""}Kv.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function MD(e){e:for(var t=e.length,r=1,n=-1,a;r<t;++r)switch(e[r]){case".":n=a=r;break;case"0":n===0&&(n=r),a=r;break;default:if(!+e[r])break e;n>0&&(n=0);break}return n>0?e.slice(0,n)+e.slice(a+1):e}var vb;function kD(e,t){var r=rf(e,t);if(!r)return e+"";var n=r[0],a=r[1],i=a-(vb=Math.max(-8,Math.min(8,Math.floor(a/3)))*3)+1,o=n.length;return i===o?n:i>o?n+new Array(i-o+1).join("0"):i>0?n.slice(0,i)+"."+n.slice(i):"0."+new Array(1-i).join("0")+rf(e,Math.max(0,t+i-1))[0]}function p0(e,t){var r=rf(e,t);if(!r)return e+"";var n=r[0],a=r[1];return a<0?"0."+new Array(-a).join("0")+n:n.length>a+1?n.slice(0,a+1)+"."+n.slice(a+1):n+new Array(a-n.length+2).join("0")}const m0={"%":(e,t)=>(e*100).toFixed(t),b:e=>Math.round(e).toString(2),c:e=>e+"",d:xD,e:(e,t)=>e.toExponential(t),f:(e,t)=>e.toFixed(t),g:(e,t)=>e.toPrecision(t),o:e=>Math.round(e).toString(8),p:(e,t)=>p0(e*100,t),r:p0,s:kD,X:e=>Math.round(e).toString(16).toUpperCase(),x:e=>Math.round(e).toString(16)};function y0(e){return e}var b0=Array.prototype.map,w0=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function CD(e){var t=e.grouping===void 0||e.thousands===void 0?y0:SD(b0.call(e.grouping,Number),e.thousands+""),r=e.currency===void 0?"":e.currency[0]+"",n=e.currency===void 0?"":e.currency[1]+"",a=e.decimal===void 0?".":e.decimal+"",i=e.numerals===void 0?y0:ED(b0.call(e.numerals,String)),o=e.percent===void 0?"%":e.percent+"",s=e.minus===void 0?"":e.minus+"",u=e.nan===void 0?"NaN":e.nan+"";function l(c){c=Is(c);var d=c.fill,h=c.align,v=c.sign,p=c.symbol,g=c.zero,m=c.width,y=c.comma,b=c.precision,w=c.trim,E=c.type;E==="n"?(y=!0,E="g"):m0[E]||(b===void 0&&(b=12),w=!0,E="g"),(g||d==="0"&&h==="=")&&(g=!0,d="0",h="=");var S=p==="$"?r:p==="#"&&/[boxX]/.test(E)?"0"+E.toLowerCase():"",x=p==="$"?n:/[%p]/.test(E)?o:"",M=m0[E],T=/[defgprs%]/.test(E);b=b===void 0?6:/[gprs]/.test(E)?Math.max(1,Math.min(21,b)):Math.max(0,Math.min(20,b));function C(k){var _=S,A=x,D,P,R;if(E==="c")A=M(k)+A,k="";else{k=+k;var L=k<0||1/k<0;if(k=isNaN(k)?u:M(Math.abs(k),b),w&&(k=MD(k)),L&&+k==0&&v!=="+"&&(L=!1),_=(L?v==="("?v:s:v==="-"||v==="("?"":v)+_,A=(E==="s"?w0[8+vb/3]:"")+A+(L&&v==="("?")":""),T){for(D=-1,P=k.length;++D<P;)if(R=k.charCodeAt(D),48>R||R>57){A=(R===46?a+k.slice(D+1):k.slice(D))+A,k=k.slice(0,D);break}}}y&&!g&&(k=t(k,1/0));var N=_.length+k.length+A.length,z=N<m?new Array(m-N+1).join(d):"";switch(y&&g&&(k=t(z+k,z.length?m-A.length:1/0),z=""),h){case"<":k=_+k+A+z;break;case"=":k=_+z+k+A;break;case"^":k=z.slice(0,N=z.length>>1)+_+k+A+z.slice(N);break;default:k=z+_+k+A;break}return i(k)}return C.toString=function(){return c+""},C}function f(c,d){var h=l((c=Is(c),c.type="f",c)),v=Math.max(-8,Math.min(8,Math.floor(po(d)/3)))*3,p=Math.pow(10,-v),g=w0[8+v/3];return function(m){return h(p*m)+g}}return{format:l,formatPrefix:f}}var Zu,Ao,gb;DD({thousands:",",grouping:[3],currency:["$",""]});function DD(e){return Zu=CD(e),Ao=Zu.format,gb=Zu.formatPrefix,Zu}function _D(e){return Math.max(0,-po(Math.abs(e)))}function PD(e,t){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(po(t)/3)))*3-po(Math.abs(e)))}function AD(e,t){return e=Math.abs(e),t=Math.abs(t)-e,Math.max(0,po(t)-po(e))+1}var Oe=1e-6,pb=1e-12,Le=Math.PI,dt=Le/2,x0=Le/4,mr=Le*2,Jt=180/Le,ct=Le/180,Ze=Math.abs,Oo=Math.atan,Jn=Math.atan2,Re=Math.cos,mb=Math.exp,nf=Math.log,wd=Math.pow,De=Math.sin,Dr=Math.sign||function(e){return e>0?1:e<0?-1:0},sr=Math.sqrt,Zv=Math.tan;function yb(e){return e>1?0:e<-1?Le:Math.acos(e)}function Rr(e){return e>1?dt:e<-1?-dt:Math.asin(e)}function _r(){}function af(e,t){e&&E0.hasOwnProperty(e.type)&&E0[e.type](e,t)}var S0={Feature:function(e,t){af(e.geometry,t)},FeatureCollection:function(e,t){for(var r=e.features,n=-1,a=r.length;++n<a;)af(r[n].geometry,t)}},E0={Sphere:function(e,t){t.sphere()},Point:function(e,t){e=e.coordinates,t.point(e[0],e[1],e[2])},MultiPoint:function(e,t){for(var r=e.coordinates,n=-1,a=r.length;++n<a;)e=r[n],t.point(e[0],e[1],e[2])},LineString:function(e,t){_h(e.coordinates,t,0)},MultiLineString:function(e,t){for(var r=e.coordinates,n=-1,a=r.length;++n<a;)_h(r[n],t,0)},Polygon:function(e,t){T0(e.coordinates,t)},MultiPolygon:function(e,t){for(var r=e.coordinates,n=-1,a=r.length;++n<a;)T0(r[n],t)},GeometryCollection:function(e,t){for(var r=e.geometries,n=-1,a=r.length;++n<a;)af(r[n],t)}};function _h(e,t,r){var n=-1,a=e.length-r,i;for(t.lineStart();++n<a;)i=e[n],t.point(i[0],i[1],i[2]);t.lineEnd()}function T0(e,t){var r=-1,n=e.length;for(t.polygonStart();++r<n;)_h(e[r],t,1);t.polygonEnd()}function Za(e,t){e&&S0.hasOwnProperty(e.type)?S0[e.type](e,t):af(e,t)}function Ph(e){return[Jn(e[1],e[0]),Rr(e[2])]}function mo(e){var t=e[0],r=e[1],n=Re(r);return[n*Re(t),n*De(t),De(r)]}function Qu(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function of(e,t){return[e[1]*t[2]-e[2]*t[1],e[2]*t[0]-e[0]*t[2],e[0]*t[1]-e[1]*t[0]]}function xd(e,t){e[0]+=t[0],e[1]+=t[1],e[2]+=t[2]}function ju(e,t){return[e[0]*t,e[1]*t,e[2]*t]}function Ah(e){var t=sr(e[0]*e[0]+e[1]*e[1]+e[2]*e[2]);e[0]/=t,e[1]/=t,e[2]/=t}function Oh(e,t){function r(n,a){return n=e(n,a),t(n[0],n[1])}return e.invert&&t.invert&&(r.invert=function(n,a){return n=t.invert(n,a),n&&e.invert(n[0],n[1])}),r}function Rh(e,t){return Ze(e)>Le&&(e-=Math.round(e/mr)*mr),[e,t]}Rh.invert=Rh;function bb(e,t,r){return(e%=mr)?t||r?Oh(k0(e),C0(t,r)):k0(e):t||r?C0(t,r):Rh}function M0(e){return function(t,r){return t+=e,Ze(t)>Le&&(t-=Math.round(t/mr)*mr),[t,r]}}function k0(e){var t=M0(e);return t.invert=M0(-e),t}function C0(e,t){var r=Re(e),n=De(e),a=Re(t),i=De(t);function o(s,u){var l=Re(u),f=Re(s)*l,c=De(s)*l,d=De(u),h=d*r+f*n;return[Jn(c*a-h*i,f*r-d*n),Rr(h*a+c*i)]}return o.invert=function(s,u){var l=Re(u),f=Re(s)*l,c=De(s)*l,d=De(u),h=d*a-c*i;return[Jn(c*a+d*i,f*r+h*n),Rr(h*r-f*n)]},o}function OD(e){e=bb(e[0]*ct,e[1]*ct,e.length>2?e[2]*ct:0);function t(r){return r=e(r[0]*ct,r[1]*ct),r[0]*=Jt,r[1]*=Jt,r}return t.invert=function(r){return r=e.invert(r[0]*ct,r[1]*ct),r[0]*=Jt,r[1]*=Jt,r},t}function RD(e,t,r,n,a,i){if(r){var o=Re(t),s=De(t),u=n*r;a==null?(a=t+n*mr,i=t-u/2):(a=D0(o,a),i=D0(o,i),(n>0?a<i:a>i)&&(a+=n*mr));for(var l,f=a;n>0?f>i:f<i;f-=u)l=Ph([o,-s*Re(f),-s*De(f)]),e.point(l[0],l[1])}}function D0(e,t){t=mo(t),t[0]-=e,Ah(t);var r=yb(-t[1]);return((-t[2]<0?-r:r)+mr-Oe)%mr}function wb(){var e=[],t;return{point:function(r,n,a){t.push([r,n,a])},lineStart:function(){e.push(t=[])},lineEnd:_r,rejoin:function(){e.length>1&&e.push(e.pop().concat(e.shift()))},result:function(){var r=e;return e=[],t=null,r}}}function _l(e,t){return Ze(e[0]-t[0])<Oe&&Ze(e[1]-t[1])<Oe}function Ju(e,t,r,n){this.x=e,this.z=t,this.o=r,this.e=n,this.v=!1,this.n=this.p=null}function xb(e,t,r,n,a){var i=[],o=[],s,u;if(e.forEach(function(v){if(!((p=v.length-1)<=0)){var p,g=v[0],m=v[p],y;if(_l(g,m)){if(!g[2]&&!m[2]){for(a.lineStart(),s=0;s<p;++s)a.point((g=v[s])[0],g[1]);a.lineEnd();return}m[0]+=2*Oe}i.push(y=new Ju(g,v,null,!0)),o.push(y.o=new Ju(g,null,y,!1)),i.push(y=new Ju(m,v,null,!1)),o.push(y.o=new Ju(m,null,y,!0))}}),!!i.length){for(o.sort(t),_0(i),_0(o),s=0,u=o.length;s<u;++s)o[s].e=r=!r;for(var l=i[0],f,c;;){for(var d=l,h=!0;d.v;)if((d=d.n)===l)return;f=d.z,a.lineStart();do{if(d.v=d.o.v=!0,d.e){if(h)for(s=0,u=f.length;s<u;++s)a.point((c=f[s])[0],c[1]);else n(d.x,d.n.x,1,a);d=d.n}else{if(h)for(f=d.p.z,s=f.length-1;s>=0;--s)a.point((c=f[s])[0],c[1]);else n(d.x,d.p.x,-1,a);d=d.p}d=d.o,f=d.z,h=!h}while(!d.v);a.lineEnd()}}}function _0(e){if(t=e.length){for(var t,r=0,n=e[0],a;++r<t;)n.n=a=e[r],a.p=n,n=a;n.n=a=e[0],a.p=n}}function Sd(e){return Ze(e[0])<=Le?e[0]:Dr(e[0])*((Ze(e[0])+Le)%mr-Le)}function LD(e,t){var r=Sd(t),n=t[1],a=De(n),i=[De(r),-Re(r),0],o=0,s=0,u=new oi;a===1?n=dt+Oe:a===-1&&(n=-dt-Oe);for(var l=0,f=e.length;l<f;++l)if(d=(c=e[l]).length)for(var c,d,h=c[d-1],v=Sd(h),p=h[1]/2+x0,g=De(p),m=Re(p),y=0;y<d;++y,v=w,g=S,m=x,h=b){var b=c[y],w=Sd(b),E=b[1]/2+x0,S=De(E),x=Re(E),M=w-v,T=M>=0?1:-1,C=T*M,k=C>Le,_=g*S;if(u.add(Jn(_*T*De(C),m*x+_*Re(C))),o+=k?M+T*mr:M,k^v>=r^w>=r){var A=of(mo(h),mo(b));Ah(A);var D=of(i,A);Ah(D);var P=(k^M>=0?-1:1)*Rr(D[2]);(n>P||n===P&&(A[0]||A[1]))&&(s+=k^M>=0?1:-1)}}return(o<-Oe||o<Oe&&u<-pb)^s&1}function Sb(e,t,r,n){return function(a){var i=t(a),o=wb(),s=t(o),u=!1,l,f,c,d={point:h,lineStart:p,lineEnd:g,polygonStart:function(){d.point=m,d.lineStart=y,d.lineEnd=b,f=[],l=[]},polygonEnd:function(){d.point=h,d.lineStart=p,d.lineEnd=g,f=A1(f);var w=LD(l,n);f.length?(u||(a.polygonStart(),u=!0),xb(f,ND,w,r,a)):w&&(u||(a.polygonStart(),u=!0),a.lineStart(),r(null,null,1,a),a.lineEnd()),u&&(a.polygonEnd(),u=!1),f=l=null},sphere:function(){a.polygonStart(),a.lineStart(),r(null,null,1,a),a.lineEnd(),a.polygonEnd()}};function h(w,E){e(w,E)&&a.point(w,E)}function v(w,E){i.point(w,E)}function p(){d.point=v,i.lineStart()}function g(){d.point=h,i.lineEnd()}function m(w,E){c.push([w,E]),s.point(w,E)}function y(){s.lineStart(),c=[]}function b(){m(c[0][0],c[0][1]),s.lineEnd();var w=s.clean(),E=o.result(),S,x=E.length,M,T,C;if(c.pop(),l.push(c),c=null,!!x){if(w&1){if(T=E[0],(M=T.length-1)>0){for(u||(a.polygonStart(),u=!0),a.lineStart(),S=0;S<M;++S)a.point((C=T[S])[0],C[1]);a.lineEnd()}return}x>1&&w&2&&E.push(E.pop().concat(E.shift())),f.push(E.filter($D))}}return d}}function $D(e){return e.length>1}function ND(e,t){return((e=e.x)[0]<0?e[1]-dt-Oe:dt-e[1])-((t=t.x)[0]<0?t[1]-dt-Oe:dt-t[1])}const P0=Sb(function(){return!0},ID,FD,[-Le,-dt]);function ID(e){var t=NaN,r=NaN,n=NaN,a;return{lineStart:function(){e.lineStart(),a=1},point:function(i,o){var s=i>0?Le:-Le,u=Ze(i-t);Ze(u-Le)<Oe?(e.point(t,r=(r+o)/2>0?dt:-dt),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(s,r),e.point(i,r),a=0):n!==s&&u>=Le&&(Ze(t-n)<Oe&&(t-=n*Oe),Ze(i-s)<Oe&&(i-=s*Oe),r=BD(t,r,i,o),e.point(n,r),e.lineEnd(),e.lineStart(),e.point(s,r),a=0),e.point(t=i,r=o),n=s},lineEnd:function(){e.lineEnd(),t=r=NaN},clean:function(){return 2-a}}}function BD(e,t,r,n){var a,i,o=De(e-r);return Ze(o)>Oe?Oo((De(t)*(i=Re(n))*De(r)-De(n)*(a=Re(t))*De(e))/(a*i*o)):(t+n)/2}function FD(e,t,r,n){var a;if(e==null)a=r*dt,n.point(-Le,a),n.point(0,a),n.point(Le,a),n.point(Le,0),n.point(Le,-a),n.point(0,-a),n.point(-Le,-a),n.point(-Le,0),n.point(-Le,a);else if(Ze(e[0]-t[0])>Oe){var i=e[0]<t[0]?Le:-Le;a=r*i/2,n.point(-i,a),n.point(0,a),n.point(i,a)}else n.point(t[0],t[1])}function zD(e){var t=Re(e),r=2*ct,n=t>0,a=Ze(t)>Oe;function i(f,c,d,h){RD(h,e,r,d,f,c)}function o(f,c){return Re(f)*Re(c)>t}function s(f){var c,d,h,v,p;return{lineStart:function(){v=h=!1,p=1},point:function(g,m){var y=[g,m],b,w=o(g,m),E=n?w?0:l(g,m):w?l(g+(g<0?Le:-Le),m):0;if(!c&&(v=h=w)&&f.lineStart(),w!==h&&(b=u(c,y),(!b||_l(c,b)||_l(y,b))&&(y[2]=1)),w!==h)p=0,w?(f.lineStart(),b=u(y,c),f.point(b[0],b[1])):(b=u(c,y),f.point(b[0],b[1],2),f.lineEnd()),c=b;else if(a&&c&&n^w){var S;!(E&d)&&(S=u(y,c,!0))&&(p=0,n?(f.lineStart(),f.point(S[0][0],S[0][1]),f.point(S[1][0],S[1][1]),f.lineEnd()):(f.point(S[1][0],S[1][1]),f.lineEnd(),f.lineStart(),f.point(S[0][0],S[0][1],3)))}w&&(!c||!_l(c,y))&&f.point(y[0],y[1]),c=y,h=w,d=E},lineEnd:function(){h&&f.lineEnd(),c=null},clean:function(){return p|(v&&h)<<1}}}function u(f,c,d){var h=mo(f),v=mo(c),p=[1,0,0],g=of(h,v),m=Qu(g,g),y=g[0],b=m-y*y;if(!b)return!d&&f;var w=t*m/b,E=-t*y/b,S=of(p,g),x=ju(p,w),M=ju(g,E);xd(x,M);var T=S,C=Qu(x,T),k=Qu(T,T),_=C*C-k*(Qu(x,x)-1);if(!(_<0)){var A=sr(_),D=ju(T,(-C-A)/k);if(xd(D,x),D=Ph(D),!d)return D;var P=f[0],R=c[0],L=f[1],N=c[1],z;R<P&&(z=P,P=R,R=z);var F=R-P,I=Ze(F-Le)<Oe,B=I||F<Oe;if(!I&&N<L&&(z=L,L=N,N=z),B?I?L+N>0^D[1]<(Ze(D[0]-P)<Oe?L:N):L<=D[1]&&D[1]<=N:F>Le^(P<=D[0]&&D[0]<=R)){var V=ju(T,(-C+A)/k);return xd(V,x),[D,Ph(V)]}}}function l(f,c){var d=n?e:Le-e,h=0;return f<-d?h|=1:f>d&&(h|=2),c<-d?h|=4:c>d&&(h|=8),h}return Sb(o,s,i,n?[0,-e]:[-Le,e-Le])}function YD(e,t,r,n,a,i){var o=e[0],s=e[1],u=t[0],l=t[1],f=0,c=1,d=u-o,h=l-s,v;if(v=r-o,!(!d&&v>0)){if(v/=d,d<0){if(v<f)return;v<c&&(c=v)}else if(d>0){if(v>c)return;v>f&&(f=v)}if(v=a-o,!(!d&&v<0)){if(v/=d,d<0){if(v>c)return;v>f&&(f=v)}else if(d>0){if(v<f)return;v<c&&(c=v)}if(v=n-s,!(!h&&v>0)){if(v/=h,h<0){if(v<f)return;v<c&&(c=v)}else if(h>0){if(v>c)return;v>f&&(f=v)}if(v=i-s,!(!h&&v<0)){if(v/=h,h<0){if(v>c)return;v>f&&(f=v)}else if(h>0){if(v<f)return;v<c&&(c=v)}return f>0&&(e[0]=o+f*d,e[1]=s+f*h),c<1&&(t[0]=o+c*d,t[1]=s+c*h),!0}}}}}var vs=1e9,el=-vs;function Eb(e,t,r,n){function a(l,f){return e<=l&&l<=r&&t<=f&&f<=n}function i(l,f,c,d){var h=0,v=0;if(l==null||(h=o(l,c))!==(v=o(f,c))||u(l,f)<0^c>0)do d.point(h===0||h===3?e:r,h>1?n:t);while((h=(h+c+4)%4)!==v);else d.point(f[0],f[1])}function o(l,f){return Ze(l[0]-e)<Oe?f>0?0:3:Ze(l[0]-r)<Oe?f>0?2:1:Ze(l[1]-t)<Oe?f>0?1:0:f>0?3:2}function s(l,f){return u(l.x,f.x)}function u(l,f){var c=o(l,1),d=o(f,1);return c!==d?c-d:c===0?f[1]-l[1]:c===1?l[0]-f[0]:c===2?l[1]-f[1]:f[0]-l[0]}return function(l){var f=l,c=wb(),d,h,v,p,g,m,y,b,w,E,S,x={point:M,lineStart:_,lineEnd:A,polygonStart:C,polygonEnd:k};function M(P,R){a(P,R)&&f.point(P,R)}function T(){for(var P=0,R=0,L=h.length;R<L;++R)for(var N=h[R],z=1,F=N.length,I=N[0],B,V,K=I[0],j=I[1];z<F;++z)B=K,V=j,I=N[z],K=I[0],j=I[1],V<=n?j>n&&(K-B)*(n-V)>(j-V)*(e-B)&&++P:j<=n&&(K-B)*(n-V)<(j-V)*(e-B)&&--P;return P}function C(){f=c,d=[],h=[],S=!0}function k(){var P=T(),R=S&&P,L=(d=A1(d)).length;(R||L)&&(l.polygonStart(),R&&(l.lineStart(),i(null,null,1,l),l.lineEnd()),L&&xb(d,s,P,i,l),l.polygonEnd()),f=l,d=h=v=null}function _(){x.point=D,h&&h.push(v=[]),E=!0,w=!1,y=b=NaN}function A(){d&&(D(p,g),m&&w&&c.rejoin(),d.push(c.result())),x.point=M,w&&f.lineEnd()}function D(P,R){var L=a(P,R);if(h&&v.push([P,R]),E)p=P,g=R,m=L,E=!1,L&&(f.lineStart(),f.point(P,R));else if(L&&w)f.point(P,R);else{var N=[y=Math.max(el,Math.min(vs,y)),b=Math.max(el,Math.min(vs,b))],z=[P=Math.max(el,Math.min(vs,P)),R=Math.max(el,Math.min(vs,R))];YD(N,z,e,t,r,n)?(w||(f.lineStart(),f.point(N[0],N[1])),f.point(z[0],z[1]),L||f.lineEnd(),S=!1):L&&(f.lineStart(),f.point(P,R),S=!1)}y=P,b=R,w=L}return x}}const Lh=e=>e;var Ed=new oi,$h=new oi,Tb,Mb,Nh,Ih,Yn={point:_r,lineStart:_r,lineEnd:_r,polygonStart:function(){Yn.lineStart=qD,Yn.lineEnd=WD},polygonEnd:function(){Yn.lineStart=Yn.lineEnd=Yn.point=_r,Ed.add(Ze($h)),$h=new oi},result:function(){var e=Ed/2;return Ed=new oi,e}};function qD(){Yn.point=VD}function VD(e,t){Yn.point=kb,Tb=Nh=e,Mb=Ih=t}function kb(e,t){$h.add(Ih*e-Nh*t),Nh=e,Ih=t}function WD(){kb(Tb,Mb)}var yo=1/0,sf=yo,Bs=-yo,uf=Bs,lf={point:UD,lineStart:_r,lineEnd:_r,polygonStart:_r,polygonEnd:_r,result:function(){var e=[[yo,sf],[Bs,uf]];return Bs=uf=-(sf=yo=1/0),e}};function UD(e,t){e<yo&&(yo=e),e>Bs&&(Bs=e),t<sf&&(sf=t),t>uf&&(uf=t)}var Bh=0,Fh=0,gs=0,ff=0,cf=0,Ui=0,zh=0,Yh=0,ps=0,Cb,Db,fn,cn,kr={point:di,lineStart:A0,lineEnd:O0,polygonStart:function(){kr.lineStart=XD,kr.lineEnd=KD},polygonEnd:function(){kr.point=di,kr.lineStart=A0,kr.lineEnd=O0},result:function(){var e=ps?[zh/ps,Yh/ps]:Ui?[ff/Ui,cf/Ui]:gs?[Bh/gs,Fh/gs]:[NaN,NaN];return Bh=Fh=gs=ff=cf=Ui=zh=Yh=ps=0,e}};function di(e,t){Bh+=e,Fh+=t,++gs}function A0(){kr.point=HD}function HD(e,t){kr.point=GD,di(fn=e,cn=t)}function GD(e,t){var r=e-fn,n=t-cn,a=sr(r*r+n*n);ff+=a*(fn+e)/2,cf+=a*(cn+t)/2,Ui+=a,di(fn=e,cn=t)}function O0(){kr.point=di}function XD(){kr.point=ZD}function KD(){_b(Cb,Db)}function ZD(e,t){kr.point=_b,di(Cb=fn=e,Db=cn=t)}function _b(e,t){var r=e-fn,n=t-cn,a=sr(r*r+n*n);ff+=a*(fn+e)/2,cf+=a*(cn+t)/2,Ui+=a,a=cn*e-fn*t,zh+=a*(fn+e),Yh+=a*(cn+t),ps+=a*3,di(fn=e,cn=t)}function Pb(e){this._context=e}Pb.prototype={_radius:4.5,pointRadius:function(e){return this._radius=e,this},polygonStart:function(){this._line=0},polygonEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){this._line===0&&this._context.closePath(),this._point=NaN},point:function(e,t){switch(this._point){case 0:{this._context.moveTo(e,t),this._point=1;break}case 1:{this._context.lineTo(e,t);break}default:{this._context.moveTo(e+this._radius,t),this._context.arc(e,t,this._radius,0,mr);break}}},result:_r};var qh=new oi,Td,Ab,Ob,ms,ys,Fs={point:_r,lineStart:function(){Fs.point=QD},lineEnd:function(){Td&&Rb(Ab,Ob),Fs.point=_r},polygonStart:function(){Td=!0},polygonEnd:function(){Td=null},result:function(){var e=+qh;return qh=new oi,e}};function QD(e,t){Fs.point=Rb,Ab=ms=e,Ob=ys=t}function Rb(e,t){ms-=e,ys-=t,qh.add(sr(ms*ms+ys*ys)),ms=e,ys=t}let R0,df,L0,$0;class N0{constructor(t){this._append=t==null?Lb:jD(t),this._radius=4.5,this._=""}pointRadius(t){return this._radius=+t,this}polygonStart(){this._line=0}polygonEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){this._line===0&&(this._+="Z"),this._point=NaN}point(t,r){switch(this._point){case 0:{this._append`M${t},${r}`,this._point=1;break}case 1:{this._append`L${t},${r}`;break}default:{if(this._append`M${t},${r}`,this._radius!==L0||this._append!==df){const n=this._radius,a=this._;this._="",this._append`m0,${n}a${n},${n} 0 1,1 0,${-2*n}a${n},${n} 0 1,1 0,${2*n}z`,L0=n,df=this._append,$0=this._,this._=a}this._+=$0;break}}}result(){const t=this._;return this._="",t.length?t:null}}function Lb(e){let t=1;this._+=e[0];for(const r=e.length;t<r;++t)this._+=arguments[t]+e[t]}function jD(e){const t=Math.floor(e);if(!(t>=0))throw new RangeError(`invalid digits: ${e}`);if(t>15)return Lb;if(t!==R0){const r=10**t;R0=t,df=function(a){let i=1;this._+=a[0];for(const o=a.length;i<o;++i)this._+=Math.round(arguments[i]*r)/r+a[i]}}return df}function Qv(e,t){let r=3,n=4.5,a,i;function o(s){return s&&(typeof n=="function"&&i.pointRadius(+n.apply(this,arguments)),Za(s,a(i))),i.result()}return o.area=function(s){return Za(s,a(Yn)),Yn.result()},o.measure=function(s){return Za(s,a(Fs)),Fs.result()},o.bounds=function(s){return Za(s,a(lf)),lf.result()},o.centroid=function(s){return Za(s,a(kr)),kr.result()},o.projection=function(s){return arguments.length?(a=s==null?(e=null,Lh):(e=s).stream,o):e},o.context=function(s){return arguments.length?(i=s==null?(t=null,new N0(r)):new Pb(t=s),typeof n!="function"&&i.pointRadius(n),o):t},o.pointRadius=function(s){return arguments.length?(n=typeof s=="function"?s:(i.pointRadius(+s),+s),o):n},o.digits=function(s){if(!arguments.length)return r;if(s==null)r=null;else{const u=Math.floor(s);if(!(u>=0))throw new RangeError(`invalid digits: ${s}`);r=u}return t===null&&(i=new N0(r)),o},o.projection(e).digits(r).context(t)}function Vh(e){return{stream:tc(e)}}function tc(e){return function(t){var r=new Wh;for(var n in e)r[n]=e[n];return r.stream=t,r}}function Wh(){}Wh.prototype={constructor:Wh,point:function(e,t){this.stream.point(e,t)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function jv(e,t,r){var n=e.clipExtent&&e.clipExtent();return e.scale(150).translate([0,0]),n!=null&&e.clipExtent(null),Za(r,e.stream(lf)),t(lf.result()),n!=null&&e.clipExtent(n),e}function Jv(e,t,r){return jv(e,function(n){var a=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=Math.min(a/(n[1][0]-n[0][0]),i/(n[1][1]-n[0][1])),s=+t[0][0]+(a-o*(n[1][0]+n[0][0]))/2,u=+t[0][1]+(i-o*(n[1][1]+n[0][1]))/2;e.scale(150*o).translate([s,u])},r)}function $b(e,t,r){return Jv(e,[[0,0],t],r)}function Nb(e,t,r){return jv(e,function(n){var a=+t,i=a/(n[1][0]-n[0][0]),o=(a-i*(n[1][0]+n[0][0]))/2,s=-i*n[0][1];e.scale(150*i).translate([o,s])},r)}function Ib(e,t,r){return jv(e,function(n){var a=+t,i=a/(n[1][1]-n[0][1]),o=-i*n[0][0],s=(a-i*(n[1][1]+n[0][1]))/2;e.scale(150*i).translate([o,s])},r)}var I0=16,JD=Re(30*ct);function B0(e,t){return+t?t4(e,t):e4(e)}function e4(e){return tc({point:function(t,r){t=e(t,r),this.stream.point(t[0],t[1])}})}function t4(e,t){function r(n,a,i,o,s,u,l,f,c,d,h,v,p,g){var m=l-n,y=f-a,b=m*m+y*y;if(b>4*t&&p--){var w=o+d,E=s+h,S=u+v,x=sr(w*w+E*E+S*S),M=Rr(S/=x),T=Ze(Ze(S)-1)<Oe||Ze(i-c)<Oe?(i+c)/2:Jn(E,w),C=e(T,M),k=C[0],_=C[1],A=k-n,D=_-a,P=y*A-m*D;(P*P/b>t||Ze((m*A+y*D)/b-.5)>.3||o*d+s*h+u*v<JD)&&(r(n,a,i,o,s,u,k,_,T,w/=x,E/=x,S,p,g),g.point(k,_),r(k,_,T,w,E,S,l,f,c,d,h,v,p,g))}}return function(n){var a,i,o,s,u,l,f,c,d,h,v,p,g={point:m,lineStart:y,lineEnd:w,polygonStart:function(){n.polygonStart(),g.lineStart=E},polygonEnd:function(){n.polygonEnd(),g.lineStart=y}};function m(M,T){M=e(M,T),n.point(M[0],M[1])}function y(){c=NaN,g.point=b,n.lineStart()}function b(M,T){var C=mo([M,T]),k=e(M,T);r(c,d,f,h,v,p,c=k[0],d=k[1],f=M,h=C[0],v=C[1],p=C[2],I0,n),n.point(c,d)}function w(){g.point=m,n.lineEnd()}function E(){y(),g.point=S,g.lineEnd=x}function S(M,T){b(a=M,T),i=c,o=d,s=h,u=v,l=p,g.point=b}function x(){r(c,d,f,h,v,p,i,o,a,s,u,l,I0,n),g.lineEnd=w,w()}return g}}var r4=tc({point:function(e,t){this.stream.point(e*ct,t*ct)}});function n4(e){return tc({point:function(t,r){var n=e(t,r);return this.stream.point(n[0],n[1])}})}function a4(e,t,r,n,a){function i(o,s){return o*=n,s*=a,[t+e*o,r-e*s]}return i.invert=function(o,s){return[(o-t)/e*n,(r-s)/e*a]},i}function F0(e,t,r,n,a,i){if(!i)return a4(e,t,r,n,a);var o=Re(i),s=De(i),u=o*e,l=s*e,f=o/e,c=s/e,d=(s*r-o*t)/e,h=(s*t+o*r)/e;function v(p,g){return p*=n,g*=a,[u*p-l*g+t,r-l*p-u*g]}return v.invert=function(p,g){return[n*(f*p-c*g+d),a*(h-c*p-f*g)]},v}function Ia(e){return Bb(function(){return e})()}function Bb(e){var t,r=150,n=480,a=250,i=0,o=0,s=0,u=0,l=0,f,c=0,d=1,h=1,v=null,p=P0,g=null,m,y,b,w=Lh,E=.5,S,x,M,T,C;function k(P){return M(P[0]*ct,P[1]*ct)}function _(P){return P=M.invert(P[0],P[1]),P&&[P[0]*Jt,P[1]*Jt]}k.stream=function(P){return T&&C===P?T:T=r4(n4(f)(p(S(w(C=P)))))},k.preclip=function(P){return arguments.length?(p=P,v=void 0,D()):p},k.postclip=function(P){return arguments.length?(w=P,g=m=y=b=null,D()):w},k.clipAngle=function(P){return arguments.length?(p=+P?zD(v=P*ct):(v=null,P0),D()):v*Jt},k.clipExtent=function(P){return arguments.length?(w=P==null?(g=m=y=b=null,Lh):Eb(g=+P[0][0],m=+P[0][1],y=+P[1][0],b=+P[1][1]),D()):g==null?null:[[g,m],[y,b]]},k.scale=function(P){return arguments.length?(r=+P,A()):r},k.translate=function(P){return arguments.length?(n=+P[0],a=+P[1],A()):[n,a]},k.center=function(P){return arguments.length?(i=P[0]%360*ct,o=P[1]%360*ct,A()):[i*Jt,o*Jt]},k.rotate=function(P){return arguments.length?(s=P[0]%360*ct,u=P[1]%360*ct,l=P.length>2?P[2]%360*ct:0,A()):[s*Jt,u*Jt,l*Jt]},k.angle=function(P){return arguments.length?(c=P%360*ct,A()):c*Jt},k.reflectX=function(P){return arguments.length?(d=P?-1:1,A()):d<0},k.reflectY=function(P){return arguments.length?(h=P?-1:1,A()):h<0},k.precision=function(P){return arguments.length?(S=B0(x,E=P*P),D()):sr(E)},k.fitExtent=function(P,R){return Jv(k,P,R)},k.fitSize=function(P,R){return $b(k,P,R)},k.fitWidth=function(P,R){return Nb(k,P,R)},k.fitHeight=function(P,R){return Ib(k,P,R)};function A(){var P=F0(r,0,0,d,h,c).apply(null,t(i,o)),R=F0(r,n-P[0],a-P[1],d,h,c);return f=bb(s,u,l),x=Oh(t,R),M=Oh(f,x),S=B0(x,E),D()}function D(){return T=C=null,k}return function(){return t=e.apply(this,arguments),k.invert=t.invert&&_,A()}}function eg(e){var t=0,r=Le/3,n=Bb(e),a=n(t,r);return a.parallels=function(i){return arguments.length?n(t=i[0]*ct,r=i[1]*ct):[t*Jt,r*Jt]},a}function i4(e){var t=Re(e);function r(n,a){return[n*t,De(a)/t]}return r.invert=function(n,a){return[n/t,Rr(a*t)]},r}function o4(e,t){var r=De(e),n=(r+De(t))/2;if(Ze(n)<Oe)return i4(e);var a=1+r*(2*n-r),i=sr(a)/n;function o(s,u){var l=sr(a-2*n*De(u))/n;return[l*De(s*=n),i-l*Re(s)]}return o.invert=function(s,u){var l=i-u,f=Jn(s,Ze(l))*Dr(l);return l*n<0&&(f-=Le*Dr(s)*Dr(l)),[f/n,Rr((a-(s*s+l*l)*n*n)/(2*n))]},o}function hf(){return eg(o4).scale(155.424).center([0,33.6442])}function Fb(){return hf().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])}function s4(e){var t=e.length;return{point:function(r,n){for(var a=-1;++a<t;)e[a].point(r,n)},sphere:function(){for(var r=-1;++r<t;)e[r].sphere()},lineStart:function(){for(var r=-1;++r<t;)e[r].lineStart()},lineEnd:function(){for(var r=-1;++r<t;)e[r].lineEnd()},polygonStart:function(){for(var r=-1;++r<t;)e[r].polygonStart()},polygonEnd:function(){for(var r=-1;++r<t;)e[r].polygonEnd()}}}function u4(){var e,t,r=Fb(),n,a=hf().rotate([154,0]).center([-2,58.5]).parallels([55,65]),i,o=hf().rotate([157,0]).center([-3,19.9]).parallels([8,18]),s,u,l={point:function(d,h){u=[d,h]}};function f(d){var h=d[0],v=d[1];return u=null,n.point(h,v),u||(i.point(h,v),u)||(s.point(h,v),u)}f.invert=function(d){var h=r.scale(),v=r.translate(),p=(d[0]-v[0])/h,g=(d[1]-v[1])/h;return(g>=.12&&g<.234&&p>=-.425&&p<-.214?a:g>=.166&&g<.234&&p>=-.214&&p<-.115?o:r).invert(d)},f.stream=function(d){return e&&t===d?e:e=s4([r.stream(t=d),a.stream(d),o.stream(d)])},f.precision=function(d){return arguments.length?(r.precision(d),a.precision(d),o.precision(d),c()):r.precision()},f.scale=function(d){return arguments.length?(r.scale(d),a.scale(d*.35),o.scale(d),f.translate(r.translate())):r.scale()},f.translate=function(d){if(!arguments.length)return r.translate();var h=r.scale(),v=+d[0],p=+d[1];return n=r.translate(d).clipExtent([[v-.455*h,p-.238*h],[v+.455*h,p+.238*h]]).stream(l),i=a.translate([v-.307*h,p+.201*h]).clipExtent([[v-.425*h+Oe,p+.12*h+Oe],[v-.214*h-Oe,p+.234*h-Oe]]).stream(l),s=o.translate([v-.205*h,p+.212*h]).clipExtent([[v-.214*h+Oe,p+.166*h+Oe],[v-.115*h-Oe,p+.234*h-Oe]]).stream(l),c()},f.fitExtent=function(d,h){return Jv(f,d,h)},f.fitSize=function(d,h){return $b(f,d,h)},f.fitWidth=function(d,h){return Nb(f,d,h)},f.fitHeight=function(d,h){return Ib(f,d,h)};function c(){return e=t=null,f}return f.scale(1070)}function zb(e){return function(t,r){var n=Re(t),a=Re(r),i=e(n*a);return i===1/0?[2,0]:[i*a*De(t),i*De(r)]}}function hu(e){return function(t,r){var n=sr(t*t+r*r),a=e(n),i=De(a),o=Re(a);return[Jn(t*i,n*o),Rr(n&&r*i/n)]}}var Yb=zb(function(e){return sr(2/(1+e))});Yb.invert=hu(function(e){return 2*Rr(e/2)});function l4(){return Ia(Yb).scale(124.75).clipAngle(180-.001)}var qb=zb(function(e){return(e=yb(e))&&e/De(e)});qb.invert=hu(function(e){return e});function f4(){return Ia(qb).scale(79.4188).clipAngle(180-.001)}function rc(e,t){return[e,nf(Zv((dt+t)/2))]}rc.invert=function(e,t){return[e,2*Oo(mb(t))-dt]};function c4(){return Vb(rc).scale(961/mr)}function Vb(e){var t=Ia(e),r=t.center,n=t.scale,a=t.translate,i=t.clipExtent,o=null,s,u,l;t.scale=function(c){return arguments.length?(n(c),f()):n()},t.translate=function(c){return arguments.length?(a(c),f()):a()},t.center=function(c){return arguments.length?(r(c),f()):r()},t.clipExtent=function(c){return arguments.length?(c==null?o=s=u=l=null:(o=+c[0][0],s=+c[0][1],u=+c[1][0],l=+c[1][1]),f()):o==null?null:[[o,s],[u,l]]};function f(){var c=Le*n(),d=t(OD(t.rotate()).invert([0,0]));return i(o==null?[[d[0]-c,d[1]-c],[d[0]+c,d[1]+c]]:e===rc?[[Math.max(d[0]-c,o),s],[Math.min(d[0]+c,u),l]]:[[o,Math.max(d[1]-c,s)],[u,Math.min(d[1]+c,l)]])}return f()}function tl(e){return Zv((dt+e)/2)}function d4(e,t){var r=Re(e),n=e===t?De(e):nf(r/Re(t))/nf(tl(t)/tl(e)),a=r*wd(tl(e),n)/n;if(!n)return rc;function i(o,s){a>0?s<-dt+Oe&&(s=-dt+Oe):s>dt-Oe&&(s=dt-Oe);var u=a/wd(tl(s),n);return[u*De(n*o),a-u*Re(n*o)]}return i.invert=function(o,s){var u=a-s,l=Dr(n)*sr(o*o+u*u),f=Jn(o,Ze(u))*Dr(u);return u*n<0&&(f-=Le*Dr(o)*Dr(u)),[f/n,2*Oo(wd(a/l,1/n))-dt]},i}function h4(){return eg(d4).scale(109.5).parallels([30,30])}function vf(e,t){return[e,t]}vf.invert=vf;function v4(){return Ia(vf).scale(152.63)}function g4(e,t){var r=Re(e),n=e===t?De(e):(r-Re(t))/(t-e),a=r/n+e;if(Ze(n)<Oe)return vf;function i(o,s){var u=a-s,l=n*o;return[u*De(l),a-u*Re(l)]}return i.invert=function(o,s){var u=a-s,l=Jn(o,Ze(u))*Dr(u);return u*n<0&&(l-=Le*Dr(o)*Dr(u)),[l/n,a-Dr(n)*sr(o*o+u*u)]},i}function p4(){return eg(g4).scale(131.154).center([0,13.9389])}var ks=1.340264,Cs=-.081106,Ds=893e-6,_s=.003796,gf=sr(3)/2,m4=12;function Wb(e,t){var r=Rr(gf*De(t)),n=r*r,a=n*n*n;return[e*Re(r)/(gf*(ks+3*Cs*n+a*(7*Ds+9*_s*n))),r*(ks+Cs*n+a*(Ds+_s*n))]}Wb.invert=function(e,t){for(var r=t,n=r*r,a=n*n*n,i=0,o,s,u;i<m4&&(s=r*(ks+Cs*n+a*(Ds+_s*n))-t,u=ks+3*Cs*n+a*(7*Ds+9*_s*n),r-=o=s/u,n=r*r,a=n*n*n,!(Ze(o)<pb));++i);return[gf*e*(ks+3*Cs*n+a*(7*Ds+9*_s*n))/Re(r),Rr(De(r)/gf)]};function y4(){return Ia(Wb).scale(177.158)}function Ub(e,t){var r=Re(t),n=Re(e)*r;return[r*De(e)/n,De(t)/n]}Ub.invert=hu(Oo);function b4(){return Ia(Ub).scale(144.049).clipAngle(60)}function Hb(e,t){return[Re(t)*De(e),De(t)]}Hb.invert=hu(Rr);function w4(){return Ia(Hb).scale(249.5).clipAngle(90+Oe)}function Gb(e,t){var r=Re(t),n=1+Re(e)*r;return[r*De(e)/n,De(t)/n]}Gb.invert=hu(function(e){return 2*Oo(e)});function x4(){return Ia(Gb).scale(250).clipAngle(142)}function Xb(e,t){return[nf(Zv((dt+t)/2)),-e]}Xb.invert=function(e,t){return[-t,2*Oo(mb(e))-dt]};function S4(){var e=Vb(Xb),t=e.center,r=e.rotate;return e.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])},e.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])},r([0,0,90]).scale(159.155)}function En(e,t){switch(arguments.length){case 0:break;case 1:this.range(e);break;default:this.range(t).domain(e);break}return this}function nc(e,t){switch(arguments.length){case 0:break;case 1:{typeof e=="function"?this.interpolator(e):this.range(e);break}default:{this.domain(e),typeof t=="function"?this.interpolator(t):this.range(t);break}}return this}const Uh=Symbol("implicit");function tg(){var e=new si,t=[],r=[],n=Uh;function a(i){let o=e.get(i);if(o===void 0){if(n!==Uh)return n;e.set(i,o=t.push(i)-1)}return r[o%r.length]}return a.domain=function(i){if(!arguments.length)return t.slice();t=[],e=new si;for(const o of i)e.has(o)||e.set(o,t.push(o)-1);return a},a.range=function(i){return arguments.length?(r=Array.from(i),a):r.slice()},a.unknown=function(i){return arguments.length?(n=i,a):n},a.copy=function(){return tg(t,r).unknown(n)},En.apply(a,arguments),a}function ac(){var e=tg().unknown(void 0),t=e.domain,r=e.range,n=0,a=1,i,o,s=!1,u=0,l=0,f=.5;delete e.unknown;function c(){var d=t().length,h=a<n,v=h?a:n,p=h?n:a;i=(p-v)/Math.max(1,d-u+l*2),s&&(i=Math.floor(i)),v+=(p-v-i*(d-u))*f,o=i*(1-u),s&&(v=Math.round(v),o=Math.round(o));var g=ph(d).map(function(m){return v+i*m});return r(h?g.reverse():g)}return e.domain=function(d){return arguments.length?(t(d),c()):t()},e.range=function(d){return arguments.length?([n,a]=d,n=+n,a=+a,c()):[n,a]},e.rangeRound=function(d){return[n,a]=d,n=+n,a=+a,s=!0,c()},e.bandwidth=function(){return o},e.step=function(){return i},e.round=function(d){return arguments.length?(s=!!d,c()):s},e.padding=function(d){return arguments.length?(u=Math.min(1,l=+d),c()):u},e.paddingInner=function(d){return arguments.length?(u=Math.min(1,d),c()):u},e.paddingOuter=function(d){return arguments.length?(l=+d,c()):l},e.align=function(d){return arguments.length?(f=Math.max(0,Math.min(1,d)),c()):f},e.copy=function(){return ac(t(),[n,a]).round(s).paddingInner(u).paddingOuter(l).align(f)},En.apply(c(),arguments)}function Kb(e){var t=e.copy;return e.padding=e.paddingOuter,delete e.paddingInner,delete e.paddingOuter,e.copy=function(){return Kb(t())},e}function E4(){return Kb(ac.apply(null,arguments).paddingInner(1))}function T4(e){return function(){return e}}function Hh(e){return+e}var z0=[0,1];function Pr(e){return e}function Gh(e,t){return(t-=e=+e)?function(r){return(r-e)/t}:T4(isNaN(t)?NaN:.5)}function M4(e,t){var r;return e>t&&(r=e,e=t,t=r),function(n){return Math.max(e,Math.min(t,n))}}function k4(e,t,r){var n=e[0],a=e[1],i=t[0],o=t[1];return a<n?(n=Gh(a,n),i=r(o,i)):(n=Gh(n,a),i=r(i,o)),function(s){return i(n(s))}}function C4(e,t,r){var n=Math.min(e.length,t.length)-1,a=new Array(n),i=new Array(n),o=-1;for(e[n]<e[0]&&(e=e.slice().reverse(),t=t.slice().reverse());++o<n;)a[o]=Gh(e[o],e[o+1]),i[o]=r(t[o],t[o+1]);return function(s){var u=Uf(e,s,1,n)-1;return i[u](a[u](s))}}function vu(e,t){return t.domain(e.domain()).range(e.range()).interpolate(e.interpolate()).clamp(e.clamp()).unknown(e.unknown())}function ic(){var e=z0,t=z0,r=du,n,a,i,o=Pr,s,u,l;function f(){var d=Math.min(e.length,t.length);return o!==Pr&&(o=M4(e[0],e[d-1])),s=d>2?C4:k4,u=l=null,c}function c(d){return d==null||isNaN(d=+d)?i:(u||(u=s(e.map(n),t,r)))(n(o(d)))}return c.invert=function(d){return o(a((l||(l=s(t,e.map(n),Yt)))(d)))},c.domain=function(d){return arguments.length?(e=Array.from(d,Hh),f()):e.slice()},c.range=function(d){return arguments.length?(t=Array.from(d),f()):t.slice()},c.rangeRound=function(d){return t=Array.from(d),r=Wv,f()},c.clamp=function(d){return arguments.length?(o=d?!0:Pr,f()):o!==Pr},c.interpolate=function(d){return arguments.length?(r=d,f()):r},c.unknown=function(d){return arguments.length?(i=d,c):i},function(d,h){return n=d,a=h,f()}}function Zb(){return ic()(Pr,Pr)}function D4(e,t,r,n){var a=vh(e,t,r),i;switch(n=Is(n??",f"),n.type){case"s":{var o=Math.max(Math.abs(e),Math.abs(t));return n.precision==null&&!isNaN(i=PD(a,o))&&(n.precision=i),gb(n,o)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(i=AD(a,Math.max(Math.abs(e),Math.abs(t))))&&(n.precision=i-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(i=_D(a))&&(n.precision=i-(n.type==="%")*2);break}}return Ao(n)}function gu(e){var t=e.domain;return e.ticks=function(r){var n=t();return Rs(n[0],n[n.length-1],r??10)},e.tickFormat=function(r,n){var a=t();return D4(a[0],a[a.length-1],r??10,n)},e.nice=function(r){r==null&&(r=10);var n=t(),a=0,i=n.length-1,o=n[a],s=n[i],u,l,f=10;for(s<o&&(l=o,o=s,s=l,l=a,a=i,i=l);f-- >0;){if(l=Xl(o,s,r),l===u)return n[a]=o,n[i]=s,t(n);if(l>0)o=Math.floor(o/l)*l,s=Math.ceil(s/l)*l;else if(l<0)o=Math.ceil(o*l)/l,s=Math.floor(s*l)/l;else break;u=l}return e},e}function rg(){var e=Zb();return e.copy=function(){return vu(e,rg())},En.apply(e,arguments),gu(e)}function Qb(e){var t;function r(n){return n==null||isNaN(n=+n)?t:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(e=Array.from(n,Hh),r):e.slice()},r.unknown=function(n){return arguments.length?(t=n,r):t},r.copy=function(){return Qb(e).unknown(t)},e=arguments.length?Array.from(e,Hh):[0,1],gu(r)}function jb(e,t){e=e.slice();var r=0,n=e.length-1,a=e[r],i=e[n],o;return i<a&&(o=r,r=n,n=o,o=a,a=i,i=o),e[r]=t.floor(a),e[n]=t.ceil(i),e}function Y0(e){return Math.log(e)}function q0(e){return Math.exp(e)}function _4(e){return-Math.log(-e)}function P4(e){return-Math.exp(-e)}function A4(e){return isFinite(e)?+("1e"+e):e<0?0:e}function O4(e){return e===10?A4:e===Math.E?Math.exp:t=>Math.pow(e,t)}function R4(e){return e===Math.E?Math.log:e===10&&Math.log10||e===2&&Math.log2||(e=Math.log(e),t=>Math.log(t)/e)}function V0(e){return(t,r)=>-e(-t,r)}function Jb(e){const t=e(Y0,q0),r=t.domain;let n=10,a,i;function o(){return a=R4(n),i=O4(n),r()[0]<0?(a=V0(a),i=V0(i),e(_4,P4)):e(Y0,q0),t}return t.base=function(s){return arguments.length?(n=+s,o()):n},t.domain=function(s){return arguments.length?(r(s),o()):r()},t.ticks=s=>{const u=r();let l=u[0],f=u[u.length-1];const c=f<l;c&&([l,f]=[f,l]);let d=a(l),h=a(f),v,p;const g=s==null?10:+s;let m=[];if(!(n%1)&&h-d<g){if(d=Math.floor(d),h=Math.ceil(h),l>0){for(;d<=h;++d)for(v=1;v<n;++v)if(p=d<0?v/i(-d):v*i(d),!(p<l)){if(p>f)break;m.push(p)}}else for(;d<=h;++d)for(v=n-1;v>=1;--v)if(p=d>0?v/i(-d):v*i(d),!(p<l)){if(p>f)break;m.push(p)}m.length*2<g&&(m=Rs(l,f,g))}else m=Rs(d,h,Math.min(h-d,g)).map(i);return c?m.reverse():m},t.tickFormat=(s,u)=>{if(s==null&&(s=10),u==null&&(u=n===10?"s":","),typeof u!="function"&&(!(n%1)&&(u=Is(u)).precision==null&&(u.trim=!0),u=Ao(u)),s===1/0)return u;const l=Math.max(1,n*s/t.ticks().length);return f=>{let c=f/i(Math.round(a(f)));return c*n<n-.5&&(c*=n),c<=l?u(f):""}},t.nice=()=>r(jb(r(),{floor:s=>i(Math.floor(a(s))),ceil:s=>i(Math.ceil(a(s)))})),t}function ew(){const e=Jb(ic()).domain([1,10]);return e.copy=()=>vu(e,ew()).base(e.base()),En.apply(e,arguments),e}function W0(e){return function(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))}}function U0(e){return function(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}function tw(e){var t=1,r=e(W0(t),U0(t));return r.constant=function(n){return arguments.length?e(W0(t=+n),U0(t)):t},gu(r)}function rw(){var e=tw(ic());return e.copy=function(){return vu(e,rw()).constant(e.constant())},En.apply(e,arguments)}function H0(e){return function(t){return t<0?-Math.pow(-t,e):Math.pow(t,e)}}function L4(e){return e<0?-Math.sqrt(-e):Math.sqrt(e)}function $4(e){return e<0?-e*e:e*e}function nw(e){var t=e(Pr,Pr),r=1;function n(){return r===1?e(Pr,Pr):r===.5?e(L4,$4):e(H0(r),H0(1/r))}return t.exponent=function(a){return arguments.length?(r=+a,n()):r},gu(t)}function aw(){var e=nw(ic());return e.copy=function(){return vu(e,aw()).exponent(e.exponent())},En.apply(e,arguments),e}function iw(){var e=[],t=[],r=[],n;function a(){var o=0,s=Math.max(1,t.length);for(r=new Array(s-1);++o<s;)r[o-1]=CM(e,o/s);return i}function i(o){return o==null||isNaN(o=+o)?n:t[Uf(r,o)]}return i.invertExtent=function(o){var s=t.indexOf(o);return s<0?[NaN,NaN]:[s>0?r[s-1]:e[0],s<r.length?r[s]:e[e.length-1]]},i.domain=function(o){if(!arguments.length)return e.slice();e=[];for(let s of o)s!=null&&!isNaN(s=+s)&&e.push(s);return e.sort(or),a()},i.range=function(o){return arguments.length?(t=Array.from(o),a()):t.slice()},i.unknown=function(o){return arguments.length?(n=o,i):n},i.quantiles=function(){return r.slice()},i.copy=function(){return iw().domain(e).range(t).unknown(n)},En.apply(i,arguments)}function ow(){var e=[.5],t=[0,1],r,n=1;function a(i){return i!=null&&i<=i?t[Uf(e,i,0,n)]:r}return a.domain=function(i){return arguments.length?(e=Array.from(i),n=Math.min(e.length,t.length-1),a):e.slice()},a.range=function(i){return arguments.length?(t=Array.from(i),n=Math.min(e.length,t.length-1),a):t.slice()},a.invertExtent=function(i){var o=t.indexOf(i);return[e[o-1],e[o]]},a.unknown=function(i){return arguments.length?(r=i,a):r},a.copy=function(){return ow().domain(e).range(t).unknown(r)},En.apply(a,arguments)}const Md=new Date,kd=new Date;function Et(e,t,r,n){function a(i){return e(i=arguments.length===0?new Date:new Date(+i)),i}return a.floor=i=>(e(i=new Date(+i)),i),a.ceil=i=>(e(i=new Date(i-1)),t(i,1),e(i),i),a.round=i=>{const o=a(i),s=a.ceil(i);return i-o<s-i?o:s},a.offset=(i,o)=>(t(i=new Date(+i),o==null?1:Math.floor(o)),i),a.range=(i,o,s)=>{const u=[];if(i=a.ceil(i),s=s==null?1:Math.floor(s),!(i<o)||!(s>0))return u;let l;do u.push(l=new Date(+i)),t(i,s),e(i);while(l<i&&i<o);return u},a.filter=i=>Et(o=>{if(o>=o)for(;e(o),!i(o);)o.setTime(o-1)},(o,s)=>{if(o>=o)if(s<0)for(;++s<=0;)for(;t(o,-1),!i(o););else for(;--s>=0;)for(;t(o,1),!i(o););}),r&&(a.count=(i,o)=>(Md.setTime(+i),kd.setTime(+o),e(Md),e(kd),Math.floor(r(Md,kd))),a.every=i=>(i=Math.floor(i),!isFinite(i)||!(i>0)?null:i>1?a.filter(n?o=>n(o)%i===0:o=>a.count(0,o)%i===0):a)),a}const pf=Et(()=>{},(e,t)=>{e.setTime(+e+t)},(e,t)=>t-e);pf.every=e=>(e=Math.floor(e),!isFinite(e)||!(e>0)?null:e>1?Et(t=>{t.setTime(Math.floor(t/e)*e)},(t,r)=>{t.setTime(+t+r*e)},(t,r)=>(r-t)/e):pf);pf.range;const Vn=1e3,Ar=Vn*60,Wn=Ar*60,ea=Wn*24,ng=ea*7,G0=ea*30,Cd=ea*365,Vr=Et(e=>{e.setTime(e-e.getMilliseconds())},(e,t)=>{e.setTime(+e+t*Vn)},(e,t)=>(t-e)/Vn,e=>e.getUTCSeconds());Vr.range;const pu=Et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vn)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getMinutes());pu.range;const mu=Et(e=>{e.setUTCSeconds(0,0)},(e,t)=>{e.setTime(+e+t*Ar)},(e,t)=>(t-e)/Ar,e=>e.getUTCMinutes());mu.range;const yu=Et(e=>{e.setTime(e-e.getMilliseconds()-e.getSeconds()*Vn-e.getMinutes()*Ar)},(e,t)=>{e.setTime(+e+t*Wn)},(e,t)=>(t-e)/Wn,e=>e.getHours());yu.range;const bu=Et(e=>{e.setUTCMinutes(0,0,0)},(e,t)=>{e.setTime(+e+t*Wn)},(e,t)=>(t-e)/Wn,e=>e.getUTCHours());bu.range;const Ei=Et(e=>e.setHours(0,0,0,0),(e,t)=>e.setDate(e.getDate()+t),(e,t)=>(t-e-(t.getTimezoneOffset()-e.getTimezoneOffset())*Ar)/ea,e=>e.getDate()-1);Ei.range;const oc=Et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ea,e=>e.getUTCDate()-1);oc.range;const sc=Et(e=>{e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCDate(e.getUTCDate()+t)},(e,t)=>(t-e)/ea,e=>Math.floor(e/ea));sc.range;function Ti(e){return Et(t=>{t.setDate(t.getDate()-(t.getDay()+7-e)%7),t.setHours(0,0,0,0)},(t,r)=>{t.setDate(t.getDate()+r*7)},(t,r)=>(r-t-(r.getTimezoneOffset()-t.getTimezoneOffset())*Ar)/ng)}const bo=Ti(0),zs=Ti(1),sw=Ti(2),uw=Ti(3),hi=Ti(4),lw=Ti(5),fw=Ti(6);bo.range;zs.range;sw.range;uw.range;hi.range;lw.range;fw.range;function Mi(e){return Et(t=>{t.setUTCDate(t.getUTCDate()-(t.getUTCDay()+7-e)%7),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCDate(t.getUTCDate()+r*7)},(t,r)=>(r-t)/ng)}const wo=Mi(0),Ys=Mi(1),cw=Mi(2),dw=Mi(3),vi=Mi(4),hw=Mi(5),vw=Mi(6);wo.range;Ys.range;cw.range;dw.range;vi.range;hw.range;vw.range;const wu=Et(e=>{e.setDate(1),e.setHours(0,0,0,0)},(e,t)=>{e.setMonth(e.getMonth()+t)},(e,t)=>t.getMonth()-e.getMonth()+(t.getFullYear()-e.getFullYear())*12,e=>e.getMonth());wu.range;const xu=Et(e=>{e.setUTCDate(1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCMonth(e.getUTCMonth()+t)},(e,t)=>t.getUTCMonth()-e.getUTCMonth()+(t.getUTCFullYear()-e.getUTCFullYear())*12,e=>e.getUTCMonth());xu.range;const Xr=Et(e=>{e.setMonth(0,1),e.setHours(0,0,0,0)},(e,t)=>{e.setFullYear(e.getFullYear()+t)},(e,t)=>t.getFullYear()-e.getFullYear(),e=>e.getFullYear());Xr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Et(t=>{t.setFullYear(Math.floor(t.getFullYear()/e)*e),t.setMonth(0,1),t.setHours(0,0,0,0)},(t,r)=>{t.setFullYear(t.getFullYear()+r*e)});Xr.range;const Kr=Et(e=>{e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,t)=>{e.setUTCFullYear(e.getUTCFullYear()+t)},(e,t)=>t.getUTCFullYear()-e.getUTCFullYear(),e=>e.getUTCFullYear());Kr.every=e=>!isFinite(e=Math.floor(e))||!(e>0)?null:Et(t=>{t.setUTCFullYear(Math.floor(t.getUTCFullYear()/e)*e),t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,r)=>{t.setUTCFullYear(t.getUTCFullYear()+r*e)});Kr.range;function gw(e,t,r,n,a,i){const o=[[Vr,1,Vn],[Vr,5,5*Vn],[Vr,15,15*Vn],[Vr,30,30*Vn],[i,1,Ar],[i,5,5*Ar],[i,15,15*Ar],[i,30,30*Ar],[a,1,Wn],[a,3,3*Wn],[a,6,6*Wn],[a,12,12*Wn],[n,1,ea],[n,2,2*ea],[r,1,ng],[t,1,G0],[t,3,3*G0],[e,1,Cd]];function s(l,f,c){const d=f<l;d&&([l,f]=[f,l]);const h=c&&typeof c.range=="function"?c:u(l,f,c),v=h?h.range(l,+f+1):[];return d?v.reverse():v}function u(l,f,c){const d=Math.abs(f-l)/c,h=Wf(([,,g])=>g).right(o,d);if(h===o.length)return e.every(vh(l/Cd,f/Cd,c));if(h===0)return pf.every(Math.max(vh(l,f,c),1));const[v,p]=o[d/o[h-1][2]<o[h][2]/d?h-1:h];return v.every(p)}return[s,u]}const[N4,pw]=gw(Kr,xu,wo,sc,bu,mu),[I4,B4]=gw(Xr,wu,bo,Ei,yu,pu);function Dd(e){if(0<=e.y&&e.y<100){var t=new Date(-1,e.m,e.d,e.H,e.M,e.S,e.L);return t.setFullYear(e.y),t}return new Date(e.y,e.m,e.d,e.H,e.M,e.S,e.L)}function _d(e){if(0<=e.y&&e.y<100){var t=new Date(Date.UTC(-1,e.m,e.d,e.H,e.M,e.S,e.L));return t.setUTCFullYear(e.y),t}return new Date(Date.UTC(e.y,e.m,e.d,e.H,e.M,e.S,e.L))}function Jo(e,t,r){return{y:e,m:t,d:r,H:0,M:0,S:0,L:0}}function F4(e){var t=e.dateTime,r=e.date,n=e.time,a=e.periods,i=e.days,o=e.shortDays,s=e.months,u=e.shortMonths,l=es(a),f=ts(a),c=es(i),d=ts(i),h=es(o),v=ts(o),p=es(s),g=ts(s),m=es(u),y=ts(u),b={a:L,A:N,b:z,B:F,c:null,d:J0,e:J0,f:u3,g:y3,G:w3,H:i3,I:o3,j:s3,L:mw,m:l3,M:f3,p:I,q:B,Q:rm,s:nm,S:c3,u:d3,U:h3,V:v3,w:g3,W:p3,x:null,X:null,y:m3,Y:b3,Z:x3,"%":tm},w={a:V,A:K,b:j,B:Q,c:null,d:em,e:em,f:M3,g:$3,G:I3,H:S3,I:E3,j:T3,L:bw,m:k3,M:C3,p:X,q:W,Q:rm,s:nm,S:D3,u:_3,U:P3,V:A3,w:O3,W:R3,x:null,X:null,y:L3,Y:N3,Z:B3,"%":tm},E={a:C,A:k,b:_,B:A,c:D,d:Q0,e:Q0,f:t3,g:Z0,G:K0,H:j0,I:j0,j:Q4,L:e3,m:Z4,M:j4,p:T,q:K4,Q:n3,s:a3,S:J4,u:W4,U:U4,V:H4,w:V4,W:G4,x:P,X:R,y:Z0,Y:K0,Z:X4,"%":r3};b.x=S(r,b),b.X=S(n,b),b.c=S(t,b),w.x=S(r,w),w.X=S(n,w),w.c=S(t,w);function S($,q){return function(U){var Y=[],ie=-1,J=0,re=$.length,oe,ue,le;for(U instanceof Date||(U=new Date(+U));++ie<re;)$.charCodeAt(ie)===37&&(Y.push($.slice(J,ie)),(ue=X0[oe=$.charAt(++ie)])!=null?oe=$.charAt(++ie):ue=oe==="e"?" ":"0",(le=q[oe])&&(oe=le(U,ue)),Y.push(oe),J=ie+1);return Y.push($.slice(J,ie)),Y.join("")}}function x($,q){return function(U){var Y=Jo(1900,void 0,1),ie=M(Y,$,U+="",0),J,re;if(ie!=U.length)return null;if("Q"in Y)return new Date(Y.Q);if("s"in Y)return new Date(Y.s*1e3+("L"in Y?Y.L:0));if(q&&!("Z"in Y)&&(Y.Z=0),"p"in Y&&(Y.H=Y.H%12+Y.p*12),Y.m===void 0&&(Y.m="q"in Y?Y.q:0),"V"in Y){if(Y.V<1||Y.V>53)return null;"w"in Y||(Y.w=1),"Z"in Y?(J=_d(Jo(Y.y,0,1)),re=J.getUTCDay(),J=re>4||re===0?Ys.ceil(J):Ys(J),J=oc.offset(J,(Y.V-1)*7),Y.y=J.getUTCFullYear(),Y.m=J.getUTCMonth(),Y.d=J.getUTCDate()+(Y.w+6)%7):(J=Dd(Jo(Y.y,0,1)),re=J.getDay(),J=re>4||re===0?zs.ceil(J):zs(J),J=Ei.offset(J,(Y.V-1)*7),Y.y=J.getFullYear(),Y.m=J.getMonth(),Y.d=J.getDate()+(Y.w+6)%7)}else("W"in Y||"U"in Y)&&("w"in Y||(Y.w="u"in Y?Y.u%7:"W"in Y?1:0),re="Z"in Y?_d(Jo(Y.y,0,1)).getUTCDay():Dd(Jo(Y.y,0,1)).getDay(),Y.m=0,Y.d="W"in Y?(Y.w+6)%7+Y.W*7-(re+5)%7:Y.w+Y.U*7-(re+6)%7);return"Z"in Y?(Y.H+=Y.Z/100|0,Y.M+=Y.Z%100,_d(Y)):Dd(Y)}}function M($,q,U,Y){for(var ie=0,J=q.length,re=U.length,oe,ue;ie<J;){if(Y>=re)return-1;if(oe=q.charCodeAt(ie++),oe===37){if(oe=q.charAt(ie++),ue=E[oe in X0?q.charAt(ie++):oe],!ue||(Y=ue($,U,Y))<0)return-1}else if(oe!=U.charCodeAt(Y++))return-1}return Y}function T($,q,U){var Y=l.exec(q.slice(U));return Y?($.p=f.get(Y[0].toLowerCase()),U+Y[0].length):-1}function C($,q,U){var Y=h.exec(q.slice(U));return Y?($.w=v.get(Y[0].toLowerCase()),U+Y[0].length):-1}function k($,q,U){var Y=c.exec(q.slice(U));return Y?($.w=d.get(Y[0].toLowerCase()),U+Y[0].length):-1}function _($,q,U){var Y=m.exec(q.slice(U));return Y?($.m=y.get(Y[0].toLowerCase()),U+Y[0].length):-1}function A($,q,U){var Y=p.exec(q.slice(U));return Y?($.m=g.get(Y[0].toLowerCase()),U+Y[0].length):-1}function D($,q,U){return M($,t,q,U)}function P($,q,U){return M($,r,q,U)}function R($,q,U){return M($,n,q,U)}function L($){return o[$.getDay()]}function N($){return i[$.getDay()]}function z($){return u[$.getMonth()]}function F($){return s[$.getMonth()]}function I($){return a[+($.getHours()>=12)]}function B($){return 1+~~($.getMonth()/3)}function V($){return o[$.getUTCDay()]}function K($){return i[$.getUTCDay()]}function j($){return u[$.getUTCMonth()]}function Q($){return s[$.getUTCMonth()]}function X($){return a[+($.getUTCHours()>=12)]}function W($){return 1+~~($.getUTCMonth()/3)}return{format:function($){var q=S($+="",b);return q.toString=function(){return $},q},parse:function($){var q=x($+="",!1);return q.toString=function(){return $},q},utcFormat:function($){var q=S($+="",w);return q.toString=function(){return $},q},utcParse:function($){var q=x($+="",!0);return q.toString=function(){return $},q}}}var X0={"-":"",_:" ",0:"0"},Rt=/^\s*\d+/,z4=/^%/,Y4=/[\\^$*+?|[\]().{}]/g;function We(e,t,r){var n=e<0?"-":"",a=(n?-e:e)+"",i=a.length;return n+(i<r?new Array(r-i+1).join(t)+a:a)}function q4(e){return e.replace(Y4,"\\$&")}function es(e){return new RegExp("^(?:"+e.map(q4).join("|")+")","i")}function ts(e){return new Map(e.map((t,r)=>[t.toLowerCase(),r]))}function V4(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.w=+n[0],r+n[0].length):-1}function W4(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.u=+n[0],r+n[0].length):-1}function U4(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.U=+n[0],r+n[0].length):-1}function H4(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.V=+n[0],r+n[0].length):-1}function G4(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.W=+n[0],r+n[0].length):-1}function K0(e,t,r){var n=Rt.exec(t.slice(r,r+4));return n?(e.y=+n[0],r+n[0].length):-1}function Z0(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function X4(e,t,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(t.slice(r,r+6));return n?(e.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function K4(e,t,r){var n=Rt.exec(t.slice(r,r+1));return n?(e.q=n[0]*3-3,r+n[0].length):-1}function Z4(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.m=n[0]-1,r+n[0].length):-1}function Q0(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.d=+n[0],r+n[0].length):-1}function Q4(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.m=0,e.d=+n[0],r+n[0].length):-1}function j0(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.H=+n[0],r+n[0].length):-1}function j4(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.M=+n[0],r+n[0].length):-1}function J4(e,t,r){var n=Rt.exec(t.slice(r,r+2));return n?(e.S=+n[0],r+n[0].length):-1}function e3(e,t,r){var n=Rt.exec(t.slice(r,r+3));return n?(e.L=+n[0],r+n[0].length):-1}function t3(e,t,r){var n=Rt.exec(t.slice(r,r+6));return n?(e.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function r3(e,t,r){var n=z4.exec(t.slice(r,r+1));return n?r+n[0].length:-1}function n3(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.Q=+n[0],r+n[0].length):-1}function a3(e,t,r){var n=Rt.exec(t.slice(r));return n?(e.s=+n[0],r+n[0].length):-1}function J0(e,t){return We(e.getDate(),t,2)}function i3(e,t){return We(e.getHours(),t,2)}function o3(e,t){return We(e.getHours()%12||12,t,2)}function s3(e,t){return We(1+Ei.count(Xr(e),e),t,3)}function mw(e,t){return We(e.getMilliseconds(),t,3)}function u3(e,t){return mw(e,t)+"000"}function l3(e,t){return We(e.getMonth()+1,t,2)}function f3(e,t){return We(e.getMinutes(),t,2)}function c3(e,t){return We(e.getSeconds(),t,2)}function d3(e){var t=e.getDay();return t===0?7:t}function h3(e,t){return We(bo.count(Xr(e)-1,e),t,2)}function yw(e){var t=e.getDay();return t>=4||t===0?hi(e):hi.ceil(e)}function v3(e,t){return e=yw(e),We(hi.count(Xr(e),e)+(Xr(e).getDay()===4),t,2)}function g3(e){return e.getDay()}function p3(e,t){return We(zs.count(Xr(e)-1,e),t,2)}function m3(e,t){return We(e.getFullYear()%100,t,2)}function y3(e,t){return e=yw(e),We(e.getFullYear()%100,t,2)}function b3(e,t){return We(e.getFullYear()%1e4,t,4)}function w3(e,t){var r=e.getDay();return e=r>=4||r===0?hi(e):hi.ceil(e),We(e.getFullYear()%1e4,t,4)}function x3(e){var t=e.getTimezoneOffset();return(t>0?"-":(t*=-1,"+"))+We(t/60|0,"0",2)+We(t%60,"0",2)}function em(e,t){return We(e.getUTCDate(),t,2)}function S3(e,t){return We(e.getUTCHours(),t,2)}function E3(e,t){return We(e.getUTCHours()%12||12,t,2)}function T3(e,t){return We(1+oc.count(Kr(e),e),t,3)}function bw(e,t){return We(e.getUTCMilliseconds(),t,3)}function M3(e,t){return bw(e,t)+"000"}function k3(e,t){return We(e.getUTCMonth()+1,t,2)}function C3(e,t){return We(e.getUTCMinutes(),t,2)}function D3(e,t){return We(e.getUTCSeconds(),t,2)}function _3(e){var t=e.getUTCDay();return t===0?7:t}function P3(e,t){return We(wo.count(Kr(e)-1,e),t,2)}function ww(e){var t=e.getUTCDay();return t>=4||t===0?vi(e):vi.ceil(e)}function A3(e,t){return e=ww(e),We(vi.count(Kr(e),e)+(Kr(e).getUTCDay()===4),t,2)}function O3(e){return e.getUTCDay()}function R3(e,t){return We(Ys.count(Kr(e)-1,e),t,2)}function L3(e,t){return We(e.getUTCFullYear()%100,t,2)}function $3(e,t){return e=ww(e),We(e.getUTCFullYear()%100,t,2)}function N3(e,t){return We(e.getUTCFullYear()%1e4,t,4)}function I3(e,t){var r=e.getUTCDay();return e=r>=4||r===0?vi(e):vi.ceil(e),We(e.getUTCFullYear()%1e4,t,4)}function B3(){return"+0000"}function tm(){return"%"}function rm(e){return+e}function nm(e){return Math.floor(+e/1e3)}var Li,ag,Su;F3({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function F3(e){return Li=F4(e),ag=Li.format,Li.parse,Su=Li.utcFormat,Li.utcParse,Li}function z3(e){return new Date(e)}function Y3(e){return e instanceof Date?+e:+new Date(+e)}function ig(e,t,r,n,a,i,o,s,u,l){var f=Zb(),c=f.invert,d=f.domain,h=l(".%L"),v=l(":%S"),p=l("%I:%M"),g=l("%I %p"),m=l("%a %d"),y=l("%b %d"),b=l("%B"),w=l("%Y");function E(S){return(u(S)<S?h:s(S)<S?v:o(S)<S?p:i(S)<S?g:n(S)<S?a(S)<S?m:y:r(S)<S?b:w)(S)}return f.invert=function(S){return new Date(c(S))},f.domain=function(S){return arguments.length?d(Array.from(S,Y3)):d().map(z3)},f.ticks=function(S){var x=d();return e(x[0],x[x.length-1],S??10)},f.tickFormat=function(S,x){return x==null?E:l(x)},f.nice=function(S){var x=d();return(!S||typeof S.range!="function")&&(S=t(x[0],x[x.length-1],S??10)),S?d(jb(x,S)):f},f.copy=function(){return vu(f,ig(e,t,r,n,a,i,o,s,u,l))},f}function q3(){return En.apply(ig(I4,B4,Xr,wu,bo,Ei,yu,pu,Vr,ag).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function V3(){return En.apply(ig(N4,pw,Kr,xu,wo,oc,bu,mu,Vr,Su).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function uc(e,t){return t.domain(e.domain()).interpolator(e.interpolator()).clamp(e.clamp()).unknown(e.unknown())}function lc(){var e=0,t=.5,r=1,n=1,a,i,o,s,u,l=Pr,f,c=!1,d;function h(p){return isNaN(p=+p)?d:(p=.5+((p=+f(p))-i)*(n*p<n*i?s:u),l(c?Math.max(0,Math.min(1,p)):p))}h.domain=function(p){return arguments.length?([e,t,r]=p,a=f(e=+e),i=f(t=+t),o=f(r=+r),s=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,h):[e,t,r]},h.clamp=function(p){return arguments.length?(c=!!p,h):c},h.interpolator=function(p){return arguments.length?(l=p,h):l};function v(p){return function(g){var m,y,b;return arguments.length?([m,y,b]=g,l=jf(p,[m,y,b]),h):[l(0),l(.5),l(1)]}}return h.range=v(du),h.rangeRound=v(Wv),h.unknown=function(p){return arguments.length?(d=p,h):d},function(p){return f=p,a=p(e),i=p(t),o=p(r),s=a===i?0:.5/(i-a),u=i===o?0:.5/(o-i),n=i<a?-1:1,h}}function xw(){var e=gu(lc()(Pr));return e.copy=function(){return uc(e,xw())},nc.apply(e,arguments)}function Sw(){var e=Jb(lc()).domain([.1,1,10]);return e.copy=function(){return uc(e,Sw()).base(e.base())},nc.apply(e,arguments)}function Ew(){var e=tw(lc());return e.copy=function(){return uc(e,Ew()).constant(e.constant())},nc.apply(e,arguments)}function Tw(){var e=nw(lc());return e.copy=function(){return uc(e,Tw()).exponent(e.exponent())},nc.apply(e,arguments)}function _e(e){for(var t=e.length/6|0,r=new Array(t),n=0;n<t;)r[n]="#"+e.slice(n*6,++n*6);return r}const W3=_e("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),U3=_e("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),H3=_e("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),G3=_e("4269d0efb118ff725c6cc5b03ca951ff8ab7a463f297bbf59c6b4e9498a0"),X3=_e("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),K3=_e("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Z3=_e("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Q3=_e("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),j3=_e("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),J3=_e("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),e8=_e("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),et=e=>VC(e[e.length-1]);var Mw=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(_e);const kw=et(Mw);var Cw=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(_e);const Dw=et(Cw);var _w=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(_e);const Pw=et(_w);var Aw=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(_e);const Ow=et(Aw);var Xh=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(_e);const mf=et(Xh);var Rw=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(_e);const Lw=et(Rw);var Kh=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(_e);const yf=et(Kh);var $w=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(_e);const Nw=et($w);var Iw=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(_e);const Bw=et(Iw);var Fw=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(_e);const zw=et(Fw);var Yw=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(_e);const qw=et(Yw);var Vw=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(_e);const Ww=et(Vw);var Uw=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(_e);const Hw=et(Uw);var Gw=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(_e);const Xw=et(Gw);var Kw=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(_e);const Zw=et(Kw);var Qw=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(_e);const jw=et(Qw);var Jw=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(_e);const e2=et(Jw);var t2=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(_e);const r2=et(t2);var n2=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(_e);const a2=et(n2);var i2=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(_e);const o2=et(i2);var s2=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(_e);const u2=et(s2);var l2=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(_e);const f2=et(l2);var c2=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(_e);const d2=et(c2);var h2=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(_e);const v2=et(h2);var g2=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(_e);const p2=et(g2);var m2=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(_e);const y2=et(m2);var b2=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(_e);const w2=et(b2);function x2(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-e*(35.34-e*(2381.73-e*(6402.7-e*(7024.72-e*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+e*(170.73+e*(52.82-e*(131.46-e*(176.58-e*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+e*(442.36-e*(2482.43-e*(6167.24-e*(6614.94-e*2475.67)))))))+")"}const S2=Uv(yn(300,.5,0),yn(-240,.5,1));var E2=Uv(yn(-100,.75,.35),yn(80,1.5,.8)),T2=Uv(yn(260,.75,.35),yn(80,1.5,.8)),rl=yn();function M2(e){(e<0||e>1)&&(e-=Math.floor(e));var t=Math.abs(e-.5);return rl.h=360*e-100,rl.s=1.5-1.5*t,rl.l=.8-.9*t,rl+""}var nl=Ca(),t8=Math.PI/3,r8=Math.PI*2/3;function k2(e){var t;return e=(.5-e)*Math.PI,nl.r=255*(t=Math.sin(e))*t,nl.g=255*(t=Math.sin(e+t8))*t,nl.b=255*(t=Math.sin(e+r8))*t,nl+""}function C2(e){return e=Math.max(0,Math.min(1,e)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+e*(1172.33-e*(10793.56-e*(33300.12-e*(38394.49-e*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+e*(557.33+e*(1225.33-e*(3574.96-e*(1073.77+e*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+e*(3211.1-e*(15327.97-e*(27814-e*(22569.18-e*6838.66)))))))+")"}function fc(e){var t=e.length;return function(r){return e[Math.max(0,Math.min(t-1,Math.floor(r*t)))]}}const D2=fc(_e("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var _2=fc(_e("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),P2=fc(_e("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),A2=fc(_e("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921"));const O2=Math.cos,og=Math.min,bf=Math.sin,Tt=Math.sqrt,iV=1e-12,wf=Math.PI,cc=2*wf,n8=Tt(3),R2={draw(e,t){const r=Tt(t+og(t/28,.75))*.59436,n=r/2,a=n*n8;e.moveTo(0,r),e.lineTo(0,-r),e.moveTo(-a,-n),e.lineTo(a,n),e.moveTo(-a,n),e.lineTo(a,-n)}},sg={draw(e,t){const r=Tt(t/wf);e.moveTo(r,0),e.arc(0,0,r,0,cc)}},L2={draw(e,t){const r=Tt(t/5)/2;e.moveTo(-3*r,-r),e.lineTo(-r,-r),e.lineTo(-r,-3*r),e.lineTo(r,-3*r),e.lineTo(r,-r),e.lineTo(3*r,-r),e.lineTo(3*r,r),e.lineTo(r,r),e.lineTo(r,3*r),e.lineTo(-r,3*r),e.lineTo(-r,r),e.lineTo(-3*r,r),e.closePath()}},$2=Tt(1/3),a8=$2*2,N2={draw(e,t){const r=Tt(t/a8),n=r*$2;e.moveTo(0,-r),e.lineTo(n,0),e.lineTo(0,r),e.lineTo(-n,0),e.closePath()}},I2={draw(e,t){const r=Tt(t)*.62625;e.moveTo(0,-r),e.lineTo(r,0),e.lineTo(0,r),e.lineTo(-r,0),e.closePath()}},B2={draw(e,t){const r=Tt(t-og(t/7,2))*.87559;e.moveTo(-r,0),e.lineTo(r,0),e.moveTo(0,r),e.lineTo(0,-r)}},F2={draw(e,t){const r=Tt(t),n=-r/2;e.rect(n,n,r,r)}},z2={draw(e,t){const r=Tt(t)*.4431;e.moveTo(r,r),e.lineTo(r,-r),e.lineTo(-r,-r),e.lineTo(-r,r),e.closePath()}},i8=.8908130915292852,Y2=bf(wf/10)/bf(7*wf/10),o8=bf(cc/10)*Y2,s8=-O2(cc/10)*Y2,q2={draw(e,t){const r=Tt(t*i8),n=o8*r,a=s8*r;e.moveTo(0,-r),e.lineTo(n,a);for(let i=1;i<5;++i){const o=cc*i/5,s=O2(o),u=bf(o);e.lineTo(u*r,-s*r),e.lineTo(s*n-u*a,u*n+s*a)}e.closePath()}},Pd=Tt(3),V2={draw(e,t){const r=-Tt(t/(Pd*3));e.moveTo(0,r*2),e.lineTo(-Pd*r,-r),e.lineTo(Pd*r,-r),e.closePath()}},u8=Tt(3),W2={draw(e,t){const r=Tt(t)*.6824,n=r/2,a=r*u8/2;e.moveTo(0,-r),e.lineTo(a,n),e.lineTo(-a,n),e.closePath()}},xr=-.5,Sr=Tt(3)/2,Zh=1/Tt(12),l8=(Zh/2+1)*3,U2={draw(e,t){const r=Tt(t/l8),n=r/2,a=r*Zh,i=n,o=r*Zh+r,s=-i,u=o;e.moveTo(n,a),e.lineTo(i,o),e.lineTo(s,u),e.lineTo(xr*n-Sr*a,Sr*n+xr*a),e.lineTo(xr*i-Sr*o,Sr*i+xr*o),e.lineTo(xr*s-Sr*u,Sr*s+xr*u),e.lineTo(xr*n+Sr*a,xr*a-Sr*n),e.lineTo(xr*i+Sr*o,xr*o-Sr*i),e.lineTo(xr*s+Sr*u,xr*u-Sr*s),e.closePath()}},H2={draw(e,t){const r=Tt(t-og(t/6,1.7))*.6189;e.moveTo(-r,-r),e.lineTo(r,r),e.moveTo(-r,r),e.lineTo(r,-r)}},f8=[sg,L2,N2,F2,q2,V2,U2],c8=[sg,B2,H2,W2,R2,z2,I2];function bs(e,t,r){this.k=e,this.x=t,this.y=r}bs.prototype={constructor:bs,scale:function(e){return e===1?this:new bs(this.k*e,this.x,this.y)},translate:function(e,t){return e===0&t===0?this:new bs(this.k,this.x+this.k*e,this.y+this.k*t)},apply:function(e){return[e[0]*this.k+this.x,e[1]*this.k+this.y]},applyX:function(e){return e*this.k+this.x},applyY:function(e){return e*this.k+this.y},invert:function(e){return[(e[0]-this.x)/this.k,(e[1]-this.y)/this.k]},invertX:function(e){return(e-this.x)/this.k},invertY:function(e){return(e-this.y)/this.k},rescaleX:function(e){return e.copy().domain(e.range().map(this.invertX,this).map(e.invert,e))},rescaleY:function(e){return e.copy().domain(e.range().map(this.invertY,this).map(e.invert,e))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};bs.prototype;function Da(e){return e!=null&&!Number.isNaN(e)}function Zr(e,t){return+Da(t)-+Da(e)||or(e,t)}function xf(e,t){return+Da(t)-+Da(e)||lu(e,t)}function ug(e){return e!=null&&`${e}`!=""}function G2(e){return isFinite(e)?e:NaN}function lg(e){return e>0&&isFinite(e)?e:NaN}function X2(e){return e<0&&isFinite(e)?e:NaN}function d8(e,t){if(e instanceof Date||(e=new Date(+e)),isNaN(e))return typeof t=="function"?t(e):t;const r=e.getUTCHours(),n=e.getUTCMinutes(),a=e.getUTCSeconds(),i=e.getUTCMilliseconds();return`${h8(e.getUTCFullYear())}-${zn(e.getUTCMonth()+1,2)}-${zn(e.getUTCDate(),2)}${r||n||a||i?`T${zn(r,2)}:${zn(n,2)}${a||i?`:${zn(a,2)}${i?`.${zn(i,3)}`:""}`:""}Z`:""}`}function h8(e){return e<0?`-${zn(-e,6)}`:e>9999?`+${zn(e,6)}`:zn(e,4)}function zn(e,t){return`${e}`.padStart(t,"0")}const v8=/^(?:[-+]\d{2})?\d{4}(?:-\d{2}(?:-\d{2})?)?(?:T\d{2}:\d{2}(?::\d{2}(?:\.\d{3})?)?(?:Z|[-+]\d{2}:?\d{2})?)?$/;function K2(e,t){return v8.test(e+="")?new Date(e):typeof t=="function"?t(e):t}function xo(e){if(e==null)return;const t=e[0],r=e[e.length-1];return lu(t,r)}const Hi=1e3,ma=Hi*60,ya=ma*60,bn=ya*24,un=bn*7,ni=bn*30,ga=bn*365,Ad=[["millisecond",1],["2 milliseconds",2],["5 milliseconds",5],["10 milliseconds",10],["20 milliseconds",20],["50 milliseconds",50],["100 milliseconds",100],["200 milliseconds",200],["500 milliseconds",500],["second",Hi],["5 seconds",5*Hi],["15 seconds",15*Hi],["30 seconds",30*Hi],["minute",ma],["5 minutes",5*ma],["15 minutes",15*ma],["30 minutes",30*ma],["hour",ya],["3 hours",3*ya],["6 hours",6*ya],["12 hours",12*ya],["day",bn],["2 days",2*bn],["week",un],["2 weeks",2*un],["month",ni],["3 months",3*ni],["6 months",6*ni],["year",ga],["2 years",2*ga],["5 years",5*ga],["10 years",10*ga],["20 years",20*ga],["50 years",50*ga],["100 years",100*ga]],fg=new Map([["second",Hi],["minute",ma],["hour",ya],["day",bn],["monday",un],["tuesday",un],["wednesday",un],["thursday",un],["friday",un],["saturday",un],["sunday",un],["week",un],["month",ni],["year",ga]]),Z2=new Map([["second",Vr],["minute",pu],["hour",yu],["day",Ei],["monday",zs],["tuesday",sw],["wednesday",uw],["thursday",hi],["friday",lw],["saturday",fw],["sunday",bo],["week",bo],["month",wu],["year",Xr]]),cg=new Map([["second",Vr],["minute",mu],["hour",bu],["day",sc],["monday",Ys],["tuesday",cw],["wednesday",dw],["thursday",vi],["friday",hw],["saturday",vw],["sunday",wo],["week",wo],["month",xu],["year",Kr]]),Eu=Symbol("intervalDuration"),dc=Symbol("intervalType");for(const[e,t]of Z2)t[Eu]=fg.get(e),t[dc]="time";for(const[e,t]of cg)t[Eu]=fg.get(e),t[dc]="utc";const ws=[["year",Kr,"utc"],["month",xu,"utc"],["day",sc,"utc",6*ni],["hour",bu,"utc",3*bn],["minute",mu,"utc",6*ya],["second",Vr,"utc",30*ma]],Pl=[["year",Xr,"time"],["month",wu,"time"],["day",Ei,"time",6*ni],["hour",yu,"time",3*bn],["minute",pu,"time",6*ya],["second",Vr,"time",30*ma]],g8=[ws[0],Pl[0],ws[1],Pl[1],ws[2],Pl[2],...ws.slice(3)];function Q2(e){let t=`${e}`.toLowerCase();t.endsWith("s")&&(t=t.slice(0,-1));let r=1;const n=/^(?:(\d+)\s+)/.exec(t);switch(n&&(t=t.slice(n[0].length),r=+n[1]),t){case"quarter":t="month",r*=3;break;case"half":t="month",r*=6;break}let a=cg.get(t);if(!a)throw new Error(`unknown interval: ${e}`);if(r>1&&!a.every)throw new Error(`non-periodic interval: ${t}`);return[t,r]}function j2(e){return J2(Q2(e),"time")}function dg(e){return J2(Q2(e),"utc")}function J2([e,t],r){let n=(r==="time"?Z2:cg).get(e);return t>1&&(n=n.every(t),n[Eu]=fg.get(e)*t,n[dc]=r),n}function am(e,t){if(!(t>1))return;const r=e[Eu];if(!Ad.some(([,a])=>a===r)||r%bn===0&&bn<r&&r<ni)return;const[n]=Ad[Wf(([,a])=>Math.log(a)).center(Ad,Math.log(r*t))];return(e[dc]==="time"?j2:dg)(n)}function im(e,t,r){const n=t==="time"?ag:Su;if(r==null)return n(e==="year"?"%Y":e==="month"?"%Y-%m":e==="day"?"%Y-%m-%d":e==="hour"||e==="minute"?"%Y-%m-%dT%H:%M":e==="second"?"%Y-%m-%dT%H:%M:%S":"%Y-%m-%dT%H:%M:%S.%L");const a=p8(r);switch(e){case"millisecond":return $i(n(".%L"),n(":%M:%S"),a);case"second":return $i(n(":%S"),n("%-I:%M"),a);case"minute":return $i(n("%-I:%M"),n("%p"),a);case"hour":return $i(n("%-I %p"),n("%b %-d"),a);case"day":return $i(n("%-d"),n("%b"),a);case"month":return $i(n("%b"),n("%Y"),a);case"year":return n("%Y")}throw new Error("unable to format time ticks")}function p8(e){return e==="left"||e==="right"?(t,r)=>`
${t}
${r}`:e==="top"?(t,r)=>`${r}
${t}`:(t,r)=>`${t}
${r}`}function m8(e){return e==="time"?Pl:e==="utc"?ws:g8}function y8(e,t,r){const n=Hr(OM(t,(a,i)=>Math.abs(i-a)));if(n<1e3)return im("millisecond","utc",r);for(const[a,i,o,s]of m8(e)){if(n>s||a==="hour"&&!n)break;if(t.every(u=>i.floor(u)>=u))return im(a,o,r)}}function $i(e,t,r){return(n,a,i)=>{const o=e(n,a),s=t(n,a),u=a-xo(i);return a!==u&&i[u]!==void 0&&s===t(i[u],u)?o:r(o,s)}}const hg=Object.getPrototypeOf(Uint8Array),b8=Object.prototype.toString;function ki(e){return e instanceof Array||e instanceof hg}function ex(e){return e instanceof hg&&!w8(e)}function tx(e){return(e==null?void 0:e.prototype)instanceof hg&&!x8(e)}function w8(e){return e instanceof BigInt64Array||e instanceof BigUint64Array}function x8(e){return e===BigInt64Array||e===BigUint64Array}const rx=Symbol("reindex");function Ot(e,t,r){const n=typeof t;return n==="string"?px(e)?vg(e.getChild(t),r):om(e,nx(t),r):n==="function"?om(e,t,r):n==="number"||t instanceof Date||n==="boolean"?mt(e,Un(t),r):typeof(t==null?void 0:t.transform)=="function"?Qh(t.transform(e),r):S8(Qh(t,r),e==null?void 0:e[rx])}function S8(e,t){return e!=null&&t?mg(e,t):e}function om(e,t,r){return mt(e,tx(r)?(n,a)=>gg(t(n,a)):t,r)}function Qh(e,t){return t===void 0?_a(e):mx(e)?vg(e,t):e instanceof t?e:t.from(e,tx(t)&&!ex(e)?gg:void 0)}function vg(e,t){return e==null?e:(t===void 0||t===Array)&&W8(e.type)?ox(e.toArray()):Qh(e.toArray(),t)}const Al=[null],nx=e=>t=>{var n;const r=t[e];return r===void 0&&t.type==="Feature"?(n=t.properties)==null?void 0:n[e]:r},ax={transform:sa},fr={transform:e=>e},E8=()=>1,T8=()=>!0,er=e=>e==null?e:`${e}`,Vt=e=>e==null?e:+e,ix=e=>e?e[0]:void 0,jh=e=>e?e[1]:void 0,Un=e=>()=>e;function M8(e){const t=+`${e}`.slice(1)/100;return(r,n)=>fo(r,t,n)}function Sf(e){return ex(e)?e:mt(e,gg,Float64Array)}function gg(e){return e==null?NaN:Number(e)}function ox(e){return mt(e,sx)}function sx(e){return e instanceof Date&&!isNaN(e)?e:typeof e=="string"?K2(e):e==null||isNaN(e=Number(e))?void 0:new Date(e)}function ta(e,t){return e===void 0&&(e=t),e===null?[void 0,"none"]:hc(e)?[void 0,e]:[e,void 0]}function hr(e,t){return e===void 0&&(e=t),e===null||typeof e=="number"?[void 0,e]:[e,void 0]}function ux(e,t,r){if(e!=null)return en(e,t,r)}function en(e,t,r){const n=`${e}`.toLowerCase();if(!r.includes(n))throw new Error(`invalid ${t}: ${e}`);return n}function So(e){return px(e)?e:_a(e)}function _a(e){if(e==null||ki(e))return e;if(mx(e))return vg(e);switch(e.type){case"FeatureCollection":return e.features;case"GeometryCollection":return e.geometries;case"Feature":case"LineString":case"MultiLineString":case"MultiPoint":case"MultiPolygon":case"Point":case"Polygon":case"Sphere":return[e]}return Array.from(e)}function mt(e,t,r=Array){return e==null?e:e instanceof r?e.map(t):r.from(e,t)}function qs(e,t=Array){return e instanceof t?e.slice():t.from(e)}function k8({x:e,x1:t,x2:r}){return e!==void 0||t!==void 0||r!==void 0}function lx({y:e,y1:t,y2:r}){return e!==void 0||t!==void 0||r!==void 0}function C8(e){return k8(e)||lx(e)||e.interval!==void 0}function Ba(e){return(e==null?void 0:e.toString)===b8}function Jh(e){return Ba(e)&&(e.type!==void 0||e.domain!==void 0)}function pg(e){return Ba(e)&&typeof e.transform!="function"}function Vs(e){return pg(e)&&e.value===void 0&&e.channel===void 0}function D8(e,t,r,n=fr){return t===void 0&&r===void 0?(t=0,r=e===void 0?n:e):t===void 0?t=e===void 0?0:e:r===void 0&&(r=e===void 0?0:e),[t,r]}function fx(e,t){return e===void 0&&t===void 0?[ix,jh]:[e,t]}function _8({z:e,fill:t,stroke:r}={}){return e===void 0&&([e]=ta(t)),e===void 0&&([e]=ta(r)),e}function Ws(e){return ki(e)?e.length:e==null?void 0:e.numRows}function sa(e){const t=Ws(e),r=new Uint32Array(t);for(let n=0;n<t;++n)r[n]=n;return r}function mg(e,t){return ki(e)?mt(t,r=>e[r],e.constructor):mt(t,r=>e.at(r))}function P8(e,t,r){return e.subarray?e.subarray(t,r):e.slice(t,r)}function Hn(e){return e!==null&&typeof e=="object"?e.valueOf():e}function A8(e,t){if(t[e]!==void 0)return t[e];switch(e){case"x1":case"x2":e="x";break;case"y1":case"y2":e="y";break}return t[e]}function Ef(e){let t;return[{transform:()=>t,label:Ci(e)},r=>t=r]}function In(e){return e==null?[e]:Ef(e)}function Ci(e,t){return typeof e=="string"?e:e&&e.label!==void 0?e.label:t}function ev(e,t){return{transform(r){const n=e.transform(r),a=t.transform(r);return ur(n)||ur(a)?mt(n,(i,o)=>new Date((+n[o]+ +a[o])/2)):mt(n,(i,o)=>(+n[o]+ +a[o])/2,Float64Array)},label:e.label}}function cx(e,t){const r=dx(t==null?void 0:t.interval,t==null?void 0:t.type);return r?mt(e,r):e}function dx(e,t){const r=yg(e,t);return r&&(n=>Da(n)?r.floor(n):n)}function yg(e,t){if(e!=null){if(typeof e=="number")return O8(e);if(typeof e=="string")return(t==="time"?j2:dg)(e);if(typeof e.floor!="function")throw new Error("invalid interval; missing floor method");if(typeof e.offset!="function")throw new Error("invalid interval; missing offset method");return e}}function O8(e){e=+e,0<e&&e<1&&Number.isInteger(1/e)&&(e=-1/e);const t=Math.abs(e);return e<0?{floor:r=>Math.floor(r*t)/t,offset:(r,n=1)=>(r*t+Math.floor(n))/t,range:(r,n)=>ph(Math.ceil(r*t),n*t).map(a=>a/t)}:{floor:r=>Math.floor(r/t)*t,offset:(r,n=1)=>r+t*Math.floor(n),range:(r,n)=>ph(Math.ceil(r/t),n/t).map(a=>a*t)}}function Ro(e,t){if(e=yg(e,t),e&&typeof e.range!="function")throw new Error("invalid interval: missing range method");return e}function R8(e,t){if(e=Ro(e,t),e&&typeof e.ceil!="function")throw new Error("invalid interval: missing ceil method");return e}function L8(e){return Gi(e)&&typeof(e==null?void 0:e.floor)=="function"&&e.floor()instanceof Date}function Gi(e){return typeof(e==null?void 0:e.range)=="function"}function Tu(e){return e===void 0||pg(e)?e:{value:e}}function $8(e){return e==null?null:{transform:t=>Ot(t,e,Float64Array),label:Ci(e)}}function Fa(e){return e&&typeof e[Symbol.iterator]=="function"}function hx(e){for(const t of e)if(t!=null)return typeof t!="object"||t instanceof Date}function sm(e){for(const t of e){if(t==null)continue;const r=typeof t;return r==="string"||r==="boolean"}}function ur(e){for(const t of e)if(t!=null)return t instanceof Date}function N8(e){for(const t of e)if(t!=null)return typeof t=="string"&&isNaN(t)&&K2(t)}function I8(e){for(const t of e)if(t!=null){if(typeof t!="string")return!1;if(t.trim())return!isNaN(t)}}function B8(e){for(const t of e)if(t!=null)return typeof t=="number"}function Od(e,t){let r;for(const n of e)if(n!=null){if(!t(n))return!1;r=!0}return r}const F8=new Set("none,currentcolor,transparent,aliceblue,antiquewhite,aqua,aquamarine,azure,beige,bisque,black,blanchedalmond,blue,blueviolet,brown,burlywood,cadetblue,chartreuse,chocolate,coral,cornflowerblue,cornsilk,crimson,cyan,darkblue,darkcyan,darkgoldenrod,darkgray,darkgreen,darkgrey,darkkhaki,darkmagenta,darkolivegreen,darkorange,darkorchid,darkred,darksalmon,darkseagreen,darkslateblue,darkslategray,darkslategrey,darkturquoise,darkviolet,deeppink,deepskyblue,dimgray,dimgrey,dodgerblue,firebrick,floralwhite,forestgreen,fuchsia,gainsboro,ghostwhite,gold,goldenrod,gray,green,greenyellow,grey,honeydew,hotpink,indianred,indigo,ivory,khaki,lavender,lavenderblush,lawngreen,lemonchiffon,lightblue,lightcoral,lightcyan,lightgoldenrodyellow,lightgray,lightgreen,lightgrey,lightpink,lightsalmon,lightseagreen,lightskyblue,lightslategray,lightslategrey,lightsteelblue,lightyellow,lime,limegreen,linen,magenta,maroon,mediumaquamarine,mediumblue,mediumorchid,mediumpurple,mediumseagreen,mediumslateblue,mediumspringgreen,mediumturquoise,mediumvioletred,midnightblue,mintcream,mistyrose,moccasin,navajowhite,navy,oldlace,olive,olivedrab,orange,orangered,orchid,palegoldenrod,palegreen,paleturquoise,palevioletred,papayawhip,peachpuff,peru,pink,plum,powderblue,purple,rebeccapurple,red,rosybrown,royalblue,saddlebrown,salmon,sandybrown,seagreen,seashell,sienna,silver,skyblue,slateblue,slategray,slategrey,snow,springgreen,steelblue,tan,teal,thistle,tomato,turquoise,violet,wheat,white,whitesmoke,yellow".split(","));function hc(e){return typeof e!="string"?!1:(e=e.toLowerCase().trim(),/^#[0-9a-f]{3,8}$/.test(e)||/^(?:url|var|rgb|rgba|hsl|hsla|hwb|lab|lch|oklab|oklch|color|color-mix)\(.*\)$/.test(e)||F8.has(e))}function z8(e){return typeof e=="number"&&(0<=e&&e<=1||isNaN(e))}function ir(e){return e==null||Us(e)}function Us(e){return/^\s*none\s*$/i.test(e)}function Y8(e){return/^\s*round\s*$/i.test(e)}function tv(e,t){return ux(e,t,["middle","top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"])}function bg(e="middle"){return tv(e,"frameAnchor")}function q8(e={},...t){let r=e;for(const n of t)for(const a in n)if(r[a]===void 0){const i=n[a];r===e?r={...r,[a]:i}:r[a]=i}return r}function V8(e){console.warn("named iterables are deprecated; please use an object instead");const t=new Set;return Object.fromEntries(Array.from(e,r=>{const{name:n}=r;if(n==null)throw new Error("missing name");const a=`${n}`;if(a==="__proto__")throw new Error(`illegal name: ${a}`);if(t.has(a))throw new Error(`duplicate name: ${a}`);return t.add(a),[n,r]}))}function vx(e){return Fa(e)?V8(e):e}function gx(e){return e===!0?e="frame":e===!1?e=null:e!=null&&(e=en(e,"clip",["frame","sphere"])),e}function px(e){return e&&typeof e.getChild=="function"&&typeof e.toArray=="function"&&e.schema&&Array.isArray(e.schema.fields)}function mx(e){return e&&typeof e.toArray=="function"&&e.type}function W8(e){return e&&(e.typeId===8||e.typeId===10)&&e.unit===1}const hn=Symbol("position"),ua=Symbol("color"),Mu=Symbol("radius"),ku=Symbol("length"),Cu=Symbol("opacity"),vc=Symbol("symbol"),yx=Symbol("projection"),ht=new Map([["x",hn],["y",hn],["fx",hn],["fy",hn],["r",Mu],["color",ua],["opacity",Cu],["symbol",vc],["length",ku],["projection",yx]]);function U8(e){return e===hn||e===yx}function H8(e){return e===hn||e===Mu||e===ku||e===Cu}const G8=Math.sqrt(3),X8=2/G8,K8={draw(e,t){const r=Math.sqrt(t/Math.PI),n=r*X8,a=n/2;e.moveTo(0,n),e.lineTo(r,a),e.lineTo(r,-a),e.lineTo(0,-n),e.lineTo(-r,-a),e.lineTo(-r,a),e.closePath()}},bx=new Map([["asterisk",R2],["circle",sg],["cross",L2],["diamond",N2],["diamond2",I2],["hexagon",K8],["plus",B2],["square",F2],["square2",z2],["star",q2],["times",H2],["triangle",V2],["triangle2",W2],["wye",U2]]);function wx(e){return e&&typeof e.draw=="function"}function Z8(e){return wx(e)?!0:typeof e!="string"?!1:bx.has(e.toLowerCase())}function wg(e){if(e==null||wx(e))return e;const t=bx.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid symbol: ${e}`)}function xg({filter:e,sort:t,reverse:r,transform:n,initializer:a,...i}={},o){if(n===void 0&&(e!=null&&(n=xx(e)),t!=null&&!Vs(t)&&(n=Rd(n,Ex(t))),r&&(n=Rd(n,Sx))),o!=null&&a!=null)throw new Error("transforms cannot be applied after initializers");return{...i,...(t===null||Vs(t))&&{sort:t},transform:Rd(n,o)}}function Tf({filter:e,sort:t,reverse:r,initializer:n,...a}={},i){return n===void 0&&(e!=null&&(n=xx(e)),t!=null&&!Vs(t)&&(n=Ld(n,Ex(t))),r&&(n=Ld(n,Sx))),{...a,...(t===null||Vs(t))&&{sort:t},initializer:Ld(n,i)}}function Rd(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(r,n,a){return{data:r,facets:n}=e.call(this,r,n,a),t.call(this,So(r),n,a)}}function Ld(e,t){return e==null?t===null?void 0:t:t==null?e===null?void 0:e:function(r,n,a,...i){let o,s,u,l,f,c;return{data:s=r,facets:u=n,channels:o}=e.call(this,r,n,a,...i),{data:f=s,facets:c=u,channels:l}=t.call(this,s,u,{...a,...o},...i),{data:f,facets:c,channels:{...o,...l}}}}function xx(e){return(t,r)=>{const n=Ot(t,e);return{data:t,facets:r.map(a=>a.filter(i=>n[i]))}}}function Sx(e,t){return{data:e,facets:t.map(r=>r.slice().reverse())}}function Ex(e){return(typeof e=="function"&&e.length!==1?Q8:j8)(e)}function Q8(e){return(t,r)=>{const n=ki(t)?(a,i)=>e(t[a],t[i]):(a,i)=>e(t.get(a),t.get(i));return{data:t,facets:r.map(a=>a.slice().sort(n))}}}function j8(e){let t,r;({channel:t,value:e,order:r}={...Tu(e)});const n=t==null?void 0:t.startsWith("-");if(n&&(t=t.slice(1)),r===void 0&&(r=n?xf:Zr),typeof r!="function")switch(`${r}`.toLowerCase()){case"ascending":r=Zr;break;case"descending":r=xf;break;default:throw new Error(`invalid order: ${r}`)}return(a,i,o)=>{let s;if(t===void 0)s=Ot(a,e);else{if(o===void 0)throw new Error("channel sort requires an initializer");if(s=o[t],!s)return{};s=s.value}const u=(l,f)=>r(s[l],s[f]);return{data:a,facets:i.map(l=>l.slice().sort(u))}}}function $d(e,...t){for(const{name:r}of e)if(t.includes(r))return!0;return!1}function J8(e,t,r=Tx){const n=Object.entries(e);return t.title!=null&&e.title===void 0&&n.push(["title",o7]),t.href!=null&&e.href===void 0&&n.push(["href",Cx]),n.filter(([,a])=>a!==void 0).map(([a,i])=>i===null?e7(a):r(a,i,t))}function Tx(e,t,r,n=Mx){let a;Ba(t)&&"reduce"in t&&(a=t.scale,t=t.reduce);const i=n(e,t,r),[o,s]=Ef(i.label);let u;return{name:e,output:a===void 0?o:{value:o,scale:a},initialize(l){i.initialize(l),u=s([])},scope(l,f){i.scope(l,f)},reduce(l,f){u.push(i.reduce(l,f))}}}function e7(e){return{name:e,initialize(){},scope(){},reduce(){}}}function Mx(e,t,r,n=Sg){const a=A8(e,r),i=n(t,a);let o,s;return{label:Ci(i===Mf?null:a,i.label),initialize(u){o=a===void 0?u:Ot(u,a),i.scope==="data"&&(s=i.reduceIndex(sa(u),o))},scope(u,l){i.scope===u&&(s=i.reduceIndex(l,o))},reduce(u,l){return i.scope==null?i.reduceIndex(u,o,l):i.reduceIndex(u,o,s,l)}}}function um(e,t){return t?Gf(e,r=>t[r]):[[,e]]}function Sg(e,t,r=t7){if(e==null)return r(e);if(typeof e.reduceIndex=="function")return e;if(typeof e.reduce=="function"&&Ba(e))return a7(e);if(typeof e=="function")return i7(e);if(/^p\d{2}$/i.test(e))return Bn(M8(e));switch(`${e}`.toLowerCase()){case"first":return Cx;case"last":return s7;case"identity":return kx;case"count":return Mf;case"distinct":return u7;case"sum":return t==null?Mf:l7;case"proportion":return fm(t,"data");case"proportion-facet":return fm(t,"facet");case"deviation":return Bn(E1);case"min":return Bn(Qn);case"min-index":return Bn(kM);case"max":return Bn(Hr);case"max-index":return Bn(MM);case"mean":return lm(_M);case"median":return lm(gh);case"variance":return Bn(S1);case"mode":return Bn(AM)}return r(e)}function t7(e){throw new Error(`invalid reduce: ${e}`)}function r7(e,t){for(const r in t){const n=t[r];if(n!==void 0&&!e.some(a=>a.name===r))return n}}function n7(e,t,r){if(t){const n=t.output.transform(),a=(i,o)=>Zr(n[i],n[o]);e.forEach(i=>i.sort(a))}r&&e.forEach(n=>n.reverse())}function a7(e){return console.warn("deprecated reduce interface; implement reduceIndex instead."),{...e,reduceIndex:e.reduce.bind(e)}}function i7(e){return{reduceIndex(t,r,n){return e(mg(r,t),n)}}}function Bn(e){return{reduceIndex(t,r){return e(t,n=>r[n])}}}function lm(e){return{reduceIndex(t,r){const n=e(t,a=>r[a]);return ur(r)?new Date(n):n}}}const kx={reduceIndex(e,t){return mg(t,e)}},Cx={reduceIndex(e,t){return t[e[0]]}},o7={reduceIndex(e,t){const n=Ul(ji(e,i=>i.length,i=>t[i]),jh),a=n.slice(-5).reverse();if(a.length<n.length){const i=n.slice(0,-4);a[4]=[` ${i.length.toLocaleString("en-US")} more`,ka(i,jh)]}return a.map(([i,o])=>`${i} (${o.toLocaleString("en-US")})`).join(`
`)}},s7={reduceIndex(e,t){return t[e[e.length-1]]}},Mf={label:"Frequency",reduceIndex(e){return e.length}},u7={label:"Distinct",reduceIndex(e,t){const r=new Hf;for(const n of e)r.add(t[n]);return r.size}},l7=Bn(ka);function fm(e,t){return e==null?{scope:t,label:"Frequency",reduceIndex:(r,n,a=1)=>r.length/a}:{scope:t,reduceIndex:(r,n,a=1)=>ka(r,i=>n[i])/a}}const f7={reduceIndex(e,t,{z:r}){return r}};function Hs(e,{scale:t,type:r,value:n,filter:a,hint:i,label:o=Ci(n)},s){return i===void 0&&typeof(n==null?void 0:n.transform)=="function"&&(i=n.hint),Dx(s,{scale:t,type:r,value:Ot(e,n),label:o,filter:a,hint:i})}function c7(e,t){return Object.fromEntries(Object.entries(e).map(([r,n])=>[r,Hs(t,n,r)]))}function d7(e,t){const r=Object.fromEntries(Object.entries(e).map(([n,{scale:a,value:i}])=>{const o=a==null?null:t[a];return[n,o==null?i:mt(i,o)]}));return r.channels=e,r}function Dx(e,t){const{scale:r,value:n}=t;if(r===!0||r==="auto")switch(e){case"fill":case"stroke":case"color":t.scale=r!==!0&&Od(n,hc)?null:"color",t.defaultScale="color";break;case"fillOpacity":case"strokeOpacity":case"opacity":t.scale=r!==!0&&Od(n,z8)?null:"opacity",t.defaultScale="opacity";break;case"symbol":r!==!0&&Od(n,Z8)?(t.scale=null,t.value=mt(n,wg)):t.scale="symbol",t.defaultScale="symbol";break;default:t.scale=ht.has(e)?e:null;break}else if(r===!1)t.scale=null;else if(r!=null&&!ht.has(r))throw new Error(`unknown scale: ${r}`);return t}function h7(e,t,r,n,a){const{order:i,reverse:o,reduce:s=!0,limit:u}=a;for(const l in a){if(!ht.has(l))continue;let{value:f,order:c=i,reverse:d=o,reduce:h=s,limit:v=u}=Tu(a[l]);const p=f==null?void 0:f.startsWith("-");if(p&&(f=f.slice(1)),c=c===void 0?p!==(f==="width"||f==="height")?Px:_x:p7(c),h==null||h===!1)continue;const g=l==="fx"||l==="fy"?g7(t,n[l]):v7(r,l);if(!g)throw new Error(`missing channel for scale: ${l}`);const m=g.value,[y=0,b=1/0]=Fa(v)?v:v<0?[v]:[0,v];if(f==null)g.domain=()=>{let w=Array.from(new Hf(m));return d&&(w=w.reverse()),(y!==0||b!==1/0)&&(w=w.slice(y,b)),w};else{const w=f==="data"?e:f==="height"?cm(r,"y1","y2"):f==="width"?cm(r,"x1","x2"):rv(r,f,f==="y"?"y2":f==="x"?"x2":void 0),E=Sg(h===!0?"max":h,w);g.domain=()=>{let S=bM(sa(m),x=>E.reduceIndex(x,w),x=>m[x]);return c&&S.sort(c),d&&S.reverse(),(y!==0||b!==1/0)&&(S=S.slice(y,b)),S.map(ix)}}}}function v7(e,t){for(const r in e){const n=e[r];if(n.scale===t)return n}}function g7(e,t){const r=e.original;if(r===e)return t;const n=t.value,a=t.value=[];for(let i=0;i<r.length;++i){const o=n[r[i][0]];for(const s of e[i])a[s]=o}return t}function cm(e,t,r){const n=rv(e,t),a=rv(e,r);return mt(a,(i,o)=>Math.abs(i-n[o]),Float64Array)}function rv(e,t,r){let n=e[t];if(!n&&r!==void 0&&(n=e[r]),n)return n.value;throw new Error(`missing channel: ${t}`)}function p7(e){if(e==null||typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"ascending":return _x;case"descending":return Px}throw new Error(`invalid order: ${e}`)}function _x([e,t],[r,n]){return Zr(t,n)||Zr(e,r)}function Px([e,t],[r,n]){return xf(t,n)||Zr(e,r)}function dm(e,t){let r=e[t];if(r){for(;r.source;)r=r.source;return r.source===null?null:r}}const Ax=new Map([["accent",U3],["category10",W3],["dark2",H3],["observable10",G3],["paired",X3],["pastel1",K3],["pastel2",Z3],["set1",Q3],["set2",j3],["set3",J3],["tableau10",e8]]);function m7(e){return e!=null&&Ax.has(`${e}`.toLowerCase())}const hm=new Map([...Ax,["brbg",On(Mw,kw)],["prgn",On(Cw,Dw)],["piyg",On(_w,Pw)],["puor",On(Aw,Ow)],["rdbu",On(Xh,mf)],["rdgy",On(Rw,Lw)],["rdylbu",On(Kh,yf)],["rdylgn",On($w,Nw)],["spectral",On(Iw,Bw)],["burd",vm(Xh,mf)],["buylrd",vm(Kh,yf)],["blues",_t(l2,f2)],["greens",_t(c2,d2)],["greys",_t(h2,v2)],["oranges",_t(b2,w2)],["purples",_t(g2,p2)],["reds",_t(m2,y2)],["turbo",Rn(C2)],["viridis",Rn(D2)],["magma",Rn(_2)],["inferno",Rn(P2)],["plasma",Rn(A2)],["cividis",Rn(x2)],["cubehelix",Rn(S2)],["warm",Rn(E2)],["cool",Rn(T2)],["bugn",_t(Fw,zw)],["bupu",_t(Yw,qw)],["gnbu",_t(Vw,Ww)],["orrd",_t(Uw,Hw)],["pubu",_t(Kw,Zw)],["pubugn",_t(Gw,Xw)],["purd",_t(Qw,jw)],["rdpu",_t(Jw,e2)],["ylgn",_t(n2,a2)],["ylgnbu",_t(t2,r2)],["ylorbr",_t(i2,o2)],["ylorrd",_t(s2,u2)],["rainbow",gm(M2)],["sinebow",gm(k2)]]);function _t(e,t){return({length:r})=>r===1?[e[3][1]]:r===2?[e[3][1],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>9?Gr(t,r):e[r])}function On(e,t){return({length:r})=>r===2?[e[3][0],e[3][2]]:(r=Math.max(3,Math.floor(r)),r>11?Gr(t,r):e[r])}function vm(e,t){return({length:r})=>r===2?[e[3][2],e[3][0]]:(r=Math.max(3,Math.floor(r)),r>11?Gr(n=>t(1-n),r):e[r].slice().reverse())}function Rn(e){return({length:t})=>Gr(e,Math.max(2,Math.floor(t)))}function gm(e){return({length:t})=>Gr(e,Math.floor(t)+1).slice(0,-1)}function Ox(e){const t=`${e}`.toLowerCase();if(!hm.has(t))throw new Error(`unknown ordinal scheme: ${t}`);return hm.get(t)}function gc(e,t){const r=Ox(e),n=typeof r=="function"?r({length:t}):r;return n.length!==t?n.slice(0,t):n}function y7(e,t="greys"){const r=new Set,[n,a]=gc(t,2);for(const i of e)if(i!=null)if(i===!0)r.add(a);else if(i===!1)r.add(n);else return;return[...r]}const pm=new Map([["brbg",kw],["prgn",Dw],["piyg",Pw],["puor",Ow],["rdbu",mf],["rdgy",Lw],["rdylbu",yf],["rdylgn",Nw],["spectral",Bw],["burd",e=>mf(1-e)],["buylrd",e=>yf(1-e)],["blues",f2],["greens",d2],["greys",v2],["purples",p2],["reds",y2],["oranges",w2],["turbo",C2],["viridis",D2],["magma",_2],["inferno",P2],["plasma",A2],["cividis",x2],["cubehelix",S2],["warm",E2],["cool",T2],["bugn",zw],["bupu",qw],["gnbu",Ww],["orrd",Hw],["pubugn",Xw],["pubu",Zw],["purd",jw],["rdpu",e2],["ylgnbu",r2],["ylgn",a2],["ylorbr",o2],["ylorrd",u2],["rainbow",M2],["sinebow",k2]]);function Eg(e){const t=`${e}`.toLowerCase();if(!pm.has(t))throw new Error(`unknown quantitative scheme: ${t}`);return pm.get(t)}const b7=new Set(["brbg","prgn","piyg","puor","rdbu","rdgy","rdylbu","rdylgn","spectral","burd","buylrd"]);function w7(e){return e!=null&&b7.has(`${e}`.toLowerCase())}const Rx=e=>t=>e(1-t),Nd=[0,1],mm=new Map([["number",Yt],["rgb",fi],["hsl",r6],["hcl",i6],["lab",n6]]);function Lx(e){const t=`${e}`.toLowerCase();if(!mm.has(t))throw new Error(`unknown interpolator: ${t}`);return mm.get(t)}function Du(e,t,r,{type:n,nice:a,clamp:i,zero:o,domain:s=Nx(e,r),unknown:u,round:l,scheme:f,interval:c,range:d=ht.get(e)===Mu?A7(r,s):ht.get(e)===ku?O7(r,s):ht.get(e)===Cu?Nd:void 0,interpolate:h=ht.get(e)===ua?f==null&&d!==void 0?fi:Eg(f!==void 0?f:n==="cyclical"?"rainbow":"turbo"):l?Wv:Yt,reverse:v}){if(c=Ro(c,n),(n==="cyclical"||n==="sequential")&&(n="linear"),typeof h!="function"&&(h=Lx(h)),v=!!v,d!==void 0){const p=(s=_a(s)).length,g=(d=_a(d)).length;if(p!==g){if(h.length===1)throw new Error("invalid piecewise interpolator");h=jf(h,d),d=void 0}}if(h.length===1?(v&&(h=Rx(h),v=!1),d===void 0&&(d=Float64Array.from(s,(p,g)=>g/(s.length-1)),d.length===2&&(d=Nd)),t.interpolate((d===Nd?Un:Mg)(h))):t.interpolate(h),o){const[p,g]=Cr(s);(p>0||g<0)&&(s=qs(s),(xo(s)||1)===Math.sign(p)?s[0]=0:s[s.length-1]=0)}return v&&(s=Kl(s)),t.domain(s).unknown(u),a&&(t.nice(x7(a,n)),s=t.domain()),d!==void 0&&t.range(d),i&&t.clamp(i),{type:n,domain:s,range:d,scale:t,interpolate:h,interval:c}}function x7(e,t){return e===!0?void 0:typeof e=="number"?e:R8(e,t)}function S7(e,t,r){return Du(e,rg(),t,r)}function E7(e,t,r){return $x(e,t,{...r,exponent:.5})}function $x(e,t,{exponent:r=1,...n}){return Du(e,aw().exponent(r),t,{...n,type:"pow"})}function T7(e,t,{base:r=10,domain:n=R7(t),...a}){return Du(e,ew().base(r),t,{...a,domain:n})}function M7(e,t,{constant:r=1,...n}){return Du(e,rw().constant(r),t,n)}function k7(e,t,{range:r,quantiles:n=r===void 0?5:(r=[...r]).length,n:a=n,scheme:i="rdylbu",domain:o=L7(t),unknown:s,interpolate:u,reverse:l}){return r===void 0&&(r=u!==void 0?Gr(u,a):ht.get(e)===ua?gc(i,a):void 0),o.length>0&&(o=iw(o,r===void 0?{length:a}:r).quantiles()),Tg(e,t,{domain:o,range:r,reverse:l,unknown:s})}function C7(e,t,{range:r,n=r===void 0?5:(r=[...r]).length,scheme:a="rdylbu",domain:i=Nx(e,t),unknown:o,interpolate:s,reverse:u}){const[l,f]=Cr(i);let c;return r===void 0?(c=Rs(l,f,n),c[0]<=l&&c.splice(0,1),c[c.length-1]>=f&&c.pop(),n=c.length+1,r=s!==void 0?Gr(s,n):ht.get(e)===ua?gc(a,n):void 0):(c=Gr(Yt(l,f),n+1).slice(1,-1),l instanceof Date&&(c=c.map(d=>new Date(d)))),xo(_a(i))<0&&c.reverse(),Tg(e,t,{domain:c,range:r,reverse:u,unknown:o})}function Tg(e,t,{domain:r=[0],unknown:n,scheme:a="rdylbu",interpolate:i,range:o=i!==void 0?Gr(i,r.length+1):ht.get(e)===ua?gc(a,r.length+1):void 0,reverse:s}){r=_a(r);const u=xo(r);if(!isNaN(u)&&!D7(r,u))throw new Error(`the ${e} scale has a non-monotonic domain`);return s&&(o=Kl(o)),{type:"threshold",scale:ow(u<0?Kl(r):r,o===void 0?[]:o).unknown(n),domain:r,range:o}}function D7(e,t){for(let r=1,n=e.length,a=e[0];r<n;++r){const i=lu(a,a=e[r]);if(i!==0&&i!==t)return!1}return!0}function _7(e){return{type:"identity",scale:H8(ht.get(e))?Qb():t=>t}}function Gs(e,t=G2){return e.length?[Qn(e,({value:r})=>r===void 0?r:Qn(r,t)),Hr(e,({value:r})=>r===void 0?r:Hr(r,t))]:[0,1]}function Nx(e,t){const r=ht.get(e);return(r===Mu||r===Cu||r===ku?P7:Gs)(t)}function P7(e){return[0,e.length?Hr(e,({value:t})=>t===void 0?t:Hr(t,G2)):1]}function A7(e,t){const r=e.find(({radius:o})=>o!==void 0);if(r!==void 0)return[0,r.radius];const n=fo(e,.5,({value:o})=>o===void 0?NaN:fo(o,.25,lg)),a=t.map(o=>3*Math.sqrt(o/n)),i=30/Hr(a);return i<1?a.map(o=>o*i):a}function O7(e,t){const r=gh(e,({value:i})=>i===void 0?NaN:gh(i,Math.abs)),n=t.map(i=>12*i/r),a=60/Hr(n);return a<1?n.map(i=>i*a):n}function R7(e){for(const{value:t}of e)if(t!==void 0)for(let r of t){if(r>0)return Gs(e,lg);if(r<0)return Gs(e,X2)}return[1,10]}function L7(e){const t=[];for(const{value:r}of e)if(r!==void 0)for(const n of r)t.push(n);return t}function Mg(e){return(t,r)=>n=>e(t+n*(r-t))}let nv=0,av;function $7(){const e=nv;return nv=0,av=void 0,e}function Sa(e){e!==av&&(av=e,console.warn(e),++nv)}function pc(e,t,r,n,{type:a,nice:i,clamp:o,domain:s=Gs(n),unknown:u,pivot:l=0,scheme:f,range:c,symmetric:d=!0,interpolate:h=ht.get(e)===ua?f==null&&c!==void 0?fi:Eg(f!==void 0?f:"rdbu"):Yt,reverse:v}){l=+l,s=_a(s);let[p,g]=s;if(s.length>2&&Sa(`Warning: the diverging ${e} scale domain contains extra elements.`),lu(p,g)<0&&([p,g]=[g,p],v=!v),p=Math.min(p,l),g=Math.max(g,l),typeof h!="function"&&(h=Lx(h)),c!==void 0&&(h=h.length===1?Mg(h)(...c):jf(h,c)),v&&(h=Rx(h)),d){const m=r.apply(l),y=m-r.apply(p),b=r.apply(g)-m;y<b?p=r.invert(m-b):y>b&&(g=r.invert(m+y))}return t.domain([p,l,g]).unknown(u).interpolator(h),o&&t.clamp(o),i&&t.nice(i),{type:a,domain:[p,g],pivot:l,interpolate:h,scale:t}}function N7(e,t,r){return pc(e,xw(),z7,t,r)}function I7(e,t,r){return Ix(e,t,{...r,exponent:.5})}function Ix(e,t,{exponent:r=1,...n}){return pc(e,Tw().exponent(r=+r),V7(r),t,{...n,type:"diverging-pow"})}function B7(e,t,{base:r=10,pivot:n=1,domain:a=Gs(t,n<0?X2:lg),...i}){return pc(e,Sw().base(r=+r),Y7,t,{domain:a,pivot:n,...i})}function F7(e,t,{constant:r=1,...n}){return pc(e,Ew().constant(r=+r),W7(r),t,n)}const z7={apply(e){return e},invert(e){return e}},Y7={apply:Math.log,invert:Math.exp},q7={apply(e){return Math.sign(e)*Math.sqrt(Math.abs(e))},invert(e){return Math.sign(e)*(e*e)}};function V7(e){return e===.5?q7:{apply(t){return Math.sign(t)*Math.pow(Math.abs(t),e)},invert(t){return Math.sign(t)*Math.pow(Math.abs(t),1/e)}}}function W7(e){return{apply(t){return Math.sign(t)*Math.log1p(Math.abs(t/e))},invert(t){return Math.sign(t)*Math.expm1(Math.abs(t))*e}}}function Bx(e,t,r,n){return Du(e,t,r,n)}function U7(e,t,r){return Bx(e,q3(),t,r)}function H7(e,t,r){return Bx(e,V3(),t,r)}const _u=Symbol("ordinal");function Fx(e,t,r,{type:n,interval:a,domain:i,range:o,reverse:s,hint:u}){return a=Ro(a,n),i===void 0&&(i=Yx(r,a,e)),(n==="categorical"||n===_u)&&(n="ordinal"),s&&(i=Kl(i)),i=t.domain(i).domain(),o!==void 0&&(typeof o=="function"&&(o=o(i)),t.range(o)),{type:n,domain:i,range:o,scale:t,hint:u,interval:a}}function G7(e,t,{type:r,interval:n,domain:a,range:i,scheme:o,unknown:s,...u}){n=Ro(n,r),a===void 0&&(a=Yx(t,n,e));let l;if(ht.get(e)===vc)l=Z7(t),i=i===void 0?Q7(l):mt(i,wg);else if(ht.get(e)===ua&&(i===void 0&&(r==="ordinal"||r===_u)&&(i=y7(a,o),i!==void 0&&(o=void 0)),o===void 0&&i===void 0&&(o=r==="ordinal"?"turbo":"observable10"),o!==void 0))if(i!==void 0){const f=Eg(o),c=i[0],d=i[1]-i[0];i=({length:h})=>Gr(v=>f(c+d*v),h)}else i=Ox(o);if(s===Uh)throw new Error(`implicit unknown on ${e} scale is not supported`);return Fx(e,tg().unknown(s),t,{...u,type:r,domain:a,range:i,hint:l})}function X7(e,t,{align:r=.5,padding:n=.5,...a}){return zx(E4().align(r).padding(n),t,a,e)}function K7(e,t,{align:r=.5,padding:n=.1,paddingInner:a=n,paddingOuter:i=e==="fx"||e==="fy"?0:n,...o}){return zx(ac().align(r).paddingInner(a).paddingOuter(i),t,o,e)}function zx(e,t,r,n){let{round:a}=r;return a!==void 0&&e.round(a=!!a),e=Fx(n,e,t,r),e.round=a,e}function Yx(e,t,r){const n=new Hf;for(const{value:a,domain:i}of e){if(i!==void 0)return i();if(a!==void 0)for(const o of a)n.add(o)}if(t!==void 0){const[a,i]=Cr(n).map(t.floor,t);return t.range(a,t.offset(i))}if(n.size>1e4&&ht.get(r)===hn)throw new Error(`implicit ordinal domain of ${r} scale has more than 10,000 values`);return Ul(n,Zr)}function ym(e,t){let r;for(const{hint:n}of e){const a=n==null?void 0:n[t];if(a!==void 0){if(r===void 0)r=a;else if(r!==a)return}}return r}function Z7(e){return{fill:ym(e,"fill"),stroke:ym(e,"stroke")}}function Q7(e){return ir(e.fill)?c8:f8}function iv(e,{label:t,inset:r=0,insetTop:n=r,insetRight:a=r,insetBottom:i=r,insetLeft:o=r,round:s,nice:u,clamp:l,zero:f,align:c,padding:d,projection:h,facet:{label:v=t}={},...p}={}){const g={};for(const[m,y]of e){const b=p[m],w=r9(m,y,{round:ht.get(m)===hn?s:void 0,nice:u,clamp:l,zero:f,align:c,padding:d,projection:h,...b});if(w){let{label:E=m==="fx"||m==="fy"?v:t,percent:S,transform:x,inset:M,insetTop:T=M!==void 0?M:m==="y"?n:0,insetRight:C=M!==void 0?M:m==="x"?a:0,insetBottom:k=M!==void 0?M:m==="y"?i:0,insetLeft:_=M!==void 0?M:m==="x"?o:0}=b||{};if(x==null)x=void 0;else if(typeof x!="function")throw new Error("invalid scale transform; not a function");w.percent=!!S,w.label=E===void 0?J7(y,w):E,w.transform=x,m==="x"||m==="fx"?(w.insetLeft=+_,w.insetRight=+C):(m==="y"||m==="fy")&&(w.insetTop=+T,w.insetBottom=+k),g[m]=w}}return g}function bm(e){const t={},r={scales:t};for(const[n,a]of Object.entries(e)){const{scale:i,type:o,interval:s,label:u}=a;t[n]=s9(a),r[n]=i,i.type=o,s!=null&&(i.interval=s),u!=null&&(i.label=u)}return r}function j7(e,t){const{x:r,y:n,fx:a,fy:i}=e,o=a||i?kg(t):t;a&&wm(a,o),i&&xm(i,o);const s=a||i?qx(e,t):t;r&&wm(r,s),n&&xm(n,s)}function J7(e=[],t){let r;for(const{label:n}of e)if(n!==void 0){if(r===void 0)r=n;else if(r!==n)return}if(r!==void 0)return!Di(t)&&t.percent&&(r=`${r} (%)`),{inferred:!0,toString:()=>r}}function e9(e){return Math.sign(xo(e.domain()))*Math.sign(xo(e.range()))}function kg(e){const{marginTop:t,marginRight:r,marginBottom:n,marginLeft:a,width:i,height:o,facet:{marginTop:s,marginRight:u,marginBottom:l,marginLeft:f}}=e;return{marginTop:Math.max(t,s),marginRight:Math.max(r,u),marginBottom:Math.max(n,l),marginLeft:Math.max(a,f),width:i,height:o}}function qx({fx:e,fy:t},r){const{marginTop:n,marginRight:a,marginBottom:i,marginLeft:o,width:s,height:u}=kg(r);return{marginTop:n,marginRight:a,marginBottom:i,marginLeft:o,width:e?e.scale.bandwidth()+o+a:s,height:t?t.scale.bandwidth()+n+i:u,facet:{width:s,height:u}}}function wm(e,t){if(e.range===void 0){const{insetLeft:r,insetRight:n}=e,{width:a,marginLeft:i=0,marginRight:o=0}=t,s=i+r,u=a-o-n;e.range=[s,Math.max(s,u)],Di(e)||(e.range=Wx(e)),e.scale.range(e.range)}Vx(e)}function xm(e,t){if(e.range===void 0){const{insetTop:r,insetBottom:n}=e,{height:a,marginTop:i=0,marginBottom:o=0}=t,s=i+r,u=a-o-n;e.range=[Math.max(s,u),s],Di(e)?e.range.reverse():e.range=Wx(e),e.scale.range(e.range)}Vx(e)}function Vx(e){e.round===void 0&&a9(e)&&t9(e)<=30&&e.scale.round(!0)}function t9({scale:e}){const t=e.domain().length,[r,n]=e.range(),a=e.paddingInner?e.paddingInner():1,i=e.paddingOuter?e.paddingOuter():e.padding(),o=t-a,s=Math.abs(n-r)/Math.max(1,o+i*2);return(s-Math.floor(s))*o}function Wx(e){const t=e.scale.domain().length+Ux(e);if(!(t>2))return e.range;const[r,n]=e.range;return Array.from({length:t},(a,i)=>r+i/(t-1)*(n-r))}function r9(e,t=[],r={}){const n=n9(e,t,r);if(r.type===void 0&&r.domain===void 0&&r.range===void 0&&r.interval==null&&e!=="fx"&&e!=="fy"&&Di({type:n})){const a=t.map(({value:i})=>i).filter(i=>i!==void 0);a.some(ur)?Sa(`Warning: some data associated with the ${e} scale are dates. Dates are typically associated with a "utc" or "time" scale rather than a "${Ni(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., d3.utcDay), or you can suppress this warning by setting the type of the ${e} scale to "${Ni(n)}".`):a.some(N8)?Sa(`Warning: some data associated with the ${e} scale are strings that appear to be dates (e.g., YYYY-MM-DD). If these strings represent dates, you should parse them to Date objects. Dates are typically associated with a "utc" or "time" scale rather than a "${Ni(n)}" scale. If you are using a bar mark, you probably want a rect mark with the interval option instead; if you are using a group transform, you probably want a bin transform instead. If you want to treat this data as ordinal, you can suppress this warning by setting the type of the ${e} scale to "${Ni(n)}".`):a.some(I8)&&Sa(`Warning: some data associated with the ${e} scale are strings that appear to be numbers. If these strings represent numbers, you should parse or coerce them to numbers. Numbers are typically associated with a "linear" scale rather than a "${Ni(n)}" scale. If you want to treat this data as ordinal, you can specify the interval of the ${e} scale (e.g., 1 for integers), or you can suppress this warning by setting the type of the ${e} scale to "${Ni(n)}".`)}switch(r.type=n,n){case"diverging":case"diverging-sqrt":case"diverging-pow":case"diverging-log":case"diverging-symlog":case"cyclical":case"sequential":case"linear":case"sqrt":case"threshold":case"quantile":case"pow":case"log":case"symlog":r=al(t,r,Sf);break;case"identity":switch(ht.get(e)){case hn:r=al(t,r,Sf);break;case vc:r=al(t,r,i9);break}break;case"utc":case"time":r=al(t,r,ox);break}switch(n){case"diverging":return N7(e,t,r);case"diverging-sqrt":return I7(e,t,r);case"diverging-pow":return Ix(e,t,r);case"diverging-log":return B7(e,t,r);case"diverging-symlog":return F7(e,t,r);case"categorical":case"ordinal":case _u:return G7(e,t,r);case"cyclical":case"sequential":case"linear":return S7(e,t,r);case"sqrt":return E7(e,t,r);case"threshold":return Tg(e,t,r);case"quantile":return k7(e,t,r);case"quantize":return C7(e,t,r);case"pow":return $x(e,t,r);case"log":return T7(e,t,r);case"symlog":return M7(e,t,r);case"utc":return H7(e,t,r);case"time":return U7(e,t,r);case"point":return X7(e,t,r);case"band":return K7(e,t,r);case"identity":return _7(e);case void 0:return;default:throw new Error(`unknown scale type: ${n}`)}}function Ni(e){return typeof e=="symbol"?e.description:e}function Sm(e){return typeof e=="string"?`${e}`.toLowerCase():e}const Em={toString:()=>"projection"};function n9(e,t,{type:r,domain:n,range:a,scheme:i,pivot:o,projection:s}){if(r=Sm(r),e==="fx"||e==="fy")return"band";(e==="x"||e==="y")&&s!=null&&(r=Em);for(const l of t){const f=Sm(l.type);if(f!==void 0){if(r===void 0)r=f;else if(r!==f)throw new Error(`scale incompatible with channel: ${r} !== ${f}`)}}if(r===Em)return;if(r!==void 0)return r;if(n===void 0&&!t.some(({value:l})=>l!==void 0))return;const u=ht.get(e);if(u===Mu)return"sqrt";if(u===Cu||u===ku)return"linear";if(u===vc)return"ordinal";if((n||a||[]).length>2)return Id(u);if(n!==void 0){if(sm(n))return Id(u);if(ur(n))return"utc"}else{const l=t.map(({value:f})=>f).filter(f=>f!==void 0);if(l.some(sm))return Id(u);if(l.some(ur))return"utc"}if(u===ua){if(o!=null||w7(i))return"diverging";if(m7(i))return"categorical"}return"linear"}function Id(e){switch(e){case hn:return"point";case ua:return _u;default:return"ordinal"}}function Di({type:e}){return e==="ordinal"||e==="point"||e==="band"||e===_u}function Ux({type:e}){return e==="threshold"}function a9({type:e}){return e==="point"||e==="band"}function Eo(e){if(e===void 0)return!0;const t=e.domain(),r=e(t[0]);for(let n=1,a=t.length;n<a;++n)if(e(t[n])-r)return!1;return!0}function al(e,{domain:t,...r},n){var a;for(const i of e)i.value!==void 0&&(t===void 0&&(t=(a=i.value)==null?void 0:a.domain),i.value=n(i.value));return{domain:t===void 0?t:n(t),...r}}function i9(e){return mt(e,wg)}function o9(e){return t=>{if(!ht.has(t=`${t}`))throw new Error(`unknown scale: ${t}`);return e[t]}}function s9({scale:e,type:t,domain:r,range:n,interpolate:a,interval:i,transform:o,percent:s,pivot:u}){if(t==="identity")return{type:"identity",apply:f=>f,invert:f=>f};const l=e.unknown?e.unknown():void 0;return{type:t,domain:qs(r),...n!==void 0&&{range:qs(n)},...o!==void 0&&{transform:o},...s&&{percent:s},...l!==void 0&&{unknown:l},...i!==void 0&&{interval:i},...a!==void 0&&{interpolate:a},...e.clamp&&{clamp:e.clamp()},...u!==void 0&&{pivot:u,symmetric:!1},...e.base&&{base:e.base()},...e.exponent&&{exponent:e.exponent()},...e.constant&&{constant:e.constant()},...e.align&&{align:e.align(),round:e.round()},...e.padding&&(e.paddingInner?{paddingInner:e.paddingInner(),paddingOuter:e.paddingOuter()}:{padding:e.padding()}),...e.bandwidth&&{bandwidth:e.bandwidth(),step:e.step()},apply:f=>e(f),...e.invert&&{invert:f=>e.invert(f)}}}function u9(e,t){const{fx:r,fy:n}=iv(e,t),a=r==null?void 0:r.scale.domain(),i=n==null?void 0:n.scale.domain();return a&&i?mM(a,i).map(([o,s],u)=>({x:o,y:s,i:u})):a?a.map((o,s)=>({x:o,i:s})):i?i.map((o,s)=>({y:o,i:s})):void 0}function l9(e,{x:t,y:r}){return t&&(t=ov(t)),r&&(r=ov(r)),e.filter(t&&r?n=>t.has(n.x)&&r.has(n.y):t?n=>t.has(n.x):n=>r.has(n.y)).sort(t&&r?(n,a)=>t.get(n.x)-t.get(a.x)||r.get(n.y)-r.get(a.y):t?(n,a)=>t.get(n.x)-t.get(a.x):(n,a)=>r.get(n.y)-r.get(a.y))}function Cg(e,{fx:t,fy:r}){const n=sa(e),a=t==null?void 0:t.value,i=r==null?void 0:r.value;return t&&r?ji(n,o=>(o.fx=a[o[0]],o.fy=i[o[0]],o),o=>a[o],o=>i[o]):t?ji(n,o=>(o.fx=a[o[0]],o),o=>a[o]):ji(n,o=>(o.fy=i[o[0]],o),o=>i[o])}function f9(e,t,{marginTop:r,marginLeft:n}){return e&&t?({x:a,y:i})=>`translate(${e(a)-n},${t(i)-r})`:e?({x:a})=>`translate(${e(a)-n},0)`:({y:a})=>`translate(0,${t(a)-r})`}function c9(e){const t=[],r=new Uint32Array(ka(e,n=>n.length));for(const n of e){let a=0;for(const i of e)n!==i&&(r.set(i,a),a+=i.length);t.push(r.slice(0,a))}return t}const d9=new Map([["top",Bd],["right",Yd],["bottom",Fd],["left",zd],["top-left",il(Bd,zd)],["top-right",il(Bd,Yd)],["bottom-left",il(Fd,zd)],["bottom-right",il(Fd,Yd)],["top-empty",g9],["right-empty",y9],["bottom-empty",p9],["left-empty",m9],["empty",b9]]);function h9(e){if(e==null)return null;const t=d9.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid facet anchor: ${e}`)}const Tm=new WeakMap;function ov(e){let t=Tm.get(e);return t||Tm.set(e,t=new si(mt(e,(r,n)=>[r,n]))),t}function za(e,t){return ov(e).get(t)}function v9(e,t,r){return t=Hn(t),r=Hn(r),e.find(n=>Object.is(Hn(n.x),t)&&Object.is(Hn(n.y),r))}function mc(e,t,r){var n;return(n=v9(e,t,r))==null?void 0:n.empty}function Bd(e,{y:t},{y:r}){return t?za(t,r)===0:!0}function Fd(e,{y:t},{y:r}){return t?za(t,r)===t.length-1:!0}function zd(e,{x:t},{x:r}){return t?za(t,r)===0:!0}function Yd(e,{x:t},{x:r}){return t?za(t,r)===t.length-1:!0}function g9(e,{y:t},{x:r,y:n,empty:a}){if(a)return!1;if(!t)return;const i=za(t,n);if(i>0)return mc(e,r,t[i-1])}function p9(e,{y:t},{x:r,y:n,empty:a}){if(a)return!1;if(!t)return;const i=za(t,n);if(i<t.length-1)return mc(e,r,t[i+1])}function m9(e,{x:t},{x:r,y:n,empty:a}){if(a)return!1;if(!t)return;const i=za(t,r);if(i>0)return mc(e,t[i-1],n)}function y9(e,{x:t},{x:r,y:n,empty:a}){if(a)return!1;if(!t)return;const i=za(t,r);if(i<t.length-1)return mc(e,t[i+1],n)}function b9(e,t,{empty:r}){return r}function il(e,t){return function(){return e.apply(null,arguments)&&t.apply(null,arguments)}}function qd(e,{channels:{fx:t,fy:r},groups:n}){return t&&r?e.map(({x:a,y:i})=>{var o;return((o=n.get(a))==null?void 0:o.get(i))??[]}):t?e.map(({x:a})=>n.get(a)??[]):e.map(({y:a})=>n.get(a)??[])}const Hx=Math.PI,Ln=2*Hx,Vd=.618;function w9({projection:e,inset:t=0,insetTop:r=t,insetRight:n=t,insetBottom:a=t,insetLeft:i=t}={},o){if(e==null)return;if(typeof e.stream=="function")return e;let s,u,l="frame";if(Ba(e)){let E;if({type:e,domain:u,inset:E,insetTop:r=E!==void 0?E:r,insetRight:n=E!==void 0?E:n,insetBottom:a=E!==void 0?E:a,insetLeft:i=E!==void 0?E:i,clip:l=l,...s}=e,e==null)return}typeof e!="function"&&({type:e}=sv(e));const{width:f,height:c,marginLeft:d,marginRight:h,marginTop:v,marginBottom:p}=o,g=f-d-h-i-n,m=c-v-p-r-a;if(e=e==null?void 0:e({width:g,height:m,clip:l,...s}),e==null)return;l=x9(l,d,v,f-h,c-p);let y=d+i,b=v+r,w;if(u!=null){const[[E,S],[x,M]]=Qv(e).bounds(u),T=Math.min(g/(x-E),m/(M-S));T>0?(y-=(T*(E+x)-g)/2,b-=(T*(S+M)-m)/2,w=Vh({point(C,k){this.stream.point(C*T+y,k*T+b)}})):Sa("Warning: the projection could not be fit to the specified domain; using the default scale.")}return w??(w=y===0&&b===0?Gx():Vh({point(E,S){this.stream.point(E+y,S+b)}})),{stream:E=>e.stream(w.stream(l(E)))}}function sv(e){switch(`${e}`.toLowerCase()){case"albers-usa":return Br(u4,.7463,.4673);case"albers":return ol(Fb,.7463,.4673);case"azimuthal-equal-area":return Br(l4,4,4);case"azimuthal-equidistant":return Br(f4,Ln,Ln);case"conic-conformal":return ol(h4,Ln,Ln);case"conic-equal-area":return ol(hf,6.1702,2.9781);case"conic-equidistant":return ol(p4,7.312,3.6282);case"equal-earth":return Br(y4,5.4133,2.6347);case"equirectangular":return Br(v4,Ln,Hx);case"gnomonic":return Br(b4,3.4641,3.4641);case"identity":return{type:Gx};case"reflect-y":return{type:S9};case"mercator":return Br(c4,Ln,Ln);case"orthographic":return Br(w4,2,2);case"stereographic":return Br(x4,2,2);case"transverse-mercator":return Br(S4,Ln,Ln);default:throw new Error(`unknown projection type: ${e}`)}}function x9(e,t,r,n,a){if(e===!1||e==null||typeof e=="number")return i=>i;switch(e===!0&&(e="frame"),`${e}`.toLowerCase()){case"frame":return Eb(t,r,n,a);default:throw new Error(`unknown projection clip type: ${e}`)}}function Br(e,t,r){return{type:({width:n,height:a,rotate:i,precision:o=.15,clip:s})=>{var l,f,c;const u=e();return o!=null&&((l=u.precision)==null||l.call(u,o)),i!=null&&((f=u.rotate)==null||f.call(u,i)),typeof s=="number"&&((c=u.clipAngle)==null||c.call(u,s)),n!=null&&(u.scale(Math.min(n/t,a/r)),u.translate([n/2,a/2])),u},aspectRatio:r/t}}function ol(e,t,r){const{type:n,aspectRatio:a}=Br(e,t,r);return{type:i=>{const{parallels:o,domain:s,width:u,height:l}=i,f=n(i);return o!=null&&(f.parallels(o),s===void 0&&u!=null&&f.fitSize([u,l],{type:"Sphere"})),f},aspectRatio:a}}const Gx=Un({stream:e=>e}),S9=Un(Vh({point(e,t){this.stream.point(e,-t)}}));function E9(e,t,r,n){const a=r[e],i=r[t],o=a.length,s=r[e]=new Float64Array(o).fill(NaN),u=r[t]=new Float64Array(o).fill(NaN);let l;const f=n.stream({point(c,d){s[l]=c,u[l]=d}});for(l=0;l<o;++l)f.point(a[l],i[l])}function T9({projection:e}={}){return e==null?!1:typeof e.stream=="function"?!0:(Ba(e)&&(e=e.type),e!=null)}function M9(e){if(typeof(e==null?void 0:e.stream)=="function")return Vd;if(Ba(e)){let t,r;if({domain:t,type:e,...r}=e,t!=null&&e!=null){const n=typeof e=="string"?sv(e).type:e,[[a,i],[o,s]]=Qv(n({...r,width:100,height:100})).bounds(t),u=(s-i)/(o-a);return u&&isFinite(u)?u<.2?.2:u>5?5:u:Vd}}if(e!=null){if(typeof e!="function"){const{aspectRatio:t}=sv(e);if(t)return t}return Vd}}function k9(e){const t=[],r=[],n={scale:"x",value:t},a={scale:"y",value:r},i={point(o,s){t.push(o),r.push(s)},lineStart(){},lineEnd(){},polygonStart(){},polygonEnd(){},sphere(){}};for(const o of e.value)Za(o,i);return[n,a]}function Dg(e={}){const{document:t=typeof window<"u"?window.document:void 0,clip:r}=e;return{document:t,clip:gx(r)}}function tr(e,{document:t}){return Ji(Kf(e).call(t.documentElement))}const uv=Symbol("unset");function _g(e){return(e.length===1?C9:D9)(e)}function C9(e){let t,r=uv;return n=>(Object.is(r,n)||(r=n,t=e(n)),t)}function D9(e){let t,r;return(...n)=>(((r==null?void 0:r.length)!==n.length||r.some((a,i)=>!Object.is(a,n[i])))&&(r=n,t=e(...n)),t)}const _9=_g(e=>new Intl.NumberFormat(e));_g((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{month:t}}));_g((e,t)=>new Intl.DateTimeFormat(e,{timeZone:"UTC",...t&&{weekday:t}}));function P9(e="en-US"){const t=_9(e);return r=>r!=null&&!isNaN(r)?t.format(r):void 0}function A9(e){return d8(e,"Invalid Date")}function O9(e="en-US"){const t=P9(e);return r=>(r instanceof Date?A9:typeof r=="number"?t:er)(r)}const To=O9(),vr=(typeof window<"u"?window.devicePixelRatio>1:typeof it>"u")?0:.5;let R9=0;function L9(){return`plot-clip-${++R9}`}function $9(e,{title:t,href:r,ariaLabel:n,ariaDescription:a,ariaHidden:i,target:o,fill:s,fillOpacity:u,stroke:l,strokeWidth:f,strokeOpacity:c,strokeLinejoin:d,strokeLinecap:h,strokeMiterlimit:v,strokeDasharray:p,strokeDashoffset:g,opacity:m,mixBlendMode:y,imageFilter:b,paintOrder:w,pointerEvents:E,shapeRendering:S,channels:x},{ariaLabel:M,fill:T="currentColor",fillOpacity:C,stroke:k="none",strokeOpacity:_,strokeWidth:A,strokeLinecap:D,strokeLinejoin:P,strokeMiterlimit:R,paintOrder:L}){T===null&&(s=null,u=null),k===null&&(l=null,c=null),ir(T)?!ir(k)&&(!ir(s)||x!=null&&x.fill)&&(k="none"):ir(k)&&(!ir(l)||x!=null&&x.stroke)&&(T="none");const[N,z]=ta(s,T),[F,I]=hr(u,C),[B,V]=ta(l,k),[K,j]=hr(c,_),[Q,X]=hr(m);Us(V)||(f===void 0&&(f=A),h===void 0&&(h=D),d===void 0&&(d=P),v===void 0&&!Y8(d)&&(v=R),!Us(z)&&w===void 0&&(w=L));const[W,$]=hr(f);return T!==null&&(e.fill=Lt(z,"currentColor"),e.fillOpacity=rs(I,1)),k!==null&&(e.stroke=Lt(V,"none"),e.strokeWidth=rs($,1),e.strokeOpacity=rs(j,1),e.strokeLinejoin=Lt(d,"miter"),e.strokeLinecap=Lt(h,"butt"),e.strokeMiterlimit=rs(v,4),e.strokeDasharray=Lt(p,"none"),e.strokeDashoffset=Lt(g,"0")),e.target=er(o),e.ariaLabel=er(M),e.ariaDescription=er(a),e.ariaHidden=er(i),e.opacity=rs(X,1),e.mixBlendMode=Lt(y,"normal"),e.imageFilter=Lt(b,"none"),e.paintOrder=Lt(w,"normal"),e.pointerEvents=Lt(E,"auto"),e.shapeRendering=Lt(S,"auto"),{title:{value:t,optional:!0,filter:null},href:{value:r,optional:!0,filter:null},ariaLabel:{value:n,optional:!0,filter:null},fill:{value:N,scale:"auto",optional:!0},fillOpacity:{value:F,scale:"auto",optional:!0},stroke:{value:B,scale:"auto",optional:!0},strokeOpacity:{value:K,scale:"auto",optional:!0},strokeWidth:{value:W,optional:!0},opacity:{value:Q,scale:"auto",optional:!0}}}function N9(e,t){t&&e.filter(r=>ug(t[r])).append("title").call(B9,t)}function I9(e,t){t&&e.filter(([r])=>ug(t[r])).append("title").call(F9,t)}function B9(e,t){t&&e.text(r=>To(t[r]))}function F9(e,t){t&&e.text(([r])=>To(t[r]))}function gi(e,{target:t,tip:r},{ariaLabel:n,title:a,fill:i,fillOpacity:o,stroke:s,strokeOpacity:u,strokeWidth:l,opacity:f,href:c}){n&&Ce(e,"aria-label",d=>n[d]),i&&Ce(e,"fill",d=>i[d]),o&&Ce(e,"fill-opacity",d=>o[d]),s&&Ce(e,"stroke",d=>s[d]),u&&Ce(e,"stroke-opacity",d=>u[d]),l&&Ce(e,"stroke-width",d=>l[d]),f&&Ce(e,"opacity",d=>f[d]),c&&Kx(e,d=>c[d],t),r||N9(e,a)}function oV(e,{target:t,tip:r},{ariaLabel:n,title:a,fill:i,fillOpacity:o,stroke:s,strokeOpacity:u,strokeWidth:l,opacity:f,href:c}){n&&Ce(e,"aria-label",([d])=>n[d]),i&&Ce(e,"fill",([d])=>i[d]),o&&Ce(e,"fill-opacity",([d])=>o[d]),s&&Ce(e,"stroke",([d])=>s[d]),u&&Ce(e,"stroke-opacity",([d])=>u[d]),l&&Ce(e,"stroke-width",([d])=>l[d]),f&&Ce(e,"opacity",([d])=>f[d]),c&&Kx(e,([d])=>c[d],t),r||I9(e,a)}function z9({ariaLabel:e,title:t,fill:r,fillOpacity:n,stroke:a,strokeOpacity:i,strokeWidth:o,opacity:s,href:u},{tip:l}){return[e,l?void 0:t,r,n,a,i,o,s,u].filter(f=>f!==void 0)}function Y9(e,t,r){const n=Gf(e,a=>t[a]);return r===void 0&&n.size>1+e.length>>1&&Sa("Warning: the implicit z channel has high cardinality. This may occur when the fill or stroke channel is associated with quantitative data rather than ordinal or categorical data. You can suppress this warning by setting the z option explicitly; if this data represents a single series, set z to null."),n.values()}function*sV(e,t,r,n){const{z:a}=r,{z:i}=n,o=z9(n,r),s=[...t,...o];for(const u of i?Y9(e,i,a):[e]){let l,f;e:for(const c of u){for(const d of s)if(!Da(d[c])){f&&f.push(-1);continue e}if(l===void 0){f&&(yield f),l=o.map(d=>Hn(d[c])),f=[c];continue}f.push(c);for(let d=0;d<o.length;++d)if(Hn(o[d][c])!==l[d]){yield f,l=o.map(v=>Hn(v[c])),f=[c];continue e}}f&&(yield f)}}function q9(e,t,r,n){let a;const{clip:i=n.clip}=t;switch(i){case"frame":{e=tr("svg:g",n).each(function(){this.appendChild(e.node()),e.node=()=>this}),a=V9(n,r);break}case"sphere":{a=W9(n);break}}Ce(e,"aria-label",t.ariaLabel),Ce(e,"aria-description",t.ariaDescription),Ce(e,"aria-hidden",t.ariaHidden),Ce(e,"clip-path",a)}function Xx(e){const t=new WeakMap;return(r,n)=>{let a=t.get(r);if(!a){const i=L9();Ji(r.ownerSVGElement).append("clipPath").attr("id",i).call(e,r,n),t.set(r,a=`url(#${i})`)}return a}}const V9=Xx((e,t,r)=>{const{width:n,height:a,marginLeft:i,marginRight:o,marginTop:s,marginBottom:u}=r;e.append("rect").attr("x",i).attr("y",s).attr("width",n-o-i).attr("height",a-s-u)}),W9=Xx((e,t)=>{const{projection:r}=t;if(!r)throw new Error('the "sphere" clip option requires a projection');e.append("path").attr("d",Qv(r)({type:"Sphere"}))});function _i(e,t,r,n){q9(e,t,r,n),Ce(e,"class",t.className),Ce(e,"fill",t.fill),Ce(e,"fill-opacity",t.fillOpacity),Ce(e,"stroke",t.stroke),Ce(e,"stroke-width",t.strokeWidth),Ce(e,"stroke-opacity",t.strokeOpacity),Ce(e,"stroke-linejoin",t.strokeLinejoin),Ce(e,"stroke-linecap",t.strokeLinecap),Ce(e,"stroke-miterlimit",t.strokeMiterlimit),Ce(e,"stroke-dasharray",t.strokeDasharray),Ce(e,"stroke-dashoffset",t.strokeDashoffset),Ce(e,"shape-rendering",t.shapeRendering),Ce(e,"filter",t.imageFilter),Ce(e,"paint-order",t.paintOrder);const{pointerEvents:a=n.pointerSticky===!1?"none":void 0}=t;Ce(e,"pointer-events",a)}function Pa(e,t){U9(e,"mix-blend-mode",t.mixBlendMode),Ce(e,"opacity",t.opacity)}function Kx(e,t,r){e.each(function(n){const a=t(n);if(a!=null){const i=this.ownerDocument.createElementNS(co.svg,"a");i.setAttribute("fill","inherit"),i.setAttributeNS(co.xlink,"href",a),r!=null&&i.setAttribute("target",r),this.parentNode.insertBefore(i,this).appendChild(this)}})}function Ce(e,t,r){r!=null&&e.attr(t,r)}function U9(e,t,r){r!=null&&e.style(t,r)}function Pi(e,t,{x:r,y:n},a=vr,i=vr){a+=t.dx,i+=t.dy,r!=null&&r.bandwidth&&(a+=r.bandwidth()/2),n!=null&&n.bandwidth&&(i+=n.bandwidth()/2),(a||i)&&e.attr("transform",`translate(${a},${i})`)}function Lt(e,t){if((e=er(e))!==t)return e}function rs(e,t){if((e=Vt(e))!==t)return e}const H9=/^-?([_a-z]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])([_a-z0-9-]|[\240-\377]|\\[0-9a-f]{1,6}(\r\n|[ \t\r\n\f])?|\\[^\r\n\f0-9a-f])*$/i;function yc(e){if(e===void 0)return"plot-d6a7b5";if(e=`${e}`,!H9.test(e))throw new Error(`invalid class name: ${e}`);return e}function Pg(e,t){if(typeof t=="string")e.property("style",t);else if(t!=null)for(const r of e)Object.assign(r.style,t)}function bc({frameAnchor:e},{width:t,height:r,marginTop:n,marginRight:a,marginBottom:i,marginLeft:o}){return[/left$/.test(e)?o:/right$/.test(e)?t-a:(o+t-a)/2,/^top/.test(e)?n:/^bottom/.test(e)?r-i:(n+r-i)/2]}class Tn{constructor(t,r={},n={},a){const{facet:i="auto",facetAnchor:o,fx:s,fy:u,sort:l,dx:f=0,dy:c=0,margin:d=0,marginTop:h=d,marginRight:v=d,marginBottom:p=d,marginLeft:g=d,className:m,clip:y=a==null?void 0:a.clip,channels:b,tip:w,render:E}=n;if(this.data=t,this.sort=Vs(l)?l:null,this.initializer=Tf(n).initializer,this.transform=this.initializer?n.transform:xg(n).transform,i===null||i===!1?this.facet=null:(this.facet=en(i===!0?"include":i,"facet",["auto","include","exclude","super"]),this.fx=t===Al&&typeof s=="string"?[s]:s,this.fy=t===Al&&typeof u=="string"?[u]:u),this.facetAnchor=h9(o),r=vx(r),b!==void 0&&(r={...G9(b),...r}),a!==void 0&&(r={...$9(this,n,a),...r}),this.channels=Object.fromEntries(Object.entries(r).map(([S,x])=>{if(pg(x.value)){const{value:M,label:T=x.label,scale:C=x.scale}=x.value;x={...x,label:T,scale:C,value:M}}if(t===Al&&typeof x.value=="string"){const{value:M}=x;x={...x,value:[M]}}return[S,x]}).filter(([S,{value:x,optional:M}])=>{if(x!=null)return!0;if(M)return!1;throw new Error(`missing channel value: ${S}`)})),this.dx=+f,this.dy=+c,this.marginTop=+h,this.marginRight=+v,this.marginBottom=+p,this.marginLeft=+g,this.clip=gx(y),this.tip=X9(w),this.className=m?yc(m):null,this.facet==="super"){if(s||u)throw new Error("super-faceting cannot use fx or fy");for(const S in this.channels){const{scale:x}=r[S];if(!(x!=="x"&&x!=="y"))throw new Error("super-faceting cannot use x or y")}}E!=null&&(this.render=Qx(E,this.render))}initialize(t,r,n){let a=So(this.data);t===void 0&&a!=null&&(t=[sa(a)]);const i=t;this.transform!=null&&({facets:t,data:a}=this.transform(a,t,n),a=So(a)),t!==void 0&&(t.original=i);const o=c7(this.channels,a);return this.sort!=null&&h7(a,t,o,r,this.sort),{data:a,facets:t,channels:o}}filter(t,r,n){for(const a in r){const{filter:i=Da}=r[a];if(i!==null){const o=n[a];t=t.filter(s=>i(o[s]))}}return t}project(t,r,n){for(const a in t)if(t[a].scale==="x"&&/^x|x$/.test(a)){const i=a.replace(/^x|x$/,"y");i in t&&t[i].scale==="y"&&E9(a,i,r,n.projection)}}scale(t,r,n){const a=d7(t,r);return n.projection&&this.project(t,a,n),a}}function Zx(...e){return e.plot=Tn.prototype.plot,e}function Qx(e,t){if(e==null)return t===null?void 0:t;if(t==null)return e===null?void 0:e;if(typeof e!="function")throw new TypeError(`invalid render transform: ${e}`);if(typeof t!="function")throw new TypeError(`invalid render transform: ${t}`);return function(r,n,a,i,o,s){return e.call(this,r,n,a,i,o,(u,l,f,c,d)=>t.call(this,u,l,f,c,d,s))}}function G9(e){return Object.fromEntries(Object.entries(vx(e)).map(([t,r])=>(r=typeof r=="string"?{value:r,label:t}:Tu(r),r.filter===void 0&&r.scale==null&&(r={...r,filter:null}),[t,r])))}function X9(e){return e===!0?"xy":e===!1||e==null?null:typeof e=="string"?en(e,"tip",["x","y","xy"]):e}function Ag(e,t){return(e==null?void 0:e.tip)===!0?{...e,tip:t}:Ba(e==null?void 0:e.tip)&&e.tip.pointer===void 0?{...e,tip:{...e.tip,pointer:t}}:e}function K9(e,t,r={}){let n=.5-vr,a=.5+vr,i=.5+vr,o=.5-vr;for(const{marginTop:p,marginRight:g,marginBottom:m,marginLeft:y}of t)p>n&&(n=p),g>a&&(a=g),m>i&&(i=m),y>o&&(o=y);let{margin:s,marginTop:u=s!==void 0?s:n,marginRight:l=s!==void 0?s:a,marginBottom:f=s!==void 0?s:i,marginLeft:c=s!==void 0?s:o}=r;u=+u,l=+l,f=+f,c=+c;let{width:d=640,height:h=Z9(e,r,{width:d,marginTopDefault:n,marginRightDefault:a,marginBottomDefault:i,marginLeftDefault:o})+Math.max(0,u-n+f-i)}=r;d=+d,h=+h;const v={width:d,height:h,marginTop:u,marginRight:l,marginBottom:f,marginLeft:c};if(e.fx||e.fy){let{margin:p,marginTop:g=p!==void 0?p:u,marginRight:m=p!==void 0?p:l,marginBottom:y=p!==void 0?p:f,marginLeft:b=p!==void 0?p:c}=r.facet??{};g=+g,m=+m,y=+y,b=+b,v.facet={marginTop:g,marginRight:m,marginBottom:y,marginLeft:b}}return v}function Z9({x:e,y:t,fy:r,fx:n},{projection:a,aspectRatio:i},{width:o,marginTopDefault:s,marginRightDefault:u,marginBottomDefault:l,marginLeftDefault:f}){const c=r&&r.scale.domain().length||1,d=M9(a);if(d){const v=n?n.scale.domain().length:1,p=(1.1*c-.1)/(1.1*v-.1)*d,g=Math.max(.1,Math.min(10,p));return Math.round((o-f-u)*g+s+l)}const h=t?Di(t)?t.scale.domain().length||1:Math.max(7,17/c):1;if(i!=null){if(i=+i,!(isFinite(i)&&i>0))throw new Error(`invalid aspectRatio: ${i}`);const v=Mm("y",t)/(Mm("x",e)*i),p=n?n.scale.bandwidth():1,g=r?r.scale.bandwidth():1,m=p*(o-f-u)-e.insetLeft-e.insetRight;return(v*m+t.insetTop+t.insetBottom)/g+s+l}return!!(t||r)*Math.max(1,Math.min(60,h*c))*20+!!n*30+60}function Mm(e,t){if(!t)throw new Error(`aspectRatio requires ${e} scale`);const{type:r,domain:n}=t;let a;switch(r){case"linear":case"utc":case"time":a=Number;break;case"pow":{const s=t.scale.exponent();a=u=>Math.pow(u,s);break}case"log":a=Math.log;break;case"point":case"band":return n.length;default:throw new Error(`unsupported ${e} scale for aspectRatio: ${r}`)}const[i,o]=Cr(n);return Math.abs(a(o)-a(i))}const km=new WeakMap;function Og(e,t,{x:r,y:n,px:a,py:i,maxRadius:o=40,channels:s,render:u,...l}={}){return o=+o,a!=null&&(r??(r=null),s={...s,px:{value:a,scale:"x"}}),i!=null&&(n??(n=null),s={...s,py:{value:i,scale:"y"}}),{x:r,y:n,channels:s,...l,render:Qx(function(f,c,d,h,v,p){v={...v,pointerSticky:!1};const g=v.ownerSVGElement,{data:m}=v.getMarkState(this);let y=km.get(g);y||km.set(g,y={sticky:!1,roots:[],renders:[]});let b=y.renders.push(V)-1;const{x:w,y:E,fx:S,fy:x}=c;let M=S?S(f.fx)-h.marginLeft:0,T=x?x(f.fy)-h.marginTop:0;w!=null&&w.bandwidth&&(M+=w.bandwidth()/2),E!=null&&E.bandwidth&&(T+=E.bandwidth()/2);const C=f.fi!=null;let k;if(C){let X=y.facetStates;X||(y.facetStates=X=new Map),k=X.get(this),k||X.set(this,k=new Map)}const[_,A]=bc(this,h),{px:D,py:P}=d,R=D?X=>D[X]:jx(d,_),L=P?X=>P[X]:Jx(d,A);let N,z,F,I;function B(X,W){if(C)if(I&&(I=cancelAnimationFrame(I)),X==null)k.delete(f.fi);else{k.set(f.fi,W),I=requestAnimationFrame(()=>{I=null;for(const[$,q]of k)if(q<W||q===W&&$<f.fi){X=null;break}V(X)});return}V(X)}function V(X){if(N===X&&F===y.sticky)return;N=X,F=v.pointerSticky=y.sticky;const W=N==null?[]:[N];C&&(W.fx=f.fx,W.fy=f.fy,W.fi=f.fi);const $=p(W,c,d,h,v);if(z){if(C){const q=z.parentNode,U=z.getAttribute("transform"),Y=$.getAttribute("transform");U?$.setAttribute("transform",U):$.removeAttribute("transform"),Y?q.setAttribute("transform",Y):q.removeAttribute("transform"),$.removeAttribute("aria-label"),$.removeAttribute("aria-description"),$.removeAttribute("aria-hidden")}z.replaceWith($)}if(y.roots[b]=z=$,!(N==null&&(k==null?void 0:k.size)>1)){const q=N==null?null:ki(m)?m[N]:m.get(N);v.dispatchValue(q)}return $}function K(X){if(y.sticky||X.pointerType==="mouse"&&X.buttons===1)return;let[W,$]=TC(X);W-=M,$-=T;const q=W<h.marginLeft||W>h.width-h.marginRight?1:e,U=$<h.marginTop||$>h.height-h.marginBottom?1:t;let Y=null,ie=o*o;for(const J of f){const re=q*(R(J)-W),oe=U*(L(J)-$),ue=re*re+oe*oe;ue<=ie&&(Y=J,ie=ue)}if(Y!=null&&(e!==1||t!==1)){const J=R(Y)-W,re=L(Y)-$;ie=J*J+re*re}B(Y,ie)}function j(X){X.pointerType==="mouse"&&N!=null&&(y.sticky&&y.roots.some(W=>W==null?void 0:W.contains(X.target))||(y.sticky?(y.sticky=!1,y.renders.forEach(W=>W(null))):(y.sticky=!0,V(N)),X.stopImmediatePropagation()))}function Q(X){X.pointerType==="mouse"&&(y.sticky||B(null))}return g.addEventListener("pointerenter",K),g.addEventListener("pointermove",K),g.addEventListener("pointerdown",j),g.addEventListener("pointerleave",Q),V(null)},u)}}function Q9(e){return Og(1,1,e)}function j9(e){return Og(1,.01,e)}function Cm(e){return Og(.01,1,e)}function jx({x1:e,x2:t,x:r=e},n){return e&&t?a=>(e[a]+t[a])/2:r?a=>r[a]:()=>n}function Jx({y1:e,y2:t,y:r=e},n){return e&&t?a=>(e[a]+t[a])/2:r?a=>r[a]:()=>n}function eS(e){return Di(e)&&e.interval===void 0?void 0:"tabular-nums"}function J9(e,t){let{label:r=e.label,tickSize:n=6,width:a=240,height:i=44+n,marginTop:o=18,marginRight:s=0,marginBottom:u=16+n,marginLeft:l=0,style:f,ticks:c=(a-l-s)/64,tickFormat:d,fontVariant:h=eS(e),round:v=!0,opacity:p,className:g}=t;const m=Dg(t);g=yc(g),p=hr(p)[1],d===null&&(d=()=>null);const y=tr("svg",m).attr("class",`${g}-ramp`).attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("width",a).attr("height",i).attr("viewBox",`0 0 ${a} ${i}`).call(_=>_.append("style").text(`:where(.${g}-ramp) {
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
  overflow: visible;
}
:where(.${g}-ramp text) {
  white-space: pre;
}`)).call(Pg,f);let b=_=>_.selectAll(".tick line").attr("y1",o+u-i),w;const E=v?(_,A)=>_.rangeRound(A):(_,A)=>_.range(A),{type:S,domain:x,range:M,interpolate:T,scale:C,pivot:k}=e;if(T){const _=M===void 0?T:jf(T.length===1?Mg(T):T,M);w=E(C.copy(),Gr(Yt(l,a-s),Math.min(x.length+(k!==void 0),M===void 0?1/0:M.length)));const A=256,D=m.document.createElement("canvas");D.width=A,D.height=1;const P=D.getContext("2d");for(let R=0,L=A-1;R<A;++R)P.fillStyle=_(R/L),P.fillRect(R,0,1,1);y.append("image").attr("opacity",p).attr("x",l).attr("y",o).attr("width",a-l-s).attr("height",i-o-u).attr("preserveAspectRatio","none").attr("xlink:href",D.toDataURL())}else if(S==="threshold"){const _=x,A=d===void 0?D=>D:typeof d=="string"?Ao(d):d;w=E(rg().domain([-1,M.length-1]),[l,a-s]),y.append("g").attr("fill-opacity",p).selectAll().data(M).enter().append("rect").attr("x",(D,P)=>w(P-1)).attr("y",o).attr("width",(D,P)=>w(P)-w(P-1)).attr("height",i-o-u).attr("fill",D=>D),c=mt(_,(D,P)=>P),d=D=>A(_[D],D)}else w=E(ac().domain(x),[l,a-s]),y.append("g").attr("fill-opacity",p).selectAll().data(x).enter().append("rect").attr("x",w).attr("y",o).attr("width",Math.max(0,w.bandwidth()-1)).attr("height",i-o-u).attr("fill",C),b=()=>{};return y.append("g").attr("transform",`translate(0,${i-u})`).call(YM(w).ticks(Array.isArray(c)?null:c,typeof d=="string"?d:void 0).tickFormat(typeof d=="function"?d:void 0).tickSize(n).tickValues(Array.isArray(c)?c:null)).attr("font-size",null).attr("font-family",null).attr("font-variant",Lt(h,"normal")).call(b).call(_=>_.select(".domain").remove()),r!==void 0&&y.append("text").attr("x",l).attr("y",o-6).attr("fill","currentColor").attr("font-weight","bold").text(r),y.node()}const tS=Math.PI/180;function rS(e,{marker:t,markerStart:r=t,markerMid:n=t,markerEnd:a=t}={}){e.markerStart=Wd(r),e.markerMid=Wd(n),e.markerEnd=Wd(a)}function Wd(e){if(e==null||e===!1)return null;if(e===!0)return _m;if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"none":return null;case"arrow":return Dm("auto");case"arrow-reverse":return Dm("auto-start-reverse");case"dot":return e_;case"circle":case"circle-fill":return _m;case"circle-stroke":return t_;case"tick":return Ud("auto");case"tick-x":return Ud(90);case"tick-y":return Ud(0)}throw new Error(`invalid marker: ${e}`)}function Dm(e){return(t,r)=>tr("svg:marker",r).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("orient",e).attr("fill","none").attr("stroke",t).attr("stroke-width",1.5).attr("stroke-linecap","round").attr("stroke-linejoin","round").call(n=>n.append("path").attr("d","M-1.5,-3l3,3l-3,3")).node()}function e_(e,t){return tr("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","none").call(r=>r.append("circle").attr("r",2.5)).node()}function _m(e,t){return tr("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill",e).attr("stroke","var(--plot-background)").attr("stroke-width",1.5).call(r=>r.append("circle").attr("r",3)).node()}function t_(e,t){return tr("svg:marker",t).attr("viewBox","-5 -5 10 10").attr("markerWidth",6.67).attr("markerHeight",6.67).attr("fill","var(--plot-background)").attr("stroke",e).attr("stroke-width",1.5).call(r=>r.append("circle").attr("r",3)).node()}function Ud(e){return(t,r)=>tr("svg:marker",r).attr("viewBox","-3 -3 6 6").attr("markerWidth",6).attr("markerHeight",6).attr("orient",e).attr("stroke",t).call(n=>n.append("path").attr("d","M0,-3v6")).node()}let r_=0;function nS(e,t,{stroke:r},n){return iS(e,t,r&&(a=>r[a]),null,n)}function uV(e,t,{stroke:r,z:n},a){return iS(e,t,r&&(([i])=>r[i]),n,a)}const lv=1,aS=2;function n_(e,t){const r=new Uint8Array(t.length),n=e.data().filter(i=>i.length>1),a=n.length;for(let i=0,o=uv;i<a;++i){const s=n[i];if(s.length>1){const u=s[0];o!==(o=Hn(t[u]))&&(r[u]|=lv)}}for(let i=a-1,o=uv;i>=0;--i){const s=n[i];if(s.length>1){const u=s[0];o!==(o=Hn(t[u]))&&(r[u]|=aS)}}return([i])=>r[i]}function iS(e,{markerStart:t,markerMid:r,markerEnd:n,stroke:a},i=()=>a,o,s){if(!t&&!r&&!n)return;const u=new Map,l=o&&n_(e,o);function f(c,d,h){return function(v){if(h&&!h(v))return;const p=i(v);let g=u.get(d);g||u.set(d,g=new Map);let m=g.get(p);if(!m){const y=this.parentNode.insertBefore(d(p,s),this),b=`plot-marker-${++r_}`;y.setAttribute("id",b),g.set(p,m=`url(#${b})`)}this.setAttribute(c,m)}}t&&e.each(f("marker-start",t,l&&(c=>l(c)&lv))),r&&l&&e.each(f("marker-start",r,c=>!(l(c)&lv))),r&&e.each(f("marker-mid",r)),n&&e.each(f("marker-end",n,l&&(c=>l(c)&aS)))}function wc({inset:e,insetLeft:t,insetRight:r,...n}={}){return[t,r]=sS(e,t,r),{inset:e,insetLeft:t,insetRight:r,...n}}function oS({inset:e,insetTop:t,insetBottom:r,...n}={}){return[t,r]=sS(e,t,r),{inset:e,insetTop:t,insetBottom:r,...n}}function sS(e,t,r){return e===void 0&&t===void 0&&r===void 0?vr?[1,0]:[.5,.5]:[t,r]}function uS(e,{interval:t}){return e={...Tu(e)},e.interval=yg(e.interval===void 0?t:e.interval),e}function Rg(e,t,r,n){const{[e]:a,[`${e}1`]:i,[`${e}2`]:o}=r,{value:s,interval:u}=uS(a,r);if(s==null||u==null&&!n)return r;const l=Ci(a);if(u==null){let h;const v={transform:p=>h||(h=Ot(p,s)),label:l};return{...r,[e]:void 0,[`${e}1`]:i===void 0?v:i,[`${e}2`]:o===void 0&&!(i===o&&n)?v:o}}let f,c;function d(h){return c!==void 0&&h===f?c:c=mt(Ot(f=h,s),v=>u.floor(v))}return t({...r,[e]:void 0,[`${e}1`]:i===void 0?{transform:d,label:l}:i,[`${e}2`]:o===void 0?{transform:h=>d(h).map(v=>u.offset(v)),label:l}:o})}function lS(e,t,r){const{[e]:n}=r,{value:a,interval:i}=uS(n,r);return a==null||i==null?r:t({...r,[e]:{label:Ci(n),transform:o=>{const s=mt(Ot(o,a),l=>i.floor(l)),u=s.map(l=>i.offset(l));return s.map(ur(s)?(l,f)=>l==null||isNaN(l=+l)||(f=u[f],f==null)||isNaN(f=+f)?void 0:new Date((l+f)/2):(l,f)=>l==null||(f=u[f],f==null)?NaN:(+l+ +f)/2)}}})}function a_(e={}){return Rg("x",wc,e,!0)}function i_(e={}){return Rg("x",wc,e)}function o_(e={}){return Rg("y",oS,e)}function s_(e={}){return lS("x",wc,e)}function u_(e={}){return lS("y",oS,e)}const fS={ariaLabel:"rule",fill:null,stroke:"currentColor"};class l_ extends Tn{constructor(t,r={}){const{x:n,y1:a,y2:i,inset:o=0,insetTop:s=o,insetBottom:u=o}=r;super(t,{x:{value:n,scale:"x",optional:!0},y1:{value:a,scale:"y",optional:!0},y2:{value:i,scale:"y",optional:!0}},Ag(r,"x"),fS),this.insetTop=Vt(s),this.insetBottom=Vt(u),rS(this,r)}render(t,r,n,a,i){const{x:o,y:s}=r,{x:u,y1:l,y2:f}=n,{width:c,height:d,marginTop:h,marginRight:v,marginLeft:p,marginBottom:g}=a,{insetTop:m,insetBottom:y}=this;return tr("svg:g",i).call(_i,this,a,i).call(Pi,this,{x:u&&o},vr,0).call(b=>b.selectAll().data(t).enter().append("line").call(Pa,this).attr("x1",u?w=>u[w]:(p+c-v)/2).attr("x2",u?w=>u[w]:(p+c-v)/2).attr("y1",l&&!Eo(s)?w=>l[w]+m:h+m).attr("y2",f&&!Eo(s)?s.bandwidth?w=>f[w]+s.bandwidth()-y:w=>f[w]-y:d-g-y).call(gi,this,n).call(nS,this,n,i)).node()}}class f_ extends Tn{constructor(t,r={}){const{x1:n,x2:a,y:i,inset:o=0,insetRight:s=o,insetLeft:u=o}=r;super(t,{y:{value:i,scale:"y",optional:!0},x1:{value:n,scale:"x",optional:!0},x2:{value:a,scale:"x",optional:!0}},Ag(r,"y"),fS),this.insetRight=Vt(s),this.insetLeft=Vt(u),rS(this,r)}render(t,r,n,a,i){const{x:o,y:s}=r,{y:u,x1:l,x2:f}=n,{width:c,height:d,marginTop:h,marginRight:v,marginLeft:p,marginBottom:g}=a,{insetLeft:m,insetRight:y}=this;return tr("svg:g",i).call(_i,this,a,i).call(Pi,this,{y:u&&s},0,vr).call(b=>b.selectAll().data(t).enter().append("line").call(Pa,this).attr("x1",l&&!Eo(o)?w=>l[w]+m:p+m).attr("x2",f&&!Eo(o)?o.bandwidth?w=>f[w]+o.bandwidth()-y:w=>f[w]-y:c-v-y).attr("y1",u?w=>u[w]:(h+d-g)/2).attr("y2",u?w=>u[w]:(h+d-g)/2).call(gi,this,n).call(nS,this,n,i)).node()}}function c_(e,t){let{x:r=fr,y:n,y1:a,y2:i,...o}=o_(t);return[a,i]=dS(n,a,i),new l_(e,{...o,x:r,y1:a,y2:i})}function cS(e,t){let{y:r=fr,x:n,x1:a,x2:i,...o}=i_(t);return[a,i]=dS(n,a,i),new f_(e,{...o,y:r,x1:a,x2:i})}function dS(e,t,r){if(e==null){if(t===void 0){if(r!==void 0)return[0,r]}else if(r===void 0)return[0,t]}else{if(t===void 0)return r===void 0?[0,e]:[e,r];if(r===void 0)return[e,t]}return[t,r]}function hS(e,...t){let r=t.length;for(let n=0,a=!0;n<r;++n)typeof t[n]!="function"&&(a&&(e=e.slice(),a=!1),e.splice(n,2,e[n]+t[n]+e[n+1]),t.splice(n,1),--n,--r);return n=>{let a=e[0];for(let i=0;i<r;++i)a+=t[i](n)+e[i+1];return a}}const d_={ariaLabel:"text",strokeLinejoin:"round",strokeWidth:3,paintOrder:"stroke"},vS="";class Lg extends Tn{constructor(t,r={}){const{x:n,y:a,text:i=Fa(t)&&hx(t)?fr:ax,frameAnchor:o,textAnchor:s=/right$/i.test(o)?"end":/left$/i.test(o)?"start":"middle",lineAnchor:u=/^top/i.test(o)?"top":/^bottom/i.test(o)?"bottom":"middle",lineHeight:l=1,lineWidth:f=1/0,textOverflow:c,monospace:d,fontFamily:h=d?"ui-monospace, monospace":void 0,fontSize:v,fontStyle:p,fontVariant:g,fontWeight:m,rotate:y}=r,[b,w]=hr(y,0),[E,S]=y_(v);if(super(t,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},fontSize:{value:E,optional:!0},rotate:{value:$8(b),optional:!0},text:{value:i,filter:ug,optional:!0}},r,d_),this.rotate=w,this.textAnchor=Lt(s,"middle"),this.lineAnchor=en(u,"lineAnchor",["top","middle","bottom"]),this.lineHeight=+l,this.lineWidth=+f,this.textOverflow=gS(c),this.monospace=!!d,this.fontFamily=er(h),this.fontSize=S,this.fontStyle=er(p),this.fontVariant=er(g),this.fontWeight=er(m),this.frameAnchor=bg(o),!(this.lineWidth>=0))throw new Error(`invalid lineWidth: ${f}`);this.splitLines=yS(this),this.clipLine=bS(this)}render(t,r,n,a,i){const{x:o,y:s}=r,{x:u,y:l,rotate:f,text:c,title:d,fontSize:h}=n,{rotate:v}=this,[p,g]=bc(this,a);return tr("svg:g",i).call(_i,this,a,i).call(mS,this,c,a).call(Pi,this,{x:u&&o,y:l&&s}).call(m=>m.selectAll().data(t).enter().append("text").call(Pa,this).call(h_,this,c,d).attr("transform",hS`translate(${u?y=>u[y]:p},${l?y=>l[y]:g})${f?y=>` rotate(${f[y]})`:v?` rotate(${v})`:""}`).call(Ce,"font-size",h&&(y=>h[y])).call(gi,this,n)).node()}}function gS(e){return e==null?null:en(e,"textOverflow",["clip","ellipsis","clip-start","clip-end","ellipsis-start","ellipsis-middle","ellipsis-end"]).replace(/^(clip|ellipsis)$/,"$1-end")}function h_(e,t,r,n){if(!r)return;const{lineAnchor:a,lineHeight:i,textOverflow:o,splitLines:s,clipLine:u}=t;e.each(function(l){const f=s(To(r[l])??"").map(u),c=f.length,d=a==="top"?.71:a==="bottom"?1-c:(164-c*100)/200;if(c>1){let h=0;for(let v=0;v<c;++v){if(++h,!f[v])continue;const p=this.ownerDocument.createElementNS(co.svg,"tspan");p.setAttribute("x",0),v===h-1?p.setAttribute("y",`${(d+v)*i}em`):p.setAttribute("dy",`${h*i}em`),p.textContent=f[v],this.appendChild(p),h=0}}else d&&this.setAttribute("y",`${d*i}em`),this.textContent=f[0];if(o&&!n&&f[0]!==r[l]){const h=this.ownerDocument.createElementNS(co.svg,"title");h.textContent=r[l],this.appendChild(h)}})}function pS(e,{x:t,y:r,...n}={}){return n.frameAnchor===void 0&&([t,r]=fx(t,r)),new Lg(e,{...n,x:t,y:r})}function v_(e,{x:t=fr,...r}={}){return new Lg(e,u_({...r,x:t}))}function g_(e,{y:t=fr,...r}={}){return new Lg(e,s_({...r,y:t}))}function mS(e,t,r){Ce(e,"text-anchor",t.textAnchor),Ce(e,"font-family",t.fontFamily),Ce(e,"font-size",t.fontSize),Ce(e,"font-style",t.fontStyle),Ce(e,"font-variant",t.fontVariant===void 0?p_(r):t.fontVariant),Ce(e,"font-weight",t.fontWeight)}function p_(e){return e&&(B8(e)||ur(e))?"tabular-nums":void 0}const m_=new Set(["inherit","initial","revert","unset","xx-small","x-small","small","medium","large","x-large","xx-large","xxx-large","larger","smaller"]);function y_(e){return e==null||typeof e=="number"?[void 0,e]:typeof e!="string"?[e,void 0]:(e=e.trim().toLowerCase(),m_.has(e)||/^[+-]?\d*\.?\d+(e[+-]?\d+)?(\w*|%)$/.test(e)?[void 0,e]:[e,void 0])}function b_(e,t,r){const n=[];let a,i=0;for(const[o,s,u]of w_(e)){if(a===void 0&&(a=o),i>a&&r(e,a,s)>t&&(n.push(e.slice(a,i)+(e[i-1]===vS?"-":"")),a=o),u){n.push(e.slice(a,s)),a=void 0;continue}i=s}return n}function*w_(e){let t=0,r=0;const n=e.length;for(;r<n;){let a=1;switch(e[r]){case vS:case"-":++r,yield[t,r,!1],t=r;break;case" ":for(yield[t,r,!1];e[++r]===" ";);t=r;break;case"\r":e[r+1]===`
`&&++a;case`
`:yield[t,r,!0],r+=a,t=r;break;default:++r;break}}yield[t,r,!0]}const Pm={a:56,b:63,c:57,d:63,e:58,f:37,g:62,h:60,i:26,j:26,k:55,l:26,m:88,n:60,o:60,p:62,q:62,r:39,s:54,t:38,u:60,v:55,w:79,x:54,y:55,z:55,A:69,B:67,C:73,D:74,E:61,F:58,G:76,H:75,I:28,J:55,K:67,L:58,M:89,N:75,O:78,P:65,Q:78,R:67,S:65,T:65,U:75,V:69,W:98,X:69,Y:67,Z:67,0:64,1:48,2:62,3:64,4:66,5:63,6:65,7:58,8:65,9:65," ":29,"!":32,'"':49,"'":31,"(":39,")":39,",":31,"-":48,".":31,"/":32,":":31,";":31,"?":52,"":31,"":31,"":47,"":47,"":82};function $g(e,t=0,r=e.length){let n=0;for(let a=t;a<r;a=Lo(e,a))n+=Pm[e[a]]??(xS(e,a)?120:Pm.e);return n}function Ng(e,t=0,r=e.length){let n=0;for(let a=t;a<r;a=Lo(e,a))n+=xS(e,a)?126:63;return n}function yS({monospace:e,lineWidth:t,textOverflow:r}){if(r!=null||t==1/0)return i=>i.split(/\r\n?|\n/g);const n=e?Ng:$g,a=t*100;return i=>b_(i,a,n)}function bS({monospace:e,lineWidth:t,textOverflow:r}){if(r==null||t==1/0)return i=>i;const n=e?Ng:$g,a=t*100;switch(r){case"clip-start":return i=>Om(i,a,n,"");case"clip-end":return i=>Am(i,a,n,"");case"ellipsis-start":return i=>Om(i,a,n,ro);case"ellipsis-middle":return i=>x_(i,a,n,ro);case"ellipsis-end":return i=>Am(i,a,n,ro)}}const ro="";function Mo(e,t,r,n){const a=[];let i=0;for(let o=0,s=0,u=e.length;o<u;o=s){s=Lo(e,o);const l=r(e,o,s);if(i+l>t){for(i+=n;i>t&&o>0;)s=o,o=a.pop(),i-=r(e,o,s);return[o,t-i]}i+=l,a.push(o)}return[-1,0]}function Am(e,t,r,n){e=e.trim();const a=r(n),[i]=Mo(e,t,r,a);return i<0?e:e.slice(0,i).trimEnd()+n}function x_(e,t,r,n){e=e.trim();const a=r(e);if(a<=t)return e;const i=r(n)/2,[o,s]=Mo(e,t/2,r,i),[u]=Mo(e,a-t/2-s+i,r,-i);return u<0?n:e.slice(0,o).trimEnd()+n+e.slice(Lo(e,u)).trimStart()}function Om(e,t,r,n){e=e.trim();const a=r(e);if(a<=t)return e;const i=r(n),[o]=Mo(e,a-t+i,r,-i);return o<0?n:n+e.slice(Lo(e,o)).trimStart()}const fv=/[\p{Combining_Mark}\p{Emoji_Modifier}]+/uy,Rm=new RegExp("\\p{Extended_Pictographic}","uy");function Lo(e,t){return t+=S_(e,t)?2:1,T_(e,t)&&(t=fv.lastIndex),E_(e,t)?Lo(e,t+1):t}function wS(e,t){return e.charCodeAt(t)<128}function S_(e,t){const r=e.charCodeAt(t);if(r>=55296&&r<56320){const n=e.charCodeAt(t+1);return n>=56320&&n<57344}return!1}function E_(e,t){return e.charCodeAt(t)===8205}function T_(e,t){return wS(e,t)?!1:(fv.lastIndex=t,fv.test(e))}function xS(e,t){return wS(e,t)?!1:(Rm.lastIndex=t,Rm.test(e))}const M_={ariaLabel:"vector",fill:"none",stroke:"currentColor",strokeWidth:1.5,strokeLinejoin:"round",strokeLinecap:"round"},SS=3.5,k_=SS*5,ES={draw(e,t,r){const n=t*r/k_;e.moveTo(0,0),e.lineTo(0,-t),e.moveTo(-n,n-t),e.lineTo(0,-t),e.lineTo(n,n-t)}},C_={draw(e,t,r){e.moveTo(-r,0),e.lineTo(0,-t),e.lineTo(r,0)}},D_=new Map([["arrow",ES],["spike",C_]]);function __(e){return e&&typeof e.draw=="function"}function P_(e){if(__(e))return e;const t=D_.get(`${e}`.toLowerCase());if(t)return t;throw new Error(`invalid shape: ${e}`)}class TS extends Tn{constructor(t,r={}){const{x:n,y:a,r:i=SS,length:o,rotate:s,shape:u=ES,anchor:l="middle",frameAnchor:f}=r,[c,d]=hr(o,12),[h,v]=hr(s,0);super(t,{x:{value:n,scale:"x",optional:!0},y:{value:a,scale:"y",optional:!0},length:{value:c,scale:"length",optional:!0},rotate:{value:h,optional:!0}},r,M_),this.r=+i,this.length=d,this.rotate=v,this.shape=P_(u),this.anchor=en(l,"anchor",["start","middle","end"]),this.frameAnchor=bg(f)}render(t,r,n,a,i){const{x:o,y:s}=r,{x:u,y:l,length:f,rotate:c}=n,{length:d,rotate:h,anchor:v,shape:p,r:g}=this,[m,y]=bc(this,a);return tr("svg:g",i).call(_i,this,a,i).call(Pi,this,{x:u&&o,y:l&&s}).call(b=>b.selectAll().data(t).enter().append("path").call(Pa,this).attr("transform",hS`translate(${u?w=>u[w]:m},${l?w=>l[w]:y})${c?w=>` rotate(${c[w]})`:h?` rotate(${h})`:""}${v==="start"?"":v==="end"?f?w=>` translate(0,${f[w]})`:` translate(0,${d})`:f?w=>` translate(0,${f[w]/2})`:` translate(0,${d/2})`}`).attr("d",f?w=>{const E=Dh();return p.draw(E,f[w],g),E}:(()=>{const w=Dh();return p.draw(w,d,g),w})()).call(gi,this,n)).node()}}function A_(e,t={}){const{x:r=fr,...n}=t;return new TS(e,{...n,x:r})}function O_(e,t={}){const{y:r=fr,...n}=t;return new TS(e,{...n,y:r})}function Ya(e,t){return arguments.length<2&&!Fa(e)&&(t=e,e=null),t===void 0&&(t={}),[e,t]}function xc({anchor:e}={},t){return e===void 0?t[0]:en(e,"anchor",t)}function MS(e){return xc(e,["left","right"])}function kS(e){return xc(e,["right","left"])}function CS(e){return xc(e,["bottom","top"])}function DS(e){return xc(e,["top","bottom"])}function _S(){const[e,t]=Ya(...arguments);return AS("y",MS(t),e,t)}function R_(){const[e,t]=Ya(...arguments);return AS("fy",kS(t),e,t)}function PS(){const[e,t]=Ya(...arguments);return OS("x",CS(t),e,t)}function L_(){const[e,t]=Ya(...arguments);return OS("fx",DS(t),e,t)}function AS(e,t,r,{color:n="currentColor",opacity:a=1,stroke:i=n,strokeOpacity:o=a,strokeWidth:s=1,fill:u=n,fillOpacity:l=a,textAnchor:f,textStroke:c,textStrokeOpacity:d,textStrokeWidth:h,tickSize:v=e==="y"?6:0,tickPadding:p,tickRotate:g,x:m,margin:y,marginTop:b=y===void 0?20:y,marginRight:w=y===void 0?t==="right"?40:0:y,marginBottom:E=y===void 0?20:y,marginLeft:S=y===void 0?t==="left"?40:0:y,label:x,labelAnchor:M,labelArrow:T,labelOffset:C,...k}){return v=Vt(v),p=Vt(p),g=Vt(g),M!==void 0&&(M=en(M,"labelAnchor",["center","top","bottom"])),T=zS(T),Zx(v&&!ir(i)?$_(e,t,r,{stroke:i,strokeOpacity:o,strokeWidth:s,tickSize:v,tickPadding:p,tickRotate:g,x:m,...k}):null,ir(u)?null:I_(e,t,r,{fill:u,fillOpacity:l,stroke:c,strokeOpacity:d,strokeWidth:h,textAnchor:f,tickSize:v,tickPadding:p,tickRotate:g,x:m,marginTop:b,marginRight:w,marginBottom:E,marginLeft:S,...k}),!ir(u)&&x!==null?pS([],NS({fill:u,fillOpacity:l,...k},function(_,A,D,P,R){const L=P[e],{marginTop:N,marginRight:z,marginBottom:F,marginLeft:I}=e==="y"&&R.inset||R,B=M??(L.bandwidth?"center":"top"),V=C??(t==="right"?z:I)-3;return B==="center"?(this.textAnchor=void 0,this.lineAnchor=t==="right"?"bottom":"top",this.frameAnchor=t,this.rotate=-90):(this.textAnchor=t==="right"?"end":"start",this.lineAnchor=B,this.frameAnchor=`${B}-${t}`,this.rotate=0),this.dy=B==="top"?3-N:B==="bottom"?F-3:0,this.dx=t==="right"?V:-V,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[FS(e,L,{anchor:t,label:x,labelAnchor:B,labelArrow:T})]}}}})):null)}function OS(e,t,r,{color:n="currentColor",opacity:a=1,stroke:i=n,strokeOpacity:o=a,strokeWidth:s=1,fill:u=n,fillOpacity:l=a,textAnchor:f,textStroke:c,textStrokeOpacity:d,textStrokeWidth:h,tickSize:v=e==="x"?6:0,tickPadding:p,tickRotate:g,y:m,margin:y,marginTop:b=y===void 0?t==="top"?30:0:y,marginRight:w=y===void 0?20:y,marginBottom:E=y===void 0?t==="bottom"?30:0:y,marginLeft:S=y===void 0?20:y,label:x,labelAnchor:M,labelArrow:T,labelOffset:C,...k}){return v=Vt(v),p=Vt(p),g=Vt(g),M!==void 0&&(M=en(M,"labelAnchor",["center","left","right"])),T=zS(T),Zx(v&&!ir(i)?N_(e,t,r,{stroke:i,strokeOpacity:o,strokeWidth:s,tickSize:v,tickPadding:p,tickRotate:g,y:m,...k}):null,ir(u)?null:B_(e,t,r,{fill:u,fillOpacity:l,stroke:c,strokeOpacity:d,strokeWidth:h,textAnchor:f,tickSize:v,tickPadding:p,tickRotate:g,y:m,marginTop:b,marginRight:w,marginBottom:E,marginLeft:S,...k}),!ir(u)&&x!==null?pS([],NS({fill:u,fillOpacity:l,...k},function(_,A,D,P,R){const L=P[e],{marginTop:N,marginRight:z,marginBottom:F,marginLeft:I}=e==="x"&&R.inset||R,B=M??(L.bandwidth?"center":"right"),V=C??(t==="top"?N:F)-3;return B==="center"?(this.frameAnchor=t,this.textAnchor=void 0):(this.frameAnchor=`${t}-${B}`,this.textAnchor=B==="right"?"end":"start"),this.lineAnchor=t,this.dy=t==="top"?-V:V,this.dx=B==="right"?z-3:B==="left"?3-I:0,this.ariaLabel=`${e}-axis label`,{facets:[[0]],channels:{text:{value:[FS(e,L,{anchor:t,label:x,labelAnchor:B,labelArrow:T})]}}}})):null)}function $_(e,t,r,{strokeWidth:n=1,strokeLinecap:a=null,strokeLinejoin:i=null,facetAnchor:o=t+(e==="y"?"-empty":""),frameAnchor:s=t,tickSize:u,inset:l=0,insetLeft:f=l,insetRight:c=l,dx:d=0,y:h=e==="y"?void 0:null,...v}){return $o(O_,e,r,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:n,strokeLinecap:a,strokeLinejoin:i,facetAnchor:o,frameAnchor:s,y:h,...v,dx:t==="left"?+d-vr+ +f:+d+vr-c,anchor:"start",length:u,shape:t==="left"?H_:G_})}function N_(e,t,r,{strokeWidth:n=1,strokeLinecap:a=null,strokeLinejoin:i=null,facetAnchor:o=t+(e==="x"?"-empty":""),frameAnchor:s=t,tickSize:u,inset:l=0,insetTop:f=l,insetBottom:c=l,dy:d=0,x:h=e==="x"?void 0:null,...v}){return $o(A_,e,r,{ariaLabel:`${e}-axis tick`,ariaHidden:!0},{strokeWidth:n,strokeLinejoin:i,strokeLinecap:a,facetAnchor:o,frameAnchor:s,x:h,...v,dy:t==="bottom"?+d-vr-c:+d+vr+ +f,anchor:"start",length:u,shape:t==="bottom"?W_:U_})}function I_(e,t,r,{facetAnchor:n=t+(e==="y"?"-empty":""),frameAnchor:a=t,tickSize:i,tickRotate:o=0,tickPadding:s=Math.max(3,9-i)+(Math.abs(o)>60?4*Math.cos(o*tS):0),text:u,textAnchor:l=Math.abs(o)>60?"middle":t==="left"?"end":"start",lineAnchor:f=o>60?"top":o<-60?"bottom":"middle",fontVariant:c,inset:d=0,insetLeft:h=d,insetRight:v=d,dx:p=0,y:g=e==="y"?void 0:null,...m}){return $o(g_,e,r,{ariaLabel:`${e}-axis tick label`},{facetAnchor:n,frameAnchor:a,text:u,textAnchor:l,lineAnchor:f,fontVariant:c,rotate:o,y:g,...m,dx:t==="left"?+p-i-s+ +h:+p+ +i+ +s-v},function(y,b,w,E,S){c===void 0&&(this.fontVariant=BS(y)),u===void 0&&(S.text=IS(y,b,w,E,t))})}function B_(e,t,r,{facetAnchor:n=t+(e==="x"?"-empty":""),frameAnchor:a=t,tickSize:i,tickRotate:o=0,tickPadding:s=Math.max(3,9-i)+(Math.abs(o)>=10?4*Math.cos(o*tS):0),text:u,textAnchor:l=Math.abs(o)>=10?o<0^t==="bottom"?"start":"end":"middle",lineAnchor:f=Math.abs(o)>=10?"middle":t==="bottom"?"top":"bottom",fontVariant:c,inset:d=0,insetTop:h=d,insetBottom:v=d,dy:p=0,x:g=e==="x"?void 0:null,...m}){return $o(v_,e,r,{ariaLabel:`${e}-axis tick label`},{facetAnchor:n,frameAnchor:a,text:u===void 0?null:u,textAnchor:l,lineAnchor:f,fontVariant:c,rotate:o,x:g,...m,dy:t==="bottom"?+p+ +i+ +s-v:+p-i-s+ +h},function(y,b,w,E,S){c===void 0&&(this.fontVariant=BS(y)),u===void 0&&(S.text=IS(y,b,w,E,t))})}function F_(){const[e,t]=Ya(...arguments);return RS("y",MS(t),e,t)}function z_(){const[e,t]=Ya(...arguments);return RS("fy",kS(t),e,t)}function Y_(){const[e,t]=Ya(...arguments);return LS("x",CS(t),e,t)}function q_(){const[e,t]=Ya(...arguments);return LS("fx",DS(t),e,t)}function RS(e,t,r,{y:n=e==="y"?void 0:null,x:a=null,x1:i=t==="left"?a:null,x2:o=t==="right"?a:null,...s}){return $o(cS,e,r,{ariaLabel:`${e}-grid`,ariaHidden:!0},{y:n,x1:i,x2:o,...$S(s)})}function LS(e,t,r,{x:n=e==="x"?void 0:null,y:a=null,y1:i=t==="top"?a:null,y2:o=t==="bottom"?a:null,...s}){return $o(c_,e,r,{ariaLabel:`${e}-grid`,ariaHidden:!0},{x:n,y1:i,y2:o,...$S(s)})}function $S({color:e="currentColor",opacity:t=.1,stroke:r=e,strokeOpacity:n=t,strokeWidth:a=1,...i}){return{stroke:r,strokeOpacity:n,strokeWidth:a,...i}}function NS({fill:e,fillOpacity:t,fontFamily:r,fontSize:n,fontStyle:a,fontVariant:i,fontWeight:o,monospace:s,pointerEvents:u,shapeRendering:l,clip:f=!1},c){return[,e]=ta(e),[,t]=hr(t),{facet:"super",x:null,y:null,fill:e,fillOpacity:t,fontFamily:r,fontSize:n,fontStyle:a,fontVariant:i,fontWeight:o,monospace:s,pointerEvents:u,shapeRendering:l,clip:f,initializer:c}}function $o(e,t,r,n,a,i){let o;function s(f,c,d,h,v,p){const g=f==null&&(t==="fx"||t==="fy"),{[t]:m}=h;if(!m)throw new Error(`missing scale: ${t}`);const y=m.domain();let{interval:b,ticks:w,tickFormat:E,tickSpacing:S=t==="x"?80:35}=a;if(typeof w=="string"&&YS(m)&&(b=w,w=void 0),w===void 0&&(w=Ro(b,m.type)??V_(m,S)),f==null){if(Fa(w))f=_a(w);else if(Gi(w))f=Hd(w,...Cr(y));else if(m.interval){let M=m.interval;if(m.ticks){const[T,C]=Cr(y),k=(C-T)/M[Eu];M=am(M,k/w)??M,f=Hd(M,T,C)}else{f=y;const T=f.length;M=am(M,T/w)??M,M!==m.interval&&(f=Hd(M,...Cr(f)))}if(M===m.interval){const T=Math.round(f.length/w);T>1&&(f=f.filter((C,k)=>k%T===0))}}else m.ticks?f=m.ticks(w):f=y;if(!m.ticks&&f.length&&f!==y){const M=new Hf(y);f=f.filter(T=>M.has(T)),f.length||Sa(`Warning: the ${t}-axis ticks appear to not align with the scale domain, resulting in no ticks. Try different ticks?`)}t==="y"||t==="x"?c=[sa(f)]:o[t]={scale:t,value:fr}}i==null||i.call(this,m,f,w,E,o);const x=Object.fromEntries(Object.entries(o).map(([M,T])=>[M,{...T,value:Ot(f,T.value)}]));return g&&(c=p.filterFacets(f,x)),{data:f,facets:c,channels:x}}const u=Tf(a).initializer,l=e(r,Tf({...a,initializer:s},u));return r==null?(o=l.channels,l.channels={}):o={},n!==void 0&&Object.assign(l,n),l.clip===void 0&&(l.clip=!1),l}function V_(e,t){const[r,n]=Cr(e.range());return(n-r)/t}function IS(e,t,r,n,a){return{value:Ig(e,t,r,n,a)}}function Ig(e,t,r,n,a){return typeof n=="function"&&!(e.type==="log"&&e.tickFormat)?n:n===void 0&&t&&ur(t)?y8(e.type,t,a)??To:e.tickFormat?e.tickFormat(typeof r=="number"?r:null,n):n===void 0?To:typeof n=="string"?(ur(e.domain())?Su:Ao)(n):Un(n)}function Hd(e,t,r){return e.range(t,e.offset(e.floor(r)))}const W_={draw(e,t){e.moveTo(0,0),e.lineTo(0,t)}},U_={draw(e,t){e.moveTo(0,0),e.lineTo(0,-t)}},H_={draw(e,t){e.moveTo(0,0),e.lineTo(-t,0)}},G_={draw(e,t){e.moveTo(0,0),e.lineTo(t,0)}};function BS(e){return e.bandwidth&&!e.interval?void 0:"tabular-nums"}function FS(e,t,{anchor:r,label:n=t.label,labelAnchor:a,labelArrow:i}={}){if(!(n==null||n.inferred&&YS(t)&&/^(date|time|year)$/i.test(n))){if(n=String(n),i==="auto"&&(i=(!t.bandwidth||t.interval)&&!/[]/.test(n)),!i)return n;if(i===!0){const o=e9(t);o&&(i=/x$/.test(e)||a==="center"?/x$/.test(e)===o<0?"left":"right":o<0?"up":"down")}switch(i){case"left":return` ${n}`;case"right":return`${n} `;case"up":return r==="right"?`${n} `:` ${n}`;case"down":return r==="right"?`${n} `:` ${n}`}return n}}function zS(e="auto"){return ir(e)?!1:typeof e=="boolean"?e:en(e,"labelArrow",["auto","up","right","down","left"])}function YS(e){return ur(e.domain())}function Lm(e,t){if(t==null)return t;const r=e(t);if(!r)throw new Error(`scale not found: ${t}`);return r}function X_(e,{opacity:t,...r}={}){if(!Di(e)&&!Ux(e))throw new Error(`swatches legend requires ordinal or threshold color scale (not ${e.type})`);return qS(e,r,(n,a,i,o)=>n.append("svg").attr("width",i).attr("height",o).attr("fill",a.scale).attr("fill-opacity",hr(t)[1]).append("rect").attr("width","100%").attr("height","100%"))}function K_(e,{fill:t=(l=>(l=e.hint)==null?void 0:l.fill)()!==void 0?e.hint.fill:"none",fillOpacity:r=1,stroke:n=(f=>(f=e.hint)==null?void 0:f.stroke)()!==void 0?e.hint.stroke:ir(t)?"currentColor":"none",strokeOpacity:a=1,strokeWidth:i=1.5,r:o=4.5,...s}={},u){const[c,d]=ta(t),[h,v]=ta(n),p=Lm(u,c),g=Lm(u,h),m=o*o*Math.PI;return r=hr(r)[1],a=hr(a)[1],i=hr(i)[1],qS(e,s,(y,b,w,E)=>y.append("svg").attr("viewBox","-8 -8 16 16").attr("width",w).attr("height",E).attr("fill",c==="color"?S=>p.scale(S):d).attr("fill-opacity",r).attr("stroke",h==="color"?S=>g.scale(S):v).attr("stroke-opacity",a).attr("stroke-width",i).append("path").attr("d",S=>{const x=Dh();return e.scale(S).draw(x,m),x}))}function qS(e,t={},r){let{columns:n,tickFormat:a,fontVariant:i=eS(e),swatchSize:o=15,swatchWidth:s=o,swatchHeight:u=o,marginLeft:l=0,className:f,style:c,width:d}=t;const h=Dg(t);f=yc(f),a=Ig(e.scale,e.domain,void 0,a);const v=tr("div",h).attr("class",`${f}-swatches ${f}-swatches-${n!=null?"columns":"wrap"}`);let p;return n!=null?(p=`:where(.${f}-swatches-columns .${f}-swatch) {
  display: flex;
  align-items: center;
  break-inside: avoid;
  padding-bottom: 1px;
}
:where(.${f}-swatches-columns .${f}-swatch::before) {
  flex-shrink: 0;
}
:where(.${f}-swatches-columns .${f}-swatch-label) {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}`,v.style("columns",n).selectAll().data(e.domain).enter().append("div").attr("class",`${f}-swatch`).call(r,e,s,u).call(g=>g.append("div").attr("class",`${f}-swatch-label`).attr("title",a).text(a))):(p=`:where(.${f}-swatches-wrap) {
  display: flex;
  align-items: center;
  min-height: 33px;
  flex-wrap: wrap;
}
:where(.${f}-swatches-wrap .${f}-swatch) {
  display: inline-flex;
  align-items: center;
  margin-right: 1em;
}`,v.selectAll().data(e.domain).enter().append("span").attr("class",`${f}-swatch`).call(r,e,s,u).append(function(){return this.ownerDocument.createTextNode(a.apply(this,arguments))})),v.call(g=>g.insert("style","*").text(`:where(.${f}-swatches) {
  font-family: system-ui, sans-serif;
  font-size: 10px;
  margin-bottom: 0.5em;
}
:where(.${f}-swatch > svg) {
  margin-right: 0.5em;
  overflow: visible;
}
${p}`)).style("margin-left",l?`${+l}px`:null).style("width",d===void 0?null:`${+d}px`).style("font-variant",Lt(i,"normal")).call(Pg,c).node()}const cv=new Map([["symbol",K_],["color",WS],["opacity",Q_]]);function Z_(e,t,r={}){return(n,a)=>{if(!cv.has(n))throw new Error(`unknown legend type: ${n}`);if(n in e)return cv.get(n)(e[n],VS(t,r[n],a),i=>e[i])}}function VS({className:e,...t},{label:r,ticks:n,tickFormat:a}={},i){return q8(i,{className:e,...t},{label:r,ticks:n,tickFormat:a})}function WS(e,{legend:t=!0,...r}){if(t===!0&&(t=e.type==="ordinal"?"swatches":"ramp"),e.domain!==void 0)switch(`${t}`.toLowerCase()){case"swatches":return X_(e,r);case"ramp":return J9(e,r);default:throw new Error(`unknown legend type: ${t}`)}}function Q_({type:e,interpolate:t,...r},{legend:n=!0,color:a=Ca(0,0,0),...i}){if(!t)throw new Error(`${e} opacity scales are not supported`);if(n===!0&&(n="ramp"),`${n}`.toLowerCase()!=="ramp")throw new Error(`${n} opacity legends are not supported`);return WS({type:e,...r,interpolate:j_(a)},{legend:n,...i})}function j_(e){const{r:t,g:r,b:n}=Ca(e)||Ca(0,0,0);return a=>`rgba(${t},${r},${n},${a})`}function J_(e,t,r){const n=[];for(const[a,i]of cv){const o=r[a];if(o!=null&&o.legend&&a in e){const s=i(e[a],VS(t,e[a],o),u=>e[u]);s!=null&&n.push(s)}}return n}function eP(e={}){return lx(e)?e:{...e,y:fr}}function tP(e,t){if(t.length===1)return{data:e,facets:t};const r=Ws(e),n=new Uint8Array(r);let a=0;for(const s of t)for(const u of s)n[u]&&++a,n[u]=1;if(a===0)return{data:e,facets:t};e=qs(e);const i=e[rx]=new Uint32Array(r+a);t=t.map(s=>qs(s,Uint32Array));let o=r;n.fill(0);for(const s of t)for(let u=0,l=s.length;u<l;++u){const f=s[u];n[f]?(s[u]=o,e[o]=e[f],i[o]=f,++o):i[f]=f,n[f]=1}return{data:e,facets:t}}function rP(e={},t={}){arguments.length===1&&([e,t]=aP(e));const{x1:r,x:n=r,y:a,...i}=t,[o,s,u,l]=oP(n,a,"x","y",e,i);return{...o,x1:r,x:s,y1:u,y2:l,y:ev(u,l)}}function nP({y:e,y1:t,y2:r,...n}={}){return n=Ag(n,"x"),t===void 0&&r===void 0?rP({y:e,...n}):([t,r]=D8(e,t,r),{...n,y1:t,y2:r})}function aP(e){const{offset:t,order:r,reverse:n,...a}=e;return[{offset:t,order:r,reverse:n},a]}const iP={length:!0};function oP(e,t=E8,r,n,{offset:a,order:i,reverse:o},s){if(t===null)throw new Error(`stack requires ${n}`);const u=_8(s),[l,f]=In(e),[c,d]=Ef(t),[h,v]=Ef(t);return c.hint=h.hint=iP,a=sP(a),i=fP(i,a,n),[xg(s,(p,g,m)=>{({data:p,facets:g}=tP(p,g));const y=e==null?void 0:f(cx(Ot(p,e),m==null?void 0:m[r])),b=Ot(p,t,Float64Array),w=Ot(p,u),E=i&&i(p,y,b,w),S=Ws(p),x=d(new Float64Array(S)),M=v(new Float64Array(S)),T=[];for(const C of g){const k=y?Array.from(Gf(C,_=>y[_]).values()):[C];if(E)for(const _ of k)_.sort(E);for(const _ of k){let A=0,D=0;o&&_.reverse();for(const P of _){const R=b[P];R<0?A=M[P]=(x[P]=A)+R:R>0?D=M[P]=(x[P]=D)+R:M[P]=x[P]=D}}T.push(k)}return a&&a(T,x,M,w),{data:p,facets:g}}),l,c,h]}function sP(e){if(e!=null){if(typeof e=="function")return e;switch(`${e}`.toLowerCase()){case"expand":case"normalize":return uP;case"center":case"silhouette":return lP;case"wiggle":return HS}throw new Error(`unknown offset: ${e}`)}}function US(e,t){let r=0,n=0;for(const a of e){const i=t[a];i<r&&(r=i),i>n&&(n=i)}return[r,n]}function uP(e,t,r){for(const n of e)for(const a of n){const[i,o]=US(a,r);for(const s of a){const u=1/(o-i||1);t[s]=u*(t[s]-i),r[s]=u*(r[s]-i)}}}function lP(e,t,r){for(const n of e){for(const a of n){const[i,o]=US(a,r);for(const s of a){const u=(o+i)/2;t[s]-=u,r[s]-=u}}GS(n,t,r)}XS(e,t,r)}function HS(e,t,r,n){for(const a of e){const i=new si;let o=0;for(const s of a){let u=-1;const l=s.map(h=>Math.abs(r[h]-t[h])),f=s.map(h=>{u=n?n[h]:++u;const v=r[h]-t[h],p=i.has(u)?v-i.get(u):0;return i.set(u,v),p}),c=[0,...yM(f)];for(const h of s)t[h]+=o,r[h]+=o;const d=ka(l);d&&(o-=ka(l,(h,v)=>(f[v]/2+c[v])*h)/d)}GS(a,t,r)}XS(e,t,r)}function GS(e,t,r){const n=Qn(e,a=>Qn(a,i=>t[i]));for(const a of e)for(const i of a)t[i]-=n,r[i]-=n}function XS(e,t,r){const n=e.length;if(n===1)return;const a=e.map(s=>s.flat()),i=a.map(s=>(Qn(s,u=>t[u])+Hr(s,u=>r[u]))/2),o=Qn(i);for(let s=0;s<n;s++){const u=o-i[s];for(const l of a[s])t[l]+=u,r[l]+=u}}function fP(e,t,r){if(e===void 0&&t===HS)return $m(Zr);if(e!=null){if(typeof e=="string"){const n=e.startsWith("-"),a=n?xf:Zr;switch((n?e.slice(1):e).toLowerCase()){case"value":case r:return cP(a);case"z":return dP(a);case"sum":return hP(a);case"appearance":return vP(a);case"inside-out":return $m(a)}return Nm(nx(e))}if(typeof e=="function")return(e.length===1?Nm:gP)(e);if(ki(e))return pP(e);throw new Error(`invalid order: ${e}`)}}function cP(e){return(t,r,n)=>(a,i)=>e(n[a],n[i])}function dP(e){return(t,r,n,a)=>(i,o)=>e(a[i],a[o])}function hP(e){return Sc(e,(t,r,n,a)=>Iv(sa(t),i=>ka(i,o=>n[o]),i=>a[i]))}function vP(e){return Sc(e,(t,r,n,a)=>Iv(sa(t),i=>r[_1(i,o=>n[o])],i=>a[i]))}function $m(e){return Sc(e,(t,r,n,a)=>{const i=sa(t),o=Iv(i,c=>r[_1(c,d=>n[d])],c=>a[c]),s=ji(i,c=>ka(c,d=>n[d]),c=>a[c]),u=[],l=[];let f=0;for(const c of o)f<0?(f+=s.get(c),u.push(c)):(f-=s.get(c),l.push(c));return l.reverse().concat(u)})}function Nm(e){return t=>{const r=Ot(t,e);return(n,a)=>Zr(r[n],r[a])}}function gP(e){return t=>ki(t)?(r,n)=>e(t[r],t[n]):(r,n)=>e(t.get(r),t.get(n))}function pP(e){return Sc(Zr,()=>e)}function Sc(e,t){return(r,n,a,i)=>{if(!i)throw new Error("missing channel: z");const o=new si(t(r,n,a,i).map((s,u)=>[s,u]));return(s,u)=>e(o.get(i[s]),o.get(i[u]))}}const mP={ariaLabel:"rect"};class yP extends Tn{constructor(t,r={}){const{x1:n,y1:a,x2:i,y2:o}=r;super(t,{x1:{value:n,scale:"x",type:n!=null&&i==null?"band":void 0,optional:!0},y1:{value:a,scale:"y",type:a!=null&&o==null?"band":void 0,optional:!0},x2:{value:i,scale:"x",optional:!0},y2:{value:o,scale:"y",optional:!0}},r,mP),KS(this,r),ZS(this,r)}render(t,r,n,a,i){const{x:o,y:s}=r;let{x1:u,y1:l,x2:f,y2:c}=n;const{marginTop:d,marginRight:h,marginBottom:v,marginLeft:p,width:g,height:m}=a,{projection:y}=i,{insetTop:b,insetRight:w,insetBottom:E,insetLeft:S}=this,{rx:x,ry:M,rx1y1:T,rx1y2:C,rx2y1:k,rx2y2:_}=this;(u||f)&&!y&&Eo(o)&&(u=f=null),(l||c)&&!y&&Eo(s)&&(l=c=null);const A=o!=null&&o.bandwidth?o.bandwidth():0,D=s!=null&&s.bandwidth?s.bandwidth():0;return tr("svg:g",i).call(_i,this,a,i).call(Pi,this,{},0,0).call(P=>P.selectAll().data(t).enter().call(T||C||k||_?R=>R.append("path").call(Pa,this).call(QS,u&&f?L=>u[L]+(f[L]<u[L]?-w:S):u?L=>u[L]+S:p+S,l&&c?L=>l[L]+(c[L]<l[L]?-E:b):l?L=>l[L]+b:d+b,u&&f?L=>f[L]-(f[L]<u[L]?-S:w):u?L=>u[L]+A-w:g-h-w,l&&c?L=>c[L]-(c[L]<l[L]?-b:E):l?L=>l[L]+D-E:m-v-E,this).call(gi,this,n):R=>R.append("rect").call(Pa,this).attr("x",u?f?L=>Math.min(u[L],f[L])+S:L=>u[L]+S:p+S).attr("y",l?c?L=>Math.min(l[L],c[L])+b:L=>l[L]+b:d+b).attr("width",u?f?L=>Math.max(0,Math.abs(f[L]-u[L])+A-S-w):A-S-w:g-h-p-w-S).attr("height",l?c?L=>Math.max(0,Math.abs(l[L]-c[L])+D-b-E):D-b-E:m-d-v-b-E).call(Ce,"rx",x).call(Ce,"ry",M).call(gi,this,n))).node()}}function KS(e,{inset:t=0,insetTop:r=t,insetRight:n=t,insetBottom:a=t,insetLeft:i=t}={}){e.insetTop=Vt(r),e.insetRight=Vt(n),e.insetBottom=Vt(a),e.insetLeft=Vt(i)}function ZS(e,{r:t,rx:r,ry:n,rx1:a=t,ry1:i=t,rx2:o=t,ry2:s=t,rx1y1:u=a!==void 0?+a:i!==void 0?+i:0,rx1y2:l=a!==void 0?+a:s!==void 0?+s:0,rx2y1:f=o!==void 0?+o:i!==void 0?+i:0,rx2y2:c=o!==void 0?+o:s!==void 0?+s:0}={}){u||l||f||c?(e.rx1y1=u,e.rx1y2=l,e.rx2y1=f,e.rx2y2=c):(e.rx=Lt(r,"auto"),e.ry=Lt(n,"auto"))}function QS(e,t,r,n,a,i){const{rx1y1:o,rx1y2:s,rx2y1:u,rx2y2:l}=i;typeof t!="function"&&(t=Un(t)),typeof r!="function"&&(r=Un(r)),typeof n!="function"&&(n=Un(n)),typeof a!="function"&&(a=Un(a));const f=Math.max(Math.abs(o+u),Math.abs(s+l)),c=Math.max(Math.abs(o+s),Math.abs(u+l));e.attr("d",d=>{const h=t(d),v=r(d),p=n(d),g=a(d),m=h>p,y=v>g,b=m?p:h,w=m?h:p,E=y?g:v,S=y?v:g,x=Math.min(1,(w-b)/f,(S-E)/c),M=x*(m?y?l:u:y?s:o),T=x*(m?y?s:o:y?l:u),C=x*(m?y?o:s:y?u:l),k=x*(m?y?u:l:y?o:s);return`M${b},${E+ul(M,k)}A${M},${M} 0 0 ${M<0?0:1} ${b+sl(M,k)},${E}H${w-sl(T,C)}A${T},${T} 0 0 ${T<0?0:1} ${w},${E+ul(T,C)}V${S-ul(C,T)}A${C},${C} 0 0 ${C<0?0:1} ${w-sl(C,T)},${S}H${b+sl(k,M)}A${k},${k} 0 0 ${k<0?0:1} ${b},${S-ul(k,M)}Z`})}function sl(e,t){return t<0?e:Math.abs(e)}function ul(e,t){return t<0?Math.abs(e):e}function bP(e,t={}){return C8(t)||(t={...t,x:ax,y2:fr,interval:1}),new yP(e,nP(a_(eP(t))))}const wP={ariaLabel:"frame",fill:"none",stroke:"currentColor",clip:!1},xP={ariaLabel:"frame",fill:null,stroke:"currentColor",strokeLinecap:"square",clip:!1};class SP extends Tn{constructor(t={}){const{anchor:r=null}=t;super(Al,void 0,t,r==null?wP:xP),this.anchor=ux(r,"anchor",["top","right","bottom","left"]),KS(this,t),r||ZS(this,t)}render(t,r,n,a,i){const{marginTop:o,marginRight:s,marginBottom:u,marginLeft:l,width:f,height:c}=a,{anchor:d,insetTop:h,insetRight:v,insetBottom:p,insetLeft:g}=this,{rx:m,ry:y,rx1y1:b,rx1y2:w,rx2y1:E,rx2y2:S}=this,x=l+g,M=f-s-v,T=o+h,C=c-u-p;return tr(d?"svg:line":b||w||E||S?"svg:path":"svg:rect",i).datum(0).call(_i,this,a,i).call(Pa,this).call(gi,this,n).call(Pi,this,{}).call(d==="left"?k=>k.attr("x1",x).attr("x2",x).attr("y1",T).attr("y2",C):d==="right"?k=>k.attr("x1",M).attr("x2",M).attr("y1",T).attr("y2",C):d==="top"?k=>k.attr("x1",x).attr("x2",M).attr("y1",T).attr("y2",T):d==="bottom"?k=>k.attr("x1",x).attr("x2",M).attr("y1",C).attr("y2",C):b||w||E||S?k=>k.call(QS,x,T,M,C,this):k=>k.attr("x",x).attr("y",T).attr("width",M-x).attr("height",C-T).attr("rx",m).attr("ry",y)).node()}}function EP(e){return new SP(e)}const Gd={ariaLabel:"tip",fill:"var(--plot-background)",stroke:"currentColor"},TP=new Set(["geometry","href","src","ariaLabel","scales"]);class MP extends Tn{constructor(t,r={}){r.tip&&(r={...r,tip:!1}),r.title===void 0&&Fa(t)&&hx(t)&&(r={...r,title:fr});const{x:n,y:a,x1:i,x2:o,y1:s,y2:u,anchor:l,preferredAnchor:f="bottom",monospace:c,fontFamily:d=c?"ui-monospace, monospace":void 0,fontSize:h,fontStyle:v,fontVariant:p,fontWeight:g,lineHeight:m=1,lineWidth:y=20,frameAnchor:b,format:w,textAnchor:E="start",textOverflow:S,textPadding:x=8,title:M,pointerSize:T=12,pathFilter:C="drop-shadow(0 3px 4px rgba(0,0,0,0.2))"}=r;super(t,{x:{value:i!=null&&o!=null?null:n,scale:"x",optional:!0},y:{value:s!=null&&u!=null?null:a,scale:"y",optional:!0},x1:{value:i,scale:"x",optional:o==null},y1:{value:s,scale:"y",optional:u==null},x2:{value:o,scale:"x",optional:i==null},y2:{value:u,scale:"y",optional:s==null},title:{value:M,optional:!0}},r,Gd),this.anchor=tv(l,"anchor"),this.preferredAnchor=tv(f,"preferredAnchor"),this.frameAnchor=bg(b),this.textAnchor=Lt(E,"middle"),this.textPadding=+x,this.pointerSize=+T,this.pathFilter=er(C),this.lineHeight=+m,this.lineWidth=+y,this.textOverflow=gS(S),this.monospace=!!c,this.fontFamily=er(d),this.fontSize=Vt(h),this.fontStyle=er(v),this.fontVariant=er(p),this.fontWeight=er(g);for(const k in Gd)k in this.channels&&(this[k]=Gd[k]);this.splitLines=yS(this),this.clipLine=bS(this),this.format=typeof w=="string"||typeof w=="function"?{title:w}:{...w}}render(t,r,n,a,i){const o=this,{x:s,y:u,fx:l,fy:f}=r,{ownerSVGElement:c,document:d}=i,{anchor:h,monospace:v,lineHeight:p,lineWidth:g}=this,{textPadding:m,pointerSize:y,pathFilter:b}=this,{marginTop:w,marginLeft:E}=a,{x1:S,y1:x,x2:M,y2:T,x:C=S??M,y:k=x??T}=n,_=l?l(t.fx)-E:0,A=f?f(t.fy)-w:0,[D,P]=bc(this,a),R=jx(n,D),L=Jx(n,P),N=v?Ng:$g,z=N(ro);let F,I;"title"in n?(F=Im.call(this,{title:n.channels.title},r),I=PP):(F=Im.call(this,n.channels,r),I=AP);const B=tr("svg:g",i).call(_i,this,a,i).call(mS,this).call(Pi,this,{x:C&&s,y:k&&u}).call(j=>j.selectAll().data(t).enter().append("g").attr("transform",Q=>`translate(${Math.round(R(Q))},${Math.round(L(Q))})`).call(Pa,this).call(Q=>Q.append("path").attr("filter",b)).call(Q=>Q.append("text").each(function(X){const W=Ji(this);this.setAttribute("fill","currentColor"),this.setAttribute("fill-opacity",1),this.setAttribute("stroke","none");const $=I.call(o,X,t,F,r,n);if(typeof $=="string")for(const q of o.splitLines($))V(W,{value:o.clipLine(q)});else{const q=new Set;for(const U of $){const{label:Y=""}=U;Y&&q.has(Y)||(q.add(Y),V(W,U))}}})));function V(j,{label:Q,value:X,color:W,opacity:$}){Q??(Q=""),X??(X="");const q=W!=null||$!=null;let U,Y=g*100;const[ie]=Mo(Q,Y,N,z);if(ie>=0)Q=Q.slice(0,ie).trimEnd()+ro,U=X.trim(),X="";else{(Q||!X&&!q)&&(X=" "+X);const[re]=Mo(X,Y-N(Q),N,z);re>=0&&(U=X.trim(),X=X.slice(0,re).trimEnd()+ro)}const J=j.append("tspan").attr("x",0).attr("dy",`${p}em`).text("");Q&&J.append("tspan").attr("font-weight","bold").text(Q),X&&J.append(()=>d.createTextNode(X)),q&&J.append("tspan").text(" ").attr("fill",W).attr("fill-opacity",$).style("user-select","none"),U&&J.append("title").text(U)}function K(){const{width:j,height:Q}=a.facet??a;B.selectChildren().each(function(X){let{x:W,width:$,height:q}=this.getBBox();$=Math.round($),q=Math.round(q);let U=h;if(U===void 0){const J=R(X)+_,re=L(X)+A,oe=J+$+y+m*2<j,ue=J-$-y-m*2>0,le=re+q+y+m*2<Q,ge=re-q-y-m*2>0;U=oe&&ue?le&&ge?o.preferredAnchor:ge?"bottom":"top":le&&ge?oe?"left":"right":(oe||ue)&&(le||ge)?`${ge?"bottom":"top"}-${oe?"left":"right"}`:o.preferredAnchor}const Y=this.firstChild,ie=this.lastChild;if(Y.setAttribute("d",_P(U,y,m,$,q)),W)for(const J of ie.childNodes)J.setAttribute("x",-W);ie.setAttribute("y",`${+CP(U,ie.childNodes.length,p).toFixed(6)}em`),ie.setAttribute("transform",`translate(${DP(U,y,m,$,q)})`)}),B.attr("visibility",null)}return t.length&&(B.attr("visibility","hidden"),c.isConnected?Promise.resolve().then(K):typeof requestAnimationFrame<"u"&&requestAnimationFrame(K)),B.node()}}function kP(e,{x:t,y:r,...n}={}){return n.frameAnchor===void 0&&([t,r]=fx(t,r)),new MP(e,{...n,x:t,y:r})}function CP(e,t,r){return/^top(?:-|$)/.test(e)?.94-r:-.29-t*r}function DP(e,t,r,n,a){switch(e){case"middle":return[-n/2,a/2];case"top-left":return[r,t+r];case"top":return[-n/2,t/2+r];case"top-right":return[-n-r,t+r];case"right":return[-t/2-n-r,a/2];case"bottom-left":return[r,-t-r];case"bottom":return[-n/2,-t/2-r];case"bottom-right":return[-n-r,-t-r];case"left":return[r+t/2,a/2]}}function _P(e,t,r,n,a){const i=n+r*2,o=a+r*2;switch(e){case"middle":return`M${-i/2},${-o/2}h${i}v${o}h${-i}z`;case"top-left":return`M0,0l${t},${t}h${i-t}v${o}h${-i}z`;case"top":return`M0,0l${t/2},${t/2}h${(i-t)/2}v${o}h${-i}v${-o}h${(i-t)/2}z`;case"top-right":return`M0,0l${-t},${t}h${t-i}v${o}h${i}z`;case"right":return`M0,0l${-t/2},${-t/2}v${t/2-o/2}h${-i}v${o}h${i}v${t/2-o/2}z`;case"bottom-left":return`M0,0l${t},${-t}h${i-t}v${-o}h${-i}z`;case"bottom":return`M0,0l${t/2},${-t/2}h${(i-t)/2}v${-o}h${-i}v${o}h${(i-t)/2}z`;case"bottom-right":return`M0,0l${-t},${-t}h${t-i}v${-o}h${i}z`;case"left":return`M0,0l${t/2},${-t/2}v${t/2-o/2}h${i}v${o}h${-i}v${t/2-o/2}z`}}function Im(e,t){var a,i;const r={};let n=this.format;n=Bm(n,e,"x"),n=Bm(n,e,"y"),this.format=n;for(const o in n){const s=n[o];if(!(s===null||s===!1))if(o==="fx"||o==="fy")r[o]=!0;else{const u=dm(e,o);u&&(r[o]=u)}}for(const o in e){if(o in r||o in n||TP.has(o)||(o==="x"||o==="y")&&e.geometry)continue;const s=dm(e,o);if(s){if(s.scale==null&&s.defaultScale==="color")continue;r[o]=s}}this.facet&&(t.fx&&!("fx"in n)&&(r.fx=!0),t.fy&&!("fy"in n)&&(r.fy=!0));for(const o in r){const s=this.format[o];if(typeof s=="string"){const u=((a=r[o])==null?void 0:a.value)??((i=t[o])==null?void 0:i.domain())??[];this.format[o]=(ur(u)?Su:Ao)(s)}else if(s===void 0||s===!0){const u=t[o];this.format[o]=u!=null&&u.bandwidth?Ig(u,u.domain()):To}}return r}function Bm(e,t,r){if(!(r in e))return e;const n=`${r}1`,a=`${r}2`;if((n in e||!(n in t))&&(a in e||!(a in t)))return e;const i=Object.entries(e),o=e[r];return i.splice(i.findIndex(([s])=>s===r)+1,0,[n,o],[a,o]),Object.fromEntries(i)}function PP(e,t,{title:r}){return this.format.title(r.value[e],e)}function*AP(e,t,r,n,a){for(const i in r){if(i==="fx"||i==="fy"){yield{label:kf(n,r,i),value:this.format[i](t[i],e)};continue}if(i==="x1"&&"x2"in r||i==="y1"&&"y2"in r)continue;const o=r[i];if(i==="x2"&&"x1"in r)yield{label:zm(n,r,"x"),value:Fm(this.format.x2,r.x1,o,e)};else if(i==="y2"&&"y1"in r)yield{label:zm(n,r,"y"),value:Fm(this.format.y2,r.y1,o,e)};else{const s=o.value[e],u=o.scale;if(!Da(s)&&u==null)continue;yield{label:kf(n,r,i),value:this.format[i](s,e),color:u==="color"?a[i][e]:null,opacity:u==="opacity"?a[i][e]:null}}}}function Fm(e,t,r,n){var a;return(a=r.hint)!=null&&a.length?`${e(r.value[n]-t.value[n],n)}`:`${e(t.value[n],n)}${e(r.value[n],n)}`}function zm(e,t,r){const n=kf(e,t,`${r}1`,r),a=kf(e,t,`${r}2`,r);return n===a?n:`${n}${a}`}function kf(e,t,r,n=r){const a=t[r],i=e[(a==null?void 0:a.scale)??r];return String((i==null?void 0:i.label)??(a==null?void 0:a.label)??n)}function jS(e={}){var z;const{facet:t,style:r,title:n,subtitle:a,caption:i,ariaLabel:o,ariaDescription:s}=e,u=yc(e.className),l=e.marks===void 0?[]:qm(e.marks);l.push(...BP(l));const f=NP(t,e),c=new Map;for(const F of l){const I=Vm(F,f,e);I&&c.set(F,I)}const d=new Map;f&&ns(d,[f],e),ns(d,c,e);const h=qm(FP(l,d,e));for(const F of h){const I=Vm(F,f,e);I&&c.set(F,I)}l.unshift(...h);let v=u9(d,e);if(v!==void 0){const F=f?qd(v,f):void 0;for(const B of l){if(B.facet===null||B.facet==="super")continue;const V=c.get(B);V!==void 0&&(V.facetsIndex=B.fx!=null||B.fy!=null?qd(v,V):F)}const I=new Set;for(const{facetsIndex:B}of c.values())B==null||B.forEach((V,K)=>{(V==null?void 0:V.length)>0&&I.add(K)});v.forEach(0<I.size&&I.size<v.length?(B,V)=>B.empty=!I.has(V):B=>B.empty=!1);for(const B of l)if(B.facet==="exclude"){const V=c.get(B);V!==void 0&&(V.facetsIndex=c9(V.facetsIndex))}}for(const F of ht.keys())Jh(e[F])&&F!=="fx"&&F!=="fy"&&d.set(F,[]);const p=new Map;for(const F of l){if(p.has(F))throw new Error("duplicate mark; each mark must be unique");const{facetsIndex:I,channels:B}=c.get(F)??{},{data:V,facets:K,channels:j}=F.initialize(I,B,e);Bg(j,e),p.set(F,{data:V,facets:K,channels:j})}const g=iv(ns(d,p,e),e),m=K9(g,l,e);j7(g,m);const y=bm(g),{fx:b,fy:w}=y,E=b||w?qx(g,m):m,S=b||w?HP(y,m):m,x=Dg(e),M=x.document,T=Kf("svg").call(M.documentElement);let C=T;x.ownerSVGElement=T,x.className=u,x.projection=w9(e,E),x.filterFacets=(F,I)=>qd(v,{channels:I,groups:Cg(F,I)}),x.getMarkState=F=>{const I=p.get(F),B=c.get(F);return{...I,channels:{...I.channels,...B==null?void 0:B.channels}}},x.dispatchValue=F=>{C.value!==F&&(C.value=F,C.dispatchEvent(new Event("input",{bubbles:!0})))};const k=new Set;for(const[F,I]of p)if(F.initializer!=null){const B=F.facet==="super"?S:E,V=F.initializer(I.data,I.facets,I.channels,y,B,x);if(V.data!==void 0&&(I.data=V.data),V.facets!==void 0&&(I.facets=V.facets),V.channels!==void 0){const{fx:K,fy:j,...Q}=V.channels;$P(Q),Object.assign(I.channels,Q);for(const X of Object.values(Q)){const{scale:W}=X;W!=null&&!U8(ht.get(W))&&(JS(X,e),k.add(W))}(K!=null||j!=null)&&c.set(F,!0)}}if(k.size){const F=new Map;ns(F,p,e,K=>k.has(K)),ns(d,p,e,K=>k.has(K));const I=UP(iv(F,e),g),{scales:B,...V}=bm(I);Object.assign(g,I),Object.assign(y,V),Object.assign(y.scales,B)}let _,A;v!==void 0&&(_={x:b==null?void 0:b.domain(),y:w==null?void 0:w.domain()},v=l9(v,_),A=f9(b,w,m));for(const[F,I]of p)I.values=F.scale(I.channels,y,x);const{width:D,height:P}=m;Ji(T).attr("class",u).attr("fill","currentColor").attr("font-family","system-ui, sans-serif").attr("font-size",10).attr("text-anchor","middle").attr("width",D).attr("height",P).attr("viewBox",`0 0 ${D} ${P}`).attr("aria-label",o).attr("aria-description",s).call(F=>F.append("style").text(`:where(.${u}) {
  --plot-background: white;
  display: block;
  height: auto;
  height: intrinsic;
  max-width: 100%;
}
:where(.${u} text),
:where(.${u} tspan) {
  white-space: pre;
}`)).call(Pg,r);for(const F of l){const{channels:I,values:B,facets:V}=p.get(F);if(v===void 0||F.facet==="super"){let K=null;if(V&&(K=V[0],K=F.filter(K,I,B),K.length===0))continue;const j=F.render(K,y,B,S,x);if(j==null)continue;T.appendChild(j)}else{let K;for(const j of v){if(!(((z=F.facetAnchor)==null?void 0:z.call(F,v,_,j))??!j.empty))continue;let Q=null;if(V){const W=c.has(F);if(Q=V[W?j.i:0],Q=F.filter(Q,I,B),Q.length===0)continue;!W&&Q===V[0]&&(Q=P8(Q)),Q.fx=j.x,Q.fy=j.y,Q.fi=j.i}const X=F.render(Q,y,B,E,x);if(X!=null){(K??(K=Ji(T).append("g"))).append(()=>X).datum(j);for(const W of["aria-label","aria-description","aria-hidden","transform"])X.hasAttribute(W)&&(K.attr(W,X.getAttribute(W)),X.removeAttribute(W))}}K==null||K.selectChildren().attr("transform",A)}}const R=J_(g,x,e),{figure:L=n!=null||a!=null||i!=null||R.length>0}=e;L&&(C=M.createElement("figure"),C.className=`${u}-figure`,C.style.maxWidth="initial",n!=null&&C.append(Ym(M,n,"h2")),a!=null&&C.append(Ym(M,a,"h3")),C.append(...R,T),i!=null&&C.append(OP(M,i)),"value"in T&&(C.value=T.value,delete T.value)),C.scale=o9(y.scales),C.legend=Z_(g,x,e);const N=$7();return N>0&&Ji(T).append("text").attr("x",D).attr("y",20).attr("dy","-1em").attr("text-anchor","end").attr("font-family","initial").text("").append("title").text(`${N.toLocaleString("en-US")} warning${N===1?"":"s"}. Please check the console.`),C}function Ym(e,t,r){if(t.ownerDocument)return t;const n=e.createElement(r);return n.append(t),n}function OP(e,t){const r=e.createElement("figcaption");return r.append(t),r}function qm(e){return e.flat(1/0).filter(t=>t!=null).map(RP)}function RP(e){return typeof e.render=="function"?e:new LP(e)}class LP extends Tn{constructor(t){if(typeof t!="function")throw new TypeError("invalid mark; missing render function");super(),this.render=t}render(){}}function Bg(e,t){for(const r in e)JS(e[r],t);return e}function JS(e,t){const{scale:r,transform:n=!0}=e;if(r==null||!n)return;const{type:a,percent:i,interval:o,transform:s=i?u=>u==null?NaN:u*100:dx(o,a)}=t[r]??{};s!=null&&(e.value=mt(e.value,s),e.transform=!1)}function $P(e){for(const t in e)Dx(t,e[t])}function ns(e,t,r,n=T8){var a,i;for(const{channels:o}of t.values())for(const s in o){const u=o[s],{scale:l}=u;if(l!=null&&n(l))if(l==="projection"){if(!T9(r)){const f=((a=r.x)==null?void 0:a.domain)===void 0,c=((i=r.y)==null?void 0:i.domain)===void 0;if(f||c){const[d,h]=k9(u);f&&Xd(e,"x",d),c&&Xd(e,"y",h)}}}else Xd(e,l,u)}return e}function Xd(e,t,r){const n=e.get(t);n!==void 0?n.push(r):e.set(t,[r])}function NP(e,t){if(e==null)return;const{x:r,y:n}=e;if(r==null&&n==null)return;const a=So(e.data);if(a==null)throw new Error("missing facet data");const i={};r!=null&&(i.fx=Hs(a,{value:r,scale:"fx"})),n!=null&&(i.fy=Hs(a,{value:n,scale:"fy"})),Bg(i,t);const o=Cg(a,i);return{channels:i,groups:o,data:e.data}}function Vm(e,t,r){if(e.facet===null||e.facet==="super")return;const{fx:n,fy:a}=e;if(n!=null||a!=null){const u=So(e.data??n??a);if(u===void 0)throw new Error(`missing facet data in ${e.ariaLabel}`);if(u===null)return;const l={};return n!=null&&(l.fx=Hs(u,{value:n,scale:"fx"})),a!=null&&(l.fy=Hs(u,{value:a,scale:"fy"})),Bg(l,r),{channels:l,groups:Cg(u,l)}}if(t===void 0)return;const{channels:i,groups:o,data:s}=t;if(e.facet!=="auto"||e.data===s)return{channels:i,groups:o};s.length>0&&(o.size>1||o.size===1&&i.fx&&i.fy&&[...o][0][1].size>1)&&Ws(So(e.data))===Ws(s)&&Sa(`Warning: the ${e.ariaLabel} mark appears to use faceted data, but isnt faceted. The mark data has the same length as the facet data and the mark facet option is "auto", but the mark data and facet data are distinct. If this mark should be faceted, set the mark facet option to true; otherwise, suppress this warning by setting the mark facet option to false.`)}function IP(e,t={}){return Tf({...t,x:null,y:null},(r,n,a,i,o,s)=>s.getMarkState(e))}function BP(e){const t=[];for(const r of e){let n=r.tip;if(n){n===!0?n={}:typeof n=="string"&&(n={pointer:n});let{pointer:a,preferredAnchor:i}=n;a=/^x$/i.test(a)?j9:/^y$/i.test(a)?Cm:Q9,n=a(IP(r,n)),n.title=null,i===void 0&&(n.preferredAnchor=a===Cm?"left":"bottom");const o=kP(r.data,n);o.facet=r.facet,o.facetAnchor=r.facetAnchor,t.push(o)}}return t}function FP(e,t,r){let{projection:n,x:a={},y:i={},fx:o={},fy:s={},axis:u,grid:l,facet:f={},facet:{axis:c=u,grid:d}=f,x:{axis:h=u,grid:v=h===null?null:l}=a,y:{axis:p=u,grid:g=p===null?null:l}=i,fx:{axis:m=c,grid:y=m===null?null:d}=o,fy:{axis:b=c,grid:w=b===null?null:d}=s}=r;(n||!Jh(a)&&!Wm("x",e))&&(h=v=null),(n||!Jh(i)&&!Wm("y",e))&&(p=g=null),t.has("fx")||(m=y=null),t.has("fy")||(b=w=null),h===void 0&&(h=!cl(e,"x")),p===void 0&&(p=!cl(e,"y")),m===void 0&&(m=!cl(e,"fx")),b===void 0&&(b=!cl(e,"fy")),h===!0&&(h="bottom"),p===!0&&(p="left"),m===!0&&(m=h==="top"||h===null?"bottom":"top"),b===!0&&(b=p==="right"||p===null?"left":"right");const E=[];return fl(E,w,z_,s),ll(E,b,R_,"right","left",f,s),fl(E,y,q_,o),ll(E,m,L_,"top","bottom",f,o),fl(E,g,F_,i),ll(E,p,_S,"left","right",r,i),fl(E,v,Y_,a),ll(E,h,PS,"bottom","top",r,a),E}function ll(e,t,r,n,a,i,o){if(!t)return;const s=zP(t);o=YP(s?n:t,i,o);const{line:u}=o;(r===_S||r===PS)&&u&&!Us(u)&&e.push(EP(qP(o))),e.push(r(o)),s&&e.push(r({...o,anchor:a,label:null}))}function fl(e,t,r,n){!t||Us(t)||e.push(r(VP(t,n)))}function zP(e){return/^\s*both\s*$/i.test(e)}function YP(e,t,{line:r=t.line,ticks:n,tickSize:a,tickSpacing:i,tickPadding:o,tickFormat:s,tickRotate:u,fontVariant:l,ariaLabel:f,ariaDescription:c,label:d=t.label,labelAnchor:h,labelArrow:v=t.labelArrow,labelOffset:p}){return{anchor:e,line:r,ticks:n,tickSize:a,tickSpacing:i,tickPadding:o,tickFormat:s,tickRotate:u,fontVariant:l,ariaLabel:f,ariaDescription:c,label:d,labelAnchor:h,labelArrow:v,labelOffset:p}}function qP(e){const{anchor:t,line:r}=e;return{anchor:t,facetAnchor:t+"-empty",stroke:r===!0?void 0:r}}function VP(e,{stroke:t=hc(e)?e:void 0,ticks:r=WP(e)?e:void 0,tickSpacing:n,ariaLabel:a,ariaDescription:i}){return{stroke:t,ticks:r,tickSpacing:n,ariaLabel:a,ariaDescription:i}}function WP(e){switch(typeof e){case"number":return!0;case"string":return!hc(e)}return Fa(e)||typeof(e==null?void 0:e.range)=="function"}function cl(e,t){const r=`${t}-axis `;return e.some(n=>{var a;return(a=n.ariaLabel)==null?void 0:a.startsWith(r)})}function Wm(e,t){for(const r of t)for(const n in r.channels){const{scale:a}=r.channels[n];if(a===e||a==="projection")return!0}return!1}function UP(e,t){for(const r in e){const n=e[r],a=t[r];n.label===void 0&&a&&(n.label=a.label)}return e}function HP({fx:e,fy:t},r){const{marginTop:n,marginRight:a,marginBottom:i,marginLeft:o,width:s,height:u}=kg(r),l=e&&Um(e),f=t&&Um(t);return{marginTop:t?f[0]:n,marginRight:e?s-l[1]:a,marginBottom:t?u-f[1]:i,marginLeft:e?l[0]:o,inset:{marginTop:r.marginTop,marginRight:r.marginRight,marginBottom:r.marginBottom,marginLeft:r.marginLeft},width:s,height:u}}function Um(e){const t=e.domain();if(t.length===0)return[0,e.bandwidth()];let r=e(t[0]),n=e(t[t.length-1]);return n<r&&([r,n]=[n,r]),[r,n+e.bandwidth()]}function GP(e={y:"count"},t={}){[e,t]=KP(e,t);const{x:r,y:n}=t;return XP(ZP(r,t,fr),null,null,n,e,wc(t))}function XP(e,t,r,n,{data:a=kx,filter:i=Mf,sort:o,reverse:s,...u}={},l={}){e=Hm(e),t=Hm(t),u=jP(u,l),a=r5(a,fr),o=o==null?void 0:e5("sort",o,l),i=i==null?void 0:t5("filter",i,l),n!=null&&$d(u,"y","y1","y2")&&(n=null);const[f,c]=In(e),[d,h]=In(e),[v,p]=In(t),[g,m]=In(t),[y,b]=n!=null?[n,"y"]:[],[w,E]=In(y),{x:S,y:x,z:M,fill:T,stroke:C,x1:k,x2:_,y1:A,y2:D,domain:P,cumulative:R,thresholds:L,interval:N,...z}=l,[F,I]=In(M),[B]=ta(T),[V]=ta(C),[K,j]=In(B),[Q,X]=In(V);return{..."z"in l&&{z:F||M},..."fill"in l&&{fill:K||T},..."stroke"in l&&{stroke:Q||C},...xg(z,(W,$,q)=>{const U=cx(Ot(W,y),q==null?void 0:q[b]),Y=Ot(W,M),ie=Ot(W,B),J=Ot(W,V),re=r7(u,{z:Y,fill:ie,stroke:J}),oe=[],ue=[],le=U&&E([]),ge=Y&&I([]),He=ie&&j([]),Ne=J&&X([]),ke=e&&c([]),Ge=e&&h([]),Pe=t&&p([]),ze=t&&m([]),ne=tA(e,t,W);let O=0;for(const G of u)G.initialize(W);o&&o.initialize(W),i&&i.initialize(W);for(const G of $){const ee=[];for(const H of u)H.scope("facet",G);o&&o.scope("facet",G),i&&i.scope("facet",G);for(const[H,Z]of um(G,re))for(const[ce,te]of um(Z,U))for(const[se,pe]of ne(te))if(re&&(pe.z=H),!(i&&!i.reduce(se,pe))){ee.push(O++),ue.push(a.reduceIndex(se,W,pe)),U&&le.push(ce),Y&&ge.push(re===Y?H:Y[(se.length>0?se:te)[0]]),ie&&He.push(re===ie?H:ie[(se.length>0?se:te)[0]]),J&&Ne.push(re===J?H:J[(se.length>0?se:te)[0]]),ke&&(ke.push(pe.x1),Ge.push(pe.x2)),Pe&&(Pe.push(pe.y1),ze.push(pe.y2));for(const Se of u)Se.reduce(se,pe);o&&o.reduce(se,pe)}oe.push(ee)}return n7(oe,o,s),{data:ue,facets:oe}}),...!$d(u,"x")&&(f?{x1:f,x2:d,x:ev(f,d)}:{x:S,x1:k,x2:_}),...!$d(u,"y")&&(v?{y1:v,y2:g,y:ev(v,g)}:{y:x,y1:A,y2:D}),...w&&{[b]:w},...Object.fromEntries(u.map(({name:W,output:$})=>[W,$]))}}function KP({cumulative:e,domain:t,thresholds:r,interval:n,...a},i){return[a,{cumulative:e,domain:t,thresholds:r,interval:n,...i}]}function ZP(e,{cumulative:t,domain:r,thresholds:n,interval:a},i){return e={...Tu(e)},e.domain===void 0&&(e.domain=r),e.cumulative===void 0&&(e.cumulative=t),e.thresholds===void 0&&(e.thresholds=n),e.interval===void 0&&(e.interval=a),e.value===void 0&&(e.value=i),e.thresholds=QP(e.thresholds,e.interval),e}function Hm(e){if(e==null)return;const{value:t,cumulative:r,domain:n=Cr,thresholds:a}=e,i=o=>{let s=Ot(o,t),u;if(ur(s)||eA(a)){s=mt(s,sx,Float64Array);let[f,c]=typeof n=="function"?n(s):n,d=typeof a=="function"&&!Gi(a)?a(s,f,c):a;typeof d=="number"&&(d=pw(f,c,d)),Gi(d)&&(n===Cr&&(f=d.floor(f),c=d.offset(d.floor(c))),d=d.range(f,d.offset(c))),u=d}else{s=Sf(s);let[f,c]=typeof n=="function"?n(s):n,d=typeof a=="function"&&!Gi(a)?a(s,f,c):a;if(typeof d=="number")if(n===Cr){let h=Xl(f,c,d);if(isFinite(h))if(h>0){let v=Math.round(f/h),p=Math.round(c/h);v*h<=f||--v,p*h>c||++p;let g=p-v+1;d=new Float64Array(g);for(let m=0;m<g;++m)d[m]=(v+m)*h}else if(h<0){h=-h;let v=Math.round(f*h),p=Math.round(c*h);v/h<=f||--v,p/h>c||++p;let g=p-v+1;d=new Float64Array(g);for(let m=0;m<g;++m)d[m]=(v+m)/h}else d=[f];else d=[f]}else d=Rs(f,c,d);else Gi(d)&&(n===Cr&&(f=d.floor(f),c=d.offset(d.floor(c))),d=d.range(f,d.offset(c)));u=d}const l=[];if(u.length===1)l.push([u[0],u[0]]);else for(let f=1;f<u.length;++f)l.push([u[f-1],u[f]]);return l.bin=(r<0?nA:r>0?rA:Fg)(l,u,s),l};return i.label=Ci(t),i}function QP(e,t,r=Gm){if(e===void 0)return t===void 0?r:Ro(t);if(typeof e=="string"){switch(e.toLowerCase()){case"freedman-diaconis":return DM;case"scott":return P1;case"sturges":return TM;case"auto":return Gm}return dg(e)}return e}function jP(e,t){return J8(e,t,e5)}function e5(e,t,r){return Tx(e,t,r,t5)}function t5(e,t,r){return Mx(e,t,r,r5)}function r5(e,t){return Sg(e,t,JP)}function JP(e){switch(`${e}`.toLowerCase()){case"x":return aA;case"x1":return oA;case"x2":return sA;case"y":return iA;case"y1":return uA;case"y2":return lA;case"z":return f7}throw new Error(`invalid bin reduce: ${e}`)}function Gm(e,t,r){return Math.min(200,P1(e,t,r))}function eA(e){return L8(e)||Fa(e)&&ur(e)}function tA(e,t,r){const n=e==null?void 0:e(r),a=t==null?void 0:t(r);return n&&a?function*(i){const o=n.bin(i);for(const[s,[u,l]]of n.entries()){const f=a.bin(o[s]);for(const[c,[d,h]]of a.entries())yield[f[c],{data:r,x1:u,y1:d,x2:l,y2:h}]}}:n?function*(i){const o=n.bin(i);for(const[s,[u,l]]of n.entries())yield[o[s],{data:r,x1:u,x2:l}]}:function*(i){const o=a.bin(i);for(const[s,[u,l]]of a.entries())yield[o[s],{data:r,y1:u,y2:l}]}}function Fg(e,t,r){return t=Sf(t),n=>{var i;const a=e.map(()=>[]);for(const o of n)(i=a[Uf(t,r[o])-1])==null||i.push(o);return a}}function rA(e,t,r){const n=Fg(e,t,r);return a=>{const i=n(a);for(let o=1,s=i.length;o<s;++o){const u=i[o-1],l=i[o];for(const f of u)l.push(f)}return i}}function nA(e,t,r){const n=Fg(e,t,r);return a=>{const i=n(a);for(let o=i.length-2;o>=0;--o){const s=i[o+1],u=i[o];for(const l of s)u.push(l)}return i}}function n5(e,t){const r=(+e+ +t)/2;return e instanceof Date?new Date(r):r}const aA={reduceIndex(e,t,{x1:r,x2:n}){return n5(r,n)}},iA={reduceIndex(e,t,{y1:r,y2:n}){return n5(r,n)}},oA={reduceIndex(e,t,{x1:r}){return r}},sA={reduceIndex(e,t,{x2:r}){return r}},uA={reduceIndex(e,t,{y1:r}){return r}},lA={reduceIndex(e,t,{y2:r}){return r}};Tn.prototype.plot=function({marks:e=[],...t}={}){return jS({...t,marks:[...e,this]})};function a5({width:e,height:t,scenarioEvents:r}){const n=ln.useRef(null);return ln.useEffect(()=>{var o;const a=r.budgetEvents.map(s=>s.events.map(u=>({date:new Date(u.date),amount:u.value,name:s.budget.name}))),i=jS({width:e,height:t,marginLeft:50,y:{grid:!0},marks:[cS([0]),bP(a.flat(),GP({y:"sum"},{x:"date",y:"amount",fill:"name",interval:"month",cumulative:!0}))]});return(o=n.current)==null||o.append(i),()=>i.remove()},[t,r.budgetEvents,e]),ii.jsx("div",{ref:n,className:"h-full w-full"})}a5.__docgenInfo={description:"",methods:[],displayName:"ScenarioChart",props:{width:{required:!0,tsType:{name:"number"},description:""},height:{required:!0,tsType:{name:"number"},description:""},scenarioEvents:{required:!0,tsType:{name:"ScenarioEvents"},description:""}}};function fA({scenarioEvents:e}){return ii.jsx(w1,{children:({width:t,height:r})=>ii.jsx(a5,{width:t,height:r,scenarioEvents:e})})}fA.__docgenInfo={description:"",methods:[],displayName:"ScenarioChart",props:{scenarioEvents:{required:!0,tsType:{name:"ScenarioEvents"},description:""}}};function St(e){"@babel/helpers - typeof";return St=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},St(e)}function zg(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function cA(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function Yg(e,t,r){return t&&cA(e.prototype,t),Object.defineProperty(e,"prototype",{writable:!1}),e}function i5(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function Fr(e,t){return dA(e)||hA(e,t)||o5(e,t)||vA()}function dA(e){if(Array.isArray(e))return e}function hA(e,t){var r=e==null?null:typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(r!=null){var n=[],a=!0,i=!1,o,s;try{for(r=r.call(e);!(a=(o=r.next()).done)&&(n.push(o.value),!(t&&n.length===t));a=!0);}catch(u){i=!0,s=u}finally{try{!a&&r.return!=null&&r.return()}finally{if(i)throw s}}return n}}function o5(e,t){if(e){if(typeof e=="string")return Xm(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);if(r==="Object"&&e.constructor&&(r=e.constructor.name),r==="Map"||r==="Set")return Array.from(e);if(r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r))return Xm(e,t)}}function Xm(e,t){(t==null||t>e.length)&&(t=e.length);for(var r=0,n=new Array(t);r<t;r++)n[r]=e[r];return n}function vA(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function s5(e,t){var r=typeof Symbol<"u"&&e[Symbol.iterator]||e["@@iterator"];if(!r){if(Array.isArray(e)||(r=o5(e))||t){r&&(e=r);var n=0,a=function(){};return{s:a,n:function(){return n>=e.length?{done:!0}:{done:!1,value:e[n++]}},e:function(u){throw u},f:a}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var i=!0,o=!1,s;return{s:function(){r=r.call(e)},n:function(){var u=r.next();return i=u.done,u},e:function(u){o=!0,s=u},f:function(){try{!i&&r.return!=null&&r.return()}finally{if(o)throw s}}}}var bt=typeof window>"u"?null:window,Km=bt?bt.navigator:null;bt&&bt.document;var gA=St(""),u5=St({}),pA=St(function(){}),mA=typeof HTMLElement>"u"?"undefined":St(HTMLElement),Pu=function(t){return t&&t.instanceString&&ft(t.instanceString)?t.instanceString():null},ye=function(t){return t!=null&&St(t)==gA},ft=function(t){return t!=null&&St(t)===pA},Je=function(t){return!gr(t)&&(Array.isArray?Array.isArray(t):t!=null&&t instanceof Array)},Fe=function(t){return t!=null&&St(t)===u5&&!Je(t)&&t.constructor===Object},yA=function(t){return t!=null&&St(t)===u5},fe=function(t){return t!=null&&St(t)===St(1)&&!isNaN(t)},bA=function(t){return fe(t)&&Math.floor(t)===t},Cf=function(t){if(mA!=="undefined")return t!=null&&t instanceof HTMLElement},gr=function(t){return Au(t)||l5(t)},Au=function(t){return Pu(t)==="collection"&&t._private.single},l5=function(t){return Pu(t)==="collection"&&!t._private.single},qg=function(t){return Pu(t)==="core"},f5=function(t){return Pu(t)==="stylesheet"},wA=function(t){return Pu(t)==="event"},Aa=function(t){return t==null?!0:!!(t===""||t.match(/^\s+$/))},xA=function(t){return typeof HTMLElement>"u"?!1:t instanceof HTMLElement},SA=function(t){return Fe(t)&&fe(t.x1)&&fe(t.x2)&&fe(t.y1)&&fe(t.y2)},EA=function(t){return yA(t)&&ft(t.then)},TA=function(){return Km&&Km.userAgent.match(/msie|trident|edge/i)},Xs=function(t,r){r||(r=function(){if(arguments.length===1)return arguments[0];if(arguments.length===0)return"undefined";for(var i=[],o=0;o<arguments.length;o++)i.push(arguments[o]);return i.join("$")});var n=function a(){var i=this,o=arguments,s,u=r.apply(i,o),l=a.cache;return(s=l[u])||(s=l[u]=t.apply(i,o)),s};return n.cache={},n},Vg=Xs(function(e){return e.replace(/([A-Z])/g,function(t){return"-"+t.toLowerCase()})}),Ec=Xs(function(e){return e.replace(/(-\w)/g,function(t){return t[1].toUpperCase()})}),c5=Xs(function(e,t){return e+t[0].toUpperCase()+t.substring(1)},function(e,t){return e+"$"+t}),Zm=function(t){return Aa(t)?t:t.charAt(0).toUpperCase()+t.substring(1)},wt="(?:[-+]?(?:(?:\\d+|\\d*\\.\\d+)(?:[Ee][+-]?\\d+)?))",MA="rgb[a]?\\(("+wt+"[%]?)\\s*,\\s*("+wt+"[%]?)\\s*,\\s*("+wt+"[%]?)(?:\\s*,\\s*("+wt+"))?\\)",kA="rgb[a]?\\((?:"+wt+"[%]?)\\s*,\\s*(?:"+wt+"[%]?)\\s*,\\s*(?:"+wt+"[%]?)(?:\\s*,\\s*(?:"+wt+"))?\\)",CA="hsl[a]?\\(("+wt+")\\s*,\\s*("+wt+"[%])\\s*,\\s*("+wt+"[%])(?:\\s*,\\s*("+wt+"))?\\)",DA="hsl[a]?\\((?:"+wt+")\\s*,\\s*(?:"+wt+"[%])\\s*,\\s*(?:"+wt+"[%])(?:\\s*,\\s*(?:"+wt+"))?\\)",_A="\\#[0-9a-fA-F]{3}",PA="\\#[0-9a-fA-F]{6}",d5=function(t,r){return t<r?-1:t>r?1:0},AA=function(t,r){return-1*d5(t,r)},we=Object.assign!=null?Object.assign.bind(Object):function(e){for(var t=arguments,r=1;r<t.length;r++){var n=t[r];if(n!=null)for(var a=Object.keys(n),i=0;i<a.length;i++){var o=a[i];e[o]=n[o]}}return e},OA=function(t){if(!(!(t.length===4||t.length===7)||t[0]!=="#")){var r=t.length===4,n,a,i,o=16;return r?(n=parseInt(t[1]+t[1],o),a=parseInt(t[2]+t[2],o),i=parseInt(t[3]+t[3],o)):(n=parseInt(t[1]+t[2],o),a=parseInt(t[3]+t[4],o),i=parseInt(t[5]+t[6],o)),[n,a,i]}},RA=function(t){var r,n,a,i,o,s,u,l;function f(v,p,g){return g<0&&(g+=1),g>1&&(g-=1),g<1/6?v+(p-v)*6*g:g<1/2?p:g<2/3?v+(p-v)*(2/3-g)*6:v}var c=new RegExp("^"+CA+"$").exec(t);if(c){if(n=parseInt(c[1]),n<0?n=(360- -1*n%360)%360:n>360&&(n=n%360),n/=360,a=parseFloat(c[2]),a<0||a>100||(a=a/100,i=parseFloat(c[3]),i<0||i>100)||(i=i/100,o=c[4],o!==void 0&&(o=parseFloat(o),o<0||o>1)))return;if(a===0)s=u=l=Math.round(i*255);else{var d=i<.5?i*(1+a):i+a-i*a,h=2*i-d;s=Math.round(255*f(h,d,n+1/3)),u=Math.round(255*f(h,d,n)),l=Math.round(255*f(h,d,n-1/3))}r=[s,u,l,o]}return r},LA=function(t){var r,n=new RegExp("^"+MA+"$").exec(t);if(n){r=[];for(var a=[],i=1;i<=3;i++){var o=n[i];if(o[o.length-1]==="%"&&(a[i]=!0),o=parseFloat(o),a[i]&&(o=o/100*255),o<0||o>255)return;r.push(Math.floor(o))}var s=a[1]||a[2]||a[3],u=a[1]&&a[2]&&a[3];if(s&&!u)return;var l=n[4];if(l!==void 0){if(l=parseFloat(l),l<0||l>1)return;r.push(l)}}return r},$A=function(t){return IA[t.toLowerCase()]},NA=function(t){return(Je(t)?t:null)||$A(t)||OA(t)||LA(t)||RA(t)},IA={transparent:[0,0,0,0],aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],grey:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},h5=function(t){for(var r=t.map,n=t.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(Fe(o))throw Error("Tried to set map with object key");i<n.length-1?(r[o]==null&&(r[o]={}),r=r[o]):r[o]=t.value}},v5=function(t){for(var r=t.map,n=t.keys,a=n.length,i=0;i<a;i++){var o=n[i];if(Fe(o))throw Error("Tried to get map with object key");if(r=r[o],r==null)return r}return r};function BA(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var pi=BA,xs=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function FA(e,t){return t={exports:{}},e(t,t.exports),t.exports}var zA=typeof xs=="object"&&xs&&xs.Object===Object&&xs,YA=zA,qA=typeof self=="object"&&self&&self.Object===Object&&self,VA=YA||qA||Function("return this")(),Tc=VA,WA=function(){return Tc.Date.now()},Kd=WA,UA=/\s/;function HA(e){for(var t=e.length;t--&&UA.test(e.charAt(t)););return t}var GA=HA,XA=/^\s+/;function KA(e){return e&&e.slice(0,GA(e)+1).replace(XA,"")}var ZA=KA,QA=Tc.Symbol,ko=QA,g5=Object.prototype,jA=g5.hasOwnProperty,JA=g5.toString,as=ko?ko.toStringTag:void 0;function eO(e){var t=jA.call(e,as),r=e[as];try{e[as]=void 0;var n=!0}catch{}var a=JA.call(e);return n&&(t?e[as]=r:delete e[as]),a}var tO=eO,rO=Object.prototype,nO=rO.toString;function aO(e){return nO.call(e)}var iO=aO,oO="[object Null]",sO="[object Undefined]",Qm=ko?ko.toStringTag:void 0;function uO(e){return e==null?e===void 0?sO:oO:Qm&&Qm in Object(e)?tO(e):iO(e)}var p5=uO;function lO(e){return e!=null&&typeof e=="object"}var fO=lO,cO="[object Symbol]";function dO(e){return typeof e=="symbol"||fO(e)&&p5(e)==cO}var Ou=dO,jm=NaN,hO=/^[-+]0x[0-9a-f]+$/i,vO=/^0b[01]+$/i,gO=/^0o[0-7]+$/i,pO=parseInt;function mO(e){if(typeof e=="number")return e;if(Ou(e))return jm;if(pi(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=pi(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=ZA(e);var r=vO.test(e);return r||gO.test(e)?pO(e.slice(2),r?2:8):hO.test(e)?jm:+e}var Jm=mO,yO="Expected a function",bO=Math.max,wO=Math.min;function xO(e,t,r){var n,a,i,o,s,u,l=0,f=!1,c=!1,d=!0;if(typeof e!="function")throw new TypeError(yO);t=Jm(t)||0,pi(r)&&(f=!!r.leading,c="maxWait"in r,i=c?bO(Jm(r.maxWait)||0,t):i,d="trailing"in r?!!r.trailing:d);function h(S){var x=n,M=a;return n=a=void 0,l=S,o=e.apply(M,x),o}function v(S){return l=S,s=setTimeout(m,t),f?h(S):o}function p(S){var x=S-u,M=S-l,T=t-x;return c?wO(T,i-M):T}function g(S){var x=S-u,M=S-l;return u===void 0||x>=t||x<0||c&&M>=i}function m(){var S=Kd();if(g(S))return y(S);s=setTimeout(m,p(S))}function y(S){return s=void 0,d&&n?h(S):(n=a=void 0,o)}function b(){s!==void 0&&clearTimeout(s),l=0,n=u=a=s=void 0}function w(){return s===void 0?o:y(Kd())}function E(){var S=Kd(),x=g(S);if(n=arguments,a=this,u=S,x){if(s===void 0)return v(u);if(c)return clearTimeout(s),s=setTimeout(m,t),h(u)}return s===void 0&&(s=setTimeout(m,t)),o}return E.cancel=b,E.flush=w,E}var Mc=xO,Zd=bt?bt.performance:null,m5=Zd&&Zd.now?function(){return Zd.now()}:function(){return Date.now()},SO=function(){if(bt){if(bt.requestAnimationFrame)return function(e){bt.requestAnimationFrame(e)};if(bt.mozRequestAnimationFrame)return function(e){bt.mozRequestAnimationFrame(e)};if(bt.webkitRequestAnimationFrame)return function(e){bt.webkitRequestAnimationFrame(e)};if(bt.msRequestAnimationFrame)return function(e){bt.msRequestAnimationFrame(e)}}return function(e){e&&setTimeout(function(){e(m5())},1e3/60)}}(),Df=function(t){return SO(t)},ra=m5,Xi=9261,y5=65599,Ss=5381,b5=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xi,n=r,a;a=t.next(),!a.done;)n=n*y5+a.value|0;return n},Ks=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Xi;return r*y5+t|0},Zs=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Ss;return(r<<5)+r+t|0},EO=function(t,r){return t*2097152+r},ha=function(t){return t[0]*2097152+t[1]},dl=function(t,r){return[Ks(t[0],r[0]),Zs(t[1],r[1])]},TO=function(t,r){var n={value:0,done:!1},a=0,i=t.length,o={next:function(){return a<i?n.value=t[a++]:n.done=!0,n}};return b5(o,r)},mi=function(t,r){var n={value:0,done:!1},a=0,i=t.length,o={next:function(){return a<i?n.value=t.charCodeAt(a++):n.done=!0,n}};return b5(o,r)},w5=function(){return MO(arguments)},MO=function(t){for(var r,n=0;n<t.length;n++){var a=t[n];n===0?r=mi(a):r=mi(a,r)}return r},ey=!0,kO=console.warn!=null,CO=console.trace!=null,Wg=Number.MAX_SAFE_INTEGER||9007199254740991,x5=function(){return!0},_f=function(){return!1},ty=function(){return 0},Ug=function(){},vt=function(t){throw new Error(t)},S5=function(t){if(t!==void 0)ey=!!t;else return ey},Ke=function(t){S5()&&(kO?console.warn(t):(console.log(t),CO&&console.trace()))},DO=function(t){return we({},t)},vn=function(t){return t==null?t:Je(t)?t.slice():Fe(t)?DO(t):t},_O=function(t){return t.slice()},E5=function(t,r){for(r=t="";t++<36;r+=t*51&52?(t^15?8^Math.random()*(t^20?16:4):4).toString(16):"-");return r},PO={},T5=function(){return PO},Bt=function(t){var r=Object.keys(t);return function(n){for(var a={},i=0;i<r.length;i++){var o=r[i],s=n==null?void 0:n[o];a[o]=s===void 0?t[o]:s}return a}},Oa=function(t,r,n){for(var a=t.length-1;a>=0;a--)t[a]===r&&t.splice(a,1)},Hg=function(t){t.splice(0,t.length)},AO=function(t,r){for(var n=0;n<r.length;n++){var a=r[n];t.push(a)}},Yr=function(t,r,n){return n&&(r=c5(n,r)),t[r]},pa=function(t,r,n,a){n&&(r=c5(n,r)),t[r]=a},OO=function(){function e(){zg(this,e),this._obj={}}return Yg(e,[{key:"set",value:function(r,n){return this._obj[r]=n,this}},{key:"delete",value:function(r){return this._obj[r]=void 0,this}},{key:"clear",value:function(){this._obj={}}},{key:"has",value:function(r){return this._obj[r]!==void 0}},{key:"get",value:function(r){return this._obj[r]}}]),e}(),gn=typeof Map<"u"?Map:OO,RO="undefined",LO=function(){function e(t){if(zg(this,e),this._obj=Object.create(null),this.size=0,t!=null){var r;t.instanceString!=null&&t.instanceString()===this.instanceString()?r=t.toArray():r=t;for(var n=0;n<r.length;n++)this.add(r[n])}}return Yg(e,[{key:"instanceString",value:function(){return"set"}},{key:"add",value:function(r){var n=this._obj;n[r]!==1&&(n[r]=1,this.size++)}},{key:"delete",value:function(r){var n=this._obj;n[r]===1&&(n[r]=0,this.size--)}},{key:"clear",value:function(){this._obj=Object.create(null)}},{key:"has",value:function(r){return this._obj[r]===1}},{key:"toArray",value:function(){var r=this;return Object.keys(this._obj).filter(function(n){return r.has(n)})}},{key:"forEach",value:function(r,n){return this.toArray().forEach(r,n)}}]),e}(),No=(typeof Set>"u"?"undefined":St(Set))!==RO?Set:LO,kc=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(t===void 0||r===void 0||!qg(t)){vt("An element must have a core reference and parameters set");return}var a=r.group;if(a==null&&(r.data&&r.data.source!=null&&r.data.target!=null?a="edges":a="nodes"),a!=="nodes"&&a!=="edges"){vt("An element must be of type `nodes` or `edges`; you specified `"+a+"`");return}this.length=1,this[0]=this;var i=this._private={cy:t,single:!0,data:r.data||{},position:r.position||{x:0,y:0},autoWidth:void 0,autoHeight:void 0,autoPadding:void 0,compoundBoundsClean:!1,listeners:[],group:a,style:{},rstyle:{},styleCxts:[],styleKeys:{},removed:!0,selected:!!r.selected,selectable:r.selectable===void 0?!0:!!r.selectable,locked:!!r.locked,grabbed:!1,grabbable:r.grabbable===void 0?!0:!!r.grabbable,pannable:r.pannable===void 0?a==="edges":!!r.pannable,active:!1,classes:new No,animation:{current:[],queue:[]},rscratch:{},scratch:r.scratch||{},edges:[],children:[],parent:r.parent&&r.parent.isNode()?r.parent:null,traversalCache:{},backgrounding:!1,bbCache:null,bbCacheShift:{x:0,y:0},bodyBounds:null,overlayBounds:null,labelBounds:{all:null,source:null,target:null,main:null},arrowBounds:{source:null,target:null,"mid-source":null,"mid-target":null}};if(i.position.x==null&&(i.position.x=0),i.position.y==null&&(i.position.y=0),r.renderedPosition){var o=r.renderedPosition,s=t.pan(),u=t.zoom();i.position={x:(o.x-s.x)/u,y:(o.y-s.y)/u}}var l=[];Je(r.classes)?l=r.classes:ye(r.classes)&&(l=r.classes.split(/\s+/));for(var f=0,c=l.length;f<c;f++){var d=l[f];!d||d===""||i.classes.add(d)}this.createEmitter();var h=r.style||r.css;h&&(Ke("Setting a `style` bypass at element creation should be done only when absolutely necessary.  Try to use the stylesheet instead."),this.style(h)),(n===void 0||n)&&this.restore()},ry=function(t){return t={bfs:t.bfs||!t.dfs,dfs:t.dfs||!t.bfs},function(n,a,i){var o;Fe(n)&&!gr(n)&&(o=n,n=o.roots||o.root,a=o.visit,i=o.directed),i=arguments.length===2&&!ft(a)?a:i,a=ft(a)?a:function(){};for(var s=this._private.cy,u=n=ye(n)?this.filter(n):n,l=[],f=[],c={},d={},h={},v=0,p,g=this.byGroup(),m=g.nodes,y=g.edges,b=0;b<u.length;b++){var w=u[b],E=w.id();w.isNode()&&(l.unshift(w),t.bfs&&(h[E]=!0,f.push(w)),d[E]=0)}for(var S=function(){var A=t.bfs?l.shift():l.pop(),D=A.id();if(t.dfs){if(h[D])return"continue";h[D]=!0,f.push(A)}var P=d[D],R=c[D],L=R!=null?R.source():null,N=R!=null?R.target():null,z=R==null?void 0:A.same(L)?N[0]:L[0],F=void 0;if(F=a(A,R,z,v++,P),F===!0)return p=A,"break";if(F===!1)return"break";for(var I=A.connectedEdges().filter(function(Q){return(!i||Q.source().same(A))&&y.has(Q)}),B=0;B<I.length;B++){var V=I[B],K=V.connectedNodes().filter(function(Q){return!Q.same(A)&&m.has(Q)}),j=K.id();K.length!==0&&!h[j]&&(K=K[0],l.push(K),t.bfs&&(h[j]=!0,f.push(K)),c[j]=V,d[j]=d[D]+1)}};l.length!==0;){var x=S();if(x!=="continue"&&x==="break")break}for(var M=s.collection(),T=0;T<f.length;T++){var C=f[T],k=c[C.id()];k!=null&&M.push(k),M.push(C)}return{path:s.collection(M),found:s.collection(p)}}},Qs={breadthFirstSearch:ry({bfs:!0}),depthFirstSearch:ry({dfs:!0})};Qs.bfs=Qs.breadthFirstSearch;Qs.dfs=Qs.depthFirstSearch;var $O=FA(function(e,t){(function(){var r,n,a,i,o,s,u,l,f,c,d,h,v,p,g;a=Math.floor,c=Math.min,n=function(m,y){return m<y?-1:m>y?1:0},f=function(m,y,b,w,E){var S;if(b==null&&(b=0),E==null&&(E=n),b<0)throw new Error("lo must be non-negative");for(w==null&&(w=m.length);b<w;)S=a((b+w)/2),E(y,m[S])<0?w=S:b=S+1;return[].splice.apply(m,[b,b-b].concat(y)),y},s=function(m,y,b){return b==null&&(b=n),m.push(y),p(m,0,m.length-1,b)},o=function(m,y){var b,w;return y==null&&(y=n),b=m.pop(),m.length?(w=m[0],m[0]=b,g(m,0,y)):w=b,w},l=function(m,y,b){var w;return b==null&&(b=n),w=m[0],m[0]=y,g(m,0,b),w},u=function(m,y,b){var w;return b==null&&(b=n),m.length&&b(m[0],y)<0&&(w=[m[0],y],y=w[0],m[0]=w[1],g(m,0,b)),y},i=function(m,y){var b,w,E,S,x,M;for(y==null&&(y=n),S=(function(){M=[];for(var T=0,C=a(m.length/2);0<=C?T<C:T>C;0<=C?T++:T--)M.push(T);return M}).apply(this).reverse(),x=[],w=0,E=S.length;w<E;w++)b=S[w],x.push(g(m,b,y));return x},v=function(m,y,b){var w;if(b==null&&(b=n),w=m.indexOf(y),w!==-1)return p(m,0,w,b),g(m,w,b)},d=function(m,y,b){var w,E,S,x,M;if(b==null&&(b=n),E=m.slice(0,y),!E.length)return E;for(i(E,b),M=m.slice(y),S=0,x=M.length;S<x;S++)w=M[S],u(E,w,b);return E.sort(b).reverse()},h=function(m,y,b){var w,E,S,x,M,T,C,k,_;if(b==null&&(b=n),y*10<=m.length){if(S=m.slice(0,y).sort(b),!S.length)return S;for(E=S[S.length-1],C=m.slice(y),x=0,T=C.length;x<T;x++)w=C[x],b(w,E)<0&&(f(S,w,0,null,b),S.pop(),E=S[S.length-1]);return S}for(i(m,b),_=[],M=0,k=c(y,m.length);0<=k?M<k:M>k;0<=k?++M:--M)_.push(o(m,b));return _},p=function(m,y,b,w){var E,S,x;for(w==null&&(w=n),E=m[b];b>y;){if(x=b-1>>1,S=m[x],w(E,S)<0){m[b]=S,b=x;continue}break}return m[b]=E},g=function(m,y,b){var w,E,S,x,M;for(b==null&&(b=n),E=m.length,M=y,S=m[y],w=2*y+1;w<E;)x=w+1,x<E&&!(b(m[w],m[x])<0)&&(w=x),m[y]=m[w],y=w,w=2*y+1;return m[y]=S,p(m,M,y,b)},r=function(){m.push=s,m.pop=o,m.replace=l,m.pushpop=u,m.heapify=i,m.updateItem=v,m.nlargest=d,m.nsmallest=h;function m(y){this.cmp=y??n,this.nodes=[]}return m.prototype.push=function(y){return s(this.nodes,y,this.cmp)},m.prototype.pop=function(){return o(this.nodes,this.cmp)},m.prototype.peek=function(){return this.nodes[0]},m.prototype.contains=function(y){return this.nodes.indexOf(y)!==-1},m.prototype.replace=function(y){return l(this.nodes,y,this.cmp)},m.prototype.pushpop=function(y){return u(this.nodes,y,this.cmp)},m.prototype.heapify=function(){return i(this.nodes,this.cmp)},m.prototype.updateItem=function(y){return v(this.nodes,y,this.cmp)},m.prototype.clear=function(){return this.nodes=[]},m.prototype.empty=function(){return this.nodes.length===0},m.prototype.size=function(){return this.nodes.length},m.prototype.clone=function(){var y;return y=new m,y.nodes=this.nodes.slice(0),y},m.prototype.toArray=function(){return this.nodes.slice(0)},m.prototype.insert=m.prototype.push,m.prototype.top=m.prototype.peek,m.prototype.front=m.prototype.peek,m.prototype.has=m.prototype.contains,m.prototype.copy=m.prototype.clone,m}(),function(m,y){return e.exports=y()}(this,function(){return r})}).call(xs)}),Ru=$O,NO=Bt({root:null,weight:function(t){return 1},directed:!1}),IO={dijkstra:function(t){if(!Fe(t)){var r=arguments;t={root:r[0],weight:r[1],directed:r[2]}}var n=NO(t),a=n.root,i=n.weight,o=n.directed,s=this,u=i,l=ye(a)?this.filter(a)[0]:a[0],f={},c={},d={},h=this.byGroup(),v=h.nodes,p=h.edges;p.unmergeBy(function(P){return P.isLoop()});for(var g=function(R){return f[R.id()]},m=function(R,L){f[R.id()]=L,y.updateItem(R)},y=new Ru(function(P,R){return g(P)-g(R)}),b=0;b<v.length;b++){var w=v[b];f[w.id()]=w.same(l)?0:1/0,y.push(w)}for(var E=function(R,L){for(var N=(o?R.edgesTo(L):R.edgesWith(L)).intersect(p),z=1/0,F,I=0;I<N.length;I++){var B=N[I],V=u(B);(V<z||!F)&&(z=V,F=B)}return{edge:F,dist:z}};y.size()>0;){var S=y.pop(),x=g(S),M=S.id();if(d[M]=x,x!==1/0)for(var T=S.neighborhood().intersect(v),C=0;C<T.length;C++){var k=T[C],_=k.id(),A=E(S,k),D=x+A.dist;D<g(k)&&(m(k,D),c[_]={node:S,edge:A.edge})}}return{distanceTo:function(R){var L=ye(R)?v.filter(R)[0]:R[0];return d[L.id()]},pathTo:function(R){var L=ye(R)?v.filter(R)[0]:R[0],N=[],z=L,F=z.id();if(L.length>0)for(N.unshift(L);c[F];){var I=c[F];N.unshift(I.edge),N.unshift(I.node),z=I.node,F=z.id()}return s.spawn(N)}}}},BO={kruskal:function(t){t=t||function(b){return 1};for(var r=this.byGroup(),n=r.nodes,a=r.edges,i=n.length,o=new Array(i),s=n,u=function(w){for(var E=0;E<o.length;E++){var S=o[E];if(S.has(w))return E}},l=0;l<i;l++)o[l]=this.spawn(n[l]);for(var f=a.sort(function(b,w){return t(b)-t(w)}),c=0;c<f.length;c++){var d=f[c],h=d.source()[0],v=d.target()[0],p=u(h),g=u(v),m=o[p],y=o[g];p!==g&&(s.merge(d),m.merge(y),o.splice(g,1))}return s}},FO=Bt({root:null,goal:null,weight:function(t){return 1},heuristic:function(t){return 0},directed:!1}),zO={aStar:function(t){var r=this.cy(),n=FO(t),a=n.root,i=n.goal,o=n.heuristic,s=n.directed,u=n.weight;a=r.collection(a)[0],i=r.collection(i)[0];var l=a.id(),f=i.id(),c={},d={},h={},v=new Ru(function(F,I){return d[F.id()]-d[I.id()]}),p=new No,g={},m={},y=function(I,B){v.push(I),p.add(B)},b,w,E=function(){b=v.pop(),w=b.id(),p.delete(w)},S=function(I){return p.has(I)};y(a,l),c[l]=0,d[l]=o(a);for(var x=0;v.size()>0;){if(E(),x++,w===f){for(var M=[],T=i,C=f,k=m[C];M.unshift(T),k!=null&&M.unshift(k),T=g[C],T!=null;)C=T.id(),k=m[C];return{found:!0,distance:c[w],path:this.spawn(M),steps:x}}h[w]=!0;for(var _=b._private.edges,A=0;A<_.length;A++){var D=_[A];if(this.hasElementWithId(D.id())&&!(s&&D.data("source")!==w)){var P=D.source(),R=D.target(),L=P.id()!==w?P:R,N=L.id();if(this.hasElementWithId(N)&&!h[N]){var z=c[w]+u(D);if(!S(N)){c[N]=z,d[N]=z+o(L),y(L,N),g[N]=b,m[N]=D;continue}z<c[N]&&(c[N]=z,d[N]=z+o(L),g[N]=b,m[N]=D)}}}}return{found:!1,distance:void 0,path:void 0,steps:x}}},YO=Bt({weight:function(t){return 1},directed:!1}),qO={floydWarshall:function(t){for(var r=this.cy(),n=YO(t),a=n.weight,i=n.directed,o=a,s=this.byGroup(),u=s.nodes,l=s.edges,f=u.length,c=f*f,d=function(V){return u.indexOf(V)},h=function(V){return u[V]},v=new Array(c),p=0;p<c;p++){var g=p%f,m=(p-g)/f;m===g?v[p]=0:v[p]=1/0}for(var y=new Array(c),b=new Array(c),w=0;w<l.length;w++){var E=l[w],S=E.source()[0],x=E.target()[0];if(S!==x){var M=d(S),T=d(x),C=M*f+T,k=o(E);if(v[C]>k&&(v[C]=k,y[C]=T,b[C]=E),!i){var _=T*f+M;!i&&v[_]>k&&(v[_]=k,y[_]=M,b[_]=E)}}}for(var A=0;A<f;A++)for(var D=0;D<f;D++)for(var P=D*f+A,R=0;R<f;R++){var L=D*f+R,N=A*f+R;v[P]+v[N]<v[L]&&(v[L]=v[P]+v[N],y[L]=y[P])}var z=function(V){return(ye(V)?r.filter(V):V)[0]},F=function(V){return d(z(V))},I={distance:function(V,K){var j=F(V),Q=F(K);return v[j*f+Q]},path:function(V,K){var j=F(V),Q=F(K),X=h(j);if(j===Q)return X.collection();if(y[j*f+Q]==null)return r.collection();var W=r.collection(),$=j,q;for(W.merge(X);j!==Q;)$=j,j=y[j*f+Q],q=b[$*f+j],W.merge(q),W.merge(h(j));return W}};return I}},VO=Bt({weight:function(t){return 1},directed:!1,root:null}),WO={bellmanFord:function(t){var r=this,n=VO(t),a=n.weight,i=n.directed,o=n.root,s=a,u=this,l=this.cy(),f=this.byGroup(),c=f.edges,d=f.nodes,h=d.length,v=new gn,p=!1,g=[];o=l.collection(o)[0],c.unmergeBy(function(ue){return ue.isLoop()});for(var m=c.length,y=function(le){var ge=v.get(le.id());return ge||(ge={},v.set(le.id(),ge)),ge},b=function(le){return(ye(le)?l.$(le):le)[0]},w=function(le){return y(b(le)).dist},E=function(le){for(var ge=arguments.length>1&&arguments[1]!==void 0?arguments[1]:o,He=b(le),Ne=[],ke=He;;){if(ke==null)return r.spawn();var Ge=y(ke),Pe=Ge.edge,ze=Ge.pred;if(Ne.unshift(ke[0]),ke.same(ge)&&Ne.length>0)break;Pe!=null&&Ne.unshift(Pe),ke=ze}return u.spawn(Ne)},S=0;S<h;S++){var x=d[S],M=y(x);x.same(o)?M.dist=0:M.dist=1/0,M.pred=null,M.edge=null}for(var T=!1,C=function(le,ge,He,Ne,ke,Ge){var Pe=Ne.dist+Ge;Pe<ke.dist&&!He.same(Ne.edge)&&(ke.dist=Pe,ke.pred=le,ke.edge=He,T=!0)},k=1;k<h;k++){T=!1;for(var _=0;_<m;_++){var A=c[_],D=A.source(),P=A.target(),R=s(A),L=y(D),N=y(P);C(D,P,A,L,N,R),i||C(P,D,A,N,L,R)}if(!T)break}if(T)for(var z=[],F=0;F<m;F++){var I=c[F],B=I.source(),V=I.target(),K=s(I),j=y(B).dist,Q=y(V).dist;if(j+K<Q||!i&&Q+K<j)if(p||(Ke("Graph contains a negative weight cycle for Bellman-Ford"),p=!0),t.findNegativeWeightCycles!==!1){var X=[];j+K<Q&&X.push(B),!i&&Q+K<j&&X.push(V);for(var W=X.length,$=0;$<W;$++){var q=X[$],U=[q];U.push(y(q).edge);for(var Y=y(q).pred;U.indexOf(Y)===-1;)U.push(Y),U.push(y(Y).edge),Y=y(Y).pred;U=U.slice(U.indexOf(Y));for(var ie=U[0].id(),J=0,re=2;re<U.length;re+=2)U[re].id()<ie&&(ie=U[re].id(),J=re);U=U.slice(J).concat(U.slice(0,J)),U.push(U[0]);var oe=U.map(function(ue){return ue.id()}).join(",");z.indexOf(oe)===-1&&(g.push(u.spawn(U)),z.push(oe))}}else break}return{distanceTo:w,pathTo:E,hasNegativeWeightCycle:p,negativeWeightCycles:g}}},UO=Math.sqrt(2),HO=function(t,r,n){n.length===0&&vt("Karger-Stein must be run on a connected (sub)graph");for(var a=n[t],i=a[1],o=a[2],s=r[i],u=r[o],l=n,f=l.length-1;f>=0;f--){var c=l[f],d=c[1],h=c[2];(r[d]===s&&r[h]===u||r[d]===u&&r[h]===s)&&l.splice(f,1)}for(var v=0;v<l.length;v++){var p=l[v];p[1]===u?(l[v]=p.slice(),l[v][1]=s):p[2]===u&&(l[v]=p.slice(),l[v][2]=s)}for(var g=0;g<r.length;g++)r[g]===u&&(r[g]=s);return l},Qd=function(t,r,n,a){for(;n>a;){var i=Math.floor(Math.random()*r.length);r=HO(i,t,r),n--}return r},GO={kargerStein:function(){var t=this,r=this.byGroup(),n=r.nodes,a=r.edges;a.unmergeBy(function(N){return N.isLoop()});var i=n.length,o=a.length,s=Math.ceil(Math.pow(Math.log(i)/Math.LN2,2)),u=Math.floor(i/UO);if(i<2){vt("At least 2 nodes are required for Karger-Stein algorithm");return}for(var l=[],f=0;f<o;f++){var c=a[f];l.push([f,n.indexOf(c.source()),n.indexOf(c.target())])}for(var d=1/0,h=[],v=new Array(i),p=new Array(i),g=new Array(i),m=function(z,F){for(var I=0;I<i;I++)F[I]=z[I]},y=0;y<=s;y++){for(var b=0;b<i;b++)p[b]=b;var w=Qd(p,l.slice(),i,u),E=w.slice();m(p,g);var S=Qd(p,w,u,2),x=Qd(g,E,u,2);S.length<=x.length&&S.length<d?(d=S.length,h=S,m(p,v)):x.length<=S.length&&x.length<d&&(d=x.length,h=x,m(g,v))}for(var M=this.spawn(h.map(function(N){return a[N[0]]})),T=this.spawn(),C=this.spawn(),k=v[0],_=0;_<v.length;_++){var A=v[_],D=n[_];A===k?T.merge(D):C.merge(D)}var P=function(z){var F=t.spawn();return z.forEach(function(I){F.merge(I),I.connectedEdges().forEach(function(B){t.contains(B)&&!M.contains(B)&&F.merge(B)})}),F},R=[P(T),P(C)],L={cut:M,components:R,partition1:T,partition2:C};return L}},XO=function(t){return{x:t.x,y:t.y}},Cc=function(t,r,n){return{x:t.x*r+n.x,y:t.y*r+n.y}},M5=function(t,r,n){return{x:(t.x-n.x)/r,y:(t.y-n.y)/r}},Ki=function(t){return{x:t[0],y:t[1]}},KO=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=1/0,i=r;i<n;i++){var o=t[i];isFinite(o)&&(a=Math.min(o,a))}return a},ZO=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=-1/0,i=r;i<n;i++){var o=t[i];isFinite(o)&&(a=Math.max(o,a))}return a},QO=function(t){for(var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=0,i=0,o=r;o<n;o++){var s=t[o];isFinite(s)&&(a+=s,i++)}return a/i},jO=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:t.length,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0;a?t=t.slice(r,n):(n<t.length&&t.splice(n,t.length-n),r>0&&t.splice(0,r));for(var s=0,u=t.length-1;u>=0;u--){var l=t[u];o?isFinite(l)||(t[u]=-1/0,s++):t.splice(u,1)}i&&t.sort(function(d,h){return d-h});var f=t.length,c=Math.floor(f/2);return f%2!==0?t[c+1+s]:(t[c-1+s]+t[c+s])/2},JO=function(t){return Math.PI*t/180},hl=function(t,r){return Math.atan2(r,t)-Math.PI/2},Gg=Math.log2||function(e){return Math.log(e)/Math.log(2)},k5=function(t){return t>0?1:t<0?-1:0},yi=function(t,r){return Math.sqrt(Ga(t,r))},Ga=function(t,r){var n=r.x-t.x,a=r.y-t.y;return n*n+a*a},eR=function(t){for(var r=t.length,n=0,a=0;a<r;a++)n+=t[a];for(var i=0;i<r;i++)t[i]=t[i]/n;return t},Pt=function(t,r,n,a){return(1-a)*(1-a)*t+2*(1-a)*a*r+a*a*n},no=function(t,r,n,a){return{x:Pt(t.x,r.x,n.x,a),y:Pt(t.y,r.y,n.y,a)}},tR=function(t,r,n,a){var i={x:r.x-t.x,y:r.y-t.y},o=yi(t,r),s={x:i.x/o,y:i.y/o};return n=n??0,a=a??n*o,{x:t.x+s.x*a,y:t.y+s.y*a}},js=function(t,r,n){return Math.max(t,Math.min(n,r))},lr=function(t){if(t==null)return{x1:1/0,y1:1/0,x2:-1/0,y2:-1/0,w:0,h:0};if(t.x1!=null&&t.y1!=null){if(t.x2!=null&&t.y2!=null&&t.x2>=t.x1&&t.y2>=t.y1)return{x1:t.x1,y1:t.y1,x2:t.x2,y2:t.y2,w:t.x2-t.x1,h:t.y2-t.y1};if(t.w!=null&&t.h!=null&&t.w>=0&&t.h>=0)return{x1:t.x1,y1:t.y1,x2:t.x1+t.w,y2:t.y1+t.h,w:t.w,h:t.h}}},rR=function(t){return{x1:t.x1,x2:t.x2,w:t.w,y1:t.y1,y2:t.y2,h:t.h}},nR=function(t){t.x1=1/0,t.y1=1/0,t.x2=-1/0,t.y2=-1/0,t.w=0,t.h=0},aR=function(t,r,n){return{x1:t.x1+r,x2:t.x2+r,y1:t.y1+n,y2:t.y2+n,w:t.w,h:t.h}},C5=function(t,r){t.x1=Math.min(t.x1,r.x1),t.x2=Math.max(t.x2,r.x2),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,r.y1),t.y2=Math.max(t.y2,r.y2),t.h=t.y2-t.y1},iR=function(t,r,n){t.x1=Math.min(t.x1,r),t.x2=Math.max(t.x2,r),t.w=t.x2-t.x1,t.y1=Math.min(t.y1,n),t.y2=Math.max(t.y2,n),t.h=t.y2-t.y1},Ol=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return t.x1-=r,t.x2+=r,t.y1-=r,t.y2+=r,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},Rl=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[0],n,a,i,o;if(r.length===1)n=a=i=o=r[0];else if(r.length===2)n=i=r[0],o=a=r[1];else if(r.length===4){var s=Fr(r,4);n=s[0],a=s[1],i=s[2],o=s[3]}return t.x1-=o,t.x2+=a,t.y1-=n,t.y2+=i,t.w=t.x2-t.x1,t.h=t.y2-t.y1,t},ny=function(t,r){t.x1=r.x1,t.y1=r.y1,t.x2=r.x2,t.y2=r.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1},Xg=function(t,r){return!(t.x1>r.x2||r.x1>t.x2||t.x2<r.x1||r.x2<t.x1||t.y2<r.y1||r.y2<t.y1||t.y1>r.y2||r.y1>t.y2)},Co=function(t,r,n){return t.x1<=r&&r<=t.x2&&t.y1<=n&&n<=t.y2},oR=function(t,r){return Co(t,r.x,r.y)},D5=function(t,r){return Co(t,r.x1,r.y1)&&Co(t,r.x2,r.y2)},_5=function(t,r,n,a,i,o,s){var u=arguments.length>7&&arguments[7]!==void 0?arguments[7]:"auto",l=u==="auto"?bi(i,o):u,f=i/2,c=o/2;l=Math.min(l,f,c);var d=l!==f,h=l!==c,v;if(d){var p=n-f+l-s,g=a-c-s,m=n+f-l+s,y=g;if(v=ba(t,r,n,a,p,g,m,y,!1),v.length>0)return v}if(h){var b=n+f+s,w=a-c+l-s,E=b,S=a+c-l+s;if(v=ba(t,r,n,a,b,w,E,S,!1),v.length>0)return v}if(d){var x=n-f+l-s,M=a+c+s,T=n+f-l+s,C=M;if(v=ba(t,r,n,a,x,M,T,C,!1),v.length>0)return v}if(h){var k=n-f-s,_=a-c+l-s,A=k,D=a+c-l+s;if(v=ba(t,r,n,a,k,_,A,D,!1),v.length>0)return v}var P;{var R=n-f+l,L=a-c+l;if(P=Es(t,r,n,a,R,L,l+s),P.length>0&&P[0]<=R&&P[1]<=L)return[P[0],P[1]]}{var N=n+f-l,z=a-c+l;if(P=Es(t,r,n,a,N,z,l+s),P.length>0&&P[0]>=N&&P[1]<=z)return[P[0],P[1]]}{var F=n+f-l,I=a+c-l;if(P=Es(t,r,n,a,F,I,l+s),P.length>0&&P[0]>=F&&P[1]>=I)return[P[0],P[1]]}{var B=n-f+l,V=a+c-l;if(P=Es(t,r,n,a,B,V,l+s),P.length>0&&P[0]<=B&&P[1]>=V)return[P[0],P[1]]}return[]},sR=function(t,r,n,a,i,o,s){var u=s,l=Math.min(n,i),f=Math.max(n,i),c=Math.min(a,o),d=Math.max(a,o);return l-u<=t&&t<=f+u&&c-u<=r&&r<=d+u},uR=function(t,r,n,a,i,o,s,u,l){var f={x1:Math.min(n,s,i)-l,x2:Math.max(n,s,i)+l,y1:Math.min(a,u,o)-l,y2:Math.max(a,u,o)+l};return!(t<f.x1||t>f.x2||r<f.y1||r>f.y2)},lR=function(t,r,n,a){n-=a;var i=r*r-4*t*n;if(i<0)return[];var o=Math.sqrt(i),s=2*t,u=(-r+o)/s,l=(-r-o)/s;return[u,l]},fR=function(t,r,n,a,i){var o=1e-5;t===0&&(t=o),r/=t,n/=t,a/=t;var s,u,l,f,c,d,h,v;if(u=(3*n-r*r)/9,l=-(27*a)+r*(9*n-2*(r*r)),l/=54,s=u*u*u+l*l,i[1]=0,h=r/3,s>0){c=l+Math.sqrt(s),c=c<0?-Math.pow(-c,1/3):Math.pow(c,1/3),d=l-Math.sqrt(s),d=d<0?-Math.pow(-d,1/3):Math.pow(d,1/3),i[0]=-h+c+d,h+=(c+d)/2,i[4]=i[2]=-h,h=Math.sqrt(3)*(-d+c)/2,i[3]=h,i[5]=-h;return}if(i[5]=i[3]=0,s===0){v=l<0?-Math.pow(-l,1/3):Math.pow(l,1/3),i[0]=-h+2*v,i[4]=i[2]=-(v+h);return}u=-u,f=u*u*u,f=Math.acos(l/Math.sqrt(f)),v=2*Math.sqrt(u),i[0]=-h+v*Math.cos(f/3),i[2]=-h+v*Math.cos((f+2*Math.PI)/3),i[4]=-h+v*Math.cos((f+4*Math.PI)/3)},cR=function(t,r,n,a,i,o,s,u){var l=1*n*n-4*n*i+2*n*s+4*i*i-4*i*s+s*s+a*a-4*a*o+2*a*u+4*o*o-4*o*u+u*u,f=1*9*n*i-3*n*n-3*n*s-6*i*i+3*i*s+9*a*o-3*a*a-3*a*u-6*o*o+3*o*u,c=1*3*n*n-6*n*i+n*s-n*t+2*i*i+2*i*t-s*t+3*a*a-6*a*o+a*u-a*r+2*o*o+2*o*r-u*r,d=1*n*i-n*n+n*t-i*t+a*o-a*a+a*r-o*r,h=[];fR(l,f,c,d,h);for(var v=1e-7,p=[],g=0;g<6;g+=2)Math.abs(h[g+1])<v&&h[g]>=0&&h[g]<=1&&p.push(h[g]);p.push(1),p.push(0);for(var m=-1,y,b,w,E=0;E<p.length;E++)y=Math.pow(1-p[E],2)*n+2*(1-p[E])*p[E]*i+p[E]*p[E]*s,b=Math.pow(1-p[E],2)*a+2*(1-p[E])*p[E]*o+p[E]*p[E]*u,w=Math.pow(y-t,2)+Math.pow(b-r,2),m>=0?w<m&&(m=w):m=w;return m},dR=function(t,r,n,a,i,o){var s=[t-n,r-a],u=[i-n,o-a],l=u[0]*u[0]+u[1]*u[1],f=s[0]*s[0]+s[1]*s[1],c=s[0]*u[0]+s[1]*u[1],d=c*c/l;return c<0?f:d>l?(t-i)*(t-i)+(r-o)*(r-o):f-d},ar=function(t,r,n){for(var a,i,o,s,u,l=0,f=0;f<n.length/2;f++)if(a=n[f*2],i=n[f*2+1],f+1<n.length/2?(o=n[(f+1)*2],s=n[(f+1)*2+1]):(o=n[(f+1-n.length/2)*2],s=n[(f+1-n.length/2)*2+1]),!(a==t&&o==t))if(a>=t&&t>=o||a<=t&&t<=o)u=(t-a)/(o-a)*(s-i)+i,u>r&&l++;else continue;return l%2!==0},na=function(t,r,n,a,i,o,s,u,l){var f=new Array(n.length),c;u[0]!=null?(c=Math.atan(u[1]/u[0]),u[0]<0?c=c+Math.PI/2:c=-c-Math.PI/2):c=u;for(var d=Math.cos(-c),h=Math.sin(-c),v=0;v<f.length/2;v++)f[v*2]=o/2*(n[v*2]*d-n[v*2+1]*h),f[v*2+1]=s/2*(n[v*2+1]*d+n[v*2]*h),f[v*2]+=a,f[v*2+1]+=i;var p;if(l>0){var g=Af(f,-l);p=Pf(g)}else p=f;return ar(t,r,p)},hR=function(t,r,n,a,i,o,s,u){for(var l=new Array(n.length*2),f=0;f<u.length;f++){var c=u[f];l[f*4+0]=c.startX,l[f*4+1]=c.startY,l[f*4+2]=c.stopX,l[f*4+3]=c.stopY;var d=Math.pow(c.cx-t,2)+Math.pow(c.cy-r,2);if(d<=Math.pow(c.radius,2))return!0}return ar(t,r,l)},Pf=function(t){for(var r=new Array(t.length/2),n,a,i,o,s,u,l,f,c=0;c<t.length/4;c++){n=t[c*4],a=t[c*4+1],i=t[c*4+2],o=t[c*4+3],c<t.length/4-1?(s=t[(c+1)*4],u=t[(c+1)*4+1],l=t[(c+1)*4+2],f=t[(c+1)*4+3]):(s=t[0],u=t[1],l=t[2],f=t[3]);var d=ba(n,a,i,o,s,u,l,f,!0);r[c*2]=d[0],r[c*2+1]=d[1]}return r},Af=function(t,r){for(var n=new Array(t.length*2),a,i,o,s,u=0;u<t.length/2;u++){a=t[u*2],i=t[u*2+1],u<t.length/2-1?(o=t[(u+1)*2],s=t[(u+1)*2+1]):(o=t[0],s=t[1]);var l=s-i,f=-(o-a),c=Math.sqrt(l*l+f*f),d=l/c,h=f/c;n[u*4]=a+d*r,n[u*4+1]=i+h*r,n[u*4+2]=o+d*r,n[u*4+3]=s+h*r}return n},vR=function(t,r,n,a,i,o){var s=n-t,u=a-r;s/=i,u/=o;var l=Math.sqrt(s*s+u*u),f=l-1;if(f<0)return[];var c=f/l;return[(n-t)*c+t,(a-r)*c+r]},Ja=function(t,r,n,a,i,o,s){return t-=i,r-=o,t/=n/2+s,r/=a/2+s,t*t+r*r<=1},Es=function(t,r,n,a,i,o,s){var u=[n-t,a-r],l=[t-i,r-o],f=u[0]*u[0]+u[1]*u[1],c=2*(l[0]*u[0]+l[1]*u[1]),d=l[0]*l[0]+l[1]*l[1]-s*s,h=c*c-4*f*d;if(h<0)return[];var v=(-c+Math.sqrt(h))/(2*f),p=(-c-Math.sqrt(h))/(2*f),g=Math.min(v,p),m=Math.max(v,p),y=[];if(g>=0&&g<=1&&y.push(g),m>=0&&m<=1&&y.push(m),y.length===0)return[];var b=y[0]*u[0]+t,w=y[0]*u[1]+r;if(y.length>1){if(y[0]==y[1])return[b,w];var E=y[1]*u[0]+t,S=y[1]*u[1]+r;return[b,w,E,S]}else return[b,w]},jd=function(t,r,n){return r<=t&&t<=n||n<=t&&t<=r?t:t<=r&&r<=n||n<=r&&r<=t?r:n},ba=function(t,r,n,a,i,o,s,u,l){var f=t-i,c=n-t,d=s-i,h=r-o,v=a-r,p=u-o,g=d*h-p*f,m=c*h-v*f,y=p*c-d*v;if(y!==0){var b=g/y,w=m/y,E=.001,S=0-E,x=1+E;return S<=b&&b<=x&&S<=w&&w<=x?[t+b*c,r+b*v]:l?[t+b*c,r+b*v]:[]}else return g===0||m===0?jd(t,n,s)===s?[s,u]:jd(t,n,i)===i?[i,o]:jd(i,s,n)===n?[n,a]:[]:[]},Js=function(t,r,n,a,i,o,s,u){var l=[],f,c=new Array(n.length),d=!0;o==null&&(d=!1);var h;if(d){for(var v=0;v<c.length/2;v++)c[v*2]=n[v*2]*o+a,c[v*2+1]=n[v*2+1]*s+i;if(u>0){var p=Af(c,-u);h=Pf(p)}else h=c}else h=n;for(var g,m,y,b,w=0;w<h.length/2;w++)g=h[w*2],m=h[w*2+1],w<h.length/2-1?(y=h[(w+1)*2],b=h[(w+1)*2+1]):(y=h[0],b=h[1]),f=ba(t,r,a,i,g,m,y,b),f.length!==0&&l.push(f[0],f[1]);return l},gR=function(t,r,n,a,i,o,s,u,l){var f=[],c,d=new Array(n.length*2);l.forEach(function(y,b){b===0?(d[d.length-2]=y.startX,d[d.length-1]=y.startY):(d[b*4-2]=y.startX,d[b*4-1]=y.startY),d[b*4]=y.stopX,d[b*4+1]=y.stopY,c=Es(t,r,a,i,y.cx,y.cy,y.radius),c.length!==0&&f.push(c[0],c[1])});for(var h=0;h<d.length/4;h++)c=ba(t,r,a,i,d[h*4],d[h*4+1],d[h*4+2],d[h*4+3],!1),c.length!==0&&f.push(c[0],c[1]);if(f.length>2){for(var v=[f[0],f[1]],p=Math.pow(v[0]-t,2)+Math.pow(v[1]-r,2),g=1;g<f.length/2;g++){var m=Math.pow(f[g*2]-t,2)+Math.pow(f[g*2+1]-r,2);m<=p&&(v[0]=f[g*2],v[1]=f[g*2+1],p=m)}return v}return f},vl=function(t,r,n){var a=[t[0]-r[0],t[1]-r[1]],i=Math.sqrt(a[0]*a[0]+a[1]*a[1]),o=(i-n)/i;return o<0&&(o=1e-5),[r[0]+o*a[0],r[1]+o*a[1]]},jt=function(t,r){var n=dv(t,r);return n=P5(n),n},P5=function(t){for(var r,n,a=t.length/2,i=1/0,o=1/0,s=-1/0,u=-1/0,l=0;l<a;l++)r=t[2*l],n=t[2*l+1],i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),u=Math.max(u,n);for(var f=2/(s-i),c=2/(u-o),d=0;d<a;d++)r=t[2*d]=t[2*d]*f,n=t[2*d+1]=t[2*d+1]*c,i=Math.min(i,r),s=Math.max(s,r),o=Math.min(o,n),u=Math.max(u,n);if(o<-1)for(var h=0;h<a;h++)n=t[2*h+1]=t[2*h+1]+(-1-o);return t},dv=function(t,r){var n=1/t*2*Math.PI,a=t%2===0?Math.PI/2+n/2:Math.PI/2;a+=r;for(var i=new Array(t*2),o,s=0;s<t;s++)o=s*n+a,i[2*s]=Math.cos(o),i[2*s+1]=Math.sin(-o);return i},bi=function(t,r){return Math.min(t/4,r/4,8)},A5=function(t,r){return Math.min(t/10,r/10,8)},Kg=function(){return 8},pR=function(t,r,n){return[t-2*r+n,2*(r-t),t]},hv=function(t,r){return{heightOffset:Math.min(15,.05*r),widthOffset:Math.min(100,.25*t),ctrlPtOffsetPct:.05}},mR=Bt({dampingFactor:.8,precision:1e-6,iterations:200,weight:function(t){return 1}}),yR={pageRank:function(t){for(var r=mR(t),n=r.dampingFactor,a=r.precision,i=r.iterations,o=r.weight,s=this._private.cy,u=this.byGroup(),l=u.nodes,f=u.edges,c=l.length,d=c*c,h=f.length,v=new Array(d),p=new Array(c),g=(1-n)/c,m=0;m<c;m++){for(var y=0;y<c;y++){var b=m*c+y;v[b]=0}p[m]=0}for(var w=0;w<h;w++){var E=f[w],S=E.data("source"),x=E.data("target");if(S!==x){var M=l.indexOfId(S),T=l.indexOfId(x),C=o(E),k=T*c+M;v[k]+=C,p[M]+=C}}for(var _=1/c+g,A=0;A<c;A++)if(p[A]===0)for(var D=0;D<c;D++){var P=D*c+A;v[P]=_}else for(var R=0;R<c;R++){var L=R*c+A;v[L]=v[L]/p[A]+g}for(var N=new Array(c),z=new Array(c),F,I=0;I<c;I++)N[I]=1;for(var B=0;B<i;B++){for(var V=0;V<c;V++)z[V]=0;for(var K=0;K<c;K++)for(var j=0;j<c;j++){var Q=K*c+j;z[K]+=v[Q]*N[j]}eR(z),F=N,N=z,z=F;for(var X=0,W=0;W<c;W++){var $=F[W]-N[W];X+=$*$}if(X<a)break}var q={rank:function(Y){return Y=s.collection(Y)[0],N[l.indexOf(Y)]}};return q}},ay=Bt({root:null,weight:function(t){return 1},directed:!1,alpha:0}),ao={degreeCentralityNormalized:function(t){t=ay(t);var r=this.cy(),n=this.nodes(),a=n.length;if(t.directed){for(var f={},c={},d=0,h=0,v=0;v<a;v++){var p=n[v],g=p.id();t.root=p;var m=this.degreeCentrality(t);d<m.indegree&&(d=m.indegree),h<m.outdegree&&(h=m.outdegree),f[g]=m.indegree,c[g]=m.outdegree}return{indegree:function(b){return d==0?0:(ye(b)&&(b=r.filter(b)),f[b.id()]/d)},outdegree:function(b){return h===0?0:(ye(b)&&(b=r.filter(b)),c[b.id()]/h)}}}else{for(var i={},o=0,s=0;s<a;s++){var u=n[s];t.root=u;var l=this.degreeCentrality(t);o<l.degree&&(o=l.degree),i[u.id()]=l.degree}return{degree:function(b){return o===0?0:(ye(b)&&(b=r.filter(b)),i[b.id()]/o)}}}},degreeCentrality:function(t){t=ay(t);var r=this.cy(),n=this,a=t,i=a.root,o=a.weight,s=a.directed,u=a.alpha;if(i=r.collection(i)[0],s){for(var h=i.connectedEdges(),v=h.filter(function(S){return S.target().same(i)&&n.has(S)}),p=h.filter(function(S){return S.source().same(i)&&n.has(S)}),g=v.length,m=p.length,y=0,b=0,w=0;w<v.length;w++)y+=o(v[w]);for(var E=0;E<p.length;E++)b+=o(p[E]);return{indegree:Math.pow(g,1-u)*Math.pow(y,u),outdegree:Math.pow(m,1-u)*Math.pow(b,u)}}else{for(var l=i.connectedEdges().intersection(n),f=l.length,c=0,d=0;d<l.length;d++)c+=o(l[d]);return{degree:Math.pow(f,1-u)*Math.pow(c,u)}}}};ao.dc=ao.degreeCentrality;ao.dcn=ao.degreeCentralityNormalised=ao.degreeCentralityNormalized;var iy=Bt({harmonic:!0,weight:function(){return 1},directed:!1,root:null}),io={closenessCentralityNormalized:function(t){for(var r=iy(t),n=r.harmonic,a=r.weight,i=r.directed,o=this.cy(),s={},u=0,l=this.nodes(),f=this.floydWarshall({weight:a,directed:i}),c=0;c<l.length;c++){for(var d=0,h=l[c],v=0;v<l.length;v++)if(c!==v){var p=f.distance(h,l[v]);n?d+=1/p:d+=p}n||(d=1/d),u<d&&(u=d),s[h.id()]=d}return{closeness:function(m){return u==0?0:(ye(m)?m=o.filter(m)[0].id():m=m.id(),s[m]/u)}}},closenessCentrality:function(t){var r=iy(t),n=r.root,a=r.weight,i=r.directed,o=r.harmonic;n=this.filter(n)[0];for(var s=this.dijkstra({root:n,weight:a,directed:i}),u=0,l=this.nodes(),f=0;f<l.length;f++){var c=l[f];if(!c.same(n)){var d=s.distanceTo(c);o?u+=1/d:u+=d}}return o?u:1/u}};io.cc=io.closenessCentrality;io.ccn=io.closenessCentralityNormalised=io.closenessCentralityNormalized;var bR=Bt({weight:null,directed:!1}),vv={betweennessCentrality:function(t){for(var r=bR(t),n=r.directed,a=r.weight,i=a!=null,o=this.cy(),s=this.nodes(),u={},l={},f=0,c={set:function(b,w){l[b]=w,w>f&&(f=w)},get:function(b){return l[b]}},d=0;d<s.length;d++){var h=s[d],v=h.id();n?u[v]=h.outgoers().nodes():u[v]=h.openNeighborhood().nodes(),c.set(v,0)}for(var p=function(b){for(var w=s[b].id(),E=[],S={},x={},M={},T=new Ru(function(j,Q){return M[j]-M[Q]}),C=0;C<s.length;C++){var k=s[C].id();S[k]=[],x[k]=0,M[k]=1/0}for(x[w]=1,M[w]=0,T.push(w);!T.empty();){var _=T.pop();if(E.push(_),i)for(var A=0;A<u[_].length;A++){var D=u[_][A],P=o.getElementById(_),R=void 0;P.edgesTo(D).length>0?R=P.edgesTo(D)[0]:R=D.edgesTo(P)[0];var L=a(R);D=D.id(),M[D]>M[_]+L&&(M[D]=M[_]+L,T.nodes.indexOf(D)<0?T.push(D):T.updateItem(D),x[D]=0,S[D]=[]),M[D]==M[_]+L&&(x[D]=x[D]+x[_],S[D].push(_))}else for(var N=0;N<u[_].length;N++){var z=u[_][N].id();M[z]==1/0&&(T.push(z),M[z]=M[_]+1),M[z]==M[_]+1&&(x[z]=x[z]+x[_],S[z].push(_))}}for(var F={},I=0;I<s.length;I++)F[s[I].id()]=0;for(;E.length>0;){for(var B=E.pop(),V=0;V<S[B].length;V++){var K=S[B][V];F[K]=F[K]+x[K]/x[B]*(1+F[B])}B!=s[b].id()&&c.set(B,c.get(B)+F[B])}},g=0;g<s.length;g++)p(g);var m={betweenness:function(b){var w=o.collection(b).id();return c.get(w)},betweennessNormalized:function(b){if(f==0)return 0;var w=o.collection(b).id();return c.get(w)/f}};return m.betweennessNormalised=m.betweennessNormalized,m}};vv.bc=vv.betweennessCentrality;var wR=Bt({expandFactor:2,inflateFactor:2,multFactor:1,maxIterations:20,attributes:[function(e){return 1}]}),xR=function(t){return wR(t)},SR=function(t,r){for(var n=0,a=0;a<r.length;a++)n+=r[a](t);return n},ER=function(t,r,n){for(var a=0;a<r;a++)t[a*r+a]=n},O5=function(t,r){for(var n,a=0;a<r;a++){n=0;for(var i=0;i<r;i++)n+=t[i*r+a];for(var o=0;o<r;o++)t[o*r+a]=t[o*r+a]/n}},TR=function(t,r,n){for(var a=new Array(n*n),i=0;i<n;i++){for(var o=0;o<n;o++)a[i*n+o]=0;for(var s=0;s<n;s++)for(var u=0;u<n;u++)a[i*n+u]+=t[i*n+s]*r[s*n+u]}return a},MR=function(t,r,n){for(var a=t.slice(0),i=1;i<n;i++)t=TR(t,a,r);return t},kR=function(t,r,n){for(var a=new Array(r*r),i=0;i<r*r;i++)a[i]=Math.pow(t[i],n);return O5(a,r),a},CR=function(t,r,n,a){for(var i=0;i<n;i++){var o=Math.round(t[i]*Math.pow(10,a))/Math.pow(10,a),s=Math.round(r[i]*Math.pow(10,a))/Math.pow(10,a);if(o!==s)return!1}return!0},DR=function(t,r,n,a){for(var i=[],o=0;o<r;o++){for(var s=[],u=0;u<r;u++)Math.round(t[o*r+u]*1e3)/1e3>0&&s.push(n[u]);s.length!==0&&i.push(a.collection(s))}return i},_R=function(t,r){for(var n=0;n<t.length;n++)if(!r[n]||t[n].id()!==r[n].id())return!1;return!0},PR=function(t){for(var r=0;r<t.length;r++)for(var n=0;n<t.length;n++)r!=n&&_R(t[r],t[n])&&t.splice(n,1);return t},oy=function(t){for(var r=this.nodes(),n=this.edges(),a=this.cy(),i=xR(t),o={},s=0;s<r.length;s++)o[r[s].id()]=s;for(var u=r.length,l=u*u,f=new Array(l),c,d=0;d<l;d++)f[d]=0;for(var h=0;h<n.length;h++){var v=n[h],p=o[v.source().id()],g=o[v.target().id()],m=SR(v,i.attributes);f[p*u+g]+=m,f[g*u+p]+=m}ER(f,u,i.multFactor),O5(f,u);for(var y=!0,b=0;y&&b<i.maxIterations;)y=!1,c=MR(f,u,i.expandFactor),f=kR(c,u,i.inflateFactor),CR(f,c,l,4)||(y=!0),b++;var w=DR(f,u,r,a);return w=PR(w),w},AR={markovClustering:oy,mcl:oy},OR=function(t){return t},R5=function(t,r){return Math.abs(r-t)},sy=function(t,r,n){return t+R5(r,n)},uy=function(t,r,n){return t+Math.pow(n-r,2)},RR=function(t){return Math.sqrt(t)},LR=function(t,r,n){return Math.max(t,R5(r,n))},is=function(t,r,n,a,i){for(var o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:OR,s=a,u,l,f=0;f<t;f++)u=r(f),l=n(f),s=i(s,u,l);return o(s)},Do={euclidean:function(t,r,n){return t>=2?is(t,r,n,0,uy,RR):is(t,r,n,0,sy)},squaredEuclidean:function(t,r,n){return is(t,r,n,0,uy)},manhattan:function(t,r,n){return is(t,r,n,0,sy)},max:function(t,r,n){return is(t,r,n,-1/0,LR)}};Do["squared-euclidean"]=Do.squaredEuclidean;Do.squaredeuclidean=Do.squaredEuclidean;function Dc(e,t,r,n,a,i){var o;return ft(e)?o=e:o=Do[e]||Do.euclidean,t===0&&ft(e)?o(a,i):o(t,r,n,a,i)}var $R=Bt({k:2,m:2,sensitivityThreshold:1e-4,distance:"euclidean",maxIterations:10,attributes:[],testMode:!1,testCentroids:null}),Zg=function(t){return $R(t)},Of=function(t,r,n,a,i){var o=i!=="kMedoids",s=o?function(c){return n[c]}:function(c){return a[c](n)},u=function(d){return a[d](r)},l=n,f=r;return Dc(t,a.length,s,u,l,f)},Jd=function(t,r,n){for(var a=n.length,i=new Array(a),o=new Array(a),s=new Array(r),u=null,l=0;l<a;l++)i[l]=t.min(n[l]).value,o[l]=t.max(n[l]).value;for(var f=0;f<r;f++){u=[];for(var c=0;c<a;c++)u[c]=Math.random()*(o[c]-i[c])+i[c];s[f]=u}return s},L5=function(t,r,n,a,i){for(var o=1/0,s=0,u=0;u<r.length;u++){var l=Of(n,t,r[u],a,i);l<o&&(o=l,s=u)}return s},$5=function(t,r,n){for(var a=[],i=null,o=0;o<r.length;o++)i=r[o],n[i.id()]===t&&a.push(i);return a},NR=function(t,r,n){return Math.abs(r-t)<=n},IR=function(t,r,n){for(var a=0;a<t.length;a++)for(var i=0;i<t[a].length;i++){var o=Math.abs(t[a][i]-r[a][i]);if(o>n)return!1}return!0},BR=function(t,r,n){for(var a=0;a<n;a++)if(t===r[a])return!0;return!1},ly=function(t,r){var n=new Array(r);if(t.length<50)for(var a=0;a<r;a++){for(var i=t[Math.floor(Math.random()*t.length)];BR(i,n,a);)i=t[Math.floor(Math.random()*t.length)];n[a]=i}else for(var o=0;o<r;o++)n[o]=t[Math.floor(Math.random()*t.length)];return n},fy=function(t,r,n){for(var a=0,i=0;i<r.length;i++)a+=Of("manhattan",r[i],t,n,"kMedoids");return a},FR=function(t){var r=this.cy(),n=this.nodes(),a=null,i=Zg(t),o=new Array(i.k),s={},u;i.testMode?typeof i.testCentroids=="number"?(i.testCentroids,u=Jd(n,i.k,i.attributes)):St(i.testCentroids)==="object"?u=i.testCentroids:u=Jd(n,i.k,i.attributes):u=Jd(n,i.k,i.attributes);for(var l=!0,f=0;l&&f<i.maxIterations;){for(var c=0;c<n.length;c++)a=n[c],s[a.id()]=L5(a,u,i.distance,i.attributes,"kMeans");l=!1;for(var d=0;d<i.k;d++){var h=$5(d,n,s);if(h.length!==0){for(var v=i.attributes.length,p=u[d],g=new Array(v),m=new Array(v),y=0;y<v;y++){m[y]=0;for(var b=0;b<h.length;b++)a=h[b],m[y]+=i.attributes[y](a);g[y]=m[y]/h.length,NR(g[y],p[y],i.sensitivityThreshold)||(l=!0)}u[d]=g,o[d]=r.collection(h)}}f++}return o},zR=function(t){var r=this.cy(),n=this.nodes(),a=null,i=Zg(t),o=new Array(i.k),s,u={},l,f=new Array(i.k);i.testMode?typeof i.testCentroids=="number"||(St(i.testCentroids)==="object"?s=i.testCentroids:s=ly(n,i.k)):s=ly(n,i.k);for(var c=!0,d=0;c&&d<i.maxIterations;){for(var h=0;h<n.length;h++)a=n[h],u[a.id()]=L5(a,s,i.distance,i.attributes,"kMedoids");c=!1;for(var v=0;v<s.length;v++){var p=$5(v,n,u);if(p.length!==0){f[v]=fy(s[v],p,i.attributes);for(var g=0;g<p.length;g++)l=fy(p[g],p,i.attributes),l<f[v]&&(f[v]=l,s[v]=p[g],c=!0);o[v]=r.collection(p)}}d++}return o},YR=function(t,r,n,a,i){for(var o,s,u=0;u<r.length;u++)for(var l=0;l<t.length;l++)a[u][l]=Math.pow(n[u][l],i.m);for(var f=0;f<t.length;f++)for(var c=0;c<i.attributes.length;c++){o=0,s=0;for(var d=0;d<r.length;d++)o+=a[d][f]*i.attributes[c](r[d]),s+=a[d][f];t[f][c]=o/s}},qR=function(t,r,n,a,i){for(var o=0;o<t.length;o++)r[o]=t[o].slice();for(var s,u,l,f=2/(i.m-1),c=0;c<n.length;c++)for(var d=0;d<a.length;d++){s=0;for(var h=0;h<n.length;h++)u=Of(i.distance,a[d],n[c],i.attributes,"cmeans"),l=Of(i.distance,a[d],n[h],i.attributes,"cmeans"),s+=Math.pow(u/l,f);t[d][c]=1/s}},VR=function(t,r,n,a){for(var i=new Array(n.k),o=0;o<i.length;o++)i[o]=[];for(var s,u,l=0;l<r.length;l++){s=-1/0,u=-1;for(var f=0;f<r[0].length;f++)r[l][f]>s&&(s=r[l][f],u=f);i[u].push(t[l])}for(var c=0;c<i.length;c++)i[c]=a.collection(i[c]);return i},cy=function(t){var r=this.cy(),n=this.nodes(),a=Zg(t),i,o,s,u,l;u=new Array(n.length);for(var f=0;f<n.length;f++)u[f]=new Array(a.k);s=new Array(n.length);for(var c=0;c<n.length;c++)s[c]=new Array(a.k);for(var d=0;d<n.length;d++){for(var h=0,v=0;v<a.k;v++)s[d][v]=Math.random(),h+=s[d][v];for(var p=0;p<a.k;p++)s[d][p]=s[d][p]/h}o=new Array(a.k);for(var g=0;g<a.k;g++)o[g]=new Array(a.attributes.length);l=new Array(n.length);for(var m=0;m<n.length;m++)l[m]=new Array(a.k);for(var y=!0,b=0;y&&b<a.maxIterations;)y=!1,YR(o,n,s,l,a),qR(s,u,o,n,a),IR(s,u,a.sensitivityThreshold)||(y=!0),b++;return i=VR(n,s,a,r),{clusters:i,degreeOfMembership:s}},WR={kMeans:FR,kMedoids:zR,fuzzyCMeans:cy,fcm:cy},UR=Bt({distance:"euclidean",linkage:"min",mode:"threshold",threshold:1/0,addDendrogram:!1,dendrogramDepth:0,attributes:[]}),HR={single:"min",complete:"max"},GR=function(t){var r=UR(t),n=HR[r.linkage];return n!=null&&(r.linkage=n),r},dy=function(t,r,n,a,i){for(var o=0,s=1/0,u,l=i.attributes,f=function(T,C){return Dc(i.distance,l.length,function(k){return l[k](T)},function(k){return l[k](C)},T,C)},c=0;c<t.length;c++){var d=t[c].key,h=n[d][a[d]];h<s&&(o=d,s=h)}if(i.mode==="threshold"&&s>=i.threshold||i.mode==="dendrogram"&&t.length===1)return!1;var v=r[o],p=r[a[o]],g;i.mode==="dendrogram"?g={left:v,right:p,key:v.key}:g={value:v.value.concat(p.value),key:v.key},t[v.index]=g,t.splice(p.index,1),r[v.key]=g;for(var m=0;m<t.length;m++){var y=t[m];v.key===y.key?u=1/0:i.linkage==="min"?(u=n[v.key][y.key],n[v.key][y.key]>n[p.key][y.key]&&(u=n[p.key][y.key])):i.linkage==="max"?(u=n[v.key][y.key],n[v.key][y.key]<n[p.key][y.key]&&(u=n[p.key][y.key])):i.linkage==="mean"?u=(n[v.key][y.key]*v.size+n[p.key][y.key]*p.size)/(v.size+p.size):i.mode==="dendrogram"?u=f(y.value,v.value):u=f(y.value[0],v.value[0]),n[v.key][y.key]=n[y.key][v.key]=u}for(var b=0;b<t.length;b++){var w=t[b].key;if(a[w]===v.key||a[w]===p.key){for(var E=w,S=0;S<t.length;S++){var x=t[S].key;n[w][x]<n[w][E]&&(E=x)}a[w]=E}t[b].index=b}return v.key=p.key=v.index=p.index=null,!0},gl=function e(t,r,n){t&&(t.value?r.push(t.value):(t.left&&e(t.left,r),t.right&&e(t.right,r)))},XR=function e(t,r){if(!t)return"";if(t.left&&t.right){var n=e(t.left,r),a=e(t.right,r),i=r.add({group:"nodes",data:{id:n+","+a}});return r.add({group:"edges",data:{source:n,target:i.id()}}),r.add({group:"edges",data:{source:a,target:i.id()}}),i.id()}else if(t.value)return t.value.id()},KR=function e(t,r,n){if(!t)return[];var a=[],i=[],o=[];return r===0?(t.left&&gl(t.left,a),t.right&&gl(t.right,i),o=a.concat(i),[n.collection(o)]):r===1?t.value?[n.collection(t.value)]:(t.left&&gl(t.left,a),t.right&&gl(t.right,i),[n.collection(a),n.collection(i)]):t.value?[n.collection(t.value)]:(t.left&&(a=e(t.left,r-1,n)),t.right&&(i=e(t.right,r-1,n)),a.concat(i))},hy=function(t){for(var r=this.cy(),n=this.nodes(),a=GR(t),i=a.attributes,o=function(b,w){return Dc(a.distance,i.length,function(E){return i[E](b)},function(E){return i[E](w)},b,w)},s=[],u=[],l=[],f=[],c=0;c<n.length;c++){var d={value:a.mode==="dendrogram"?n[c]:[n[c]],key:c,index:c};s[c]=d,f[c]=d,u[c]=[],l[c]=0}for(var h=0;h<s.length;h++)for(var v=0;v<=h;v++){var p=void 0;a.mode==="dendrogram"?p=h===v?1/0:o(s[h].value,s[v].value):p=h===v?1/0:o(s[h].value[0],s[v].value[0]),u[h][v]=p,u[v][h]=p,p<u[h][l[h]]&&(l[h]=v)}for(var g=dy(s,f,u,l,a);g;)g=dy(s,f,u,l,a);var m;return a.mode==="dendrogram"?(m=KR(s[0],a.dendrogramDepth,r),a.addDendrogram&&XR(s[0],r)):(m=new Array(s.length),s.forEach(function(y,b){y.key=y.index=null,m[b]=r.collection(y.value)})),m},ZR={hierarchicalClustering:hy,hca:hy},QR=Bt({distance:"euclidean",preference:"median",damping:.8,maxIterations:1e3,minIterations:100,attributes:[]}),jR=function(t){var r=t.damping,n=t.preference;.5<=r&&r<1||vt("Damping must range on [0.5, 1).  Got: ".concat(r));var a=["median","mean","min","max"];return a.some(function(i){return i===n})||fe(n)||vt("Preference must be one of [".concat(a.map(function(i){return"'".concat(i,"'")}).join(", "),"] or a number.  Got: ").concat(n)),QR(t)},JR=function(t,r,n,a){var i=function(s,u){return a[u](s)};return-Dc(t,a.length,function(o){return i(r,o)},function(o){return i(n,o)},r,n)},eL=function(t,r){var n=null;return r==="median"?n=jO(t):r==="mean"?n=QO(t):r==="min"?n=KO(t):r==="max"?n=ZO(t):n=r,n},tL=function(t,r,n){for(var a=[],i=0;i<t;i++)r[i*t+i]+n[i*t+i]>0&&a.push(i);return a},vy=function(t,r,n){for(var a=[],i=0;i<t;i++){for(var o=-1,s=-1/0,u=0;u<n.length;u++){var l=n[u];r[i*t+l]>s&&(o=l,s=r[i*t+l])}o>0&&a.push(o)}for(var f=0;f<n.length;f++)a[n[f]]=n[f];return a},rL=function(t,r,n){for(var a=vy(t,r,n),i=0;i<n.length;i++){for(var o=[],s=0;s<a.length;s++)a[s]===n[i]&&o.push(s);for(var u=-1,l=-1/0,f=0;f<o.length;f++){for(var c=0,d=0;d<o.length;d++)c+=r[o[d]*t+o[f]];c>l&&(u=f,l=c)}n[i]=o[u]}return a=vy(t,r,n),a},gy=function(t){for(var r=this.cy(),n=this.nodes(),a=jR(t),i={},o=0;o<n.length;o++)i[n[o].id()]=o;var s,u,l,f,c,d;s=n.length,u=s*s,l=new Array(u);for(var h=0;h<u;h++)l[h]=-1/0;for(var v=0;v<s;v++)for(var p=0;p<s;p++)v!==p&&(l[v*s+p]=JR(a.distance,n[v],n[p],a.attributes));f=eL(l,a.preference);for(var g=0;g<s;g++)l[g*s+g]=f;c=new Array(u);for(var m=0;m<u;m++)c[m]=0;d=new Array(u);for(var y=0;y<u;y++)d[y]=0;for(var b=new Array(s),w=new Array(s),E=new Array(s),S=0;S<s;S++)b[S]=0,w[S]=0,E[S]=0;for(var x=new Array(s*a.minIterations),M=0;M<x.length;M++)x[M]=0;var T;for(T=0;T<a.maxIterations;T++){for(var C=0;C<s;C++){for(var k=-1/0,_=-1/0,A=-1,D=0,P=0;P<s;P++)b[P]=c[C*s+P],D=d[C*s+P]+l[C*s+P],D>=k?(_=k,k=D,A=P):D>_&&(_=D);for(var R=0;R<s;R++)c[C*s+R]=(1-a.damping)*(l[C*s+R]-k)+a.damping*b[R];c[C*s+A]=(1-a.damping)*(l[C*s+A]-_)+a.damping*b[A]}for(var L=0;L<s;L++){for(var N=0,z=0;z<s;z++)b[z]=d[z*s+L],w[z]=Math.max(0,c[z*s+L]),N+=w[z];N-=w[L],w[L]=c[L*s+L],N+=w[L];for(var F=0;F<s;F++)d[F*s+L]=(1-a.damping)*Math.min(0,N-w[F])+a.damping*b[F];d[L*s+L]=(1-a.damping)*(N-w[L])+a.damping*b[L]}for(var I=0,B=0;B<s;B++){var V=d[B*s+B]+c[B*s+B]>0?1:0;x[T%a.minIterations*s+B]=V,I+=V}if(I>0&&(T>=a.minIterations-1||T==a.maxIterations-1)){for(var K=0,j=0;j<s;j++){E[j]=0;for(var Q=0;Q<a.minIterations;Q++)E[j]+=x[Q*s+j];(E[j]===0||E[j]===a.minIterations)&&K++}if(K===s)break}}for(var X=tL(s,c,d),W=rL(s,l,X),$={},q=0;q<X.length;q++)$[X[q]]=[];for(var U=0;U<n.length;U++){var Y=i[n[U].id()],ie=W[Y];ie!=null&&$[ie].push(n[U])}for(var J=new Array(X.length),re=0;re<X.length;re++)J[re]=r.collection($[X[re]]);return J},nL={affinityPropagation:gy,ap:gy},aL=Bt({root:void 0,directed:!1}),iL={hierholzer:function(t){if(!Fe(t)){var r=arguments;t={root:r[0],directed:r[1]}}var n=aL(t),a=n.root,i=n.directed,o=this,s=!1,u,l,f;a&&(f=ye(a)?this.filter(a)[0].id():a[0].id());var c={},d={};i?o.forEach(function(y){var b=y.id();if(y.isNode()){var w=y.indegree(!0),E=y.outdegree(!0),S=w-E,x=E-w;S==1?u?s=!0:u=b:x==1?l?s=!0:l=b:(x>1||S>1)&&(s=!0),c[b]=[],y.outgoers().forEach(function(M){M.isEdge()&&c[b].push(M.id())})}else d[b]=[void 0,y.target().id()]}):o.forEach(function(y){var b=y.id();if(y.isNode()){var w=y.degree(!0);w%2&&(u?l?s=!0:l=b:u=b),c[b]=[],y.connectedEdges().forEach(function(E){return c[b].push(E.id())})}else d[b]=[y.source().id(),y.target().id()]});var h={found:!1,trail:void 0};if(s)return h;if(l&&u)if(i){if(f&&l!=f)return h;f=l}else{if(f&&l!=f&&u!=f)return h;f||(f=l)}else f||(f=o[0].id());var v=function(b){for(var w=b,E=[b],S,x,M;c[w].length;)S=c[w].shift(),x=d[S][0],M=d[S][1],w!=M?(c[M]=c[M].filter(function(T){return T!=S}),w=M):!i&&w!=x&&(c[x]=c[x].filter(function(T){return T!=S}),w=x),E.unshift(S),E.unshift(w);return E},p=[],g=[];for(g=v(f);g.length!=1;)c[g[0]].length==0?(p.unshift(o.getElementById(g.shift())),p.unshift(o.getElementById(g.shift()))):g=v(g.shift()).concat(g);p.unshift(o.getElementById(g.shift()));for(var m in c)if(c[m].length)return h;return h.found=!0,h.trail=this.spawn(p,!0),h}},pl=function(){var t=this,r={},n=0,a=0,i=[],o=[],s={},u=function(d,h){for(var v=o.length-1,p=[],g=t.spawn();o[v].x!=d||o[v].y!=h;)p.push(o.pop().edge),v--;p.push(o.pop().edge),p.forEach(function(m){var y=m.connectedNodes().intersection(t);g.merge(m),y.forEach(function(b){var w=b.id(),E=b.connectedEdges().intersection(t);g.merge(b),r[w].cutVertex?g.merge(E.filter(function(S){return S.isLoop()})):g.merge(E)})}),i.push(g)},l=function c(d,h,v){d===v&&(a+=1),r[h]={id:n,low:n++,cutVertex:!1};var p=t.getElementById(h).connectedEdges().intersection(t);if(p.size()===0)i.push(t.spawn(t.getElementById(h)));else{var g,m,y,b;p.forEach(function(w){g=w.source().id(),m=w.target().id(),y=g===h?m:g,y!==v&&(b=w.id(),s[b]||(s[b]=!0,o.push({x:h,y,edge:w})),y in r?r[h].low=Math.min(r[h].low,r[y].id):(c(d,y,h),r[h].low=Math.min(r[h].low,r[y].low),r[h].id<=r[y].low&&(r[h].cutVertex=!0,u(h,y))))})}};t.forEach(function(c){if(c.isNode()){var d=c.id();d in r||(a=0,l(d,d),r[d].cutVertex=a>1)}});var f=Object.keys(r).filter(function(c){return r[c].cutVertex}).map(function(c){return t.getElementById(c)});return{cut:t.spawn(f),components:i}},oL={hopcroftTarjanBiconnected:pl,htbc:pl,htb:pl,hopcroftTarjanBiconnectedComponents:pl},ml=function(){var t=this,r={},n=0,a=[],i=[],o=t.spawn(t),s=function u(l){i.push(l),r[l]={index:n,low:n++,explored:!1};var f=t.getElementById(l).connectedEdges().intersection(t);if(f.forEach(function(p){var g=p.target().id();g!==l&&(g in r||u(g),r[g].explored||(r[l].low=Math.min(r[l].low,r[g].low)))}),r[l].index===r[l].low){for(var c=t.spawn();;){var d=i.pop();if(c.merge(t.getElementById(d)),r[d].low=r[l].index,r[d].explored=!0,d===l)break}var h=c.edgesWith(c),v=c.merge(h);a.push(v),o=o.difference(v)}};return t.forEach(function(u){if(u.isNode()){var l=u.id();l in r||s(l)}}),{cut:o,components:a}},sL={tarjanStronglyConnected:ml,tsc:ml,tscc:ml,tarjanStronglyConnectedComponents:ml},N5={};[Qs,IO,BO,zO,qO,WO,GO,yR,ao,io,vv,AR,WR,ZR,nL,iL,oL,sL].forEach(function(e){we(N5,e)});/*!
Embeddable Minimum Strictly-Compliant Promises/A+ 1.1.1 Thenable
Copyright (c) 2013-2014 Ralf S. Engelschall (http://engelschall.com)
Licensed under The MIT License (http://opensource.org/licenses/MIT)
*/var I5=0,B5=1,F5=2,aa=function e(t){if(!(this instanceof e))return new e(t);this.id="Thenable/1.0.7",this.state=I5,this.fulfillValue=void 0,this.rejectReason=void 0,this.onFulfilled=[],this.onRejected=[],this.proxy={then:this.then.bind(this)},typeof t=="function"&&t.call(this,this.fulfill.bind(this),this.reject.bind(this))};aa.prototype={fulfill:function(t){return py(this,B5,"fulfillValue",t)},reject:function(t){return py(this,F5,"rejectReason",t)},then:function(t,r){var n=this,a=new aa;return n.onFulfilled.push(yy(t,a,"fulfill")),n.onRejected.push(yy(r,a,"reject")),z5(n),a.proxy}};var py=function(t,r,n,a){return t.state===I5&&(t.state=r,t[n]=a,z5(t)),t},z5=function(t){t.state===B5?my(t,"onFulfilled",t.fulfillValue):t.state===F5&&my(t,"onRejected",t.rejectReason)},my=function(t,r,n){if(t[r].length!==0){var a=t[r];t[r]=[];var i=function(){for(var s=0;s<a.length;s++)a[s](n)};typeof setImmediate=="function"?setImmediate(i):setTimeout(i,0)}},yy=function(t,r,n){return function(a){if(typeof t!="function")r[n].call(r,a);else{var i;try{i=t(a)}catch(o){r.reject(o);return}uL(r,i)}}},uL=function e(t,r){if(t===r||t.proxy===r){t.reject(new TypeError("cannot resolve promise with itself"));return}var n;if(St(r)==="object"&&r!==null||typeof r=="function")try{n=r.then}catch(i){t.reject(i);return}if(typeof n=="function"){var a=!1;try{n.call(r,function(i){a||(a=!0,i===r?t.reject(new TypeError("circular thenable chain")):e(t,i))},function(i){a||(a=!0,t.reject(i))})}catch(i){a||t.reject(i)}return}t.fulfill(r)};aa.all=function(e){return new aa(function(t,r){for(var n=new Array(e.length),a=0,i=function(u,l){n[u]=l,a++,a===e.length&&t(n)},o=0;o<e.length;o++)(function(s){var u=e[s],l=u!=null&&u.then!=null;if(l)u.then(function(c){i(s,c)},function(c){r(c)});else{var f=u;i(s,f)}})(o)})};aa.resolve=function(e){return new aa(function(t,r){t(e)})};aa.reject=function(e){return new aa(function(t,r){r(e)})};var Io=typeof Promise<"u"?Promise:aa,gv=function(t,r,n){var a=qg(t),i=!a,o=this._private=we({duration:1e3},r,n);if(o.target=t,o.style=o.style||o.css,o.started=!1,o.playing=!1,o.hooked=!1,o.applying=!1,o.progress=0,o.completes=[],o.frames=[],o.complete&&ft(o.complete)&&o.completes.push(o.complete),i){var s=t.position();o.startPosition=o.startPosition||{x:s.x,y:s.y},o.startStyle=o.startStyle||t.cy().style().getAnimationStartStyle(t,o.style)}if(a){var u=t.pan();o.startPan={x:u.x,y:u.y},o.startZoom=t.zoom()}this.length=1,this[0]=this},wi=gv.prototype;we(wi,{instanceString:function(){return"animation"},hook:function(){var t=this._private;if(!t.hooked){var r,n=t.target._private.animation;t.queue?r=n.queue:r=n.current,r.push(this),gr(t.target)&&t.target.cy().addToAnimationPool(t.target),t.hooked=!0}return this},play:function(){var t=this._private;return t.progress===1&&(t.progress=0),t.playing=!0,t.started=!1,t.stopped=!1,this.hook(),this},playing:function(){return this._private.playing},apply:function(){var t=this._private;return t.applying=!0,t.started=!1,t.stopped=!1,this.hook(),this},applying:function(){return this._private.applying},pause:function(){var t=this._private;return t.playing=!1,t.started=!1,this},stop:function(){var t=this._private;return t.playing=!1,t.started=!1,t.stopped=!0,this},rewind:function(){return this.progress(0)},fastforward:function(){return this.progress(1)},time:function(t){var r=this._private;return t===void 0?r.progress*r.duration:this.progress(t/r.duration)},progress:function(t){var r=this._private,n=r.playing;return t===void 0?r.progress:(n&&this.pause(),r.progress=t,r.started=!1,n&&this.play(),this)},completed:function(){return this._private.progress===1},reverse:function(){var t=this._private,r=t.playing;r&&this.pause(),t.progress=1-t.progress,t.started=!1;var n=function(l,f){var c=t[l];c!=null&&(t[l]=t[f],t[f]=c)};if(n("zoom","startZoom"),n("pan","startPan"),n("position","startPosition"),t.style)for(var a=0;a<t.style.length;a++){var i=t.style[a],o=i.name,s=t.startStyle[o];t.startStyle[o]=i,t.style[a]=s}return r&&this.play(),this},promise:function(t){var r=this._private,n;switch(t){case"frame":n=r.frames;break;default:case"complete":case"completed":n=r.completes}return new Io(function(a,i){n.push(function(){a()})})}});wi.complete=wi.completed;wi.run=wi.play;wi.running=wi.playing;var lL={animated:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return!1;var o=a[0];if(o)return o._private.animation.current.length>0}},clearQueue:function(){return function(){var r=this,n=r.length!==void 0,a=n?r:[r],i=this._private.cy||this;if(!i.styleEnabled())return this;for(var o=0;o<a.length;o++){var s=a[o];s._private.animation.queue=[]}return this}},delay:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animate({delay:r,duration:r,complete:n}):this}},delayAnimation:function(){return function(r,n){var a=this._private.cy||this;return a.styleEnabled()?this.animation({delay:r,duration:r,complete:n}):this}},animation:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this,u=!i,l=!u;if(!s.styleEnabled())return this;var f=s.style();r=we({},r,n);var c=Object.keys(r).length===0;if(c)return new gv(o[0],r);switch(r.duration===void 0&&(r.duration=400),r.duration){case"slow":r.duration=600;break;case"fast":r.duration=200;break}if(l&&(r.style=f.getPropsList(r.style||r.css),r.css=void 0),l&&r.renderedPosition!=null){var d=r.renderedPosition,h=s.pan(),v=s.zoom();r.position=M5(d,v,h)}if(u&&r.panBy!=null){var p=r.panBy,g=s.pan();r.pan={x:g.x+p.x,y:g.y+p.y}}var m=r.center||r.centre;if(u&&m!=null){var y=s.getCenterPan(m.eles,r.zoom);y!=null&&(r.pan=y)}if(u&&r.fit!=null){var b=r.fit,w=s.getFitViewport(b.eles||b.boundingBox,b.padding);w!=null&&(r.pan=w.pan,r.zoom=w.zoom)}if(u&&Fe(r.zoom)){var E=s.getZoomedViewport(r.zoom);E!=null?(E.zoomed&&(r.zoom=E.zoom),E.panned&&(r.pan=E.pan)):r.zoom=null}return new gv(o[0],r)}},animate:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;n&&(r=we({},r,n));for(var u=0;u<o.length;u++){var l=o[u],f=l.animated()&&(r.queue===void 0||r.queue),c=l.animation(r,f?{queue:!0}:void 0);c.play()}return this}},stop:function(){return function(r,n){var a=this,i=a.length!==void 0,o=i?a:[a],s=this._private.cy||this;if(!s.styleEnabled())return this;for(var u=0;u<o.length;u++){for(var l=o[u],f=l._private,c=f.animation.current,d=0;d<c.length;d++){var h=c[d],v=h._private;n&&(v.duration=0)}r&&(f.animation.queue=[]),n||(f.animation.current=[])}return s.notify("draw"),this}}},fL=Array.isArray,_c=fL,cL=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,dL=/^\w*$/;function hL(e,t){if(_c(e))return!1;var r=typeof e;return r=="number"||r=="symbol"||r=="boolean"||e==null||Ou(e)?!0:dL.test(e)||!cL.test(e)||t!=null&&e in Object(t)}var vL=hL,gL="[object AsyncFunction]",pL="[object Function]",mL="[object GeneratorFunction]",yL="[object Proxy]";function bL(e){if(!pi(e))return!1;var t=p5(e);return t==pL||t==mL||t==gL||t==yL}var wL=bL,xL=Tc["__core-js_shared__"],eh=xL,by=function(){var e=/[^.]+$/.exec(eh&&eh.keys&&eh.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function SL(e){return!!by&&by in e}var EL=SL,TL=Function.prototype,ML=TL.toString;function kL(e){if(e!=null){try{return ML.call(e)}catch{}try{return e+""}catch{}}return""}var CL=kL,DL=/[\\^$.*+?()[\]{}|]/g,_L=/^\[object .+?Constructor\]$/,PL=Function.prototype,AL=Object.prototype,OL=PL.toString,RL=AL.hasOwnProperty,LL=RegExp("^"+OL.call(RL).replace(DL,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function $L(e){if(!pi(e)||EL(e))return!1;var t=wL(e)?LL:_L;return t.test(CL(e))}var NL=$L;function IL(e,t){return e==null?void 0:e[t]}var BL=IL;function FL(e,t){var r=BL(e,t);return NL(r)?r:void 0}var Qg=FL,zL=Qg(Object,"create"),eu=zL;function YL(){this.__data__=eu?eu(null):{},this.size=0}var qL=YL;function VL(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var WL=VL,UL="__lodash_hash_undefined__",HL=Object.prototype,GL=HL.hasOwnProperty;function XL(e){var t=this.__data__;if(eu){var r=t[e];return r===UL?void 0:r}return GL.call(t,e)?t[e]:void 0}var KL=XL,ZL=Object.prototype,QL=ZL.hasOwnProperty;function jL(e){var t=this.__data__;return eu?t[e]!==void 0:QL.call(t,e)}var JL=jL,e$="__lodash_hash_undefined__";function t$(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=eu&&t===void 0?e$:t,this}var r$=t$;function Bo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Bo.prototype.clear=qL;Bo.prototype.delete=WL;Bo.prototype.get=KL;Bo.prototype.has=JL;Bo.prototype.set=r$;var wy=Bo;function n$(){this.__data__=[],this.size=0}var a$=n$;function i$(e,t){return e===t||e!==e&&t!==t}var Y5=i$;function o$(e,t){for(var r=e.length;r--;)if(Y5(e[r][0],t))return r;return-1}var Pc=o$,s$=Array.prototype,u$=s$.splice;function l$(e){var t=this.__data__,r=Pc(t,e);if(r<0)return!1;var n=t.length-1;return r==n?t.pop():u$.call(t,r,1),--this.size,!0}var f$=l$;function c$(e){var t=this.__data__,r=Pc(t,e);return r<0?void 0:t[r][1]}var d$=c$;function h$(e){return Pc(this.__data__,e)>-1}var v$=h$;function g$(e,t){var r=this.__data__,n=Pc(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this}var p$=g$;function Fo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}Fo.prototype.clear=a$;Fo.prototype.delete=f$;Fo.prototype.get=d$;Fo.prototype.has=v$;Fo.prototype.set=p$;var m$=Fo,y$=Qg(Tc,"Map"),b$=y$;function w$(){this.size=0,this.__data__={hash:new wy,map:new(b$||m$),string:new wy}}var x$=w$;function S$(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}var E$=S$;function T$(e,t){var r=e.__data__;return E$(t)?r[typeof t=="string"?"string":"hash"]:r.map}var Ac=T$;function M$(e){var t=Ac(this,e).delete(e);return this.size-=t?1:0,t}var k$=M$;function C$(e){return Ac(this,e).get(e)}var D$=C$;function _$(e){return Ac(this,e).has(e)}var P$=_$;function A$(e,t){var r=Ac(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this}var O$=A$;function zo(e){var t=-1,r=e==null?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}zo.prototype.clear=x$;zo.prototype.delete=k$;zo.prototype.get=D$;zo.prototype.has=P$;zo.prototype.set=O$;var q5=zo,R$="Expected a function";function jg(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(R$);var r=function(){var n=arguments,a=t?t.apply(this,n):n[0],i=r.cache;if(i.has(a))return i.get(a);var o=e.apply(this,n);return r.cache=i.set(a,o)||i,o};return r.cache=new(jg.Cache||q5),r}jg.Cache=q5;var L$=jg,$$=500;function N$(e){var t=L$(e,function(n){return r.size===$$&&r.clear(),n}),r=t.cache;return t}var I$=N$,B$=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,F$=/\\(\\)?/g,z$=I$(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(B$,function(r,n,a,i){t.push(a?i.replace(F$,"$1"):n||r)}),t}),V5=z$;function Y$(e,t){for(var r=-1,n=e==null?0:e.length,a=Array(n);++r<n;)a[r]=t(e[r],r,e);return a}var W5=Y$,q$=1/0,xy=ko?ko.prototype:void 0,Sy=xy?xy.toString:void 0;function U5(e){if(typeof e=="string")return e;if(_c(e))return W5(e,U5)+"";if(Ou(e))return Sy?Sy.call(e):"";var t=e+"";return t=="0"&&1/e==-q$?"-0":t}var V$=U5;function W$(e){return e==null?"":V$(e)}var H5=W$;function U$(e,t){return _c(e)?e:vL(e,t)?[e]:V5(H5(e))}var G5=U$,H$=1/0;function G$(e){if(typeof e=="string"||Ou(e))return e;var t=e+"";return t=="0"&&1/e==-H$?"-0":t}var Jg=G$;function X$(e,t){t=G5(t,e);for(var r=0,n=t.length;e!=null&&r<n;)e=e[Jg(t[r++])];return r&&r==n?e:void 0}var K$=X$;function Z$(e,t,r){var n=e==null?void 0:K$(e,t);return n===void 0?r:n}var Q$=Z$,j$=function(){try{var e=Qg(Object,"defineProperty");return e({},"",{}),e}catch{}}(),Ey=j$;function J$(e,t,r){t=="__proto__"&&Ey?Ey(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}var eN=J$,tN=Object.prototype,rN=tN.hasOwnProperty;function nN(e,t,r){var n=e[t];(!(rN.call(e,t)&&Y5(n,r))||r===void 0&&!(t in e))&&eN(e,t,r)}var aN=nN,iN=9007199254740991,oN=/^(?:0|[1-9]\d*)$/;function sN(e,t){var r=typeof e;return t=t??iN,!!t&&(r=="number"||r!="symbol"&&oN.test(e))&&e>-1&&e%1==0&&e<t}var uN=sN;function lN(e,t,r,n){if(!pi(e))return e;t=G5(t,e);for(var a=-1,i=t.length,o=i-1,s=e;s!=null&&++a<i;){var u=Jg(t[a]),l=r;if(u==="__proto__"||u==="constructor"||u==="prototype")return e;if(a!=o){var f=s[u];l=n?n(f,u,s):void 0,l===void 0&&(l=pi(f)?f:uN(t[a+1])?[]:{})}aN(s,u,l),s=s[u]}return e}var fN=lN;function cN(e,t,r){return e==null?e:fN(e,t,r)}var dN=cN;function hN(e,t){var r=-1,n=e.length;for(t||(t=Array(n));++r<n;)t[r]=e[r];return t}var vN=hN;function gN(e){return _c(e)?W5(e,Jg):Ou(e)?[e]:vN(V5(H5(e)))}var pN=gN,mN={data:function(t){var r={field:"data",bindingEvent:"data",allowBinding:!1,allowSetting:!1,allowGetting:!1,settingEvent:"data",settingTriggersEvent:!1,triggerFnName:"trigger",immutableKeys:{},updateStyle:!1,beforeGet:function(a){},beforeSet:function(a,i){},onSet:function(a){},canSet:function(a){return!0}};return t=we({},r,t),function(a,i){var o=t,s=this,u=s.length!==void 0,l=u?s:[s],f=u?s[0]:s;if(ye(a)){var c=a.indexOf(".")!==-1,d=c&&pN(a);if(o.allowGetting&&i===void 0){var h;return f&&(o.beforeGet(f),d&&f._private[o.field][a]===void 0?h=Q$(f._private[o.field],d):h=f._private[o.field][a]),h}else if(o.allowSetting&&i!==void 0){var v=!o.immutableKeys[a];if(v){var p=i5({},a,i);o.beforeSet(s,p);for(var g=0,m=l.length;g<m;g++){var y=l[g];o.canSet(y)&&(d&&f._private[o.field][a]===void 0?dN(y._private[o.field],d,i):y._private[o.field][a]=i)}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}}}else if(o.allowSetting&&Fe(a)){var b=a,w,E,S=Object.keys(b);o.beforeSet(s,b);for(var x=0;x<S.length;x++){w=S[x],E=b[w];var M=!o.immutableKeys[w];if(M)for(var T=0;T<l.length;T++){var C=l[T];o.canSet(C)&&(C._private[o.field][w]=E)}}o.updateStyle&&s.updateStyle(),o.onSet(s),o.settingTriggersEvent&&s[o.triggerFnName](o.settingEvent)}else if(o.allowBinding&&ft(a)){var k=a;s.on(o.bindingEvent,k)}else if(o.allowGetting&&a===void 0){var _;return f&&(o.beforeGet(f),_=f._private[o.field]),_}return s}},removeData:function(t){var r={field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!1,immutableKeys:{}};return t=we({},r,t),function(a){var i=t,o=this,s=o.length!==void 0,u=s?o:[o];if(ye(a)){for(var l=a.split(/\s+/),f=l.length,c=0;c<f;c++){var d=l[c];if(!Aa(d)){var h=!i.immutableKeys[d];if(h)for(var v=0,p=u.length;v<p;v++)u[v]._private[i.field][d]=void 0}}i.triggerEvent&&o[i.triggerFnName](i.event)}else if(a===void 0){for(var g=0,m=u.length;g<m;g++)for(var y=u[g]._private[i.field],b=Object.keys(y),w=0;w<b.length;w++){var E=b[w],S=!i.immutableKeys[E];S&&(y[E]=void 0)}i.triggerEvent&&o[i.triggerFnName](i.event)}return o}}},yN={eventAliasesOn:function(t){var r=t;r.addListener=r.listen=r.bind=r.on,r.unlisten=r.unbind=r.off=r.removeListener,r.trigger=r.emit,r.pon=r.promiseOn=function(n,a){var i=this,o=Array.prototype.slice.call(arguments,0);return new Io(function(s,u){var l=function(h){i.off.apply(i,c),s(h)},f=o.concat([l]),c=f.concat([]);i.on.apply(i,f)})}}},Xe={};[lL,mN,yN].forEach(function(e){we(Xe,e)});var bN={animate:Xe.animate(),animation:Xe.animation(),animated:Xe.animated(),clearQueue:Xe.clearQueue(),delay:Xe.delay(),delayAnimation:Xe.delayAnimation(),stop:Xe.stop()},Ll={classes:function(t){var r=this;if(t===void 0){var n=[];return r[0]._private.classes.forEach(function(v){return n.push(v)}),n}else Je(t)||(t=(t||"").match(/\S+/g)||[]);for(var a=[],i=new No(t),o=0;o<r.length;o++){for(var s=r[o],u=s._private,l=u.classes,f=!1,c=0;c<t.length;c++){var d=t[c],h=l.has(d);if(!h){f=!0;break}}f||(f=l.size!==t.length),f&&(u.classes=i,a.push(s))}return a.length>0&&this.spawn(a).updateStyle().emit("class"),r},addClass:function(t){return this.toggleClass(t,!0)},hasClass:function(t){var r=this[0];return r!=null&&r._private.classes.has(t)},toggleClass:function(t,r){Je(t)||(t=t.match(/\S+/g)||[]);for(var n=this,a=r===void 0,i=[],o=0,s=n.length;o<s;o++)for(var u=n[o],l=u._private.classes,f=!1,c=0;c<t.length;c++){var d=t[c],h=l.has(d),v=!1;r||a&&!h?(l.add(d),v=!0):(!r||a&&h)&&(l.delete(d),v=!0),!f&&v&&(i.push(u),f=!0)}return i.length>0&&this.spawn(i).updateStyle().emit("class"),n},removeClass:function(t){return this.toggleClass(t,!1)},flashClass:function(t,r){var n=this;if(r==null)r=250;else if(r===0)return n;return n.addClass(t),setTimeout(function(){n.removeClass(t)},r),n}};Ll.className=Ll.classNames=Ll.classes;var Be={metaChar:"[\\!\\\"\\#\\$\\%\\&\\'\\(\\)\\*\\+\\,\\.\\/\\:\\;\\<\\=\\>\\?\\@\\[\\]\\^\\`\\{\\|\\}\\~]",comparatorOp:"=|\\!=|>|>=|<|<=|\\$=|\\^=|\\*=",boolOp:"\\?|\\!|\\^",string:`"(?:\\\\"|[^"])*"|'(?:\\\\'|[^'])*'`,number:wt,meta:"degree|indegree|outdegree",separator:"\\s*,\\s*",descendant:"\\s+",child:"\\s+>\\s+",subject:"\\$",group:"node|edge|\\*",directedEdge:"\\s+->\\s+",undirectedEdge:"\\s+<->\\s+"};Be.variable="(?:[\\w-.]|(?:\\\\"+Be.metaChar+"))+";Be.className="(?:[\\w-]|(?:\\\\"+Be.metaChar+"))+";Be.value=Be.string+"|"+Be.number;Be.id=Be.variable;(function(){var e,t,r;for(e=Be.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],Be.comparatorOp+="|@"+t;for(e=Be.comparatorOp.split("|"),r=0;r<e.length;r++)t=e[r],!(t.indexOf("!")>=0)&&t!=="="&&(Be.comparatorOp+="|\\!"+t)})();var Qe=function(){return{checks:[]}},ve={GROUP:0,COLLECTION:1,FILTER:2,DATA_COMPARE:3,DATA_EXIST:4,DATA_BOOL:5,META_COMPARE:6,STATE:7,ID:8,CLASS:9,UNDIRECTED_EDGE:10,DIRECTED_EDGE:11,NODE_SOURCE:12,NODE_TARGET:13,NODE_NEIGHBOR:14,CHILD:15,DESCENDANT:16,PARENT:17,ANCESTOR:18,COMPOUND_SPLIT:19,TRUE:20},pv=[{selector:":selected",matches:function(t){return t.selected()}},{selector:":unselected",matches:function(t){return!t.selected()}},{selector:":selectable",matches:function(t){return t.selectable()}},{selector:":unselectable",matches:function(t){return!t.selectable()}},{selector:":locked",matches:function(t){return t.locked()}},{selector:":unlocked",matches:function(t){return!t.locked()}},{selector:":visible",matches:function(t){return t.visible()}},{selector:":hidden",matches:function(t){return!t.visible()}},{selector:":transparent",matches:function(t){return t.transparent()}},{selector:":grabbed",matches:function(t){return t.grabbed()}},{selector:":free",matches:function(t){return!t.grabbed()}},{selector:":removed",matches:function(t){return t.removed()}},{selector:":inside",matches:function(t){return!t.removed()}},{selector:":grabbable",matches:function(t){return t.grabbable()}},{selector:":ungrabbable",matches:function(t){return!t.grabbable()}},{selector:":animated",matches:function(t){return t.animated()}},{selector:":unanimated",matches:function(t){return!t.animated()}},{selector:":parent",matches:function(t){return t.isParent()}},{selector:":childless",matches:function(t){return t.isChildless()}},{selector:":child",matches:function(t){return t.isChild()}},{selector:":orphan",matches:function(t){return t.isOrphan()}},{selector:":nonorphan",matches:function(t){return t.isChild()}},{selector:":compound",matches:function(t){return t.isNode()?t.isParent():t.source().isParent()||t.target().isParent()}},{selector:":loop",matches:function(t){return t.isLoop()}},{selector:":simple",matches:function(t){return t.isSimple()}},{selector:":active",matches:function(t){return t.active()}},{selector:":inactive",matches:function(t){return!t.active()}},{selector:":backgrounding",matches:function(t){return t.backgrounding()}},{selector:":nonbackgrounding",matches:function(t){return!t.backgrounding()}}].sort(function(e,t){return AA(e.selector,t.selector)}),wN=function(){for(var e={},t,r=0;r<pv.length;r++)t=pv[r],e[t.selector]=t.matches;return e}(),xN=function(t,r){return wN[t](r)},SN="("+pv.map(function(e){return e.selector}).join("|")+")",Ii=function(t){return t.replace(new RegExp("\\\\("+Be.metaChar+")","g"),function(r,n){return n})},va=function(t,r,n){t[t.length-1]=n},mv=[{name:"group",query:!0,regex:"("+Be.group+")",populate:function(t,r,n){var a=Fr(n,1),i=a[0];r.checks.push({type:ve.GROUP,value:i==="*"?i:i+"s"})}},{name:"state",query:!0,regex:SN,populate:function(t,r,n){var a=Fr(n,1),i=a[0];r.checks.push({type:ve.STATE,value:i})}},{name:"id",query:!0,regex:"\\#("+Be.id+")",populate:function(t,r,n){var a=Fr(n,1),i=a[0];r.checks.push({type:ve.ID,value:Ii(i)})}},{name:"className",query:!0,regex:"\\.("+Be.className+")",populate:function(t,r,n){var a=Fr(n,1),i=a[0];r.checks.push({type:ve.CLASS,value:Ii(i)})}},{name:"dataExists",query:!0,regex:"\\[\\s*("+Be.variable+")\\s*\\]",populate:function(t,r,n){var a=Fr(n,1),i=a[0];r.checks.push({type:ve.DATA_EXIST,field:Ii(i)})}},{name:"dataCompare",query:!0,regex:"\\[\\s*("+Be.variable+")\\s*("+Be.comparatorOp+")\\s*("+Be.value+")\\s*\\]",populate:function(t,r,n){var a=Fr(n,3),i=a[0],o=a[1],s=a[2],u=new RegExp("^"+Be.string+"$").exec(s)!=null;u?s=s.substring(1,s.length-1):s=parseFloat(s),r.checks.push({type:ve.DATA_COMPARE,field:Ii(i),operator:o,value:s})}},{name:"dataBool",query:!0,regex:"\\[\\s*("+Be.boolOp+")\\s*("+Be.variable+")\\s*\\]",populate:function(t,r,n){var a=Fr(n,2),i=a[0],o=a[1];r.checks.push({type:ve.DATA_BOOL,field:Ii(o),operator:i})}},{name:"metaCompare",query:!0,regex:"\\[\\[\\s*("+Be.meta+")\\s*("+Be.comparatorOp+")\\s*("+Be.number+")\\s*\\]\\]",populate:function(t,r,n){var a=Fr(n,3),i=a[0],o=a[1],s=a[2];r.checks.push({type:ve.META_COMPARE,field:Ii(i),operator:o,value:parseFloat(s)})}},{name:"nextQuery",separator:!0,regex:Be.separator,populate:function(t,r){var n=t.currentSubject,a=t.edgeCount,i=t.compoundCount,o=t[t.length-1];n!=null&&(o.subject=n,t.currentSubject=null),o.edgeCount=a,o.compoundCount=i,t.edgeCount=0,t.compoundCount=0;var s=t[t.length++]=Qe();return s}},{name:"directedEdge",separator:!0,regex:Be.directedEdge,populate:function(t,r){if(t.currentSubject==null){var n=Qe(),a=r,i=Qe();return n.checks.push({type:ve.DIRECTED_EDGE,source:a,target:i}),va(t,r,n),t.edgeCount++,i}else{var o=Qe(),s=r,u=Qe();return o.checks.push({type:ve.NODE_SOURCE,source:s,target:u}),va(t,r,o),t.edgeCount++,u}}},{name:"undirectedEdge",separator:!0,regex:Be.undirectedEdge,populate:function(t,r){if(t.currentSubject==null){var n=Qe(),a=r,i=Qe();return n.checks.push({type:ve.UNDIRECTED_EDGE,nodes:[a,i]}),va(t,r,n),t.edgeCount++,i}else{var o=Qe(),s=r,u=Qe();return o.checks.push({type:ve.NODE_NEIGHBOR,node:s,neighbor:u}),va(t,r,o),u}}},{name:"child",separator:!0,regex:Be.child,populate:function(t,r){if(t.currentSubject==null){var n=Qe(),a=Qe(),i=t[t.length-1];return n.checks.push({type:ve.CHILD,parent:i,child:a}),va(t,r,n),t.compoundCount++,a}else if(t.currentSubject===r){var o=Qe(),s=t[t.length-1],u=Qe(),l=Qe(),f=Qe(),c=Qe();return o.checks.push({type:ve.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:ve.TRUE}],c.checks.push({type:ve.TRUE}),u.checks.push({type:ve.PARENT,parent:c,child:f}),va(t,s,o),t.currentSubject=l,t.compoundCount++,f}else{var d=Qe(),h=Qe(),v=[{type:ve.PARENT,parent:d,child:h}];return d.checks=r.checks,r.checks=v,t.compoundCount++,h}}},{name:"descendant",separator:!0,regex:Be.descendant,populate:function(t,r){if(t.currentSubject==null){var n=Qe(),a=Qe(),i=t[t.length-1];return n.checks.push({type:ve.DESCENDANT,ancestor:i,descendant:a}),va(t,r,n),t.compoundCount++,a}else if(t.currentSubject===r){var o=Qe(),s=t[t.length-1],u=Qe(),l=Qe(),f=Qe(),c=Qe();return o.checks.push({type:ve.COMPOUND_SPLIT,left:s,right:u,subject:l}),l.checks=r.checks,r.checks=[{type:ve.TRUE}],c.checks.push({type:ve.TRUE}),u.checks.push({type:ve.ANCESTOR,ancestor:c,descendant:f}),va(t,s,o),t.currentSubject=l,t.compoundCount++,f}else{var d=Qe(),h=Qe(),v=[{type:ve.ANCESTOR,ancestor:d,descendant:h}];return d.checks=r.checks,r.checks=v,t.compoundCount++,h}}},{name:"subject",modifier:!0,regex:Be.subject,populate:function(t,r){if(t.currentSubject!=null&&t.currentSubject!==r)return Ke("Redefinition of subject in selector `"+t.toString()+"`"),!1;t.currentSubject=r;var n=t[t.length-1],a=n.checks[0],i=a==null?null:a.type;i===ve.DIRECTED_EDGE?a.type=ve.NODE_TARGET:i===ve.UNDIRECTED_EDGE&&(a.type=ve.NODE_NEIGHBOR,a.node=a.nodes[1],a.neighbor=a.nodes[0],a.nodes=null)}}];mv.forEach(function(e){return e.regexObj=new RegExp("^"+e.regex)});var EN=function(t){for(var r,n,a,i=0;i<mv.length;i++){var o=mv[i],s=o.name,u=t.match(o.regexObj);if(u!=null){n=u,r=o,a=s;var l=u[0];t=t.substring(l.length);break}}return{expr:r,match:n,name:a,remaining:t}},TN=function(t){var r=t.match(/^\s+/);if(r){var n=r[0];t=t.substring(n.length)}return t},MN=function(t){var r=this,n=r.inputText=t,a=r[0]=Qe();for(r.length=1,n=TN(n);;){var i=EN(n);if(i.expr==null)return Ke("The selector `"+t+"`is invalid"),!1;var o=i.match.slice(1),s=i.expr.populate(r,a,o);if(s===!1)return!1;if(s!=null&&(a=s),n=i.remaining,n.match(/^\s*$/))break}var u=r[r.length-1];r.currentSubject!=null&&(u.subject=r.currentSubject),u.edgeCount=r.edgeCount,u.compoundCount=r.compoundCount;for(var l=0;l<r.length;l++){var f=r[l];if(f.compoundCount>0&&f.edgeCount>0)return Ke("The selector `"+t+"` is invalid because it uses both a compound selector and an edge selector"),!1;if(f.edgeCount>1)return Ke("The selector `"+t+"` is invalid because it uses multiple edge selectors"),!1;f.edgeCount===1&&Ke("The selector `"+t+"` is deprecated.  Edge selectors do not take effect on changes to source and target nodes after an edge is added, for performance reasons.  Use a class or data selector on edges instead, updating the class or data of an edge when your app detects a change in source or target nodes.")}return!0},kN=function(){if(this.toStringCache!=null)return this.toStringCache;for(var t=function(f){return f??""},r=function(f){return ye(f)?'"'+f+'"':t(f)},n=function(f){return" "+f+" "},a=function(f,c){var d=f.type,h=f.value;switch(d){case ve.GROUP:{var v=t(h);return v.substring(0,v.length-1)}case ve.DATA_COMPARE:{var p=f.field,g=f.operator;return"["+p+n(t(g))+r(h)+"]"}case ve.DATA_BOOL:{var m=f.operator,y=f.field;return"["+t(m)+y+"]"}case ve.DATA_EXIST:{var b=f.field;return"["+b+"]"}case ve.META_COMPARE:{var w=f.operator,E=f.field;return"[["+E+n(t(w))+r(h)+"]]"}case ve.STATE:return h;case ve.ID:return"#"+h;case ve.CLASS:return"."+h;case ve.PARENT:case ve.CHILD:return i(f.parent,c)+n(">")+i(f.child,c);case ve.ANCESTOR:case ve.DESCENDANT:return i(f.ancestor,c)+" "+i(f.descendant,c);case ve.COMPOUND_SPLIT:{var S=i(f.left,c),x=i(f.subject,c),M=i(f.right,c);return S+(S.length>0?" ":"")+x+M}case ve.TRUE:return""}},i=function(f,c){return f.checks.reduce(function(d,h,v){return d+(c===f&&v===0?"$":"")+a(h,c)},"")},o="",s=0;s<this.length;s++){var u=this[s];o+=i(u,u.subject),this.length>1&&s<this.length-1&&(o+=", ")}return this.toStringCache=o,o},CN={parse:MN,toString:kN},X5=function(t,r,n){var a,i=ye(t),o=fe(t),s=ye(n),u,l,f=!1,c=!1,d=!1;switch(r.indexOf("!")>=0&&(r=r.replace("!",""),c=!0),r.indexOf("@")>=0&&(r=r.replace("@",""),f=!0),(i||s||f)&&(u=!i&&!o?"":""+t,l=""+n),f&&(t=u=u.toLowerCase(),n=l=l.toLowerCase()),r){case"*=":a=u.indexOf(l)>=0;break;case"$=":a=u.indexOf(l,u.length-l.length)>=0;break;case"^=":a=u.indexOf(l)===0;break;case"=":a=t===n;break;case">":d=!0,a=t>n;break;case">=":d=!0,a=t>=n;break;case"<":d=!0,a=t<n;break;case"<=":d=!0,a=t<=n;break;default:a=!1;break}return c&&(t!=null||!d)&&(a=!a),a},DN=function(t,r){switch(r){case"?":return!!t;case"!":return!t;case"^":return t===void 0}},_N=function(t){return t!==void 0},ep=function(t,r){return t.data(r)},PN=function(t,r){return t[r]()},gt=[],at=function(t,r){return t.checks.every(function(n){return gt[n.type](n,r)})};gt[ve.GROUP]=function(e,t){var r=e.value;return r==="*"||r===t.group()};gt[ve.STATE]=function(e,t){var r=e.value;return xN(r,t)};gt[ve.ID]=function(e,t){var r=e.value;return t.id()===r};gt[ve.CLASS]=function(e,t){var r=e.value;return t.hasClass(r)};gt[ve.META_COMPARE]=function(e,t){var r=e.field,n=e.operator,a=e.value;return X5(PN(t,r),n,a)};gt[ve.DATA_COMPARE]=function(e,t){var r=e.field,n=e.operator,a=e.value;return X5(ep(t,r),n,a)};gt[ve.DATA_BOOL]=function(e,t){var r=e.field,n=e.operator;return DN(ep(t,r),n)};gt[ve.DATA_EXIST]=function(e,t){var r=e.field;return e.operator,_N(ep(t,r))};gt[ve.UNDIRECTED_EDGE]=function(e,t){var r=e.nodes[0],n=e.nodes[1],a=t.source(),i=t.target();return at(r,a)&&at(n,i)||at(n,a)&&at(r,i)};gt[ve.NODE_NEIGHBOR]=function(e,t){return at(e.node,t)&&t.neighborhood().some(function(r){return r.isNode()&&at(e.neighbor,r)})};gt[ve.DIRECTED_EDGE]=function(e,t){return at(e.source,t.source())&&at(e.target,t.target())};gt[ve.NODE_SOURCE]=function(e,t){return at(e.source,t)&&t.outgoers().some(function(r){return r.isNode()&&at(e.target,r)})};gt[ve.NODE_TARGET]=function(e,t){return at(e.target,t)&&t.incomers().some(function(r){return r.isNode()&&at(e.source,r)})};gt[ve.CHILD]=function(e,t){return at(e.child,t)&&at(e.parent,t.parent())};gt[ve.PARENT]=function(e,t){return at(e.parent,t)&&t.children().some(function(r){return at(e.child,r)})};gt[ve.DESCENDANT]=function(e,t){return at(e.descendant,t)&&t.ancestors().some(function(r){return at(e.ancestor,r)})};gt[ve.ANCESTOR]=function(e,t){return at(e.ancestor,t)&&t.descendants().some(function(r){return at(e.descendant,r)})};gt[ve.COMPOUND_SPLIT]=function(e,t){return at(e.subject,t)&&at(e.left,t)&&at(e.right,t)};gt[ve.TRUE]=function(){return!0};gt[ve.COLLECTION]=function(e,t){var r=e.value;return r.has(t)};gt[ve.FILTER]=function(e,t){var r=e.value;return r(t)};var AN=function(t){var r=this;if(r.length===1&&r[0].checks.length===1&&r[0].checks[0].type===ve.ID)return t.getElementById(r[0].checks[0].value).collection();var n=function(i){for(var o=0;o<r.length;o++){var s=r[o];if(at(s,i))return!0}return!1};return r.text()==null&&(n=function(){return!0}),t.filter(n)},ON=function(t){for(var r=this,n=0;n<r.length;n++){var a=r[n];if(at(a,t))return!0}return!1},RN={matches:ON,filter:AN},Ra=function(t){this.inputText=t,this.currentSubject=null,this.compoundCount=0,this.edgeCount=0,this.length=0,t==null||ye(t)&&t.match(/^\s*$/)||(gr(t)?this.addQuery({checks:[{type:ve.COLLECTION,value:t.collection()}]}):ft(t)?this.addQuery({checks:[{type:ve.FILTER,value:t}]}):ye(t)?this.parse(t)||(this.invalid=!0):vt("A selector must be created from a string; found "))},La=Ra.prototype;[CN,RN].forEach(function(e){return we(La,e)});La.text=function(){return this.inputText};La.size=function(){return this.length};La.eq=function(e){return this[e]};La.sameText=function(e){return!this.invalid&&!e.invalid&&this.text()===e.text()};La.addQuery=function(e){this[this.length++]=e};La.selector=La.toString;var Ea={allAre:function(t){var r=new Ra(t);return this.every(function(n){return r.matches(n)})},is:function(t){var r=new Ra(t);return this.some(function(n){return r.matches(n)})},some:function(t,r){for(var n=0;n<this.length;n++){var a=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(a)return!0}return!1},every:function(t,r){for(var n=0;n<this.length;n++){var a=r?t.apply(r,[this[n],n,this]):t(this[n],n,this);if(!a)return!1}return!0},same:function(t){if(this===t)return!0;t=this.cy().collection(t);var r=this.length,n=t.length;return r!==n?!1:r===1?this[0]===t[0]:this.every(function(a){return t.hasElementWithId(a.id())})},anySame:function(t){return t=this.cy().collection(t),this.some(function(r){return t.hasElementWithId(r.id())})},allAreNeighbors:function(t){t=this.cy().collection(t);var r=this.neighborhood();return t.every(function(n){return r.hasElementWithId(n.id())})},contains:function(t){t=this.cy().collection(t);var r=this;return t.every(function(n){return r.hasElementWithId(n.id())})}};Ea.allAreNeighbours=Ea.allAreNeighbors;Ea.has=Ea.contains;Ea.equal=Ea.equals=Ea.same;var Or=function(t,r){return function(a,i,o,s){var u=a,l=this,f;if(u==null?f="":gr(u)&&u.length===1&&(f=u.id()),l.length===1&&f){var c=l[0]._private,d=c.traversalCache=c.traversalCache||{},h=d[r]=d[r]||[],v=mi(f),p=h[v];return p||(h[v]=t.call(l,a,i,o,s))}else return t.call(l,a,i,o,s)}},_o={parent:function(t){var r=[];if(this.length===1){var n=this[0]._private.parent;if(n)return n}for(var a=0;a<this.length;a++){var i=this[a],o=i._private.parent;o&&r.push(o)}return this.spawn(r,!0).filter(t)},parents:function(t){for(var r=[],n=this.parent();n.nonempty();){for(var a=0;a<n.length;a++){var i=n[a];r.push(i)}n=n.parent()}return this.spawn(r,!0).filter(t)},commonAncestors:function(t){for(var r,n=0;n<this.length;n++){var a=this[n],i=a.parents();r=r||i,r=r.intersect(i)}return r.filter(t)},orphans:function(t){return this.stdFilter(function(r){return r.isOrphan()}).filter(t)},nonorphans:function(t){return this.stdFilter(function(r){return r.isChild()}).filter(t)},children:Or(function(e){for(var t=[],r=0;r<this.length;r++)for(var n=this[r],a=n._private.children,i=0;i<a.length;i++)t.push(a[i]);return this.spawn(t,!0).filter(e)},"children"),siblings:function(t){return this.parent().children().not(this).filter(t)},isParent:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length!==0},isChildless:function(){var t=this[0];if(t)return t.isNode()&&t._private.children.length===0},isChild:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent!=null},isOrphan:function(){var t=this[0];if(t)return t.isNode()&&t._private.parent==null},descendants:function(t){var r=[];function n(a){for(var i=0;i<a.length;i++){var o=a[i];r.push(o),o.children().nonempty()&&n(o.children())}}return n(this.children()),this.spawn(r,!0).filter(t)}};function tp(e,t,r,n){for(var a=[],i=new No,o=e.cy(),s=o.hasCompoundNodes(),u=0;u<e.length;u++){var l=e[u];r?a.push(l):s&&n(a,i,l)}for(;a.length>0;){var f=a.shift();t(f),i.add(f.id()),s&&n(a,i,f)}return e}function K5(e,t,r){if(r.isParent())for(var n=r._private.children,a=0;a<n.length;a++){var i=n[a];t.has(i.id())||e.push(i)}}_o.forEachDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return tp(this,e,t,K5)};function Z5(e,t,r){if(r.isChild()){var n=r._private.parent;t.has(n.id())||e.push(n)}}_o.forEachUp=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return tp(this,e,t,Z5)};function LN(e,t,r){Z5(e,t,r),K5(e,t,r)}_o.forEachUpAndDown=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return tp(this,e,t,LN)};_o.ancestors=_o.parents;var tu,Q5;tu=Q5={data:Xe.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),removeData:Xe.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,immutableKeys:{id:!0,source:!0,target:!0,parent:!0},updateStyle:!0}),scratch:Xe.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Xe.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),rscratch:Xe.data({field:"rscratch",allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!0}),removeRscratch:Xe.removeData({field:"rscratch",triggerEvent:!1}),id:function(){var t=this[0];if(t)return t._private.data.id}};tu.attr=tu.data;tu.removeAttr=tu.removeData;var $N=Q5,Oc={};function th(e){return function(t){var r=this;if(t===void 0&&(t=!0),r.length!==0)if(r.isNode()&&!r.removed()){for(var n=0,a=r[0],i=a._private.edges,o=0;o<i.length;o++){var s=i[o];!t&&s.isLoop()||(n+=e(a,s))}return n}else return}}we(Oc,{degree:th(function(e,t){return t.source().same(t.target())?2:1}),indegree:th(function(e,t){return t.target().same(e)?1:0}),outdegree:th(function(e,t){return t.source().same(e)?1:0})});function Bi(e,t){return function(r){for(var n,a=this.nodes(),i=0;i<a.length;i++){var o=a[i],s=o[e](r);s!==void 0&&(n===void 0||t(s,n))&&(n=s)}return n}}we(Oc,{minDegree:Bi("degree",function(e,t){return e<t}),maxDegree:Bi("degree",function(e,t){return e>t}),minIndegree:Bi("indegree",function(e,t){return e<t}),maxIndegree:Bi("indegree",function(e,t){return e>t}),minOutdegree:Bi("outdegree",function(e,t){return e<t}),maxOutdegree:Bi("outdegree",function(e,t){return e>t})});we(Oc,{totalDegree:function(t){for(var r=0,n=this.nodes(),a=0;a<n.length;a++)r+=n[a].degree(t);return r}});var Ur,j5,J5=function(t,r,n){for(var a=0;a<t.length;a++){var i=t[a];if(!i.locked()){var o=i._private.position,s={x:r.x!=null?r.x-o.x:0,y:r.y!=null?r.y-o.y:0};i.isParent()&&!(s.x===0&&s.y===0)&&i.children().shift(s,n),i.dirtyBoundingBoxCache()}}},Ty={field:"position",bindingEvent:"position",allowBinding:!0,allowSetting:!0,settingEvent:"position",settingTriggersEvent:!0,triggerFnName:"emitAndNotify",allowGetting:!0,validKeys:["x","y"],beforeGet:function(t){t.updateCompoundBounds()},beforeSet:function(t,r){J5(t,r,!1)},onSet:function(t){t.dirtyCompoundBoundsCache()},canSet:function(t){return!t.locked()}};Ur=j5={position:Xe.data(Ty),silentPosition:Xe.data(we({},Ty,{allowBinding:!1,allowSetting:!0,settingTriggersEvent:!1,allowGetting:!1,beforeSet:function(t,r){J5(t,r,!0)},onSet:function(t){t.dirtyCompoundBoundsCache()}})),positions:function(t,r){if(Fe(t))r?this.silentPosition(t):this.position(t);else if(ft(t)){var n=t,a=this.cy();a.startBatch();for(var i=0;i<this.length;i++){var o=this[i],s=void 0;(s=n(o,i))&&(r?o.silentPosition(s):o.position(s))}a.endBatch()}return this},silentPositions:function(t){return this.positions(t,!0)},shift:function(t,r,n){var a;if(Fe(t)?(a={x:fe(t.x)?t.x:0,y:fe(t.y)?t.y:0},n=r):ye(t)&&fe(r)&&(a={x:0,y:0},a[t]=r),a!=null){var i=this.cy();i.startBatch();for(var o=0;o<this.length;o++){var s=this[o];if(!(i.hasCompoundNodes()&&s.isChild()&&s.ancestors().anySame(this))){var u=s.position(),l={x:u.x+a.x,y:u.y+a.y};n?s.silentPosition(l):s.position(l)}}i.endBatch()}return this},silentShift:function(t,r){return Fe(t)?this.shift(t,!0):ye(t)&&fe(r)&&this.shift(t,r,!0),this},renderedPosition:function(t,r){var n=this[0],a=this.cy(),i=a.zoom(),o=a.pan(),s=Fe(t)?t:void 0,u=s!==void 0||r!==void 0&&ye(t);if(n&&n.isNode())if(u)for(var l=0;l<this.length;l++){var f=this[l];r!==void 0?f.position(t,(r-o[t])/i):s!==void 0&&f.position(M5(s,i,o))}else{var c=n.position();return s=Cc(c,i,o),t===void 0?s:s[t]}else if(!u)return;return this},relativePosition:function(t,r){var n=this[0],a=this.cy(),i=Fe(t)?t:void 0,o=i!==void 0||r!==void 0&&ye(t),s=a.hasCompoundNodes();if(n&&n.isNode())if(o)for(var u=0;u<this.length;u++){var l=this[u],f=s?l.parent():null,c=f&&f.length>0,d=c;c&&(f=f[0]);var h=d?f.position():{x:0,y:0};r!==void 0?l.position(t,r+h[t]):i!==void 0&&l.position({x:i.x+h.x,y:i.y+h.y})}else{var v=n.position(),p=s?n.parent():null,g=p&&p.length>0,m=g;g&&(p=p[0]);var y=m?p.position():{x:0,y:0};return i={x:v.x-y.x,y:v.y-y.y},t===void 0?i:i[t]}else if(!o)return;return this}};Ur.modelPosition=Ur.point=Ur.position;Ur.modelPositions=Ur.points=Ur.positions;Ur.renderedPoint=Ur.renderedPosition;Ur.relativePoint=Ur.relativePosition;var NN=j5,oo,qa;oo=qa={};qa.renderedBoundingBox=function(e){var t=this.boundingBox(e),r=this.cy(),n=r.zoom(),a=r.pan(),i=t.x1*n+a.x,o=t.x2*n+a.x,s=t.y1*n+a.y,u=t.y2*n+a.y;return{x1:i,x2:o,y1:s,y2:u,w:o-i,h:u-s}};qa.dirtyCompoundBoundsCache=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();return!t.styleEnabled()||!t.hasCompoundNodes()?this:(this.forEachUp(function(r){if(r.isParent()){var n=r._private;n.compoundBoundsClean=!1,n.bbCache=null,e||r.emitAndNotify("bounds")}}),this)};qa.updateCompoundBounds=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,t=this.cy();if(!t.styleEnabled()||!t.hasCompoundNodes())return this;if(!e&&t.batching())return this;function r(o){if(!o.isParent())return;var s=o._private,u=o.children(),l=o.pstyle("compound-sizing-wrt-labels").value==="include",f={width:{val:o.pstyle("min-width").pfValue,left:o.pstyle("min-width-bias-left"),right:o.pstyle("min-width-bias-right")},height:{val:o.pstyle("min-height").pfValue,top:o.pstyle("min-height-bias-top"),bottom:o.pstyle("min-height-bias-bottom")}},c=u.boundingBox({includeLabels:l,includeOverlays:!1,useCache:!1}),d=s.position;(c.w===0||c.h===0)&&(c={w:o.pstyle("width").pfValue,h:o.pstyle("height").pfValue},c.x1=d.x-c.w/2,c.x2=d.x+c.w/2,c.y1=d.y-c.h/2,c.y2=d.y+c.h/2);function h(T,C,k){var _=0,A=0,D=C+k;return T>0&&D>0&&(_=C/D*T,A=k/D*T),{biasDiff:_,biasComplementDiff:A}}function v(T,C,k,_){if(k.units==="%")switch(_){case"width":return T>0?k.pfValue*T:0;case"height":return C>0?k.pfValue*C:0;case"average":return T>0&&C>0?k.pfValue*(T+C)/2:0;case"min":return T>0&&C>0?T>C?k.pfValue*C:k.pfValue*T:0;case"max":return T>0&&C>0?T>C?k.pfValue*T:k.pfValue*C:0;default:return 0}else return k.units==="px"?k.pfValue:0}var p=f.width.left.value;f.width.left.units==="px"&&f.width.val>0&&(p=p*100/f.width.val);var g=f.width.right.value;f.width.right.units==="px"&&f.width.val>0&&(g=g*100/f.width.val);var m=f.height.top.value;f.height.top.units==="px"&&f.height.val>0&&(m=m*100/f.height.val);var y=f.height.bottom.value;f.height.bottom.units==="px"&&f.height.val>0&&(y=y*100/f.height.val);var b=h(f.width.val-c.w,p,g),w=b.biasDiff,E=b.biasComplementDiff,S=h(f.height.val-c.h,m,y),x=S.biasDiff,M=S.biasComplementDiff;s.autoPadding=v(c.w,c.h,o.pstyle("padding"),o.pstyle("padding-relative-to").value),s.autoWidth=Math.max(c.w,f.width.val),d.x=(-w+c.x1+c.x2+E)/2,s.autoHeight=Math.max(c.h,f.height.val),d.y=(-x+c.y1+c.y2+M)/2}for(var n=0;n<this.length;n++){var a=this[n],i=a._private;(!i.compoundBoundsClean||e)&&(r(a),t.batching()||(i.compoundBoundsClean=!0))}return this};var Tr=function(t){return t===1/0||t===-1/0?0:t},zr=function(t,r,n,a,i){a-r===0||i-n===0||r==null||n==null||a==null||i==null||(t.x1=r<t.x1?r:t.x1,t.x2=a>t.x2?a:t.x2,t.y1=n<t.y1?n:t.y1,t.y2=i>t.y2?i:t.y2,t.w=t.x2-t.x1,t.h=t.y2-t.y1)},Xa=function(t,r){return r==null?t:zr(t,r.x1,r.y1,r.x2,r.y2)},os=function(t,r,n){return Yr(t,r,n)},yl=function(t,r,n){if(!r.cy().headless()){var a=r._private,i=a.rstyle,o=i.arrowWidth/2,s=r.pstyle(n+"-arrow-shape").value,u,l;if(s!=="none"){n==="source"?(u=i.srcX,l=i.srcY):n==="target"?(u=i.tgtX,l=i.tgtY):(u=i.midX,l=i.midY);var f=a.arrowBounds=a.arrowBounds||{},c=f[n]=f[n]||{};c.x1=u-o,c.y1=l-o,c.x2=u+o,c.y2=l+o,c.w=c.x2-c.x1,c.h=c.y2-c.y1,Ol(c,1),zr(t,c.x1,c.y1,c.x2,c.y2)}}},rh=function(t,r,n){if(!r.cy().headless()){var a;n?a=n+"-":a="";var i=r._private,o=i.rstyle,s=r.pstyle(a+"label").strValue;if(s){var u=r.pstyle("text-halign"),l=r.pstyle("text-valign"),f=os(o,"labelWidth",n),c=os(o,"labelHeight",n),d=os(o,"labelX",n),h=os(o,"labelY",n),v=r.pstyle(a+"text-margin-x").pfValue,p=r.pstyle(a+"text-margin-y").pfValue,g=r.isEdge(),m=r.pstyle(a+"text-rotation"),y=r.pstyle("text-outline-width").pfValue,b=r.pstyle("text-border-width").pfValue,w=b/2,E=r.pstyle("text-background-padding").pfValue,S=2,x=c,M=f,T=M/2,C=x/2,k,_,A,D;if(g)k=d-T,_=d+T,A=h-C,D=h+C;else{switch(u.value){case"left":k=d-M,_=d;break;case"center":k=d-T,_=d+T;break;case"right":k=d,_=d+M;break}switch(l.value){case"top":A=h-x,D=h;break;case"center":A=h-C,D=h+C;break;case"bottom":A=h,D=h+x;break}}var P=v-Math.max(y,w)-E-S,R=v+Math.max(y,w)+E+S,L=p-Math.max(y,w)-E-S,N=p+Math.max(y,w)+E+S;k+=P,_+=R,A+=L,D+=N;var z=n||"main",F=i.labelBounds,I=F[z]=F[z]||{};I.x1=k,I.y1=A,I.x2=_,I.y2=D,I.w=_-k,I.h=D-A,I.leftPad=P,I.rightPad=R,I.topPad=L,I.botPad=N;var B=g&&m.strValue==="autorotate",V=m.pfValue!=null&&m.pfValue!==0;if(B||V){var K=B?os(i.rstyle,"labelAngle",n):m.pfValue,j=Math.cos(K),Q=Math.sin(K),X=(k+_)/2,W=(A+D)/2;if(!g){switch(u.value){case"left":X=_;break;case"right":X=k;break}switch(l.value){case"top":W=D;break;case"bottom":W=A;break}}var $=function(ue,le){return ue=ue-X,le=le-W,{x:ue*j-le*Q+X,y:ue*Q+le*j+W}},q=$(k,A),U=$(k,D),Y=$(_,A),ie=$(_,D);k=Math.min(q.x,U.x,Y.x,ie.x),_=Math.max(q.x,U.x,Y.x,ie.x),A=Math.min(q.y,U.y,Y.y,ie.y),D=Math.max(q.y,U.y,Y.y,ie.y)}var J=z+"Rot",re=F[J]=F[J]||{};re.x1=k,re.y1=A,re.x2=_,re.y2=D,re.w=_-k,re.h=D-A,zr(t,k,A,_,D),zr(i.labelBounds.all,k,A,_,D)}return t}},IN=function(t,r){if(!r.cy().headless()){var n=r.pstyle("outline-opacity").value,a=r.pstyle("outline-width").value;if(n>0&&a>0){var i=r.pstyle("outline-offset").value,o=r.pstyle("shape").value,s=a+i,u=(t.w+s*2)/t.w,l=(t.h+s*2)/t.h,f=0,c=0;["diamond","pentagon","round-triangle"].includes(o)?(u=(t.w+s*2.4)/t.w,c=-s/3.6):["concave-hexagon","rhomboid","right-rhomboid"].includes(o)?u=(t.w+s*2.4)/t.w:o==="star"?(u=(t.w+s*2.8)/t.w,l=(t.h+s*2.6)/t.h,c=-s/3.8):o==="triangle"?(u=(t.w+s*2.8)/t.w,l=(t.h+s*2.4)/t.h,c=-s/1.4):o==="vee"&&(u=(t.w+s*4.4)/t.w,l=(t.h+s*3.8)/t.h,c=-s*.5);var d=t.h*l-t.h,h=t.w*u-t.w;if(Rl(t,[Math.ceil(d/2),Math.ceil(h/2)]),f!=0||c!==0){var v=aR(t,f,c);C5(t,v)}}}},BN=function(t,r){var n=t._private.cy,a=n.styleEnabled(),i=n.headless(),o=lr(),s=t._private,u=t.isNode(),l=t.isEdge(),f,c,d,h,v,p,g=s.rstyle,m=u&&a?t.pstyle("bounds-expansion").pfValue:[0],y=function(oe){return oe.pstyle("display").value!=="none"},b=!a||y(t)&&(!l||y(t.source())&&y(t.target()));if(b){var w=0,E=0;a&&r.includeOverlays&&(w=t.pstyle("overlay-opacity").value,w!==0&&(E=t.pstyle("overlay-padding").value));var S=0,x=0;a&&r.includeUnderlays&&(S=t.pstyle("underlay-opacity").value,S!==0&&(x=t.pstyle("underlay-padding").value));var M=Math.max(E,x),T=0,C=0;if(a&&(T=t.pstyle("width").pfValue,C=T/2),u&&r.includeNodes){var k=t.position();v=k.x,p=k.y;var _=t.outerWidth(),A=_/2,D=t.outerHeight(),P=D/2;f=v-A,c=v+A,d=p-P,h=p+P,zr(o,f,d,c,h),a&&r.includeOutlines&&IN(o,t)}else if(l&&r.includeEdges)if(a&&!i){var R=t.pstyle("curve-style").strValue;if(f=Math.min(g.srcX,g.midX,g.tgtX),c=Math.max(g.srcX,g.midX,g.tgtX),d=Math.min(g.srcY,g.midY,g.tgtY),h=Math.max(g.srcY,g.midY,g.tgtY),f-=C,c+=C,d-=C,h+=C,zr(o,f,d,c,h),R==="haystack"){var L=g.haystackPts;if(L&&L.length===2){if(f=L[0].x,d=L[0].y,c=L[1].x,h=L[1].y,f>c){var N=f;f=c,c=N}if(d>h){var z=d;d=h,h=z}zr(o,f-C,d-C,c+C,h+C)}}else if(R==="bezier"||R==="unbundled-bezier"||R.endsWith("segments")||R.endsWith("taxi")){var F;switch(R){case"bezier":case"unbundled-bezier":F=g.bezierPts;break;case"segments":case"taxi":case"round-segments":case"round-taxi":F=g.linePts;break}if(F!=null)for(var I=0;I<F.length;I++){var B=F[I];f=B.x-C,c=B.x+C,d=B.y-C,h=B.y+C,zr(o,f,d,c,h)}}}else{var V=t.source(),K=V.position(),j=t.target(),Q=j.position();if(f=K.x,c=Q.x,d=K.y,h=Q.y,f>c){var X=f;f=c,c=X}if(d>h){var W=d;d=h,h=W}f-=C,c+=C,d-=C,h+=C,zr(o,f,d,c,h)}if(a&&r.includeEdges&&l&&(yl(o,t,"mid-source"),yl(o,t,"mid-target"),yl(o,t,"source"),yl(o,t,"target")),a){var $=t.pstyle("ghost").value==="yes";if($){var q=t.pstyle("ghost-offset-x").pfValue,U=t.pstyle("ghost-offset-y").pfValue;zr(o,o.x1+q,o.y1+U,o.x2+q,o.y2+U)}}var Y=s.bodyBounds=s.bodyBounds||{};ny(Y,o),Rl(Y,m),Ol(Y,1),a&&(f=o.x1,c=o.x2,d=o.y1,h=o.y2,zr(o,f-M,d-M,c+M,h+M));var ie=s.overlayBounds=s.overlayBounds||{};ny(ie,o),Rl(ie,m),Ol(ie,1);var J=s.labelBounds=s.labelBounds||{};J.all!=null?nR(J.all):J.all=lr(),a&&r.includeLabels&&(r.includeMainLabels&&rh(o,t,null),l&&(r.includeSourceLabels&&rh(o,t,"source"),r.includeTargetLabels&&rh(o,t,"target")))}return o.x1=Tr(o.x1),o.y1=Tr(o.y1),o.x2=Tr(o.x2),o.y2=Tr(o.y2),o.w=Tr(o.x2-o.x1),o.h=Tr(o.y2-o.y1),o.w>0&&o.h>0&&b&&(Rl(o,m),Ol(o,1)),o},eE=function(t){var r=0,n=function(o){return(o?1:0)<<r++},a=0;return a+=n(t.incudeNodes),a+=n(t.includeEdges),a+=n(t.includeLabels),a+=n(t.includeMainLabels),a+=n(t.includeSourceLabels),a+=n(t.includeTargetLabels),a+=n(t.includeOverlays),a+=n(t.includeOutlines),a},tE=function(t){if(t.isEdge()){var r=t.source().position(),n=t.target().position(),a=function(o){return Math.round(o)};return TO([a(r.x),a(r.y),a(n.x),a(n.y)])}else return 0},My=function(t,r){var n=t._private,a,i=t.isEdge(),o=r==null?ky:eE(r),s=o===ky,u=tE(t),l=n.bbCachePosKey===u,f=r.useCache&&l,c=function(p){return p._private.bbCache==null||p._private.styleDirty},d=!f||c(t)||i&&(c(t.source())||c(t.target()));if(d?(l||t.recalculateRenderedStyle(f),a=BN(t,ru),n.bbCache=a,n.bbCachePosKey=u):a=n.bbCache,!s){var h=t.isNode();a=lr(),(r.includeNodes&&h||r.includeEdges&&!h)&&(r.includeOverlays?Xa(a,n.overlayBounds):Xa(a,n.bodyBounds)),r.includeLabels&&(r.includeMainLabels&&(!i||r.includeSourceLabels&&r.includeTargetLabels)?Xa(a,n.labelBounds.all):(r.includeMainLabels&&Xa(a,n.labelBounds.mainRot),r.includeSourceLabels&&Xa(a,n.labelBounds.sourceRot),r.includeTargetLabels&&Xa(a,n.labelBounds.targetRot))),a.w=a.x2-a.x1,a.h=a.y2-a.y1}return a},ru={includeNodes:!0,includeEdges:!0,includeLabels:!0,includeMainLabels:!0,includeSourceLabels:!0,includeTargetLabels:!0,includeOverlays:!0,includeUnderlays:!0,includeOutlines:!0,useCache:!0},ky=eE(ru),Cy=Bt(ru);qa.boundingBox=function(e){var t;if(this.length===1&&this[0]._private.bbCache!=null&&!this[0]._private.styleDirty&&(e===void 0||e.useCache===void 0||e.useCache===!0))e===void 0?e=ru:e=Cy(e),t=My(this[0],e);else{t=lr(),e=e||ru;var r=Cy(e),n=this,a=n.cy(),i=a.styleEnabled();if(i)for(var o=0;o<n.length;o++){var s=n[o],u=s._private,l=tE(s),f=u.bbCachePosKey===l,c=r.useCache&&f&&!u.styleDirty;s.recalculateRenderedStyle(c)}this.updateCompoundBounds(!e.useCache);for(var d=0;d<n.length;d++){var h=n[d];Xa(t,My(h,r))}}return t.x1=Tr(t.x1),t.y1=Tr(t.y1),t.x2=Tr(t.x2),t.y2=Tr(t.y2),t.w=Tr(t.x2-t.x1),t.h=Tr(t.y2-t.y1),t};qa.dirtyBoundingBoxCache=function(){for(var e=0;e<this.length;e++){var t=this[e]._private;t.bbCache=null,t.bbCachePosKey=null,t.bodyBounds=null,t.overlayBounds=null,t.labelBounds.all=null,t.labelBounds.source=null,t.labelBounds.target=null,t.labelBounds.main=null,t.labelBounds.sourceRot=null,t.labelBounds.targetRot=null,t.labelBounds.mainRot=null,t.arrowBounds.source=null,t.arrowBounds.target=null,t.arrowBounds["mid-source"]=null,t.arrowBounds["mid-target"]=null}return this.emitAndNotify("bounds"),this};qa.boundingBoxAt=function(e){var t=this.nodes(),r=this.cy(),n=r.hasCompoundNodes(),a=r.collection();if(n&&(a=t.filter(function(l){return l.isParent()}),t=t.not(a)),Fe(e)){var i=e;e=function(){return i}}var o=function(f,c){return f._private.bbAtOldPos=e(f,c)},s=function(f){return f._private.bbAtOldPos};r.startBatch(),t.forEach(o).silentPositions(e),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0));var u=rR(this.boundingBox({useCache:!1}));return t.silentPositions(s),n&&(a.dirtyCompoundBoundsCache(),a.dirtyBoundingBoxCache(),a.updateCompoundBounds(!0)),r.endBatch(),u};oo.boundingbox=oo.bb=oo.boundingBox;oo.renderedBoundingbox=oo.renderedBoundingBox;var FN=qa,Ts,Lu;Ts=Lu={};var rE=function(t){t.uppercaseName=Zm(t.name),t.autoName="auto"+t.uppercaseName,t.labelName="label"+t.uppercaseName,t.outerName="outer"+t.uppercaseName,t.uppercaseOuterName=Zm(t.outerName),Ts[t.name]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){if(n.isParent())return n.updateCompoundBounds(),a[t.autoName]||0;var s=n.pstyle(t.name);switch(s.strValue){case"label":return n.recalculateRenderedStyle(),a.rstyle[t.labelName]||0;default:return s.pfValue}}else return 1},Ts["outer"+t.uppercaseName]=function(){var n=this[0],a=n._private,i=a.cy,o=i._private.styleEnabled;if(n)if(o){var s=n[t.name](),u=n.pstyle("border-width").pfValue,l=2*n.padding();return s+u+l}else return 1},Ts["rendered"+t.uppercaseName]=function(){var n=this[0];if(n){var a=n[t.name]();return a*this.cy().zoom()}},Ts["rendered"+t.uppercaseOuterName]=function(){var n=this[0];if(n){var a=n[t.outerName]();return a*this.cy().zoom()}}};rE({name:"width"});rE({name:"height"});Lu.padding=function(){var e=this[0],t=e._private;return e.isParent()?(e.updateCompoundBounds(),t.autoPadding!==void 0?t.autoPadding:e.pstyle("padding").pfValue):e.pstyle("padding").pfValue};Lu.paddedHeight=function(){var e=this[0];return e.height()+2*e.padding()};Lu.paddedWidth=function(){var e=this[0];return e.width()+2*e.padding()};var zN=Lu,YN=function(t,r){if(t.isEdge())return r(t)},qN=function(t,r){if(t.isEdge()){var n=t.cy();return Cc(r(t),n.zoom(),n.pan())}},VN=function(t,r){if(t.isEdge()){var n=t.cy(),a=n.pan(),i=n.zoom();return r(t).map(function(o){return Cc(o,i,a)})}},WN=function(t){return t.renderer().getControlPoints(t)},UN=function(t){return t.renderer().getSegmentPoints(t)},HN=function(t){return t.renderer().getSourceEndpoint(t)},GN=function(t){return t.renderer().getTargetEndpoint(t)},XN=function(t){return t.renderer().getEdgeMidpoint(t)},Dy={controlPoints:{get:WN,mult:!0},segmentPoints:{get:UN,mult:!0},sourceEndpoint:{get:HN},targetEndpoint:{get:GN},midpoint:{get:XN}},KN=function(t){return"rendered"+t[0].toUpperCase()+t.substr(1)},ZN=Object.keys(Dy).reduce(function(e,t){var r=Dy[t],n=KN(t);return e[t]=function(){return YN(this,r.get)},r.mult?e[n]=function(){return VN(this,r.get)}:e[n]=function(){return qN(this,r.get)},e},{}),QN=we({},NN,FN,zN,ZN);/*!
Event object based on jQuery events, MIT license

https://jquery.org/license/
https://tldrlegal.com/license/mit-license
https://github.com/jquery/jquery/blob/master/src/event.js
*/var nE=function(t,r){this.recycle(t,r)};function ss(){return!1}function bl(){return!0}nE.prototype={instanceString:function(){return"event"},recycle:function(t,r){if(this.isImmediatePropagationStopped=this.isPropagationStopped=this.isDefaultPrevented=ss,t!=null&&t.preventDefault?(this.type=t.type,this.isDefaultPrevented=t.defaultPrevented?bl:ss):t!=null&&t.type?r=t:this.type=t,r!=null&&(this.originalEvent=r.originalEvent,this.type=r.type!=null?r.type:this.type,this.cy=r.cy,this.target=r.target,this.position=r.position,this.renderedPosition=r.renderedPosition,this.namespace=r.namespace,this.layout=r.layout),this.cy!=null&&this.position!=null&&this.renderedPosition==null){var n=this.position,a=this.cy.zoom(),i=this.cy.pan();this.renderedPosition={x:n.x*a+i.x,y:n.y*a+i.y}}this.timeStamp=t&&t.timeStamp||Date.now()},preventDefault:function(){this.isDefaultPrevented=bl;var t=this.originalEvent;t&&t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.isPropagationStopped=bl;var t=this.originalEvent;t&&t.stopPropagation&&t.stopPropagation()},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=bl,this.stopPropagation()},isDefaultPrevented:ss,isPropagationStopped:ss,isImmediatePropagationStopped:ss};var aE=/^([^.]+)(\.(?:[^.]+))?$/,jN=".*",iE={qualifierCompare:function(t,r){return t===r},eventMatches:function(){return!0},addEventFields:function(){},callbackContext:function(t){return t},beforeEmit:function(){},afterEmit:function(){},bubble:function(){return!1},parent:function(){return null},context:null},_y=Object.keys(iE),JN={};function Rc(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:JN,t=arguments.length>1?arguments[1]:void 0,r=0;r<_y.length;r++){var n=_y[r];this[n]=e[n]||iE[n]}this.context=t||this.context,this.listeners=[],this.emitting=0}var $a=Rc.prototype,oE=function(t,r,n,a,i,o,s){ft(a)&&(i=a,a=null),s&&(o==null?o=s:o=we({},o,s));for(var u=Je(n)?n:n.split(/\s+/),l=0;l<u.length;l++){var f=u[l];if(!Aa(f)){var c=f.match(aE);if(c){var d=c[1],h=c[2]?c[2]:null,v=r(t,f,d,h,a,i,o);if(v===!1)break}}}},Py=function(t,r){return t.addEventFields(t.context,r),new nE(r.type,r)},eI=function(t,r,n){if(wA(n)){r(t,n);return}else if(Fe(n)){r(t,Py(t,n));return}for(var a=Je(n)?n:n.split(/\s+/),i=0;i<a.length;i++){var o=a[i];if(!Aa(o)){var s=o.match(aE);if(s){var u=s[1],l=s[2]?s[2]:null,f=Py(t,{type:u,namespace:l,target:t.context});r(t,f)}}}};$a.on=$a.addListener=function(e,t,r,n,a){return oE(this,function(i,o,s,u,l,f,c){ft(f)&&i.listeners.push({event:o,callback:f,type:s,namespace:u,qualifier:l,conf:c})},e,t,r,n,a),this};$a.one=function(e,t,r,n){return this.on(e,t,r,n,{one:!0})};$a.removeListener=$a.off=function(e,t,r,n){var a=this;this.emitting!==0&&(this.listeners=_O(this.listeners));for(var i=this.listeners,o=function(l){var f=i[l];oE(a,function(c,d,h,v,p,g){if((f.type===h||e==="*")&&(!v&&f.namespace!==".*"||f.namespace===v)&&(!p||c.qualifierCompare(f.qualifier,p))&&(!g||f.callback===g))return i.splice(l,1),!1},e,t,r,n)},s=i.length-1;s>=0;s--)o(s);return this};$a.removeAllListeners=function(){return this.removeListener("*")};$a.emit=$a.trigger=function(e,t,r){var n=this.listeners,a=n.length;return this.emitting++,Je(t)||(t=[t]),eI(this,function(i,o){r!=null&&(n=[{event:o.event,type:o.type,namespace:o.namespace,callback:r}],a=n.length);for(var s=function(f){var c=n[f];if(c.type===o.type&&(!c.namespace||c.namespace===o.namespace||c.namespace===jN)&&i.eventMatches(i.context,c,o)){var d=[o];t!=null&&AO(d,t),i.beforeEmit(i.context,c,o),c.conf&&c.conf.one&&(i.listeners=i.listeners.filter(function(p){return p!==c}));var h=i.callbackContext(i.context,c,o),v=c.callback.apply(h,d);i.afterEmit(i.context,c,o),v===!1&&(o.stopPropagation(),o.preventDefault())}},u=0;u<a;u++)s(u);i.bubble(i.context)&&!o.isPropagationStopped()&&i.parent(i.context).emit(o,t)},e),this.emitting--,this};var tI={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var a=r.qualifier;return a!=null?t!==n.target&&Au(n.target)&&a.matches(n.target):!0},addEventFields:function(t,r){r.cy=t.cy(),r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t},beforeEmit:function(t,r){r.conf&&r.conf.once&&r.conf.onceCollection.removeListener(r.event,r.qualifier,r.callback)},bubble:function(){return!0},parent:function(t){return t.isChild()?t.parent():t.cy()}},wl=function(t){return ye(t)?new Ra(t):t},sE={createEmitter:function(){for(var t=0;t<this.length;t++){var r=this[t],n=r._private;n.emitter||(n.emitter=new Rc(tI,r))}return this},emitter:function(){return this._private.emitter},on:function(t,r,n){for(var a=wl(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(t,a,n)}return this},removeListener:function(t,r,n){for(var a=wl(r),i=0;i<this.length;i++){var o=this[i];o.emitter().removeListener(t,a,n)}return this},removeAllListeners:function(){for(var t=0;t<this.length;t++){var r=this[t];r.emitter().removeAllListeners()}return this},one:function(t,r,n){for(var a=wl(r),i=0;i<this.length;i++){var o=this[i];o.emitter().one(t,a,n)}return this},once:function(t,r,n){for(var a=wl(r),i=0;i<this.length;i++){var o=this[i];o.emitter().on(t,a,n,{once:!0,onceCollection:this})}},emit:function(t,r){for(var n=0;n<this.length;n++){var a=this[n];a.emitter().emit(t,r)}return this},emitAndNotify:function(t,r){if(this.length!==0)return this.cy().notify(t,this),this.emit(t,r),this}};Xe.eventAliasesOn(sE);var uE={nodes:function(t){return this.filter(function(r){return r.isNode()}).filter(t)},edges:function(t){return this.filter(function(r){return r.isEdge()}).filter(t)},byGroup:function(){for(var t=this.spawn(),r=this.spawn(),n=0;n<this.length;n++){var a=this[n];a.isNode()?t.push(a):r.push(a)}return{nodes:t,edges:r}},filter:function(t,r){if(t===void 0)return this;if(ye(t)||gr(t))return new Ra(t).filter(this);if(ft(t)){for(var n=this.spawn(),a=this,i=0;i<a.length;i++){var o=a[i],s=r?t.apply(r,[o,i,a]):t(o,i,a);s&&n.push(o)}return n}return this.spawn()},not:function(t){if(t){ye(t)&&(t=this.filter(t));for(var r=this.spawn(),n=0;n<this.length;n++){var a=this[n],i=t.has(a);i||r.push(a)}return r}else return this},absoluteComplement:function(){var t=this.cy();return t.mutableElements().not(this)},intersect:function(t){if(ye(t)){var r=t;return this.filter(r)}for(var n=this.spawn(),a=this,i=t,o=this.length<t.length,s=o?a:i,u=o?i:a,l=0;l<s.length;l++){var f=s[l];u.has(f)&&n.push(f)}return n},xor:function(t){var r=this._private.cy;ye(t)&&(t=r.$(t));var n=this.spawn(),a=this,i=t,o=function(u,l){for(var f=0;f<u.length;f++){var c=u[f],d=c._private.data.id,h=l.hasElementWithId(d);h||n.push(c)}};return o(a,i),o(i,a),n},diff:function(t){var r=this._private.cy;ye(t)&&(t=r.$(t));var n=this.spawn(),a=this.spawn(),i=this.spawn(),o=this,s=t,u=function(f,c,d){for(var h=0;h<f.length;h++){var v=f[h],p=v._private.data.id,g=c.hasElementWithId(p);g?i.merge(v):d.push(v)}};return u(o,s,n),u(s,o,a),{left:n,right:a,both:i}},add:function(t){var r=this._private.cy;if(!t)return this;if(ye(t)){var n=t;t=r.mutableElements().filter(n)}for(var a=this.spawnSelf(),i=0;i<t.length;i++){var o=t[i],s=!this.has(o);s&&a.push(o)}return a},merge:function(t){var r=this._private,n=r.cy;if(!t)return this;if(t&&ye(t)){var a=t;t=n.mutableElements().filter(a)}for(var i=r.map,o=0;o<t.length;o++){var s=t[o],u=s._private.data.id,l=!i.has(u);if(l){var f=this.length++;this[f]=s,i.set(u,{ele:s,index:f})}}return this},unmergeAt:function(t){var r=this[t],n=r.id(),a=this._private,i=a.map;this[t]=void 0,i.delete(n);var o=t===this.length-1;if(this.length>1&&!o){var s=this.length-1,u=this[s],l=u._private.data.id;this[s]=void 0,this[t]=u,i.set(l,{ele:u,index:t})}return this.length--,this},unmergeOne:function(t){t=t[0];var r=this._private,n=t._private.data.id,a=r.map,i=a.get(n);if(!i)return this;var o=i.index;return this.unmergeAt(o),this},unmerge:function(t){var r=this._private.cy;if(!t)return this;if(t&&ye(t)){var n=t;t=r.mutableElements().filter(n)}for(var a=0;a<t.length;a++)this.unmergeOne(t[a]);return this},unmergeBy:function(t){for(var r=this.length-1;r>=0;r--){var n=this[r];t(n)&&this.unmergeAt(r)}return this},map:function(t,r){for(var n=[],a=this,i=0;i<a.length;i++){var o=a[i],s=r?t.apply(r,[o,i,a]):t(o,i,a);n.push(s)}return n},reduce:function(t,r){for(var n=r,a=this,i=0;i<a.length;i++)n=t(n,a[i],i,a);return n},max:function(t,r){for(var n=-1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],u=r?t.apply(r,[s,o,i]):t(s,o,i);u>n&&(n=u,a=s)}return{value:n,ele:a}},min:function(t,r){for(var n=1/0,a,i=this,o=0;o<i.length;o++){var s=i[o],u=r?t.apply(r,[s,o,i]):t(s,o,i);u<n&&(n=u,a=s)}return{value:n,ele:a}}},qe=uE;qe.u=qe["|"]=qe["+"]=qe.union=qe.or=qe.add;qe["\\"]=qe["!"]=qe["-"]=qe.difference=qe.relativeComplement=qe.subtract=qe.not;qe.n=qe["&"]=qe["."]=qe.and=qe.intersection=qe.intersect;qe["^"]=qe["(+)"]=qe["(-)"]=qe.symmetricDifference=qe.symdiff=qe.xor;qe.fnFilter=qe.filterFn=qe.stdFilter=qe.filter;qe.complement=qe.abscomp=qe.absoluteComplement;var rI={isNode:function(){return this.group()==="nodes"},isEdge:function(){return this.group()==="edges"},isLoop:function(){return this.isEdge()&&this.source()[0]===this.target()[0]},isSimple:function(){return this.isEdge()&&this.source()[0]!==this.target()[0]},group:function(){var t=this[0];if(t)return t._private.group}},lE=function(t,r){var n=t.cy(),a=n.hasCompoundNodes();function i(f){var c=f.pstyle("z-compound-depth");return c.value==="auto"?a?f.zDepth():0:c.value==="bottom"?-1:c.value==="top"?Wg:0}var o=i(t)-i(r);if(o!==0)return o;function s(f){var c=f.pstyle("z-index-compare");return c.value==="auto"&&f.isNode()?1:0}var u=s(t)-s(r);if(u!==0)return u;var l=t.pstyle("z-index").value-r.pstyle("z-index").value;return l!==0?l:t.poolIndex()-r.poolIndex()},Rf={forEach:function(t,r){if(ft(t))for(var n=this.length,a=0;a<n;a++){var i=this[a],o=r?t.apply(r,[i,a,this]):t(i,a,this);if(o===!1)break}return this},toArray:function(){for(var t=[],r=0;r<this.length;r++)t.push(this[r]);return t},slice:function(t,r){var n=[],a=this.length;r==null&&(r=a),t==null&&(t=0),t<0&&(t=a+t),r<0&&(r=a+r);for(var i=t;i>=0&&i<r&&i<a;i++)n.push(this[i]);return this.spawn(n)},size:function(){return this.length},eq:function(t){return this[t]||this.spawn()},first:function(){return this[0]||this.spawn()},last:function(){return this[this.length-1]||this.spawn()},empty:function(){return this.length===0},nonempty:function(){return!this.empty()},sort:function(t){if(!ft(t))return this;var r=this.toArray().sort(t);return this.spawn(r)},sortByZIndex:function(){return this.sort(lE)},zDepth:function(){var t=this[0];if(t){var r=t._private,n=r.group;if(n==="nodes"){var a=r.data.parent?t.parents().size():0;return t.isParent()?a:Wg-1}else{var i=r.source,o=r.target,s=i.zDepth(),u=o.zDepth();return Math.max(s,u,0)}}}};Rf.each=Rf.forEach;var nI=function(){var t="undefined",r=(typeof Symbol>"u"?"undefined":St(Symbol))!=t&&St(Symbol.iterator)!=t;r&&(Rf[Symbol.iterator]=function(){var n=this,a={value:void 0,done:!1},i=0,o=this.length;return i5({next:function(){return i<o?a.value=n[i++]:(a.value=void 0,a.done=!0),a}},Symbol.iterator,function(){return this})})};nI();var aI=Bt({nodeDimensionsIncludeLabels:!1}),$l={layoutDimensions:function(t){t=aI(t);var r;if(!this.takesUpSpace())r={w:0,h:0};else if(t.nodeDimensionsIncludeLabels){var n=this.boundingBox();r={w:n.w,h:n.h}}else r={w:this.outerWidth(),h:this.outerHeight()};return(r.w===0||r.h===0)&&(r.w=r.h=1),r},layoutPositions:function(t,r,n){var a=this.nodes().filter(function(E){return!E.isParent()}),i=this.cy(),o=r.eles,s=function(S){return S.id()},u=Xs(n,s);t.emit({type:"layoutstart",layout:t}),t.animations=[];var l=function(S,x,M){var T={x:x.x1+x.w/2,y:x.y1+x.h/2},C={x:(M.x-T.x)*S,y:(M.y-T.y)*S};return{x:T.x+C.x,y:T.y+C.y}},f=r.spacingFactor&&r.spacingFactor!==1,c=function(){if(!f)return null;for(var S=lr(),x=0;x<a.length;x++){var M=a[x],T=u(M,x);iR(S,T.x,T.y)}return S},d=c(),h=Xs(function(E,S){var x=u(E,S);if(f){var M=Math.abs(r.spacingFactor);x=l(M,d,x)}return r.transform!=null&&(x=r.transform(E,x)),x},s);if(r.animate){for(var v=0;v<a.length;v++){var p=a[v],g=h(p,v),m=r.animateFilter==null||r.animateFilter(p,v);if(m){var y=p.animation({position:g,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(y)}else p.position(g)}if(r.fit){var b=i.animation({fit:{boundingBox:o.boundingBoxAt(h),padding:r.padding},duration:r.animationDuration,easing:r.animationEasing});t.animations.push(b)}else if(r.zoom!==void 0&&r.pan!==void 0){var w=i.animation({zoom:r.zoom,pan:r.pan,duration:r.animationDuration,easing:r.animationEasing});t.animations.push(w)}t.animations.forEach(function(E){return E.play()}),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),Io.all(t.animations.map(function(E){return E.promise()})).then(function(){t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t})})}else a.positions(h),r.fit&&i.fit(r.eles,r.padding),r.zoom!=null&&i.zoom(r.zoom),r.pan&&i.pan(r.pan),t.one("layoutready",r.ready),t.emit({type:"layoutready",layout:t}),t.one("layoutstop",r.stop),t.emit({type:"layoutstop",layout:t});return this},layout:function(t){var r=this.cy();return r.makeLayout(we({},t,{eles:this}))}};$l.createLayout=$l.makeLayout=$l.layout;function fE(e,t,r){var n=r._private,a=n.styleCache=n.styleCache||[],i;return(i=a[e])!=null||(i=a[e]=t(r)),i}function Lc(e,t){return e=mi(e),function(n){return fE(e,t,n)}}function $c(e,t){e=mi(e);var r=function(a){return t.call(a)};return function(){var a=this[0];if(a)return fE(e,r,a)}}var Nt={recalculateRenderedStyle:function(t){var r=this.cy(),n=r.renderer(),a=r.styleEnabled();return n&&a&&n.recalculateRenderedStyle(this,t),this},dirtyStyleCache:function(){var t=this.cy(),r=function(i){return i._private.styleCache=null};if(t.hasCompoundNodes()){var n;n=this.spawnSelf().merge(this.descendants()).merge(this.parents()),n.merge(n.connectedEdges()),n.forEach(r)}else this.forEach(function(a){r(a),a.connectedEdges().forEach(r)});return this},updateStyle:function(t){var r=this._private.cy;if(!r.styleEnabled())return this;if(r.batching()){var n=r._private.batchStyleEles;return n.merge(this),this}var a=r.hasCompoundNodes(),i=this;t=!!(t||t===void 0),a&&(i=this.spawnSelf().merge(this.descendants()).merge(this.parents()));var o=i;return t?o.emitAndNotify("style"):o.emit("style"),i.forEach(function(s){return s._private.styleDirty=!0}),this},cleanStyle:function(){var t=this.cy();if(t.styleEnabled())for(var r=0;r<this.length;r++){var n=this[r];n._private.styleDirty&&(n._private.styleDirty=!1,t.style().apply(n))}},parsedStyle:function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this[0],a=n.cy();if(a.styleEnabled()&&n){this.cleanStyle();var i=n._private.style[t];return i??(r?a.style().getDefaultProperty(t):null)}},numericStyle:function(t){var r=this[0];if(r.cy().styleEnabled()&&r){var n=r.pstyle(t);return n.pfValue!==void 0?n.pfValue:n.value}},numericStyleUnits:function(t){var r=this[0];if(r.cy().styleEnabled()&&r)return r.pstyle(t).units},renderedStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=this[0];if(n)return r.style().getRenderedStyle(n,t)},style:function(t,r){var n=this.cy();if(!n.styleEnabled())return this;var a=!1,i=n.style();if(Fe(t)){var o=t;i.applyBypass(this,o,a),this.emitAndNotify("style")}else if(ye(t))if(r===void 0){var s=this[0];return s?i.getStylePropertyValue(s,t):void 0}else i.applyBypass(this,t,r,a),this.emitAndNotify("style");else if(t===void 0){var u=this[0];return u?i.getRawStyle(u):void 0}return this},removeStyle:function(t){var r=this.cy();if(!r.styleEnabled())return this;var n=!1,a=r.style(),i=this;if(t===void 0)for(var o=0;o<i.length;o++){var s=i[o];a.removeAllBypasses(s,n)}else{t=t.split(/\s+/);for(var u=0;u<i.length;u++){var l=i[u];a.removeBypasses(l,t,n)}}return this.emitAndNotify("style"),this},show:function(){return this.css("display","element"),this},hide:function(){return this.css("display","none"),this},effectiveOpacity:function(){var t=this.cy();if(!t.styleEnabled())return 1;var r=t.hasCompoundNodes(),n=this[0];if(n){var a=n._private,i=n.pstyle("opacity").value;if(!r)return i;var o=a.data.parent?n.parents():null;if(o)for(var s=0;s<o.length;s++){var u=o[s],l=u.pstyle("opacity").value;i=l*i}return i}},transparent:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0],n=r.cy().hasCompoundNodes();if(r)return n?r.effectiveOpacity()===0:r.pstyle("opacity").value===0},backgrounding:function(){var t=this.cy();if(!t.styleEnabled())return!1;var r=this[0];return!!r._private.backgrounding}};function nh(e,t){var r=e._private,n=r.data.parent?e.parents():null;if(n)for(var a=0;a<n.length;a++){var i=n[a];if(!t(i))return!1}return!0}function rp(e){var t=e.ok,r=e.edgeOkViaNode||e.ok,n=e.parentOk||e.ok;return function(){var a=this.cy();if(!a.styleEnabled())return!0;var i=this[0],o=a.hasCompoundNodes();if(i){var s=i._private;if(!t(i))return!1;if(i.isNode())return!o||nh(i,n);var u=s.source,l=s.target;return r(u)&&(!o||nh(u,r))&&(u===l||r(l)&&(!o||nh(l,r)))}}}var Yo=Lc("eleTakesUpSpace",function(e){return e.pstyle("display").value==="element"&&e.width()!==0&&(e.isNode()?e.height()!==0:!0)});Nt.takesUpSpace=$c("takesUpSpace",rp({ok:Yo}));var iI=Lc("eleInteractive",function(e){return e.pstyle("events").value==="yes"&&e.pstyle("visibility").value==="visible"&&Yo(e)}),oI=Lc("parentInteractive",function(e){return e.pstyle("visibility").value==="visible"&&Yo(e)});Nt.interactive=$c("interactive",rp({ok:iI,parentOk:oI,edgeOkViaNode:Yo}));Nt.noninteractive=function(){var e=this[0];if(e)return!e.interactive()};var sI=Lc("eleVisible",function(e){return e.pstyle("visibility").value==="visible"&&e.pstyle("opacity").pfValue!==0&&Yo(e)}),uI=Yo;Nt.visible=$c("visible",rp({ok:sI,edgeOkViaNode:uI}));Nt.hidden=function(){var e=this[0];if(e)return!e.visible()};Nt.isBundledBezier=$c("isBundledBezier",function(){return this.cy().styleEnabled()?!this.removed()&&this.pstyle("curve-style").value==="bezier"&&this.takesUpSpace():!1});Nt.bypass=Nt.css=Nt.style;Nt.renderedCss=Nt.renderedStyle;Nt.removeBypass=Nt.removeCss=Nt.removeStyle;Nt.pstyle=Nt.parsedStyle;var Ta={};function Ay(e){return function(){var t=arguments,r=[];if(t.length===2){var n=t[0],a=t[1];this.on(e.event,n,a)}else if(t.length===1&&ft(t[0])){var i=t[0];this.on(e.event,i)}else if(t.length===0||t.length===1&&Je(t[0])){for(var o=t.length===1?t[0]:null,s=0;s<this.length;s++){var u=this[s],l=!e.ableField||u._private[e.ableField],f=u._private[e.field]!=e.value;if(e.overrideAble){var c=e.overrideAble(u);if(c!==void 0&&(l=c,!c))return this}l&&(u._private[e.field]=e.value,f&&r.push(u))}var d=this.spawn(r);d.updateStyle(),d.emit(e.event),o&&d.emit(o)}return this}}function qo(e){Ta[e.field]=function(){var t=this[0];if(t){if(e.overrideField){var r=e.overrideField(t);if(r!==void 0)return r}return t._private[e.field]}},Ta[e.on]=Ay({event:e.on,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!0}),Ta[e.off]=Ay({event:e.off,field:e.field,ableField:e.ableField,overrideAble:e.overrideAble,value:!1})}qo({field:"locked",overrideField:function(t){return t.cy().autolock()?!0:void 0},on:"lock",off:"unlock"});qo({field:"grabbable",overrideField:function(t){return t.cy().autoungrabify()||t.pannable()?!1:void 0},on:"grabify",off:"ungrabify"});qo({field:"selected",ableField:"selectable",overrideAble:function(t){return t.cy().autounselectify()?!1:void 0},on:"select",off:"unselect"});qo({field:"selectable",overrideField:function(t){return t.cy().autounselectify()?!1:void 0},on:"selectify",off:"unselectify"});Ta.deselect=Ta.unselect;Ta.grabbed=function(){var e=this[0];if(e)return e._private.grabbed};qo({field:"active",on:"activate",off:"unactivate"});qo({field:"pannable",on:"panify",off:"unpanify"});Ta.inactive=function(){var e=this[0];if(e)return!e._private.active};var Ht={},Oy=function(t){return function(n){for(var a=this,i=[],o=0;o<a.length;o++){var s=a[o];if(s.isNode()){for(var u=!1,l=s.connectedEdges(),f=0;f<l.length;f++){var c=l[f],d=c.source(),h=c.target();if(t.noIncomingEdges&&h===s&&d!==s||t.noOutgoingEdges&&d===s&&h!==s){u=!0;break}}u||i.push(s)}}return this.spawn(i,!0).filter(n)}},Ry=function(t){return function(r){for(var n=this,a=[],i=0;i<n.length;i++){var o=n[i];if(o.isNode())for(var s=o.connectedEdges(),u=0;u<s.length;u++){var l=s[u],f=l.source(),c=l.target();t.outgoing&&f===o?(a.push(l),a.push(c)):t.incoming&&c===o&&(a.push(l),a.push(f))}}return this.spawn(a,!0).filter(r)}},Ly=function(t){return function(r){for(var n=this,a=[],i={};;){var o=t.outgoing?n.outgoers():n.incomers();if(o.length===0)break;for(var s=!1,u=0;u<o.length;u++){var l=o[u],f=l.id();i[f]||(i[f]=!0,a.push(l),s=!0)}if(!s)break;n=o}return this.spawn(a,!0).filter(r)}};Ht.clearTraversalCache=function(){for(var e=0;e<this.length;e++)this[e]._private.traversalCache=null};we(Ht,{roots:Oy({noIncomingEdges:!0}),leaves:Oy({noOutgoingEdges:!0}),outgoers:Or(Ry({outgoing:!0}),"outgoers"),successors:Ly({outgoing:!0}),incomers:Or(Ry({incoming:!0}),"incomers"),predecessors:Ly({incoming:!0})});we(Ht,{neighborhood:Or(function(e){for(var t=[],r=this.nodes(),n=0;n<r.length;n++)for(var a=r[n],i=a.connectedEdges(),o=0;o<i.length;o++){var s=i[o],u=s.source(),l=s.target(),f=a===u?l:u;f.length>0&&t.push(f[0]),t.push(s[0])}return this.spawn(t,!0).filter(e)},"neighborhood"),closedNeighborhood:function(t){return this.neighborhood().add(this).filter(t)},openNeighborhood:function(t){return this.neighborhood(t)}});Ht.neighbourhood=Ht.neighborhood;Ht.closedNeighbourhood=Ht.closedNeighborhood;Ht.openNeighbourhood=Ht.openNeighborhood;we(Ht,{source:Or(function(t){var r=this[0],n;return r&&(n=r._private.source||r.cy().collection()),n&&t?n.filter(t):n},"source"),target:Or(function(t){var r=this[0],n;return r&&(n=r._private.target||r.cy().collection()),n&&t?n.filter(t):n},"target"),sources:$y({attr:"source"}),targets:$y({attr:"target"})});function $y(e){return function(r){for(var n=[],a=0;a<this.length;a++){var i=this[a],o=i._private[e.attr];o&&n.push(o)}return this.spawn(n,!0).filter(r)}}we(Ht,{edgesWith:Or(Ny(),"edgesWith"),edgesTo:Or(Ny({thisIsSrc:!0}),"edgesTo")});function Ny(e){return function(r){var n=[],a=this._private.cy,i=e||{};ye(r)&&(r=a.$(r));for(var o=0;o<r.length;o++)for(var s=r[o]._private.edges,u=0;u<s.length;u++){var l=s[u],f=l._private.data,c=this.hasElementWithId(f.source)&&r.hasElementWithId(f.target),d=r.hasElementWithId(f.source)&&this.hasElementWithId(f.target),h=c||d;h&&((i.thisIsSrc||i.thisIsTgt)&&(i.thisIsSrc&&!c||i.thisIsTgt&&!d)||n.push(l))}return this.spawn(n,!0)}}we(Ht,{connectedEdges:Or(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var a=r[n];if(a.isNode())for(var i=a._private.edges,o=0;o<i.length;o++){var s=i[o];t.push(s)}}return this.spawn(t,!0).filter(e)},"connectedEdges"),connectedNodes:Or(function(e){for(var t=[],r=this,n=0;n<r.length;n++){var a=r[n];a.isEdge()&&(t.push(a.source()[0]),t.push(a.target()[0]))}return this.spawn(t,!0).filter(e)},"connectedNodes"),parallelEdges:Or(Iy(),"parallelEdges"),codirectedEdges:Or(Iy({codirected:!0}),"codirectedEdges")});function Iy(e){var t={codirected:!1};return e=we({},t,e),function(n){for(var a=[],i=this.edges(),o=e,s=0;s<i.length;s++)for(var u=i[s],l=u._private,f=l.source,c=f._private.data.id,d=l.data.target,h=f._private.edges,v=0;v<h.length;v++){var p=h[v],g=p._private.data,m=g.target,y=g.source,b=m===d&&y===c,w=c===m&&d===y;(o.codirected&&b||!o.codirected&&(b||w))&&a.push(p)}return this.spawn(a,!0).filter(n)}}we(Ht,{components:function(t){var r=this,n=r.cy(),a=n.collection(),i=t==null?r.nodes():t.nodes(),o=[];t!=null&&i.empty()&&(i=t.sources());var s=function(f,c){a.merge(f),i.unmerge(f),c.merge(f)};if(i.empty())return r.spawn();var u=function(){var f=n.collection();o.push(f);var c=i[0];s(c,f),r.bfs({directed:!1,roots:c,visit:function(h){return s(h,f)}}),f.forEach(function(d){d.connectedEdges().forEach(function(h){r.has(h)&&f.has(h.source())&&f.has(h.target())&&f.merge(h)})})};do u();while(i.length>0);return o},component:function(){var t=this[0];return t.cy().mutableElements().components(t)[0]}});Ht.componentsOf=Ht.components;var It=function(t,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(t===void 0){vt("A collection must have a reference to the core");return}var i=new gn,o=!1;if(!r)r=[];else if(r.length>0&&Fe(r[0])&&!Au(r[0])){o=!0;for(var s=[],u=new No,l=0,f=r.length;l<f;l++){var c=r[l];c.data==null&&(c.data={});var d=c.data;if(d.id==null)d.id=E5();else if(t.hasElementWithId(d.id)||u.has(d.id))continue;var h=new kc(t,c,!1);s.push(h),u.add(d.id)}r=s}this.length=0;for(var v=0,p=r.length;v<p;v++){var g=r[v][0];if(g!=null){var m=g._private.data.id;(!n||!i.has(m))&&(n&&i.set(m,{index:this.length,ele:g}),this[this.length]=g,this.length++)}}this._private={eles:this,cy:t,get map(){return this.lazyMap==null&&this.rebuildMap(),this.lazyMap},set map(y){this.lazyMap=y},rebuildMap:function(){for(var b=this.lazyMap=new gn,w=this.eles,E=0;E<w.length;E++){var S=w[E];b.set(S.id(),{index:E,ele:S})}}},n&&(this._private.map=i),o&&!a&&this.restore()},nt=kc.prototype=It.prototype=Object.create(Array.prototype);nt.instanceString=function(){return"collection"};nt.spawn=function(e,t){return new It(this.cy(),e,t)};nt.spawnSelf=function(){return this.spawn(this)};nt.cy=function(){return this._private.cy};nt.renderer=function(){return this._private.cy.renderer()};nt.element=function(){return this[0]};nt.collection=function(){return l5(this)?this:new It(this._private.cy,[this])};nt.unique=function(){return new It(this._private.cy,this,!0)};nt.hasElementWithId=function(e){return e=""+e,this._private.map.has(e)};nt.getElementById=function(e){e=""+e;var t=this._private.cy,r=this._private.map.get(e);return r?r.ele:new It(t)};nt.$id=nt.getElementById;nt.poolIndex=function(){var e=this._private.cy,t=e._private.elements,r=this[0]._private.data.id;return t._private.map.get(r).index};nt.indexOf=function(e){var t=e[0]._private.data.id;return this._private.map.get(t).index};nt.indexOfId=function(e){return e=""+e,this._private.map.get(e).index};nt.json=function(e){var t=this.element(),r=this.cy();if(t==null&&e)return this;if(t!=null){var n=t._private;if(Fe(e)){if(r.startBatch(),e.data){t.data(e.data);var a=n.data;if(t.isEdge()){var i=!1,o={},s=e.data.source,u=e.data.target;s!=null&&s!=a.source&&(o.source=""+s,i=!0),u!=null&&u!=a.target&&(o.target=""+u,i=!0),i&&(t=t.move(o))}else{var l="parent"in e.data,f=e.data.parent;l&&(f!=null||a.parent!=null)&&f!=a.parent&&(f===void 0&&(f=null),f!=null&&(f=""+f),t=t.move({parent:f}))}}e.position&&t.position(e.position);var c=function(p,g,m){var y=e[p];y!=null&&y!==n[p]&&(y?t[g]():t[m]())};return c("removed","remove","restore"),c("selected","select","unselect"),c("selectable","selectify","unselectify"),c("locked","lock","unlock"),c("grabbable","grabify","ungrabify"),c("pannable","panify","unpanify"),e.classes!=null&&t.classes(e.classes),r.endBatch(),this}else if(e===void 0){var d={data:vn(n.data),position:vn(n.position),group:n.group,removed:n.removed,selected:n.selected,selectable:n.selectable,locked:n.locked,grabbable:n.grabbable,pannable:n.pannable,classes:null};d.classes="";var h=0;return n.classes.forEach(function(v){return d.classes+=h++===0?v:" "+v}),d}}};nt.jsons=function(){for(var e=[],t=0;t<this.length;t++){var r=this[t],n=r.json();e.push(n)}return e};nt.clone=function(){for(var e=this.cy(),t=[],r=0;r<this.length;r++){var n=this[r],a=n.json(),i=new kc(e,a,!1);t.push(i)}return new It(e,t)};nt.copy=nt.clone;nt.restore=function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=r.cy(),a=n._private,i=[],o=[],s,u=0,l=r.length;u<l;u++){var f=r[u];t&&!f.removed()||(f.isNode()?i.push(f):o.push(f))}s=i.concat(o);var c,d=function(){s.splice(c,1),c--};for(c=0;c<s.length;c++){var h=s[c],v=h._private,p=v.data;if(h.clearTraversalCache(),!(!t&&!v.removed)){if(p.id===void 0)p.id=E5();else if(fe(p.id))p.id=""+p.id;else if(Aa(p.id)||!ye(p.id)){vt("Can not create element with invalid string ID `"+p.id+"`"),d();continue}else if(n.hasElementWithId(p.id)){vt("Can not create second element with ID `"+p.id+"`"),d();continue}}var g=p.id;if(h.isNode()){var m=v.position;m.x==null&&(m.x=0),m.y==null&&(m.y=0)}if(h.isEdge()){for(var y=h,b=["source","target"],w=b.length,E=!1,S=0;S<w;S++){var x=b[S],M=p[x];fe(M)&&(M=p[x]=""+p[x]),M==null||M===""?(vt("Can not create edge `"+g+"` with unspecified "+x),E=!0):n.hasElementWithId(M)||(vt("Can not create edge `"+g+"` with nonexistant "+x+" `"+M+"`"),E=!0)}if(E){d();continue}var T=n.getElementById(p.source),C=n.getElementById(p.target);T.same(C)?T._private.edges.push(y):(T._private.edges.push(y),C._private.edges.push(y)),y._private.source=T,y._private.target=C}v.map=new gn,v.map.set(g,{ele:h,index:0}),v.removed=!1,t&&n.addToPool(h)}for(var k=0;k<i.length;k++){var _=i[k],A=_._private.data;fe(A.parent)&&(A.parent=""+A.parent);var D=A.parent,P=D!=null;if(P||_._private.parent){var R=_._private.parent?n.collection().merge(_._private.parent):n.getElementById(D);if(R.empty())A.parent=void 0;else if(R[0].removed())Ke("Node added with missing parent, reference to parent removed"),A.parent=void 0,_._private.parent=null;else{for(var L=!1,N=R;!N.empty();){if(_.same(N)){L=!0,A.parent=void 0;break}N=N.parent()}L||(R[0]._private.children.push(_),_._private.parent=R[0],a.hasCompoundNodes=!0)}}}if(s.length>0){for(var z=s.length===r.length?r:new It(n,s),F=0;F<z.length;F++){var I=z[F];I.isNode()||(I.parallelEdges().clearTraversalCache(),I.source().clearTraversalCache(),I.target().clearTraversalCache())}var B;a.hasCompoundNodes?B=n.collection().merge(z).merge(z.connectedNodes()).merge(z.parent()):B=z,B.dirtyCompoundBoundsCache().dirtyBoundingBoxCache().updateStyle(e),e?z.emitAndNotify("add"):t&&z.emit("add")}return r};nt.removed=function(){var e=this[0];return e&&e._private.removed};nt.inside=function(){var e=this[0];return e&&!e._private.removed};nt.remove=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,r=this,n=[],a={},i=r._private.cy;function o(D){for(var P=D._private.edges,R=0;R<P.length;R++)u(P[R])}function s(D){for(var P=D._private.children,R=0;R<P.length;R++)u(P[R])}function u(D){var P=a[D.id()];t&&D.removed()||P||(a[D.id()]=!0,D.isNode()?(n.push(D),o(D),s(D)):n.unshift(D))}for(var l=0,f=r.length;l<f;l++){var c=r[l];u(c)}function d(D,P){var R=D._private.edges;Oa(R,P),D.clearTraversalCache()}function h(D){D.clearTraversalCache()}var v=[];v.ids={};function p(D,P){P=P[0],D=D[0];var R=D._private.children,L=D.id();Oa(R,P),P._private.parent=null,v.ids[L]||(v.ids[L]=!0,v.push(D))}r.dirtyCompoundBoundsCache(),t&&i.removeFromPool(n);for(var g=0;g<n.length;g++){var m=n[g];if(m.isEdge()){var y=m.source()[0],b=m.target()[0];d(y,m),d(b,m);for(var w=m.parallelEdges(),E=0;E<w.length;E++){var S=w[E];h(S),S.isBundledBezier()&&S.dirtyBoundingBoxCache()}}else{var x=m.parent();x.length!==0&&p(x,m)}t&&(m._private.removed=!0)}var M=i._private.elements;i._private.hasCompoundNodes=!1;for(var T=0;T<M.length;T++){var C=M[T];if(C.isParent()){i._private.hasCompoundNodes=!0;break}}var k=new It(this.cy(),n);k.size()>0&&(e?k.emitAndNotify("remove"):t&&k.emit("remove"));for(var _=0;_<v.length;_++){var A=v[_];(!t||!A.removed())&&A.updateStyle()}return k};nt.move=function(e){var t=this._private.cy,r=this,n=!1,a=!1,i=function(v){return v==null?v:""+v};if(e.source!==void 0||e.target!==void 0){var o=i(e.source),s=i(e.target),u=o!=null&&t.hasElementWithId(o),l=s!=null&&t.hasElementWithId(s);(u||l)&&(t.batch(function(){r.remove(n,a),r.emitAndNotify("moveout");for(var h=0;h<r.length;h++){var v=r[h],p=v._private.data;v.isEdge()&&(u&&(p.source=o),l&&(p.target=s))}r.restore(n,a)}),r.emitAndNotify("move"))}else if(e.parent!==void 0){var f=i(e.parent),c=f===null||t.hasElementWithId(f);if(c){var d=f===null?void 0:f;t.batch(function(){var h=r.remove(n,a);h.emitAndNotify("moveout");for(var v=0;v<r.length;v++){var p=r[v],g=p._private.data;p.isNode()&&(g.parent=d)}h.restore(n,a)}),r.emitAndNotify("move")}}return this};[N5,bN,Ll,Ea,_o,$N,Oc,QN,sE,uE,rI,Rf,$l,Nt,Ta,Ht].forEach(function(e){we(nt,e)});var lI={add:function(t){var r,n=this;if(gr(t)){var a=t;if(a._private.cy===n)r=a.restore();else{for(var i=[],o=0;o<a.length;o++){var s=a[o];i.push(s.json())}r=new It(n,i)}}else if(Je(t)){var u=t;r=new It(n,u)}else if(Fe(t)&&(Je(t.nodes)||Je(t.edges))){for(var l=t,f=[],c=["nodes","edges"],d=0,h=c.length;d<h;d++){var v=c[d],p=l[v];if(Je(p))for(var g=0,m=p.length;g<m;g++){var y=we({group:v},p[g]);f.push(y)}}r=new It(n,f)}else{var b=t;r=new kc(n,b).collection()}return r},remove:function(t){if(!gr(t)){if(ye(t)){var r=t;t=this.$(r)}}return t.remove()}};/*! Bezier curve function generator. Copyright Gaetan Renaudeau. MIT License: http://en.wikipedia.org/wiki/MIT_License */function fI(e,t,r,n){var a=4,i=.001,o=1e-7,s=10,u=11,l=1/(u-1),f=typeof Float32Array<"u";if(arguments.length!==4)return!1;for(var c=0;c<4;++c)if(typeof arguments[c]!="number"||isNaN(arguments[c])||!isFinite(arguments[c]))return!1;e=Math.min(e,1),r=Math.min(r,1),e=Math.max(e,0),r=Math.max(r,0);var d=f?new Float32Array(u):new Array(u);function h(C,k){return 1-3*k+3*C}function v(C,k){return 3*k-6*C}function p(C){return 3*C}function g(C,k,_){return((h(k,_)*C+v(k,_))*C+p(k))*C}function m(C,k,_){return 3*h(k,_)*C*C+2*v(k,_)*C+p(k)}function y(C,k){for(var _=0;_<a;++_){var A=m(k,e,r);if(A===0)return k;var D=g(k,e,r)-C;k-=D/A}return k}function b(){for(var C=0;C<u;++C)d[C]=g(C*l,e,r)}function w(C,k,_){var A,D,P=0;do D=k+(_-k)/2,A=g(D,e,r)-C,A>0?_=D:k=D;while(Math.abs(A)>o&&++P<s);return D}function E(C){for(var k=0,_=1,A=u-1;_!==A&&d[_]<=C;++_)k+=l;--_;var D=(C-d[_])/(d[_+1]-d[_]),P=k+D*l,R=m(P,e,r);return R>=i?y(C,P):R===0?P:w(C,k,k+l)}var S=!1;function x(){S=!0,(e!==t||r!==n)&&b()}var M=function(k){return S||x(),e===t&&r===n?k:k===0?0:k===1?1:g(E(k),t,n)};M.getControlPoints=function(){return[{x:e,y:t},{x:r,y:n}]};var T="generateBezier("+[e,t,r,n]+")";return M.toString=function(){return T},M}/*! Runge-Kutta spring physics function generator. Adapted from Framer.js, copyright Koen Bok. MIT License: http://en.wikipedia.org/wiki/MIT_License */var cI=function(){function e(n){return-n.tension*n.x-n.friction*n.v}function t(n,a,i){var o={x:n.x+i.dx*a,v:n.v+i.dv*a,tension:n.tension,friction:n.friction};return{dx:o.v,dv:e(o)}}function r(n,a){var i={dx:n.v,dv:e(n)},o=t(n,a*.5,i),s=t(n,a*.5,o),u=t(n,a,s),l=1/6*(i.dx+2*(o.dx+s.dx)+u.dx),f=1/6*(i.dv+2*(o.dv+s.dv)+u.dv);return n.x=n.x+l*a,n.v=n.v+f*a,n}return function n(a,i,o){var s={x:-1,v:0,tension:null,friction:null},u=[0],l=0,f=1/1e4,c=16/1e3,d,h,v;for(a=parseFloat(a)||500,i=parseFloat(i)||20,o=o||null,s.tension=a,s.friction=i,d=o!==null,d?(l=n(a,i),h=l/o*c):h=c;v=r(v||s,h),u.push(1+v.x),l+=16,Math.abs(v.x)>f&&Math.abs(v.v)>f;);return d?function(p){return u[p*(u.length-1)|0]}:l}}(),rt=function(t,r,n,a){var i=fI(t,r,n,a);return function(o,s,u){return o+(s-o)*i(u)}},Nl={linear:function(t,r,n){return t+(r-t)*n},ease:rt(.25,.1,.25,1),"ease-in":rt(.42,0,1,1),"ease-out":rt(0,0,.58,1),"ease-in-out":rt(.42,0,.58,1),"ease-in-sine":rt(.47,0,.745,.715),"ease-out-sine":rt(.39,.575,.565,1),"ease-in-out-sine":rt(.445,.05,.55,.95),"ease-in-quad":rt(.55,.085,.68,.53),"ease-out-quad":rt(.25,.46,.45,.94),"ease-in-out-quad":rt(.455,.03,.515,.955),"ease-in-cubic":rt(.55,.055,.675,.19),"ease-out-cubic":rt(.215,.61,.355,1),"ease-in-out-cubic":rt(.645,.045,.355,1),"ease-in-quart":rt(.895,.03,.685,.22),"ease-out-quart":rt(.165,.84,.44,1),"ease-in-out-quart":rt(.77,0,.175,1),"ease-in-quint":rt(.755,.05,.855,.06),"ease-out-quint":rt(.23,1,.32,1),"ease-in-out-quint":rt(.86,0,.07,1),"ease-in-expo":rt(.95,.05,.795,.035),"ease-out-expo":rt(.19,1,.22,1),"ease-in-out-expo":rt(1,0,0,1),"ease-in-circ":rt(.6,.04,.98,.335),"ease-out-circ":rt(.075,.82,.165,1),"ease-in-out-circ":rt(.785,.135,.15,.86),spring:function(t,r,n){if(n===0)return Nl.linear;var a=cI(t,r,n);return function(i,o,s){return i+(o-i)*a(s)}},"cubic-bezier":rt};function By(e,t,r,n,a){if(n===1||t===r)return r;var i=a(t,r,n);return e==null||((e.roundValue||e.color)&&(i=Math.round(i)),e.min!==void 0&&(i=Math.max(i,e.min)),e.max!==void 0&&(i=Math.min(i,e.max))),i}function Fy(e,t){return e.pfValue!=null||e.value!=null?e.pfValue!=null&&(t==null||t.type.units!=="%")?e.pfValue:e.value:e}function Fi(e,t,r,n,a){var i=a!=null?a.type:null;r<0?r=0:r>1&&(r=1);var o=Fy(e,a),s=Fy(t,a);if(fe(o)&&fe(s))return By(i,o,s,r,n);if(Je(o)&&Je(s)){for(var u=[],l=0;l<s.length;l++){var f=o[l],c=s[l];if(f!=null&&c!=null){var d=By(i,f,c,r,n);u.push(d)}else u.push(c)}return u}}function dI(e,t,r,n){var a=!n,i=e._private,o=t._private,s=o.easing,u=o.startTime,l=n?e:e.cy(),f=l.style();if(!o.easingImpl)if(s==null)o.easingImpl=Nl.linear;else{var c;if(ye(s)){var d=f.parse("transition-timing-function",s);c=d.value}else c=s;var h,v;ye(c)?(h=c,v=[]):(h=c[1],v=c.slice(2).map(function(z){return+z})),v.length>0?(h==="spring"&&v.push(o.duration),o.easingImpl=Nl[h].apply(null,v)):o.easingImpl=Nl[h]}var p=o.easingImpl,g;if(o.duration===0?g=1:g=(r-u)/o.duration,o.applying&&(g=o.progress),g<0?g=0:g>1&&(g=1),o.delay==null){var m=o.startPosition,y=o.position;if(y&&a&&!e.locked()){var b={};us(m.x,y.x)&&(b.x=Fi(m.x,y.x,g,p)),us(m.y,y.y)&&(b.y=Fi(m.y,y.y,g,p)),e.position(b)}var w=o.startPan,E=o.pan,S=i.pan,x=E!=null&&n;x&&(us(w.x,E.x)&&(S.x=Fi(w.x,E.x,g,p)),us(w.y,E.y)&&(S.y=Fi(w.y,E.y,g,p)),e.emit("pan"));var M=o.startZoom,T=o.zoom,C=T!=null&&n;C&&(us(M,T)&&(i.zoom=js(i.minZoom,Fi(M,T,g,p),i.maxZoom)),e.emit("zoom")),(x||C)&&e.emit("viewport");var k=o.style;if(k&&k.length>0&&a){for(var _=0;_<k.length;_++){var A=k[_],D=A.name,P=A,R=o.startStyle[D],L=f.properties[R.name],N=Fi(R,P,g,p,L);f.overrideBypass(e,D,N)}e.emit("style")}}return o.progress=g,g}function us(e,t){return e==null||t==null?!1:fe(e)&&fe(t)?!0:!!(e&&t)}function hI(e,t,r,n){var a=t._private;a.started=!0,a.startTime=r-a.progress*a.duration}function zy(e,t){var r=t._private.aniEles,n=[];function a(f,c){var d=f._private,h=d.animation.current,v=d.animation.queue,p=!1;if(h.length===0){var g=v.shift();g&&h.push(g)}for(var m=function(S){for(var x=S.length-1;x>=0;x--){var M=S[x];M()}S.splice(0,S.length)},y=h.length-1;y>=0;y--){var b=h[y],w=b._private;if(w.stopped){h.splice(y,1),w.hooked=!1,w.playing=!1,w.started=!1,m(w.frames);continue}!w.playing&&!w.applying||(w.playing&&w.applying&&(w.applying=!1),w.started||hI(f,b,e),dI(f,b,e,c),w.applying&&(w.applying=!1),m(w.frames),w.step!=null&&w.step(e),b.completed()&&(h.splice(y,1),w.hooked=!1,w.playing=!1,w.started=!1,m(w.completes)),p=!0)}return!c&&h.length===0&&v.length===0&&n.push(f),p}for(var i=!1,o=0;o<r.length;o++){var s=r[o],u=a(s);i=i||u}var l=a(t,!0);(i||l)&&(r.length>0?t.notify("draw",r):t.notify("draw")),r.unmerge(n),t.emit("step")}var vI={animate:Xe.animate(),animation:Xe.animation(),animated:Xe.animated(),clearQueue:Xe.clearQueue(),delay:Xe.delay(),delayAnimation:Xe.delayAnimation(),stop:Xe.stop(),addToAnimationPool:function(t){var r=this;r.styleEnabled()&&r._private.aniEles.merge(t)},stopAnimationLoop:function(){this._private.animationsRunning=!1},startAnimationLoop:function(){var t=this;if(t._private.animationsRunning=!0,!t.styleEnabled())return;function r(){t._private.animationsRunning&&Df(function(i){zy(i,t),r()})}var n=t.renderer();n&&n.beforeRender?n.beforeRender(function(i,o){zy(o,t)},n.beforeRenderPriorities.animations):r()}},gI={qualifierCompare:function(t,r){return t==null||r==null?t==null&&r==null:t.sameText(r)},eventMatches:function(t,r,n){var a=r.qualifier;return a!=null?t!==n.target&&Au(n.target)&&a.matches(n.target):!0},addEventFields:function(t,r){r.cy=t,r.target=t},callbackContext:function(t,r,n){return r.qualifier!=null?n.target:t}},xl=function(t){return ye(t)?new Ra(t):t},cE={createEmitter:function(){var t=this._private;return t.emitter||(t.emitter=new Rc(gI,this)),this},emitter:function(){return this._private.emitter},on:function(t,r,n){return this.emitter().on(t,xl(r),n),this},removeListener:function(t,r,n){return this.emitter().removeListener(t,xl(r),n),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},one:function(t,r,n){return this.emitter().one(t,xl(r),n),this},once:function(t,r,n){return this.emitter().one(t,xl(r),n),this},emit:function(t,r){return this.emitter().emit(t,r),this},emitAndNotify:function(t,r){return this.emit(t),this.notify(t,r),this}};Xe.eventAliasesOn(cE);var yv={png:function(t){var r=this._private.renderer;return t=t||{},r.png(t)},jpg:function(t){var r=this._private.renderer;return t=t||{},t.bg=t.bg||"#fff",r.jpg(t)}};yv.jpeg=yv.jpg;var Il={layout:function(t){var r=this;if(t==null){vt("Layout options must be specified to make a layout");return}if(t.name==null){vt("A `name` must be specified to make a layout");return}var n=t.name,a=r.extension("layout",n);if(a==null){vt("No such layout `"+n+"` found.  Did you forget to import it and `cytoscape.use()` it?");return}var i;ye(t.eles)?i=r.$(t.eles):i=t.eles!=null?t.eles:r.$();var o=new a(we({},t,{cy:r,eles:i}));return o}};Il.createLayout=Il.makeLayout=Il.layout;var pI={notify:function(t,r){var n=this._private;if(this.batching()){n.batchNotifications=n.batchNotifications||{};var a=n.batchNotifications[t]=n.batchNotifications[t]||this.collection();r!=null&&a.merge(r);return}if(n.notificationsEnabled){var i=this.renderer();this.destroyed()||!i||i.notify(t,r)}},notifications:function(t){var r=this._private;return t===void 0?r.notificationsEnabled:(r.notificationsEnabled=!!t,this)},noNotifications:function(t){this.notifications(!1),t(),this.notifications(!0)},batching:function(){return this._private.batchCount>0},startBatch:function(){var t=this._private;return t.batchCount==null&&(t.batchCount=0),t.batchCount===0&&(t.batchStyleEles=this.collection(),t.batchNotifications={}),t.batchCount++,this},endBatch:function(){var t=this._private;if(t.batchCount===0)return this;if(t.batchCount--,t.batchCount===0){t.batchStyleEles.updateStyle();var r=this.renderer();Object.keys(t.batchNotifications).forEach(function(n){var a=t.batchNotifications[n];a.empty()?r.notify(n):r.notify(n,a)})}return this},batch:function(t){return this.startBatch(),t(),this.endBatch(),this},batchData:function(t){var r=this;return this.batch(function(){for(var n=Object.keys(t),a=0;a<n.length;a++){var i=n[a],o=t[i],s=r.getElementById(i);s.data(o)}})}},mI=Bt({hideEdgesOnViewport:!1,textureOnViewport:!1,motionBlur:!1,motionBlurOpacity:.05,pixelRatio:void 0,desktopTapThreshold:4,touchTapThreshold:8,wheelSensitivity:1,debug:!1,showFps:!1}),bv={renderTo:function(t,r,n,a){var i=this._private.renderer;return i.renderTo(t,r,n,a),this},renderer:function(){return this._private.renderer},forceRender:function(){return this.notify("draw"),this},resize:function(){return this.invalidateSize(),this.emitAndNotify("resize"),this},initRenderer:function(t){var r=this,n=r.extension("renderer",t.name);if(n==null){vt("Can not initialise: No such renderer `".concat(t.name,"` found. Did you forget to import it and `cytoscape.use()` it?"));return}t.wheelSensitivity!==void 0&&Ke("You have set a custom wheel sensitivity.  This will make your app zoom unnaturally when using mainstream mice.  You should change this value from the default only if you can guarantee that all your users will use the same hardware and OS configuration as your current machine.");var a=mI(t);a.cy=r,r._private.renderer=new n(a),this.notify("init")},destroyRenderer:function(){var t=this;t.notify("destroy");var r=t.container();if(r)for(r._cyreg=null;r.childNodes.length>0;)r.removeChild(r.childNodes[0]);t._private.renderer=null,t.mutableElements().forEach(function(n){var a=n._private;a.rscratch={},a.rstyle={},a.animation.current=[],a.animation.queue=[]})},onRender:function(t){return this.on("render",t)},offRender:function(t){return this.off("render",t)}};bv.invalidateDimensions=bv.resize;var Bl={collection:function(t,r){return ye(t)?this.$(t):gr(t)?t.collection():Je(t)?(r||(r={}),new It(this,t,r.unique,r.removed)):new It(this)},nodes:function(t){var r=this.$(function(n){return n.isNode()});return t?r.filter(t):r},edges:function(t){var r=this.$(function(n){return n.isEdge()});return t?r.filter(t):r},$:function(t){var r=this._private.elements;return t?r.filter(t):r.spawnSelf()},mutableElements:function(){return this._private.elements}};Bl.elements=Bl.filter=Bl.$;var Xt={},Ps="t",yI="f";Xt.apply=function(e){for(var t=this,r=t._private,n=r.cy,a=n.collection(),i=0;i<e.length;i++){var o=e[i],s=t.getContextMeta(o);if(!s.empty){var u=t.getContextStyle(s),l=t.applyContextStyle(s,u,o);o._private.appliedInitStyle?t.updateTransitions(o,l.diffProps):o._private.appliedInitStyle=!0;var f=t.updateStyleHints(o);f&&a.push(o)}}return a};Xt.getPropertiesDiff=function(e,t){var r=this,n=r._private.propDiffs=r._private.propDiffs||{},a=e+"-"+t,i=n[a];if(i)return i;for(var o=[],s={},u=0;u<r.length;u++){var l=r[u],f=e[u]===Ps,c=t[u]===Ps,d=f!==c,h=l.mappedProperties.length>0;if(d||c&&h){var v=void 0;d&&h||d?v=l.properties:h&&(v=l.mappedProperties);for(var p=0;p<v.length;p++){for(var g=v[p],m=g.name,y=!1,b=u+1;b<r.length;b++){var w=r[b],E=t[b]===Ps;if(E&&(y=w.properties[g.name]!=null,y))break}!s[m]&&!y&&(s[m]=!0,o.push(m))}}}return n[a]=o,o};Xt.getContextMeta=function(e){for(var t=this,r="",n,a=e._private.styleCxtKey||"",i=0;i<t.length;i++){var o=t[i],s=o.selector&&o.selector.matches(e);s?r+=Ps:r+=yI}return n=t.getPropertiesDiff(a,r),e._private.styleCxtKey=r,{key:r,diffPropNames:n,empty:n.length===0}};Xt.getContextStyle=function(e){var t=e.key,r=this,n=this._private.contextStyles=this._private.contextStyles||{};if(n[t])return n[t];for(var a={_private:{key:t}},i=0;i<r.length;i++){var o=r[i],s=t[i]===Ps;if(s)for(var u=0;u<o.properties.length;u++){var l=o.properties[u];a[l.name]=l}}return n[t]=a,a};Xt.applyContextStyle=function(e,t,r){for(var n=this,a=e.diffPropNames,i={},o=n.types,s=0;s<a.length;s++){var u=a[s],l=t[u],f=r.pstyle(u);if(!l)if(f)f.bypass?l={name:u,deleteBypassed:!0}:l={name:u,delete:!0};else continue;if(f!==l){if(l.mapped===o.fn&&f!=null&&f.mapping!=null&&f.mapping.value===l.value){var c=f.mapping,d=c.fnValue=l.value(r);if(d===c.prevFnValue)continue}var h=i[u]={prev:f};n.applyParsedProperty(r,l),h.next=r.pstyle(u),h.next&&h.next.bypass&&(h.next=h.next.bypassed)}}return{diffProps:i}};Xt.updateStyleHints=function(e){var t=e._private,r=this,n=r.propertyGroupNames,a=r.propertyGroupKeys,i=function(U,Y,ie){return r.getPropertiesHash(U,Y,ie)},o=t.styleKey;if(e.removed())return!1;var s=t.group==="nodes",u=e._private.style;n=Object.keys(u);for(var l=0;l<a.length;l++){var f=a[l];t.styleKeys[f]=[Xi,Ss]}for(var c=function(U,Y){return t.styleKeys[Y][0]=Ks(U,t.styleKeys[Y][0])},d=function(U,Y){return t.styleKeys[Y][1]=Zs(U,t.styleKeys[Y][1])},h=function(U,Y){c(U,Y),d(U,Y)},v=function(U,Y){for(var ie=0;ie<U.length;ie++){var J=U.charCodeAt(ie);c(J,Y),d(J,Y)}},p=2e9,g=function(U){return-128<U&&U<128&&Math.floor(U)!==U?p-(U*1024|0):U},m=0;m<n.length;m++){var y=n[m],b=u[y];if(b!=null){var w=this.properties[y],E=w.type,S=w.groupKey,x=void 0;w.hashOverride!=null?x=w.hashOverride(e,b):b.pfValue!=null&&(x=b.pfValue);var M=w.enums==null?b.value:null,T=x!=null,C=M!=null,k=T||C,_=b.units;if(E.number&&k&&!E.multiple){var A=T?x:M;h(g(A),S),!T&&_!=null&&v(_,S)}else v(b.strValue,S)}}for(var D=[Xi,Ss],P=0;P<a.length;P++){var R=a[P],L=t.styleKeys[R];D[0]=Ks(L[0],D[0]),D[1]=Zs(L[1],D[1])}t.styleKey=EO(D[0],D[1]);var N=t.styleKeys;t.labelDimsKey=ha(N.labelDimensions);var z=i(e,["label"],N.labelDimensions);if(t.labelKey=ha(z),t.labelStyleKey=ha(dl(N.commonLabel,z)),!s){var F=i(e,["source-label"],N.labelDimensions);t.sourceLabelKey=ha(F),t.sourceLabelStyleKey=ha(dl(N.commonLabel,F));var I=i(e,["target-label"],N.labelDimensions);t.targetLabelKey=ha(I),t.targetLabelStyleKey=ha(dl(N.commonLabel,I))}if(s){var B=t.styleKeys,V=B.nodeBody,K=B.nodeBorder,j=B.nodeOutline,Q=B.backgroundImage,X=B.compound,W=B.pie,$=[V,K,j,Q,X,W].filter(function(q){return q!=null}).reduce(dl,[Xi,Ss]);t.nodeKey=ha($),t.hasPie=W!=null&&W[0]!==Xi&&W[1]!==Ss}return o!==t.styleKey};Xt.clearStyleHints=function(e){var t=e._private;t.styleCxtKey="",t.styleKeys={},t.styleKey=null,t.labelKey=null,t.labelStyleKey=null,t.sourceLabelKey=null,t.sourceLabelStyleKey=null,t.targetLabelKey=null,t.targetLabelStyleKey=null,t.nodeKey=null,t.hasPie=null};Xt.applyParsedProperty=function(e,t){var r=this,n=t,a=e._private.style,i,o=r.types,s=r.properties[n.name].type,u=n.bypass,l=a[n.name],f=l&&l.bypass,c=e._private,d="mapping",h=function(V){return V==null?null:V.pfValue!=null?V.pfValue:V.value},v=function(){var V=h(l),K=h(n);r.checkTriggers(e,n.name,V,K)};if(t.name==="curve-style"&&e.isEdge()&&(t.value!=="bezier"&&e.isLoop()||t.value==="haystack"&&(e.source().isParent()||e.target().isParent()))&&(n=t=this.parse(t.name,"bezier",u)),n.delete)return a[n.name]=void 0,v(),!0;if(n.deleteBypassed)return l?l.bypass?(l.bypassed=void 0,v(),!0):!1:(v(),!0);if(n.deleteBypass)return l?l.bypass?(a[n.name]=l.bypassed,v(),!0):!1:(v(),!0);var p=function(){Ke("Do not assign mappings to elements without corresponding data (i.e. ele `"+e.id()+"` has no mapping for property `"+n.name+"` with data field `"+n.field+"`); try a `["+n.field+"]` selector to limit scope to elements with `"+n.field+"` defined")};switch(n.mapped){case o.mapData:{for(var g=n.field.split("."),m=c.data,y=0;y<g.length&&m;y++){var b=g[y];m=m[b]}if(m==null)return p(),!1;var w;if(fe(m)){var E=n.fieldMax-n.fieldMin;E===0?w=0:w=(m-n.fieldMin)/E}else return Ke("Do not use continuous mappers without specifying numeric data (i.e. `"+n.field+": "+m+"` for `"+e.id()+"` is non-numeric)"),!1;if(w<0?w=0:w>1&&(w=1),s.color){var S=n.valueMin[0],x=n.valueMax[0],M=n.valueMin[1],T=n.valueMax[1],C=n.valueMin[2],k=n.valueMax[2],_=n.valueMin[3]==null?1:n.valueMin[3],A=n.valueMax[3]==null?1:n.valueMax[3],D=[Math.round(S+(x-S)*w),Math.round(M+(T-M)*w),Math.round(C+(k-C)*w),Math.round(_+(A-_)*w)];i={bypass:n.bypass,name:n.name,value:D,strValue:"rgb("+D[0]+", "+D[1]+", "+D[2]+")"}}else if(s.number){var P=n.valueMin+(n.valueMax-n.valueMin)*w;i=this.parse(n.name,P,n.bypass,d)}else return!1;if(!i)return p(),!1;i.mapping=n,n=i;break}case o.data:{for(var R=n.field.split("."),L=c.data,N=0;N<R.length&&L;N++){var z=R[N];L=L[z]}if(L!=null&&(i=this.parse(n.name,L,n.bypass,d)),!i)return p(),!1;i.mapping=n,n=i;break}case o.fn:{var F=n.value,I=n.fnValue!=null?n.fnValue:F(e);if(n.prevFnValue=I,I==null)return Ke("Custom function mappers may not return null (i.e. `"+n.name+"` for ele `"+e.id()+"` is null)"),!1;if(i=this.parse(n.name,I,n.bypass,d),!i)return Ke("Custom function mappers may not return invalid values for the property type (i.e. `"+n.name+"` for ele `"+e.id()+"` is invalid)"),!1;i.mapping=vn(n),n=i;break}case void 0:break;default:return!1}return u?(f?n.bypassed=l.bypassed:n.bypassed=l,a[n.name]=n):f?l.bypassed=n:a[n.name]=n,v(),!0};Xt.cleanElements=function(e,t){for(var r=0;r<e.length;r++){var n=e[r];if(this.clearStyleHints(n),n.dirtyCompoundBoundsCache(),n.dirtyBoundingBoxCache(),!t)n._private.style={};else for(var a=n._private.style,i=Object.keys(a),o=0;o<i.length;o++){var s=i[o],u=a[s];u!=null&&(u.bypass?u.bypassed=null:a[s]=null)}}};Xt.update=function(){var e=this._private.cy,t=e.mutableElements();t.updateStyle()};Xt.updateTransitions=function(e,t){var r=this,n=e._private,a=e.pstyle("transition-property").value,i=e.pstyle("transition-duration").pfValue,o=e.pstyle("transition-delay").pfValue;if(a.length>0&&i>0){for(var s={},u=!1,l=0;l<a.length;l++){var f=a[l],c=e.pstyle(f),d=t[f];if(d){var h=d.prev,v=h,p=d.next!=null?d.next:c,g=!1,m=void 0,y=1e-6;v&&(fe(v.pfValue)&&fe(p.pfValue)?(g=p.pfValue-v.pfValue,m=v.pfValue+y*g):fe(v.value)&&fe(p.value)?(g=p.value-v.value,m=v.value+y*g):Je(v.value)&&Je(p.value)&&(g=v.value[0]!==p.value[0]||v.value[1]!==p.value[1]||v.value[2]!==p.value[2],m=v.strValue),g&&(s[f]=p.strValue,this.applyBypass(e,f,m),u=!0))}}if(!u)return;n.transitioning=!0,new Io(function(b){o>0?e.delayAnimation(o).play().promise().then(b):b()}).then(function(){return e.animation({style:s,duration:i,easing:e.pstyle("transition-timing-function").value,queue:!1}).play().promise()}).then(function(){r.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1})}else n.transitioning&&(this.removeBypasses(e,a),e.emitAndNotify("style"),n.transitioning=!1)};Xt.checkTrigger=function(e,t,r,n,a,i){var o=this.properties[t],s=a(o);s!=null&&s(r,n)&&i(o)};Xt.checkZOrderTrigger=function(e,t,r,n){var a=this;this.checkTrigger(e,t,r,n,function(i){return i.triggersZOrder},function(){a._private.cy.notify("zorder",e)})};Xt.checkBoundsTrigger=function(e,t,r,n){this.checkTrigger(e,t,r,n,function(a){return a.triggersBounds},function(a){e.dirtyCompoundBoundsCache(),e.dirtyBoundingBoxCache(),a.triggersBoundsOfParallelBeziers&&t==="curve-style"&&(r==="bezier"||n==="bezier")&&e.parallelEdges().forEach(function(i){i.dirtyBoundingBoxCache()}),a.triggersBoundsOfConnectedEdges&&t==="display"&&(r==="none"||n==="none")&&e.connectedEdges().forEach(function(i){i.dirtyBoundingBoxCache()})})};Xt.checkTriggers=function(e,t,r,n){e.dirtyStyleCache(),this.checkZOrderTrigger(e,t,r,n),this.checkBoundsTrigger(e,t,r,n)};var $u={};$u.applyBypass=function(e,t,r,n){var a=this,i=[],o=!0;if(t==="*"||t==="**"){if(r!==void 0)for(var s=0;s<a.properties.length;s++){var u=a.properties[s],l=u.name,f=this.parse(l,r,!0);f&&i.push(f)}}else if(ye(t)){var c=this.parse(t,r,!0);c&&i.push(c)}else if(Fe(t)){var d=t;n=r;for(var h=Object.keys(d),v=0;v<h.length;v++){var p=h[v],g=d[p];if(g===void 0&&(g=d[Ec(p)]),g!==void 0){var m=this.parse(p,g,!0);m&&i.push(m)}}}else return!1;if(i.length===0)return!1;for(var y=!1,b=0;b<e.length;b++){for(var w=e[b],E={},S=void 0,x=0;x<i.length;x++){var M=i[x];if(n){var T=w.pstyle(M.name);S=E[M.name]={prev:T}}y=this.applyParsedProperty(w,vn(M))||y,n&&(S.next=w.pstyle(M.name))}y&&this.updateStyleHints(w),n&&this.updateTransitions(w,E,o)}return y};$u.overrideBypass=function(e,t,r){t=Vg(t);for(var n=0;n<e.length;n++){var a=e[n],i=a._private.style[t],o=this.properties[t].type,s=o.color,u=o.mutiple,l=i?i.pfValue!=null?i.pfValue:i.value:null;!i||!i.bypass?this.applyBypass(a,t,r):(i.value=r,i.pfValue!=null&&(i.pfValue=r),s?i.strValue="rgb("+r.join(",")+")":u?i.strValue=r.join(" "):i.strValue=""+r,this.updateStyleHints(a)),this.checkTriggers(a,t,l,r)}};$u.removeAllBypasses=function(e,t){return this.removeBypasses(e,this.propertyNames,t)};$u.removeBypasses=function(e,t,r){for(var n=!0,a=0;a<e.length;a++){for(var i=e[a],o={},s=0;s<t.length;s++){var u=t[s],l=this.properties[u],f=i.pstyle(l.name);if(!(!f||!f.bypass)){var c="",d=this.parse(u,c,!0),h=o[l.name]={prev:f};this.applyParsedProperty(i,d),h.next=i.pstyle(l.name)}}this.updateStyleHints(i),r&&this.updateTransitions(i,o,n)}};var np={};np.getEmSizeInPixels=function(){var e=this.containerCss("font-size");return e!=null?parseFloat(e):1};np.containerCss=function(e){var t=this._private.cy,r=t.container(),n=t.window();if(n&&r&&n.getComputedStyle)return n.getComputedStyle(r).getPropertyValue(e)};var wn={};wn.getRenderedStyle=function(e,t){return t?this.getStylePropertyValue(e,t,!0):this.getRawStyle(e,!0)};wn.getRawStyle=function(e,t){var r=this;if(e=e[0],e){for(var n={},a=0;a<r.properties.length;a++){var i=r.properties[a],o=r.getStylePropertyValue(e,i.name,t);o!=null&&(n[i.name]=o,n[Ec(i.name)]=o)}return n}};wn.getIndexedStyle=function(e,t,r,n){var a=e.pstyle(t)[r][n];return a??e.cy().style().getDefaultProperty(t)[r][0]};wn.getStylePropertyValue=function(e,t,r){var n=this;if(e=e[0],e){var a=n.properties[t];a.alias&&(a=a.pointsTo);var i=a.type,o=e.pstyle(a.name);if(o){var s=o.value,u=o.units,l=o.strValue;if(r&&i.number&&s!=null&&fe(s)){var f=e.cy().zoom(),c=function(g){return g*f},d=function(g,m){return c(g)+m},h=Je(s),v=h?u.every(function(p){return p!=null}):u!=null;return v?h?s.map(function(p,g){return d(p,u[g])}).join(" "):d(s,u):h?s.map(function(p){return ye(p)?p:""+c(p)}).join(" "):""+c(s)}else if(l!=null)return l}return null}};wn.getAnimationStartStyle=function(e,t){for(var r={},n=0;n<t.length;n++){var a=t[n],i=a.name,o=e.pstyle(i);o!==void 0&&(Fe(o)?o=this.parse(i,o.strValue):o=this.parse(i,o)),o&&(r[i]=o)}return r};wn.getPropsList=function(e){var t=this,r=[],n=e,a=t.properties;if(n)for(var i=Object.keys(n),o=0;o<i.length;o++){var s=i[o],u=n[s],l=a[s]||a[Vg(s)],f=this.parse(l.name,u);f&&r.push(f)}return r};wn.getNonDefaultPropertiesHash=function(e,t,r){var n=r.slice(),a,i,o,s,u,l;for(u=0;u<t.length;u++)if(a=t[u],i=e.pstyle(a,!1),i!=null)if(i.pfValue!=null)n[0]=Ks(s,n[0]),n[1]=Zs(s,n[1]);else for(o=i.strValue,l=0;l<o.length;l++)s=o.charCodeAt(l),n[0]=Ks(s,n[0]),n[1]=Zs(s,n[1]);return n};wn.getPropertiesHash=wn.getNonDefaultPropertiesHash;var Nc={};Nc.appendFromJson=function(e){for(var t=this,r=0;r<e.length;r++){var n=e[r],a=n.selector,i=n.style||n.css,o=Object.keys(i);t.selector(a);for(var s=0;s<o.length;s++){var u=o[s],l=i[u];t.css(u,l)}}return t};Nc.fromJson=function(e){var t=this;return t.resetToDefault(),t.appendFromJson(e),t};Nc.json=function(){for(var e=[],t=this.defaultLength;t<this.length;t++){for(var r=this[t],n=r.selector,a=r.properties,i={},o=0;o<a.length;o++){var s=a[o];i[s.name]=s.strValue}e.push({selector:n?n.toString():"core",style:i})}return e};var ap={};ap.appendFromString=function(e){var t=this,r=this,n=""+e,a,i,o;n=n.replace(/[/][*](\s|.)+?[*][/]/g,"");function s(){n.length>a.length?n=n.substr(a.length):n=""}function u(){i.length>o.length?i=i.substr(o.length):i=""}for(;;){var l=n.match(/^\s*$/);if(l)break;var f=n.match(/^\s*((?:.|\s)+?)\s*\{((?:.|\s)+?)\}/);if(!f){Ke("Halting stylesheet parsing: String stylesheet contains more to parse but no selector and block found in: "+n);break}a=f[0];var c=f[1];if(c!=="core"){var d=new Ra(c);if(d.invalid){Ke("Skipping parsing of block: Invalid selector found in string stylesheet: "+c),s();continue}}var h=f[2],v=!1;i=h;for(var p=[];;){var g=i.match(/^\s*$/);if(g)break;var m=i.match(/^\s*(.+?)\s*:\s*(.+?)(?:\s*;|\s*$)/);if(!m){Ke("Skipping parsing of block: Invalid formatting of style property and value definitions found in:"+h),v=!0;break}o=m[0];var y=m[1],b=m[2],w=t.properties[y];if(!w){Ke("Skipping property: Invalid property name in: "+o),u();continue}var E=r.parse(y,b);if(!E){Ke("Skipping property: Invalid property definition in: "+o),u();continue}p.push({name:y,val:b}),u()}if(v){s();break}r.selector(c);for(var S=0;S<p.length;S++){var x=p[S];r.css(x.name,x.val)}s()}return r};ap.fromString=function(e){var t=this;return t.resetToDefault(),t.appendFromString(e),t};var $t={};(function(){var e=wt,t=kA,r=DA,n=_A,a=PA,i=function($){return"^"+$+"\\s*\\(\\s*([\\w\\.]+)\\s*\\)$"},o=function($){var q=e+"|\\w+|"+t+"|"+r+"|"+n+"|"+a;return"^"+$+"\\s*\\(([\\w\\.]+)\\s*\\,\\s*("+e+")\\s*\\,\\s*("+e+")\\s*,\\s*("+q+")\\s*\\,\\s*("+q+")\\)$"},s=[`^url\\s*\\(\\s*['"]?(.+?)['"]?\\s*\\)$`,"^(none)$","^(.+)$"];$t.types={time:{number:!0,min:0,units:"s|ms",implicitUnits:"ms"},percent:{number:!0,min:0,max:100,units:"%",implicitUnits:"%"},percentages:{number:!0,min:0,max:100,units:"%",implicitUnits:"%",multiple:!0},zeroOneNumber:{number:!0,min:0,max:1,unitless:!0},zeroOneNumbers:{number:!0,min:0,max:1,unitless:!0,multiple:!0},nOneOneNumber:{number:!0,min:-1,max:1,unitless:!0},nonNegativeInt:{number:!0,min:0,integer:!0,unitless:!0},nonNegativeNumber:{number:!0,min:0,unitless:!0},position:{enums:["parent","origin"]},nodeSize:{number:!0,min:0,enums:["label"]},number:{number:!0,unitless:!0},numbers:{number:!0,unitless:!0,multiple:!0},positiveNumber:{number:!0,unitless:!0,min:0,strictMin:!0},size:{number:!0,min:0},bidirectionalSize:{number:!0},bidirectionalSizeMaybePercent:{number:!0,allowPercent:!0},bidirectionalSizes:{number:!0,multiple:!0},sizeMaybePercent:{number:!0,min:0,allowPercent:!0},axisDirection:{enums:["horizontal","leftward","rightward","vertical","upward","downward","auto"]},paddingRelativeTo:{enums:["width","height","average","min","max"]},bgWH:{number:!0,min:0,allowPercent:!0,enums:["auto"],multiple:!0},bgPos:{number:!0,allowPercent:!0,multiple:!0},bgRelativeTo:{enums:["inner","include-padding"],multiple:!0},bgRepeat:{enums:["repeat","repeat-x","repeat-y","no-repeat"],multiple:!0},bgFit:{enums:["none","contain","cover"],multiple:!0},bgCrossOrigin:{enums:["anonymous","use-credentials","null"],multiple:!0},bgClip:{enums:["none","node"],multiple:!0},bgContainment:{enums:["inside","over"],multiple:!0},color:{color:!0},colors:{color:!0,multiple:!0},fill:{enums:["solid","linear-gradient","radial-gradient"]},bool:{enums:["yes","no"]},bools:{enums:["yes","no"],multiple:!0},lineStyle:{enums:["solid","dotted","dashed"]},lineCap:{enums:["butt","round","square"]},linePosition:{enums:["center","inside","outside"]},lineJoin:{enums:["round","bevel","miter"]},borderStyle:{enums:["solid","dotted","dashed","double"]},curveStyle:{enums:["bezier","unbundled-bezier","haystack","segments","straight","straight-triangle","taxi","round-segments","round-taxi"]},radiusType:{enums:["arc-radius","influence-radius"],multiple:!0},fontFamily:{regex:'^([\\w- \\"]+(?:\\s*,\\s*[\\w- \\"]+)*)$'},fontStyle:{enums:["italic","normal","oblique"]},fontWeight:{enums:["normal","bold","bolder","lighter","100","200","300","400","500","600","800","900",100,200,300,400,500,600,700,800,900]},textDecoration:{enums:["none","underline","overline","line-through"]},textTransform:{enums:["none","uppercase","lowercase"]},textWrap:{enums:["none","wrap","ellipsis"]},textOverflowWrap:{enums:["whitespace","anywhere"]},textBackgroundShape:{enums:["rectangle","roundrectangle","round-rectangle"]},nodeShape:{enums:["rectangle","roundrectangle","round-rectangle","cutrectangle","cut-rectangle","bottomroundrectangle","bottom-round-rectangle","barrel","ellipse","triangle","round-triangle","square","pentagon","round-pentagon","hexagon","round-hexagon","concavehexagon","concave-hexagon","heptagon","round-heptagon","octagon","round-octagon","tag","round-tag","star","diamond","round-diamond","vee","rhomboid","right-rhomboid","polygon"]},overlayShape:{enums:["roundrectangle","round-rectangle","ellipse"]},cornerRadius:{number:!0,min:0,units:"px|em",implicitUnits:"px",enums:["auto"]},compoundIncludeLabels:{enums:["include","exclude"]},arrowShape:{enums:["tee","triangle","triangle-tee","circle-triangle","triangle-cross","triangle-backcurve","vee","square","circle","diamond","chevron","none"]},arrowFill:{enums:["filled","hollow"]},arrowWidth:{number:!0,units:"%|px|em",implicitUnits:"px",enums:["match-line"]},display:{enums:["element","none"]},visibility:{enums:["hidden","visible"]},zCompoundDepth:{enums:["bottom","orphan","auto","top"]},zIndexCompare:{enums:["auto","manual"]},valign:{enums:["top","center","bottom"]},halign:{enums:["left","center","right"]},justification:{enums:["left","center","right","auto"]},text:{string:!0},data:{mapping:!0,regex:i("data")},layoutData:{mapping:!0,regex:i("layoutData")},scratch:{mapping:!0,regex:i("scratch")},mapData:{mapping:!0,regex:o("mapData")},mapLayoutData:{mapping:!0,regex:o("mapLayoutData")},mapScratch:{mapping:!0,regex:o("mapScratch")},fn:{mapping:!0,fn:!0},url:{regexes:s,singleRegexMatchValue:!0},urls:{regexes:s,singleRegexMatchValue:!0,multiple:!0},propList:{propList:!0},angle:{number:!0,units:"deg|rad",implicitUnits:"rad"},textRotation:{number:!0,units:"deg|rad",implicitUnits:"rad",enums:["none","autorotate"]},polygonPointList:{number:!0,multiple:!0,evenMultiple:!0,min:-1,max:1,unitless:!0},edgeDistances:{enums:["intersection","node-position","endpoints"]},edgeEndpoint:{number:!0,multiple:!0,units:"%|px|em|deg|rad",implicitUnits:"px",enums:["inside-to-node","outside-to-node","outside-to-node-or-label","outside-to-line","outside-to-line-or-label"],singleEnum:!0,validate:function($,q){switch($.length){case 2:return q[0]!=="deg"&&q[0]!=="rad"&&q[1]!=="deg"&&q[1]!=="rad";case 1:return ye($[0])||q[0]==="deg"||q[0]==="rad";default:return!1}}},easing:{regexes:["^(spring)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$","^(cubic-bezier)\\s*\\(\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*,\\s*("+e+")\\s*\\)$"],enums:["linear","ease","ease-in","ease-out","ease-in-out","ease-in-sine","ease-out-sine","ease-in-out-sine","ease-in-quad","ease-out-quad","ease-in-out-quad","ease-in-cubic","ease-out-cubic","ease-in-out-cubic","ease-in-quart","ease-out-quart","ease-in-out-quart","ease-in-quint","ease-out-quint","ease-in-out-quint","ease-in-expo","ease-out-expo","ease-in-out-expo","ease-in-circ","ease-out-circ","ease-in-out-circ"]},gradientDirection:{enums:["to-bottom","to-top","to-left","to-right","to-bottom-right","to-bottom-left","to-top-right","to-top-left","to-right-bottom","to-left-bottom","to-right-top","to-left-top"]},boundsExpansion:{number:!0,multiple:!0,min:0,validate:function($){var q=$.length;return q===1||q===2||q===4}}};var u={zeroNonZero:function($,q){return($==null||q==null)&&$!==q||$==0&&q!=0?!0:$!=0&&q==0},any:function($,q){return $!=q},emptyNonEmpty:function($,q){var U=Aa($),Y=Aa(q);return U&&!Y||!U&&Y}},l=$t.types,f=[{name:"label",type:l.text,triggersBounds:u.any,triggersZOrder:u.emptyNonEmpty},{name:"text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any}],c=[{name:"source-label",type:l.text,triggersBounds:u.any},{name:"source-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"source-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"source-text-offset",type:l.size,triggersBounds:u.any}],d=[{name:"target-label",type:l.text,triggersBounds:u.any},{name:"target-text-rotation",type:l.textRotation,triggersBounds:u.any},{name:"target-text-margin-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-margin-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"target-text-offset",type:l.size,triggersBounds:u.any}],h=[{name:"font-family",type:l.fontFamily,triggersBounds:u.any},{name:"font-style",type:l.fontStyle,triggersBounds:u.any},{name:"font-weight",type:l.fontWeight,triggersBounds:u.any},{name:"font-size",type:l.size,triggersBounds:u.any},{name:"text-transform",type:l.textTransform,triggersBounds:u.any},{name:"text-wrap",type:l.textWrap,triggersBounds:u.any},{name:"text-overflow-wrap",type:l.textOverflowWrap,triggersBounds:u.any},{name:"text-max-width",type:l.size,triggersBounds:u.any},{name:"text-outline-width",type:l.size,triggersBounds:u.any},{name:"line-height",type:l.positiveNumber,triggersBounds:u.any}],v=[{name:"text-valign",type:l.valign,triggersBounds:u.any},{name:"text-halign",type:l.halign,triggersBounds:u.any},{name:"color",type:l.color},{name:"text-outline-color",type:l.color},{name:"text-outline-opacity",type:l.zeroOneNumber},{name:"text-background-color",type:l.color},{name:"text-background-opacity",type:l.zeroOneNumber},{name:"text-background-padding",type:l.size,triggersBounds:u.any},{name:"text-border-opacity",type:l.zeroOneNumber},{name:"text-border-color",type:l.color},{name:"text-border-width",type:l.size,triggersBounds:u.any},{name:"text-border-style",type:l.borderStyle,triggersBounds:u.any},{name:"text-background-shape",type:l.textBackgroundShape,triggersBounds:u.any},{name:"text-justification",type:l.justification}],p=[{name:"events",type:l.bool,triggersZOrder:u.any},{name:"text-events",type:l.bool,triggersZOrder:u.any}],g=[{name:"display",type:l.display,triggersZOrder:u.any,triggersBounds:u.any,triggersBoundsOfConnectedEdges:!0},{name:"visibility",type:l.visibility,triggersZOrder:u.any},{name:"opacity",type:l.zeroOneNumber,triggersZOrder:u.zeroNonZero},{name:"text-opacity",type:l.zeroOneNumber},{name:"min-zoomed-font-size",type:l.size},{name:"z-compound-depth",type:l.zCompoundDepth,triggersZOrder:u.any},{name:"z-index-compare",type:l.zIndexCompare,triggersZOrder:u.any},{name:"z-index",type:l.number,triggersZOrder:u.any}],m=[{name:"overlay-padding",type:l.size,triggersBounds:u.any},{name:"overlay-color",type:l.color},{name:"overlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"overlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"overlay-corner-radius",type:l.cornerRadius}],y=[{name:"underlay-padding",type:l.size,triggersBounds:u.any},{name:"underlay-color",type:l.color},{name:"underlay-opacity",type:l.zeroOneNumber,triggersBounds:u.zeroNonZero},{name:"underlay-shape",type:l.overlayShape,triggersBounds:u.any},{name:"underlay-corner-radius",type:l.cornerRadius}],b=[{name:"transition-property",type:l.propList},{name:"transition-duration",type:l.time},{name:"transition-delay",type:l.time},{name:"transition-timing-function",type:l.easing}],w=function($,q){return q.value==="label"?-$.poolIndex():q.pfValue},E=[{name:"height",type:l.nodeSize,triggersBounds:u.any,hashOverride:w},{name:"width",type:l.nodeSize,triggersBounds:u.any,hashOverride:w},{name:"shape",type:l.nodeShape,triggersBounds:u.any},{name:"shape-polygon-points",type:l.polygonPointList,triggersBounds:u.any},{name:"corner-radius",type:l.cornerRadius},{name:"background-color",type:l.color},{name:"background-fill",type:l.fill},{name:"background-opacity",type:l.zeroOneNumber},{name:"background-blacken",type:l.nOneOneNumber},{name:"background-gradient-stop-colors",type:l.colors},{name:"background-gradient-stop-positions",type:l.percentages},{name:"background-gradient-direction",type:l.gradientDirection},{name:"padding",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"padding-relative-to",type:l.paddingRelativeTo,triggersBounds:u.any},{name:"bounds-expansion",type:l.boundsExpansion,triggersBounds:u.any}],S=[{name:"border-color",type:l.color},{name:"border-opacity",type:l.zeroOneNumber},{name:"border-width",type:l.size,triggersBounds:u.any},{name:"border-style",type:l.borderStyle},{name:"border-cap",type:l.lineCap},{name:"border-join",type:l.lineJoin},{name:"border-dash-pattern",type:l.numbers},{name:"border-dash-offset",type:l.number},{name:"border-position",type:l.linePosition}],x=[{name:"outline-color",type:l.color},{name:"outline-opacity",type:l.zeroOneNumber},{name:"outline-width",type:l.size,triggersBounds:u.any},{name:"outline-style",type:l.borderStyle},{name:"outline-offset",type:l.size,triggersBounds:u.any}],M=[{name:"background-image",type:l.urls},{name:"background-image-crossorigin",type:l.bgCrossOrigin},{name:"background-image-opacity",type:l.zeroOneNumbers},{name:"background-image-containment",type:l.bgContainment},{name:"background-image-smoothing",type:l.bools},{name:"background-position-x",type:l.bgPos},{name:"background-position-y",type:l.bgPos},{name:"background-width-relative-to",type:l.bgRelativeTo},{name:"background-height-relative-to",type:l.bgRelativeTo},{name:"background-repeat",type:l.bgRepeat},{name:"background-fit",type:l.bgFit},{name:"background-clip",type:l.bgClip},{name:"background-width",type:l.bgWH},{name:"background-height",type:l.bgWH},{name:"background-offset-x",type:l.bgPos},{name:"background-offset-y",type:l.bgPos}],T=[{name:"position",type:l.position,triggersBounds:u.any},{name:"compound-sizing-wrt-labels",type:l.compoundIncludeLabels,triggersBounds:u.any},{name:"min-width",type:l.size,triggersBounds:u.any},{name:"min-width-bias-left",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-width-bias-right",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height",type:l.size,triggersBounds:u.any},{name:"min-height-bias-top",type:l.sizeMaybePercent,triggersBounds:u.any},{name:"min-height-bias-bottom",type:l.sizeMaybePercent,triggersBounds:u.any}],C=[{name:"line-style",type:l.lineStyle},{name:"line-color",type:l.color},{name:"line-fill",type:l.fill},{name:"line-cap",type:l.lineCap},{name:"line-opacity",type:l.zeroOneNumber},{name:"line-dash-pattern",type:l.numbers},{name:"line-dash-offset",type:l.number},{name:"line-outline-width",type:l.size},{name:"line-outline-color",type:l.color},{name:"line-gradient-stop-colors",type:l.colors},{name:"line-gradient-stop-positions",type:l.percentages},{name:"curve-style",type:l.curveStyle,triggersBounds:u.any,triggersBoundsOfParallelBeziers:!0},{name:"haystack-radius",type:l.zeroOneNumber,triggersBounds:u.any},{name:"source-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"target-endpoint",type:l.edgeEndpoint,triggersBounds:u.any},{name:"control-point-step-size",type:l.size,triggersBounds:u.any},{name:"control-point-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"control-point-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-distances",type:l.bidirectionalSizes,triggersBounds:u.any},{name:"segment-weights",type:l.numbers,triggersBounds:u.any},{name:"segment-radii",type:l.numbers,triggersBounds:u.any},{name:"radius-type",type:l.radiusType,triggersBounds:u.any},{name:"taxi-turn",type:l.bidirectionalSizeMaybePercent,triggersBounds:u.any},{name:"taxi-turn-min-distance",type:l.size,triggersBounds:u.any},{name:"taxi-direction",type:l.axisDirection,triggersBounds:u.any},{name:"taxi-radius",type:l.number,triggersBounds:u.any},{name:"edge-distances",type:l.edgeDistances,triggersBounds:u.any},{name:"arrow-scale",type:l.positiveNumber,triggersBounds:u.any},{name:"loop-direction",type:l.angle,triggersBounds:u.any},{name:"loop-sweep",type:l.angle,triggersBounds:u.any},{name:"source-distance-from-node",type:l.size,triggersBounds:u.any},{name:"target-distance-from-node",type:l.size,triggersBounds:u.any}],k=[{name:"ghost",type:l.bool,triggersBounds:u.any},{name:"ghost-offset-x",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-offset-y",type:l.bidirectionalSize,triggersBounds:u.any},{name:"ghost-opacity",type:l.zeroOneNumber}],_=[{name:"selection-box-color",type:l.color},{name:"selection-box-opacity",type:l.zeroOneNumber},{name:"selection-box-border-color",type:l.color},{name:"selection-box-border-width",type:l.size},{name:"active-bg-color",type:l.color},{name:"active-bg-opacity",type:l.zeroOneNumber},{name:"active-bg-size",type:l.size},{name:"outside-texture-bg-color",type:l.color},{name:"outside-texture-bg-opacity",type:l.zeroOneNumber}],A=[];$t.pieBackgroundN=16,A.push({name:"pie-size",type:l.sizeMaybePercent});for(var D=1;D<=$t.pieBackgroundN;D++)A.push({name:"pie-"+D+"-background-color",type:l.color}),A.push({name:"pie-"+D+"-background-size",type:l.percent}),A.push({name:"pie-"+D+"-background-opacity",type:l.zeroOneNumber});var P=[],R=$t.arrowPrefixes=["source","mid-source","target","mid-target"];[{name:"arrow-shape",type:l.arrowShape,triggersBounds:u.any},{name:"arrow-color",type:l.color},{name:"arrow-fill",type:l.arrowFill},{name:"arrow-width",type:l.arrowWidth}].forEach(function(W){R.forEach(function($){var q=$+"-"+W.name,U=W.type,Y=W.triggersBounds;P.push({name:q,type:U,triggersBounds:Y})})},{});var L=$t.properties=[].concat(p,b,g,m,y,k,v,h,f,c,d,E,S,x,M,A,T,C,P,_),N=$t.propertyGroups={behavior:p,transition:b,visibility:g,overlay:m,underlay:y,ghost:k,commonLabel:v,labelDimensions:h,mainLabel:f,sourceLabel:c,targetLabel:d,nodeBody:E,nodeBorder:S,nodeOutline:x,backgroundImage:M,pie:A,compound:T,edgeLine:C,edgeArrow:P,core:_},z=$t.propertyGroupNames={},F=$t.propertyGroupKeys=Object.keys(N);F.forEach(function(W){z[W]=N[W].map(function($){return $.name}),N[W].forEach(function($){return $.groupKey=W})});var I=$t.aliases=[{name:"content",pointsTo:"label"},{name:"control-point-distance",pointsTo:"control-point-distances"},{name:"control-point-weight",pointsTo:"control-point-weights"},{name:"segment-distance",pointsTo:"segment-distances"},{name:"segment-weight",pointsTo:"segment-weights"},{name:"segment-radius",pointsTo:"segment-radii"},{name:"edge-text-rotation",pointsTo:"text-rotation"},{name:"padding-left",pointsTo:"padding"},{name:"padding-right",pointsTo:"padding"},{name:"padding-top",pointsTo:"padding"},{name:"padding-bottom",pointsTo:"padding"}];$t.propertyNames=L.map(function(W){return W.name});for(var B=0;B<L.length;B++){var V=L[B];L[V.name]=V}for(var K=0;K<I.length;K++){var j=I[K],Q=L[j.pointsTo],X={name:j.name,alias:!0,pointsTo:Q};L.push(X),L[j.name]=X}})();$t.getDefaultProperty=function(e){return this.getDefaultProperties()[e]};$t.getDefaultProperties=function(){var e=this._private;if(e.defaultProperties!=null)return e.defaultProperties;for(var t=we({"selection-box-color":"#ddd","selection-box-opacity":.65,"selection-box-border-color":"#aaa","selection-box-border-width":1,"active-bg-color":"black","active-bg-opacity":.15,"active-bg-size":30,"outside-texture-bg-color":"#000","outside-texture-bg-opacity":.125,events:"yes","text-events":"no","text-valign":"top","text-halign":"center","text-justification":"auto","line-height":1,color:"#000","text-outline-color":"#000","text-outline-width":0,"text-outline-opacity":1,"text-opacity":1,"text-decoration":"none","text-transform":"none","text-wrap":"none","text-overflow-wrap":"whitespace","text-max-width":9999,"text-background-color":"#000","text-background-opacity":0,"text-background-shape":"rectangle","text-background-padding":0,"text-border-opacity":0,"text-border-width":0,"text-border-style":"solid","text-border-color":"#000","font-family":"Helvetica Neue, Helvetica, sans-serif","font-style":"normal","font-weight":"normal","font-size":16,"min-zoomed-font-size":0,"text-rotation":"none","source-text-rotation":"none","target-text-rotation":"none",visibility:"visible",display:"element",opacity:1,"z-compound-depth":"auto","z-index-compare":"auto","z-index":0,label:"","text-margin-x":0,"text-margin-y":0,"source-label":"","source-text-offset":0,"source-text-margin-x":0,"source-text-margin-y":0,"target-label":"","target-text-offset":0,"target-text-margin-x":0,"target-text-margin-y":0,"overlay-opacity":0,"overlay-color":"#000","overlay-padding":10,"overlay-shape":"round-rectangle","overlay-corner-radius":"auto","underlay-opacity":0,"underlay-color":"#000","underlay-padding":10,"underlay-shape":"round-rectangle","underlay-corner-radius":"auto","transition-property":"none","transition-duration":0,"transition-delay":0,"transition-timing-function":"linear","background-blacken":0,"background-color":"#999","background-fill":"solid","background-opacity":1,"background-image":"none","background-image-crossorigin":"anonymous","background-image-opacity":1,"background-image-containment":"inside","background-image-smoothing":"yes","background-position-x":"50%","background-position-y":"50%","background-offset-x":0,"background-offset-y":0,"background-width-relative-to":"include-padding","background-height-relative-to":"include-padding","background-repeat":"no-repeat","background-fit":"none","background-clip":"node","background-width":"auto","background-height":"auto","border-color":"#000","border-opacity":1,"border-width":0,"border-style":"solid","border-dash-pattern":[4,2],"border-dash-offset":0,"border-cap":"butt","border-join":"miter","border-position":"center","outline-color":"#999","outline-opacity":1,"outline-width":0,"outline-offset":0,"outline-style":"solid",height:30,width:30,shape:"ellipse","shape-polygon-points":"-1, -1,   1, -1,   1, 1,   -1, 1","corner-radius":"auto","bounds-expansion":0,"background-gradient-direction":"to-bottom","background-gradient-stop-colors":"#999","background-gradient-stop-positions":"0%",ghost:"no","ghost-offset-y":0,"ghost-offset-x":0,"ghost-opacity":0,padding:0,"padding-relative-to":"width",position:"origin","compound-sizing-wrt-labels":"include","min-width":0,"min-width-bias-left":0,"min-width-bias-right":0,"min-height":0,"min-height-bias-top":0,"min-height-bias-bottom":0},{"pie-size":"100%"},[{name:"pie-{{i}}-background-color",value:"black"},{name:"pie-{{i}}-background-size",value:"0%"},{name:"pie-{{i}}-background-opacity",value:1}].reduce(function(u,l){for(var f=1;f<=$t.pieBackgroundN;f++){var c=l.name.replace("{{i}}",f),d=l.value;u[c]=d}return u},{}),{"line-style":"solid","line-color":"#999","line-fill":"solid","line-cap":"butt","line-opacity":1,"line-outline-width":0,"line-outline-color":"#000","line-gradient-stop-colors":"#999","line-gradient-stop-positions":"0%","control-point-step-size":40,"control-point-weights":.5,"segment-weights":.5,"segment-distances":20,"segment-radii":15,"radius-type":"arc-radius","taxi-turn":"50%","taxi-radius":15,"taxi-turn-min-distance":10,"taxi-direction":"auto","edge-distances":"intersection","curve-style":"haystack","haystack-radius":0,"arrow-scale":1,"loop-direction":"-45deg","loop-sweep":"-90deg","source-distance-from-node":0,"target-distance-from-node":0,"source-endpoint":"outside-to-node","target-endpoint":"outside-to-node","line-dash-pattern":[6,3],"line-dash-offset":0},[{name:"arrow-shape",value:"none"},{name:"arrow-color",value:"#999"},{name:"arrow-fill",value:"filled"},{name:"arrow-width",value:1}].reduce(function(u,l){return $t.arrowPrefixes.forEach(function(f){var c=f+"-"+l.name,d=l.value;u[c]=d}),u},{})),r={},n=0;n<this.properties.length;n++){var a=this.properties[n];if(!a.pointsTo){var i=a.name,o=t[i],s=this.parse(i,o);r[i]=s}}return e.defaultProperties=r,e.defaultProperties};$t.addDefaultStylesheet=function(){this.selector(":parent").css({shape:"rectangle",padding:10,"background-color":"#eee","border-color":"#ccc","border-width":1}).selector("edge").css({width:3}).selector(":loop").css({"curve-style":"bezier"}).selector("edge:compound").css({"curve-style":"bezier","source-endpoint":"outside-to-line","target-endpoint":"outside-to-line"}).selector(":selected").css({"background-color":"#0169D9","line-color":"#0169D9","source-arrow-color":"#0169D9","target-arrow-color":"#0169D9","mid-source-arrow-color":"#0169D9","mid-target-arrow-color":"#0169D9"}).selector(":parent:selected").css({"background-color":"#CCE1F9","border-color":"#aec8e5"}).selector(":active").css({"overlay-color":"black","overlay-padding":10,"overlay-opacity":.25}),this.defaultLength=this.length};var Ic={};Ic.parse=function(e,t,r,n){var a=this;if(ft(t))return a.parseImplWarn(e,t,r,n);var i=n==="mapping"||n===!0||n===!1||n==null?"dontcare":n,o=r?"t":"f",s=""+t,u=w5(e,s,o,i),l=a.propCache=a.propCache||[],f;return(f=l[u])||(f=l[u]=a.parseImplWarn(e,t,r,n)),(r||n==="mapping")&&(f=vn(f),f&&(f.value=vn(f.value))),f};Ic.parseImplWarn=function(e,t,r,n){var a=this.parseImpl(e,t,r,n);return!a&&t!=null&&Ke("The style property `".concat(e,": ").concat(t,"` is invalid")),a&&(a.name==="width"||a.name==="height")&&t==="label"&&Ke("The style value of `label` is deprecated for `"+a.name+"`"),a};Ic.parseImpl=function(e,t,r,n){var a=this;e=Vg(e);var i=a.properties[e],o=t,s=a.types;if(!i||t===void 0)return null;i.alias&&(i=i.pointsTo,e=i.name);var u=ye(t);u&&(t=t.trim());var l=i.type;if(!l)return null;if(r&&(t===""||t===null))return{name:e,value:t,bypass:!0,deleteBypass:!0};if(ft(t))return{name:e,value:t,strValue:"fn",mapped:s.fn,bypass:r};var f,c;if(!(!u||n||t.length<7||t[1]!=="a")){if(t.length>=7&&t[0]==="d"&&(f=new RegExp(s.data.regex).exec(t))){if(r)return!1;var d=s.data;return{name:e,value:f,strValue:""+t,mapped:d,field:f[1],bypass:r}}else if(t.length>=10&&t[0]==="m"&&(c=new RegExp(s.mapData.regex).exec(t))){if(r||l.multiple)return!1;var h=s.mapData;if(!(l.color||l.number))return!1;var v=this.parse(e,c[4]);if(!v||v.mapped)return!1;var p=this.parse(e,c[5]);if(!p||p.mapped)return!1;if(v.pfValue===p.pfValue||v.strValue===p.strValue)return Ke("`"+e+": "+t+"` is not a valid mapper because the output range is zero; converting to `"+e+": "+v.strValue+"`"),this.parse(e,v.strValue);if(l.color){var g=v.value,m=p.value,y=g[0]===m[0]&&g[1]===m[1]&&g[2]===m[2]&&(g[3]===m[3]||(g[3]==null||g[3]===1)&&(m[3]==null||m[3]===1));if(y)return!1}return{name:e,value:c,strValue:""+t,mapped:h,field:c[1],fieldMin:parseFloat(c[2]),fieldMax:parseFloat(c[3]),valueMin:v.value,valueMax:p.value,bypass:r}}}if(l.multiple&&n!=="multiple"){var b;if(u?b=t.split(/\s+/):Je(t)?b=t:b=[t],l.evenMultiple&&b.length%2!==0)return null;for(var w=[],E=[],S=[],x="",M=!1,T=0;T<b.length;T++){var C=a.parse(e,b[T],r,"multiple");M=M||ye(C.value),w.push(C.value),S.push(C.pfValue!=null?C.pfValue:C.value),E.push(C.units),x+=(T>0?" ":"")+C.strValue}return l.validate&&!l.validate(w,E)?null:l.singleEnum&&M?w.length===1&&ye(w[0])?{name:e,value:w[0],strValue:w[0],bypass:r}:null:{name:e,value:w,pfValue:S,strValue:x,bypass:r,units:E}}var k=function(){for(var $=0;$<l.enums.length;$++){var q=l.enums[$];if(q===t)return{name:e,value:t,strValue:""+t,bypass:r}}return null};if(l.number){var _,A="px";if(l.units&&(_=l.units),l.implicitUnits&&(A=l.implicitUnits),!l.unitless)if(u){var D="px|em"+(l.allowPercent?"|\\%":"");_&&(D=_);var P=t.match("^("+wt+")("+D+")?$");P&&(t=P[1],_=P[2]||A)}else(!_||l.implicitUnits)&&(_=A);if(t=parseFloat(t),isNaN(t)&&l.enums===void 0)return null;if(isNaN(t)&&l.enums!==void 0)return t=o,k();if(l.integer&&!bA(t)||l.min!==void 0&&(t<l.min||l.strictMin&&t===l.min)||l.max!==void 0&&(t>l.max||l.strictMax&&t===l.max))return null;var R={name:e,value:t,strValue:""+t+(_||""),units:_,bypass:r};return l.unitless||_!=="px"&&_!=="em"?R.pfValue=t:R.pfValue=_==="px"||!_?t:this.getEmSizeInPixels()*t,(_==="ms"||_==="s")&&(R.pfValue=_==="ms"?t:1e3*t),(_==="deg"||_==="rad")&&(R.pfValue=_==="rad"?t:JO(t)),_==="%"&&(R.pfValue=t/100),R}else if(l.propList){var L=[],N=""+t;if(N!=="none"){for(var z=N.split(/\s*,\s*|\s+/),F=0;F<z.length;F++){var I=z[F].trim();a.properties[I]?L.push(I):Ke("`"+I+"` is not a valid property name")}if(L.length===0)return null}return{name:e,value:L,strValue:L.length===0?"none":L.join(" "),bypass:r}}else if(l.color){var B=NA(t);return B?{name:e,value:B,pfValue:B,strValue:"rgb("+B[0]+","+B[1]+","+B[2]+")",bypass:r}:null}else if(l.regex||l.regexes){if(l.enums){var V=k();if(V)return V}for(var K=l.regexes?l.regexes:[l.regex],j=0;j<K.length;j++){var Q=new RegExp(K[j]),X=Q.exec(t);if(X)return{name:e,value:l.singleRegexMatchValue?X[1]:X,strValue:""+t,bypass:r}}return null}else return l.string?{name:e,value:""+t,strValue:""+t,bypass:r}:l.enums?k():null};var Wt=function e(t){if(!(this instanceof e))return new e(t);if(!qg(t)){vt("A style must have a core reference");return}this._private={cy:t,coreStyle:{}},this.length=0,this.resetToDefault()},Gt=Wt.prototype;Gt.instanceString=function(){return"style"};Gt.clear=function(){for(var e=this._private,t=e.cy,r=t.elements(),n=0;n<this.length;n++)this[n]=void 0;return this.length=0,e.contextStyles={},e.propDiffs={},this.cleanElements(r,!0),r.forEach(function(a){var i=a[0]._private;i.styleDirty=!0,i.appliedInitStyle=!1}),this};Gt.resetToDefault=function(){return this.clear(),this.addDefaultStylesheet(),this};Gt.core=function(e){return this._private.coreStyle[e]||this.getDefaultProperty(e)};Gt.selector=function(e){var t=e==="core"?null:new Ra(e),r=this.length++;return this[r]={selector:t,properties:[],mappedProperties:[],index:r},this};Gt.css=function(){var e=this,t=arguments;if(t.length===1)for(var r=t[0],n=0;n<e.properties.length;n++){var a=e.properties[n],i=r[a.name];i===void 0&&(i=r[Ec(a.name)]),i!==void 0&&this.cssRule(a.name,i)}else t.length===2&&this.cssRule(t[0],t[1]);return this};Gt.style=Gt.css;Gt.cssRule=function(e,t){var r=this.parse(e,t);if(r){var n=this.length-1;this[n].properties.push(r),this[n].properties[r.name]=r,r.name.match(/pie-(\d+)-background-size/)&&r.value&&(this._private.hasPie=!0),r.mapped&&this[n].mappedProperties.push(r);var a=!this[n].selector;a&&(this._private.coreStyle[r.name]=r)}return this};Gt.append=function(e){return f5(e)?e.appendToStyle(this):Je(e)?this.appendFromJson(e):ye(e)&&this.appendFromString(e),this};Wt.fromJson=function(e,t){var r=new Wt(e);return r.fromJson(t),r};Wt.fromString=function(e,t){return new Wt(e).fromString(t)};[Xt,$u,np,wn,Nc,ap,$t,Ic].forEach(function(e){we(Gt,e)});Wt.types=Gt.types;Wt.properties=Gt.properties;Wt.propertyGroups=Gt.propertyGroups;Wt.propertyGroupNames=Gt.propertyGroupNames;Wt.propertyGroupKeys=Gt.propertyGroupKeys;var bI={style:function(t){if(t){var r=this.setStyle(t);r.update()}return this._private.style},setStyle:function(t){var r=this._private;return f5(t)?r.style=t.generateStyle(this):Je(t)?r.style=Wt.fromJson(this,t):ye(t)?r.style=Wt.fromString(this,t):r.style=Wt(this),r.style},updateStyle:function(){this.mutableElements().updateStyle()}},wI="single",xi={autolock:function(t){if(t!==void 0)this._private.autolock=!!t;else return this._private.autolock;return this},autoungrabify:function(t){if(t!==void 0)this._private.autoungrabify=!!t;else return this._private.autoungrabify;return this},autounselectify:function(t){if(t!==void 0)this._private.autounselectify=!!t;else return this._private.autounselectify;return this},selectionType:function(t){var r=this._private;if(r.selectionType==null&&(r.selectionType=wI),t!==void 0)(t==="additive"||t==="single")&&(r.selectionType=t);else return r.selectionType;return this},panningEnabled:function(t){if(t!==void 0)this._private.panningEnabled=!!t;else return this._private.panningEnabled;return this},userPanningEnabled:function(t){if(t!==void 0)this._private.userPanningEnabled=!!t;else return this._private.userPanningEnabled;return this},zoomingEnabled:function(t){if(t!==void 0)this._private.zoomingEnabled=!!t;else return this._private.zoomingEnabled;return this},userZoomingEnabled:function(t){if(t!==void 0)this._private.userZoomingEnabled=!!t;else return this._private.userZoomingEnabled;return this},boxSelectionEnabled:function(t){if(t!==void 0)this._private.boxSelectionEnabled=!!t;else return this._private.boxSelectionEnabled;return this},pan:function(){var t=arguments,r=this._private.pan,n,a,i,o,s;switch(t.length){case 0:return r;case 1:if(ye(t[0]))return n=t[0],r[n];if(Fe(t[0])){if(!this._private.panningEnabled)return this;i=t[0],o=i.x,s=i.y,fe(o)&&(r.x=o),fe(s)&&(r.y=s),this.emit("pan viewport")}break;case 2:if(!this._private.panningEnabled)return this;n=t[0],a=t[1],(n==="x"||n==="y")&&fe(a)&&(r[n]=a),this.emit("pan viewport");break}return this.notify("viewport"),this},panBy:function(t,r){var n=arguments,a=this._private.pan,i,o,s,u,l;if(!this._private.panningEnabled)return this;switch(n.length){case 1:Fe(t)&&(s=n[0],u=s.x,l=s.y,fe(u)&&(a.x+=u),fe(l)&&(a.y+=l),this.emit("pan viewport"));break;case 2:i=t,o=r,(i==="x"||i==="y")&&fe(o)&&(a[i]+=o),this.emit("pan viewport");break}return this.notify("viewport"),this},fit:function(t,r){var n=this.getFitViewport(t,r);if(n){var a=this._private;a.zoom=n.zoom,a.pan=n.pan,this.emit("pan zoom viewport"),this.notify("viewport")}return this},getFitViewport:function(t,r){if(fe(t)&&r===void 0&&(r=t,t=void 0),!(!this._private.panningEnabled||!this._private.zoomingEnabled)){var n;if(ye(t)){var a=t;t=this.$(a)}else if(SA(t)){var i=t;n={x1:i.x1,y1:i.y1,x2:i.x2,y2:i.y2},n.w=n.x2-n.x1,n.h=n.y2-n.y1}else gr(t)||(t=this.mutableElements());if(!(gr(t)&&t.empty())){n=n||t.boundingBox();var o=this.width(),s=this.height(),u;if(r=fe(r)?r:0,!isNaN(o)&&!isNaN(s)&&o>0&&s>0&&!isNaN(n.w)&&!isNaN(n.h)&&n.w>0&&n.h>0){u=Math.min((o-2*r)/n.w,(s-2*r)/n.h),u=u>this._private.maxZoom?this._private.maxZoom:u,u=u<this._private.minZoom?this._private.minZoom:u;var l={x:(o-u*(n.x1+n.x2))/2,y:(s-u*(n.y1+n.y2))/2};return{zoom:u,pan:l}}}}},zoomRange:function(t,r){var n=this._private;if(r==null){var a=t;t=a.min,r=a.max}return fe(t)&&fe(r)&&t<=r?(n.minZoom=t,n.maxZoom=r):fe(t)&&r===void 0&&t<=n.maxZoom?n.minZoom=t:fe(r)&&t===void 0&&r>=n.minZoom&&(n.maxZoom=r),this},minZoom:function(t){return t===void 0?this._private.minZoom:this.zoomRange({min:t})},maxZoom:function(t){return t===void 0?this._private.maxZoom:this.zoomRange({max:t})},getZoomedViewport:function(t){var r=this._private,n=r.pan,a=r.zoom,i,o,s=!1;if(r.zoomingEnabled||(s=!0),fe(t)?o=t:Fe(t)&&(o=t.level,t.position!=null?i=Cc(t.position,a,n):t.renderedPosition!=null&&(i=t.renderedPosition),i!=null&&!r.panningEnabled&&(s=!0)),o=o>r.maxZoom?r.maxZoom:o,o=o<r.minZoom?r.minZoom:o,s||!fe(o)||o===a||i!=null&&(!fe(i.x)||!fe(i.y)))return null;if(i!=null){var u=n,l=a,f=o,c={x:-f/l*(i.x-u.x)+i.x,y:-f/l*(i.y-u.y)+i.y};return{zoomed:!0,panned:!0,zoom:f,pan:c}}else return{zoomed:!0,panned:!1,zoom:o,pan:n}},zoom:function(t){if(t===void 0)return this._private.zoom;var r=this.getZoomedViewport(t),n=this._private;return r==null||!r.zoomed?this:(n.zoom=r.zoom,r.panned&&(n.pan.x=r.pan.x,n.pan.y=r.pan.y),this.emit("zoom"+(r.panned?" pan":"")+" viewport"),this.notify("viewport"),this)},viewport:function(t){var r=this._private,n=!0,a=!0,i=[],o=!1,s=!1;if(!t)return this;if(fe(t.zoom)||(n=!1),Fe(t.pan)||(a=!1),!n&&!a)return this;if(n){var u=t.zoom;u<r.minZoom||u>r.maxZoom||!r.zoomingEnabled?o=!0:(r.zoom=u,i.push("zoom"))}if(a&&(!o||!t.cancelOnFailedZoom)&&r.panningEnabled){var l=t.pan;fe(l.x)&&(r.pan.x=l.x,s=!1),fe(l.y)&&(r.pan.y=l.y,s=!1),s||i.push("pan")}return i.length>0&&(i.push("viewport"),this.emit(i.join(" ")),this.notify("viewport")),this},center:function(t){var r=this.getCenterPan(t);return r&&(this._private.pan=r,this.emit("pan viewport"),this.notify("viewport")),this},getCenterPan:function(t,r){if(this._private.panningEnabled){if(ye(t)){var n=t;t=this.mutableElements().filter(n)}else gr(t)||(t=this.mutableElements());if(t.length!==0){var a=t.boundingBox(),i=this.width(),o=this.height();r=r===void 0?this._private.zoom:r;var s={x:(i-r*(a.x1+a.x2))/2,y:(o-r*(a.y1+a.y2))/2};return s}}},reset:function(){return!this._private.panningEnabled||!this._private.zoomingEnabled?this:(this.viewport({pan:{x:0,y:0},zoom:1}),this)},invalidateSize:function(){this._private.sizeCache=null},size:function(){var t=this._private,r=t.container,n=this;return t.sizeCache=t.sizeCache||(r?function(){var a=n.window().getComputedStyle(r),i=function(s){return parseFloat(a.getPropertyValue(s))};return{width:r.clientWidth-i("padding-left")-i("padding-right"),height:r.clientHeight-i("padding-top")-i("padding-bottom")}}():{width:1,height:1})},width:function(){return this.size().width},height:function(){return this.size().height},extent:function(){var t=this._private.pan,r=this._private.zoom,n=this.renderedExtent(),a={x1:(n.x1-t.x)/r,x2:(n.x2-t.x)/r,y1:(n.y1-t.y)/r,y2:(n.y2-t.y)/r};return a.w=a.x2-a.x1,a.h=a.y2-a.y1,a},renderedExtent:function(){var t=this.width(),r=this.height();return{x1:0,y1:0,x2:t,y2:r,w:t,h:r}},multiClickDebounceTime:function(t){if(t)this._private.multiClickDebounceTime=t;else return this._private.multiClickDebounceTime;return this}};xi.centre=xi.center;xi.autolockNodes=xi.autolock;xi.autoungrabifyNodes=xi.autoungrabify;var nu={data:Xe.data({field:"data",bindingEvent:"data",allowBinding:!0,allowSetting:!0,settingEvent:"data",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeData:Xe.removeData({field:"data",event:"data",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0}),scratch:Xe.data({field:"scratch",bindingEvent:"scratch",allowBinding:!0,allowSetting:!0,settingEvent:"scratch",settingTriggersEvent:!0,triggerFnName:"trigger",allowGetting:!0,updateStyle:!0}),removeScratch:Xe.removeData({field:"scratch",event:"scratch",triggerFnName:"trigger",triggerEvent:!0,updateStyle:!0})};nu.attr=nu.data;nu.removeAttr=nu.removeData;var au=function(t){var r=this;t=we({},t);var n=t.container;n&&!Cf(n)&&Cf(n[0])&&(n=n[0]);var a=n?n._cyreg:null;a=a||{},a&&a.cy&&(a.cy.destroy(),a={});var i=a.readies=a.readies||[];n&&(n._cyreg=a),a.cy=r;var o=bt!==void 0&&n!==void 0&&!t.headless,s=t;s.layout=we({name:o?"grid":"null"},s.layout),s.renderer=we({name:o?"canvas":"null"},s.renderer);var u=function(v,p,g){return p!==void 0?p:g!==void 0?g:v},l=this._private={container:n,ready:!1,options:s,elements:new It(this),listeners:[],aniEles:new It(this),data:s.data||{},scratch:{},layout:null,renderer:null,destroyed:!1,notificationsEnabled:!0,minZoom:1e-50,maxZoom:1e50,zoomingEnabled:u(!0,s.zoomingEnabled),userZoomingEnabled:u(!0,s.userZoomingEnabled),panningEnabled:u(!0,s.panningEnabled),userPanningEnabled:u(!0,s.userPanningEnabled),boxSelectionEnabled:u(!0,s.boxSelectionEnabled),autolock:u(!1,s.autolock,s.autolockNodes),autoungrabify:u(!1,s.autoungrabify,s.autoungrabifyNodes),autounselectify:u(!1,s.autounselectify),styleEnabled:s.styleEnabled===void 0?o:s.styleEnabled,zoom:fe(s.zoom)?s.zoom:1,pan:{x:Fe(s.pan)&&fe(s.pan.x)?s.pan.x:0,y:Fe(s.pan)&&fe(s.pan.y)?s.pan.y:0},animation:{current:[],queue:[]},hasCompoundNodes:!1,multiClickDebounceTime:u(250,s.multiClickDebounceTime)};this.createEmitter(),this.selectionType(s.selectionType),this.zoomRange({min:s.minZoom,max:s.maxZoom});var f=function(v,p){var g=v.some(EA);if(g)return Io.all(v).then(p);p(v)};l.styleEnabled&&r.setStyle([]);var c=we({},s,s.renderer);r.initRenderer(c);var d=function(v,p,g){r.notifications(!1);var m=r.mutableElements();m.length>0&&m.remove(),v!=null&&(Fe(v)||Je(v))&&r.add(v),r.one("layoutready",function(b){r.notifications(!0),r.emit(b),r.one("load",p),r.emitAndNotify("load")}).one("layoutstop",function(){r.one("done",g),r.emit("done")});var y=we({},r._private.options.layout);y.eles=r.elements(),r.layout(y).run()};f([s.style,s.elements],function(h){var v=h[0],p=h[1];l.styleEnabled&&r.style().append(v),d(p,function(){r.startAnimationLoop(),l.ready=!0,ft(s.ready)&&r.on("ready",s.ready);for(var g=0;g<i.length;g++){var m=i[g];r.on("ready",m)}a&&(a.readies=[]),r.emit("ready")},s.done)})},Lf=au.prototype;we(Lf,{instanceString:function(){return"core"},isReady:function(){return this._private.ready},destroyed:function(){return this._private.destroyed},ready:function(t){return this.isReady()?this.emitter().emit("ready",[],t):this.on("ready",t),this},destroy:function(){var t=this;if(!t.destroyed())return t.stopAnimationLoop(),t.destroyRenderer(),this.emit("destroy"),t._private.destroyed=!0,t},hasElementWithId:function(t){return this._private.elements.hasElementWithId(t)},getElementById:function(t){return this._private.elements.getElementById(t)},hasCompoundNodes:function(){return this._private.hasCompoundNodes},headless:function(){return this._private.renderer.isHeadless()},styleEnabled:function(){return this._private.styleEnabled},addToPool:function(t){return this._private.elements.merge(t),this},removeFromPool:function(t){return this._private.elements.unmerge(t),this},container:function(){return this._private.container||null},window:function(){var t=this._private.container;if(t==null)return bt;var r=this._private.container.ownerDocument;return r===void 0||r==null?bt:r.defaultView||bt},mount:function(t){if(t!=null){var r=this,n=r._private,a=n.options;return!Cf(t)&&Cf(t[0])&&(t=t[0]),r.stopAnimationLoop(),r.destroyRenderer(),n.container=t,n.styleEnabled=!0,r.invalidateSize(),r.initRenderer(we({},a,a.renderer,{name:a.renderer.name==="null"?"canvas":a.renderer.name})),r.startAnimationLoop(),r.style(a.style),r.emit("mount"),r}},unmount:function(){var t=this;return t.stopAnimationLoop(),t.destroyRenderer(),t.initRenderer({name:"null"}),t.emit("unmount"),t},options:function(){return vn(this._private.options)},json:function(t){var r=this,n=r._private,a=r.mutableElements(),i=function(w){return r.getElementById(w.id())};if(Fe(t)){if(r.startBatch(),t.elements){var o={},s=function(w,E){for(var S=[],x=[],M=0;M<w.length;M++){var T=w[M];if(!T.data.id){Ke("cy.json() cannot handle elements without an ID attribute");continue}var C=""+T.data.id,k=r.getElementById(C);o[C]=!0,k.length!==0?x.push({ele:k,json:T}):(E&&(T.group=E),S.push(T))}r.add(S);for(var _=0;_<x.length;_++){var A=x[_],D=A.ele,P=A.json;D.json(P)}};if(Je(t.elements))s(t.elements);else for(var u=["nodes","edges"],l=0;l<u.length;l++){var f=u[l],c=t.elements[f];Je(c)&&s(c,f)}var d=r.collection();a.filter(function(b){return!o[b.id()]}).forEach(function(b){b.isParent()?d.merge(b):b.remove()}),d.forEach(function(b){return b.children().move({parent:null})}),d.forEach(function(b){return i(b).remove()})}t.style&&r.style(t.style),t.zoom!=null&&t.zoom!==n.zoom&&r.zoom(t.zoom),t.pan&&(t.pan.x!==n.pan.x||t.pan.y!==n.pan.y)&&r.pan(t.pan),t.data&&r.data(t.data);for(var h=["minZoom","maxZoom","zoomingEnabled","userZoomingEnabled","panningEnabled","userPanningEnabled","boxSelectionEnabled","autolock","autoungrabify","autounselectify","multiClickDebounceTime"],v=0;v<h.length;v++){var p=h[v];t[p]!=null&&r[p](t[p])}return r.endBatch(),this}else{var g=!!t,m={};g?m.elements=this.elements().map(function(b){return b.json()}):(m.elements={},a.forEach(function(b){var w=b.group();m.elements[w]||(m.elements[w]=[]),m.elements[w].push(b.json())})),this._private.styleEnabled&&(m.style=r.style().json()),m.data=vn(r.data());var y=n.options;return m.zoomingEnabled=n.zoomingEnabled,m.userZoomingEnabled=n.userZoomingEnabled,m.zoom=n.zoom,m.minZoom=n.minZoom,m.maxZoom=n.maxZoom,m.panningEnabled=n.panningEnabled,m.userPanningEnabled=n.userPanningEnabled,m.pan=vn(n.pan),m.boxSelectionEnabled=n.boxSelectionEnabled,m.renderer=vn(y.renderer),m.hideEdgesOnViewport=y.hideEdgesOnViewport,m.textureOnViewport=y.textureOnViewport,m.wheelSensitivity=y.wheelSensitivity,m.motionBlur=y.motionBlur,m.multiClickDebounceTime=y.multiClickDebounceTime,m}}});Lf.$id=Lf.getElementById;[lI,vI,cE,yv,Il,pI,bv,Bl,bI,xi,nu].forEach(function(e){we(Lf,e)});var xI={fit:!0,directed:!1,padding:30,circle:!1,grid:!1,spacingFactor:1.75,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,roots:void 0,depthSort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}},SI={maximal:!1,acyclic:!1},zi=function(t){return t.scratch("breadthfirst")},Yy=function(t,r){return t.scratch("breadthfirst",r)};function dE(e){this.options=we({},xI,SI,e)}dE.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=n.nodes().filter(function(J){return!J.isParent()}),i=n,o=t.directed,s=t.acyclic||t.maximal||t.maximalAdjustments>0,u=lr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),l;if(gr(t.roots))l=t.roots;else if(Je(t.roots)){for(var f=[],c=0;c<t.roots.length;c++){var d=t.roots[c],h=r.getElementById(d);f.push(h)}l=r.collection(f)}else if(ye(t.roots))l=r.$(t.roots);else if(o)l=a.roots();else{var v=n.components();l=r.collection();for(var p=function(re){var oe=v[re],ue=oe.maxDegree(!1),le=oe.filter(function(ge){return ge.degree(!1)===ue});l=l.add(le)},g=0;g<v.length;g++)p(g)}var m=[],y={},b=function(re,oe){m[oe]==null&&(m[oe]=[]);var ue=m[oe].length;m[oe].push(re),Yy(re,{index:ue,depth:oe})},w=function(re,oe){var ue=zi(re),le=ue.depth,ge=ue.index;m[le][ge]=null,b(re,oe)};i.bfs({roots:l,directed:t.directed,visit:function(re,oe,ue,le,ge){var He=re[0],Ne=He.id();b(He,ge),y[Ne]=!0}});for(var E=[],S=0;S<a.length;S++){var x=a[S];y[x.id()]||E.push(x)}var M=function(re){for(var oe=m[re],ue=0;ue<oe.length;ue++){var le=oe[ue];if(le==null){oe.splice(ue,1),ue--;continue}Yy(le,{depth:re,index:ue})}},T=function(){for(var re=0;re<m.length;re++)M(re)},C=function(re,oe){for(var ue=zi(re),le=re.incomers().filter(function(ze){return ze.isNode()&&n.has(ze)}),ge=-1,He=re.id(),Ne=0;Ne<le.length;Ne++){var ke=le[Ne],Ge=zi(ke);ge=Math.max(ge,Ge.depth)}if(ue.depth<=ge){if(!t.acyclic&&oe[He])return null;var Pe=ge+1;return w(re,Pe),oe[He]=Pe,!0}return!1};if(o&&s){var k=[],_={},A=function(re){return k.push(re)},D=function(){return k.shift()};for(a.forEach(function(J){return k.push(J)});k.length>0;){var P=D(),R=C(P,_);if(R)P.outgoers().filter(function(J){return J.isNode()&&n.has(J)}).forEach(A);else if(R===null){Ke("Detected double maximal shift for node `"+P.id()+"`.  Bailing maximal adjustment due to cycle.  Use `options.maximal: true` only on DAGs.");break}}}T();var L=0;if(t.avoidOverlap)for(var N=0;N<a.length;N++){var z=a[N],F=z.layoutDimensions(t),I=F.w,B=F.h;L=Math.max(L,I,B)}var V={},K=function(re){if(V[re.id()])return V[re.id()];for(var oe=zi(re).depth,ue=re.neighborhood(),le=0,ge=0,He=0;He<ue.length;He++){var Ne=ue[He];if(!(Ne.isEdge()||Ne.isParent()||!a.has(Ne))){var ke=zi(Ne);if(ke!=null){var Ge=ke.index,Pe=ke.depth;if(!(Ge==null||Pe==null)){var ze=m[Pe].length;Pe<oe&&(le+=Ge/ze,ge++)}}}}return ge=Math.max(1,ge),le=le/ge,ge===0&&(le=0),V[re.id()]=le,le},j=function(re,oe){var ue=K(re),le=K(oe),ge=ue-le;return ge===0?d5(re.id(),oe.id()):ge};t.depthSort!==void 0&&(j=t.depthSort);for(var Q=0;Q<m.length;Q++)m[Q].sort(j),M(Q);for(var X=[],W=0;W<E.length;W++)X.push(E[W]);m.unshift(X),T();for(var $=0,q=0;q<m.length;q++)$=Math.max(m[q].length,$);var U={x:u.x1+u.w/2,y:u.x1+u.h/2},Y=m.reduce(function(J,re){return Math.max(J,re.length)},0),ie=function(re){var oe=zi(re),ue=oe.depth,le=oe.index,ge=m[ue].length,He=Math.max(u.w/((t.grid?Y:ge)+1),L),Ne=Math.max(u.h/(m.length+1),L),ke=Math.min(u.w/2/m.length,u.h/2/m.length);if(ke=Math.max(ke,L),t.circle){var Pe=ke*ue+ke-(m.length>0&&m[0].length<=3?ke/2:0),ze=2*Math.PI/m[ue].length*le;return ue===0&&m[0].length===1&&(Pe=1),{x:U.x+Pe*Math.cos(ze),y:U.y+Pe*Math.sin(ze)}}else{var Ge={x:U.x+(le+1-(ge+1)/2)*He,y:(ue+1)*Ne};return Ge}};return n.nodes().layoutPositions(this,t,ie),this};var EI={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,radius:void 0,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function hE(e){this.options=we({},EI,e)}hE.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,i=n.nodes().not(":parent");t.sort&&(i=i.sort(t.sort));for(var o=lr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},u=t.sweep===void 0?2*Math.PI-2*Math.PI/i.length:t.sweep,l=u/Math.max(1,i.length-1),f,c=0,d=0;d<i.length;d++){var h=i[d],v=h.layoutDimensions(t),p=v.w,g=v.h;c=Math.max(c,p,g)}if(fe(t.radius)?f=t.radius:i.length<=1?f=0:f=Math.min(o.h,o.w)/2-c,i.length>1&&t.avoidOverlap){c*=1.75;var m=Math.cos(l)-Math.cos(0),y=Math.sin(l)-Math.sin(0),b=Math.sqrt(c*c/(m*m+y*y));f=Math.max(b,f)}var w=function(S,x){var M=t.startAngle+x*l*(a?1:-1),T=f*Math.cos(M),C=f*Math.sin(M),k={x:s.x+T,y:s.y+C};return k};return n.nodes().layoutPositions(this,t,w),this};var TI={fit:!0,padding:30,startAngle:3/2*Math.PI,sweep:void 0,clockwise:!0,equidistant:!1,minNodeSpacing:10,boundingBox:void 0,avoidOverlap:!0,nodeDimensionsIncludeLabels:!1,height:void 0,width:void 0,spacingFactor:void 0,concentric:function(t){return t.degree()},levelWidth:function(t){return t.maxDegree()/4},animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function vE(e){this.options=we({},TI,e)}vE.prototype.run=function(){for(var e=this.options,t=e,r=t.counterclockwise!==void 0?!t.counterclockwise:t.clockwise,n=e.cy,a=t.eles,i=a.nodes().not(":parent"),o=lr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:n.width(),h:n.height()}),s={x:o.x1+o.w/2,y:o.y1+o.h/2},u=[],l=0,f=0;f<i.length;f++){var c=i[f],d=void 0;d=t.concentric(c),u.push({value:d,node:c}),c._private.scratch.concentric=d}i.updateStyle();for(var h=0;h<i.length;h++){var v=i[h],p=v.layoutDimensions(t);l=Math.max(l,p.w,p.h)}u.sort(function(J,re){return re.value-J.value});for(var g=t.levelWidth(i),m=[[]],y=m[0],b=0;b<u.length;b++){var w=u[b];if(y.length>0){var E=Math.abs(y[0].value-w.value);E>=g&&(y=[],m.push(y))}y.push(w)}var S=l+t.minNodeSpacing;if(!t.avoidOverlap){var x=m.length>0&&m[0].length>1,M=Math.min(o.w,o.h)/2-S,T=M/(m.length+x?1:0);S=Math.min(S,T)}for(var C=0,k=0;k<m.length;k++){var _=m[k],A=t.sweep===void 0?2*Math.PI-2*Math.PI/_.length:t.sweep,D=_.dTheta=A/Math.max(1,_.length-1);if(_.length>1&&t.avoidOverlap){var P=Math.cos(D)-Math.cos(0),R=Math.sin(D)-Math.sin(0),L=Math.sqrt(S*S/(P*P+R*R));C=Math.max(L,C)}_.r=C,C+=S}if(t.equidistant){for(var N=0,z=0,F=0;F<m.length;F++){var I=m[F],B=I.r-z;N=Math.max(N,B)}z=0;for(var V=0;V<m.length;V++){var K=m[V];V===0&&(z=K.r),K.r=z,z+=N}}for(var j={},Q=0;Q<m.length;Q++)for(var X=m[Q],W=X.dTheta,$=X.r,q=0;q<X.length;q++){var U=X[q],Y=t.startAngle+(r?1:-1)*W*q,ie={x:s.x+$*Math.cos(Y),y:s.y+$*Math.sin(Y)};j[U.node.id()]=ie}return a.nodes().layoutPositions(this,t,function(J){var re=J.id();return j[re]}),this};var ah,MI={ready:function(){},stop:function(){},animate:!0,animationEasing:void 0,animationDuration:void 0,animateFilter:function(t,r){return!0},animationThreshold:250,refresh:20,fit:!0,padding:30,boundingBox:void 0,nodeDimensionsIncludeLabels:!1,randomize:!1,componentSpacing:40,nodeRepulsion:function(t){return 2048},nodeOverlap:4,idealEdgeLength:function(t){return 32},edgeElasticity:function(t){return 32},nestingFactor:1.2,gravity:1,numIter:1e3,initialTemp:1e3,coolingFactor:.99,minTemp:1};function Bc(e){this.options=we({},MI,e),this.options.layout=this;var t=this.options.eles.nodes(),r=this.options.eles.edges(),n=r.filter(function(a){var i=a.source().data("id"),o=a.target().data("id"),s=t.some(function(l){return l.data("id")===i}),u=t.some(function(l){return l.data("id")===o});return!s||!u});this.options.eles=this.options.eles.not(n)}Bc.prototype.run=function(){var e=this.options,t=e.cy,r=this;r.stopped=!1,(e.animate===!0||e.animate===!1)&&r.emit({type:"layoutstart",layout:r}),e.debug===!0?ah=!0:ah=!1;var n=kI(t,r,e);ah&&_I(n),e.randomize&&PI(n);var a=ra(),i=function(){AI(n,t,e),e.fit===!0&&t.fit(e.padding)},o=function(d){return!(r.stopped||d>=e.numIter||(OI(n,e),n.temperature=n.temperature*e.coolingFactor,n.temperature<e.minTemp))},s=function(){if(e.animate===!0||e.animate===!1)i(),r.one("layoutstop",e.stop),r.emit({type:"layoutstop",layout:r});else{var d=e.eles.nodes(),h=gE(n,e,d);d.layoutPositions(r,e,h)}},u=0,l=!0;if(e.animate===!0){var f=function c(){for(var d=0;l&&d<e.refresh;)l=o(u),u++,d++;if(!l)Vy(n,e),s();else{var h=ra();h-a>=e.animationThreshold&&i(),Df(c)}};f()}else{for(;l;)l=o(u),u++;Vy(n,e),s()}return this};Bc.prototype.stop=function(){return this.stopped=!0,this.thread&&this.thread.stop(),this.emit("layoutstop"),this};Bc.prototype.destroy=function(){return this.thread&&this.thread.stop(),this};var kI=function(t,r,n){for(var a=n.eles.edges(),i=n.eles.nodes(),o=lr(n.boundingBox?n.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),s={isCompound:t.hasCompoundNodes(),layoutNodes:[],idToIndex:{},nodeSize:i.size(),graphSet:[],indexToGraph:[],layoutEdges:[],edgeSize:a.size(),temperature:n.initialTemp,clientWidth:o.w,clientHeight:o.h,boundingBox:o},u=n.eles.components(),l={},f=0;f<u.length;f++)for(var c=u[f],d=0;d<c.length;d++){var h=c[d];l[h.id()]=f}for(var f=0;f<s.nodeSize;f++){var v=i[f],p=v.layoutDimensions(n),g={};g.isLocked=v.locked(),g.id=v.data("id"),g.parentId=v.data("parent"),g.cmptId=l[v.id()],g.children=[],g.positionX=v.position("x"),g.positionY=v.position("y"),g.offsetX=0,g.offsetY=0,g.height=p.w,g.width=p.h,g.maxX=g.positionX+g.width/2,g.minX=g.positionX-g.width/2,g.maxY=g.positionY+g.height/2,g.minY=g.positionY-g.height/2,g.padLeft=parseFloat(v.style("padding")),g.padRight=parseFloat(v.style("padding")),g.padTop=parseFloat(v.style("padding")),g.padBottom=parseFloat(v.style("padding")),g.nodeRepulsion=ft(n.nodeRepulsion)?n.nodeRepulsion(v):n.nodeRepulsion,s.layoutNodes.push(g),s.idToIndex[g.id]=f}for(var m=[],y=0,b=-1,w=[],f=0;f<s.nodeSize;f++){var v=s.layoutNodes[f],E=v.parentId;E!=null?s.layoutNodes[s.idToIndex[E]].children.push(v.id):(m[++b]=v.id,w.push(v.id))}for(s.graphSet.push(w);y<=b;){var S=m[y++],x=s.idToIndex[S],h=s.layoutNodes[x],M=h.children;if(M.length>0){s.graphSet.push(M);for(var f=0;f<M.length;f++)m[++b]=M[f]}}for(var f=0;f<s.graphSet.length;f++)for(var T=s.graphSet[f],d=0;d<T.length;d++){var C=s.idToIndex[T[d]];s.indexToGraph[C]=f}for(var f=0;f<s.edgeSize;f++){var k=a[f],_={};_.id=k.data("id"),_.sourceId=k.data("source"),_.targetId=k.data("target");var A=ft(n.idealEdgeLength)?n.idealEdgeLength(k):n.idealEdgeLength,D=ft(n.edgeElasticity)?n.edgeElasticity(k):n.edgeElasticity,P=s.idToIndex[_.sourceId],R=s.idToIndex[_.targetId],L=s.indexToGraph[P],N=s.indexToGraph[R];if(L!=N){for(var z=CI(_.sourceId,_.targetId,s),F=s.graphSet[z],I=0,g=s.layoutNodes[P];F.indexOf(g.id)===-1;)g=s.layoutNodes[s.idToIndex[g.parentId]],I++;for(g=s.layoutNodes[R];F.indexOf(g.id)===-1;)g=s.layoutNodes[s.idToIndex[g.parentId]],I++;A*=I*n.nestingFactor}_.idealLength=A,_.elasticity=D,s.layoutEdges.push(_)}return s},CI=function(t,r,n){var a=DI(t,r,0,n);return 2>a.count?0:a.graph},DI=function e(t,r,n,a){var i=a.graphSet[n];if(-1<i.indexOf(t)&&-1<i.indexOf(r))return{count:2,graph:n};for(var o=0,s=0;s<i.length;s++){var u=i[s],l=a.idToIndex[u],f=a.layoutNodes[l].children;if(f.length!==0){var c=a.indexToGraph[a.idToIndex[f[0]]],d=e(t,r,c,a);if(d.count!==0)if(d.count===1){if(o++,o===2)break}else return d}}return{count:o,graph:n}},_I,PI=function(t,r){for(var n=t.clientWidth,a=t.clientHeight,i=0;i<t.nodeSize;i++){var o=t.layoutNodes[i];o.children.length===0&&!o.isLocked&&(o.positionX=Math.random()*n,o.positionY=Math.random()*a)}},gE=function(t,r,n){var a=t.boundingBox,i={x1:1/0,x2:-1/0,y1:1/0,y2:-1/0};return r.boundingBox&&(n.forEach(function(o){var s=t.layoutNodes[t.idToIndex[o.data("id")]];i.x1=Math.min(i.x1,s.positionX),i.x2=Math.max(i.x2,s.positionX),i.y1=Math.min(i.y1,s.positionY),i.y2=Math.max(i.y2,s.positionY)}),i.w=i.x2-i.x1,i.h=i.y2-i.y1),function(o,s){var u=t.layoutNodes[t.idToIndex[o.data("id")]];if(r.boundingBox){var l=(u.positionX-i.x1)/i.w,f=(u.positionY-i.y1)/i.h;return{x:a.x1+l*a.w,y:a.y1+f*a.h}}else return{x:u.positionX,y:u.positionY}}},AI=function(t,r,n){var a=n.layout,i=n.eles.nodes(),o=gE(t,n,i);i.positions(o),t.ready!==!0&&(t.ready=!0,a.one("layoutready",n.ready),a.emit({type:"layoutready",layout:this}))},OI=function(t,r,n){RI(t,r),NI(t),II(t,r),BI(t),FI(t)},RI=function(t,r){for(var n=0;n<t.graphSet.length;n++)for(var a=t.graphSet[n],i=a.length,o=0;o<i;o++)for(var s=t.layoutNodes[t.idToIndex[a[o]]],u=o+1;u<i;u++){var l=t.layoutNodes[t.idToIndex[a[u]]];LI(s,l,t,r)}},qy=function(t){return-t+2*t*Math.random()},LI=function(t,r,n,a){var i=t.cmptId,o=r.cmptId;if(!(i!==o&&!n.isCompound)){var s=r.positionX-t.positionX,u=r.positionY-t.positionY,l=1;s===0&&u===0&&(s=qy(l),u=qy(l));var f=$I(t,r,s,u);if(f>0)var c=a.nodeOverlap*f,d=Math.sqrt(s*s+u*u),h=c*s/d,v=c*u/d;else var p=$f(t,s,u),g=$f(r,-1*s,-1*u),m=g.x-p.x,y=g.y-p.y,b=m*m+y*y,d=Math.sqrt(b),c=(t.nodeRepulsion+r.nodeRepulsion)/b,h=c*m/d,v=c*y/d;t.isLocked||(t.offsetX-=h,t.offsetY-=v),r.isLocked||(r.offsetX+=h,r.offsetY+=v)}},$I=function(t,r,n,a){if(n>0)var i=t.maxX-r.minX;else var i=r.maxX-t.minX;if(a>0)var o=t.maxY-r.minY;else var o=r.maxY-t.minY;return i>=0&&o>=0?Math.sqrt(i*i+o*o):0},$f=function(t,r,n){var a=t.positionX,i=t.positionY,o=t.height||1,s=t.width||1,u=n/r,l=o/s,f={};return r===0&&0<n||r===0&&0>n?(f.x=a,f.y=i+o/2,f):0<r&&-1*l<=u&&u<=l?(f.x=a+s/2,f.y=i+s*n/2/r,f):0>r&&-1*l<=u&&u<=l?(f.x=a-s/2,f.y=i-s*n/2/r,f):0<n&&(u<=-1*l||u>=l)?(f.x=a+o*r/2/n,f.y=i+o/2,f):(0>n&&(u<=-1*l||u>=l)&&(f.x=a-o*r/2/n,f.y=i-o/2),f)},NI=function(t,r){for(var n=0;n<t.edgeSize;n++){var a=t.layoutEdges[n],i=t.idToIndex[a.sourceId],o=t.layoutNodes[i],s=t.idToIndex[a.targetId],u=t.layoutNodes[s],l=u.positionX-o.positionX,f=u.positionY-o.positionY;if(!(l===0&&f===0)){var c=$f(o,l,f),d=$f(u,-1*l,-1*f),h=d.x-c.x,v=d.y-c.y,p=Math.sqrt(h*h+v*v),g=Math.pow(a.idealLength-p,2)/a.elasticity;if(p!==0)var m=g*h/p,y=g*v/p;else var m=0,y=0;o.isLocked||(o.offsetX+=m,o.offsetY+=y),u.isLocked||(u.offsetX-=m,u.offsetY-=y)}}},II=function(t,r){if(r.gravity!==0)for(var n=1,a=0;a<t.graphSet.length;a++){var i=t.graphSet[a],o=i.length;if(a===0)var s=t.clientHeight/2,u=t.clientWidth/2;else var l=t.layoutNodes[t.idToIndex[i[0]]],f=t.layoutNodes[t.idToIndex[l.parentId]],s=f.positionX,u=f.positionY;for(var c=0;c<o;c++){var d=t.layoutNodes[t.idToIndex[i[c]]];if(!d.isLocked){var h=s-d.positionX,v=u-d.positionY,p=Math.sqrt(h*h+v*v);if(p>n){var g=r.gravity*h/p,m=r.gravity*v/p;d.offsetX+=g,d.offsetY+=m}}}}},BI=function(t,r){var n=[],a=0,i=-1;for(n.push.apply(n,t.graphSet[0]),i+=t.graphSet[0].length;a<=i;){var o=n[a++],s=t.idToIndex[o],u=t.layoutNodes[s],l=u.children;if(0<l.length&&!u.isLocked){for(var f=u.offsetX,c=u.offsetY,d=0;d<l.length;d++){var h=t.layoutNodes[t.idToIndex[l[d]]];h.offsetX+=f,h.offsetY+=c,n[++i]=l[d]}u.offsetX=0,u.offsetY=0}}},FI=function(t,r){for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];0<a.children.length&&(a.maxX=void 0,a.minX=void 0,a.maxY=void 0,a.minY=void 0)}for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];if(!(0<a.children.length||a.isLocked)){var i=zI(a.offsetX,a.offsetY,t.temperature);a.positionX+=i.x,a.positionY+=i.y,a.offsetX=0,a.offsetY=0,a.minX=a.positionX-a.width,a.maxX=a.positionX+a.width,a.minY=a.positionY-a.height,a.maxY=a.positionY+a.height,YI(a,t)}}for(var n=0;n<t.nodeSize;n++){var a=t.layoutNodes[n];0<a.children.length&&!a.isLocked&&(a.positionX=(a.maxX+a.minX)/2,a.positionY=(a.maxY+a.minY)/2,a.width=a.maxX-a.minX,a.height=a.maxY-a.minY)}},zI=function(t,r,n){var a=Math.sqrt(t*t+r*r);if(a>n)var i={x:n*t/a,y:n*r/a};else var i={x:t,y:r};return i},YI=function e(t,r){var n=t.parentId;if(n!=null){var a=r.layoutNodes[r.idToIndex[n]],i=!1;if((a.maxX==null||t.maxX+a.padRight>a.maxX)&&(a.maxX=t.maxX+a.padRight,i=!0),(a.minX==null||t.minX-a.padLeft<a.minX)&&(a.minX=t.minX-a.padLeft,i=!0),(a.maxY==null||t.maxY+a.padBottom>a.maxY)&&(a.maxY=t.maxY+a.padBottom,i=!0),(a.minY==null||t.minY-a.padTop<a.minY)&&(a.minY=t.minY-a.padTop,i=!0),i)return e(a,r)}},Vy=function(t,r){for(var n=t.layoutNodes,a=[],i=0;i<n.length;i++){var o=n[i],s=o.cmptId,u=a[s]=a[s]||[];u.push(o)}for(var l=0,i=0;i<a.length;i++){var f=a[i];if(f){f.x1=1/0,f.x2=-1/0,f.y1=1/0,f.y2=-1/0;for(var c=0;c<f.length;c++){var d=f[c];f.x1=Math.min(f.x1,d.positionX-d.width/2),f.x2=Math.max(f.x2,d.positionX+d.width/2),f.y1=Math.min(f.y1,d.positionY-d.height/2),f.y2=Math.max(f.y2,d.positionY+d.height/2)}f.w=f.x2-f.x1,f.h=f.y2-f.y1,l+=f.w*f.h}}a.sort(function(y,b){return b.w*b.h-y.w*y.h});for(var h=0,v=0,p=0,g=0,m=Math.sqrt(l)*t.clientWidth/t.clientHeight,i=0;i<a.length;i++){var f=a[i];if(f){for(var c=0;c<f.length;c++){var d=f[c];d.isLocked||(d.positionX+=h-f.x1,d.positionY+=v-f.y1)}h+=f.w+r.componentSpacing,p+=f.w+r.componentSpacing,g=Math.max(g,f.h),p>m&&(v+=g+r.componentSpacing,h=0,p=0,g=0)}}},qI={fit:!0,padding:30,boundingBox:void 0,avoidOverlap:!0,avoidOverlapPadding:10,nodeDimensionsIncludeLabels:!1,spacingFactor:void 0,condense:!1,rows:void 0,cols:void 0,position:function(t){},sort:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function pE(e){this.options=we({},qI,e)}pE.prototype.run=function(){var e=this.options,t=e,r=e.cy,n=t.eles,a=n.nodes().not(":parent");t.sort&&(a=a.sort(t.sort));var i=lr(t.boundingBox?t.boundingBox:{x1:0,y1:0,w:r.width(),h:r.height()});if(i.h===0||i.w===0)n.nodes().layoutPositions(this,t,function(V){return{x:i.x1,y:i.y1}});else{var o=a.size(),s=Math.sqrt(o*i.h/i.w),u=Math.round(s),l=Math.round(i.w/i.h*s),f=function(K){if(K==null)return Math.min(u,l);var j=Math.min(u,l);j==u?u=K:l=K},c=function(K){if(K==null)return Math.max(u,l);var j=Math.max(u,l);j==u?u=K:l=K},d=t.rows,h=t.cols!=null?t.cols:t.columns;if(d!=null&&h!=null)u=d,l=h;else if(d!=null&&h==null)u=d,l=Math.ceil(o/u);else if(d==null&&h!=null)l=h,u=Math.ceil(o/l);else if(l*u>o){var v=f(),p=c();(v-1)*p>=o?f(v-1):(p-1)*v>=o&&c(p-1)}else for(;l*u<o;){var g=f(),m=c();(m+1)*g>=o?c(m+1):f(g+1)}var y=i.w/l,b=i.h/u;if(t.condense&&(y=0,b=0),t.avoidOverlap)for(var w=0;w<a.length;w++){var E=a[w],S=E._private.position;(S.x==null||S.y==null)&&(S.x=0,S.y=0);var x=E.layoutDimensions(t),M=t.avoidOverlapPadding,T=x.w+M,C=x.h+M;y=Math.max(y,T),b=Math.max(b,C)}for(var k={},_=function(K,j){return!!k["c-"+K+"-"+j]},A=function(K,j){k["c-"+K+"-"+j]=!0},D=0,P=0,R=function(){P++,P>=l&&(P=0,D++)},L={},N=0;N<a.length;N++){var z=a[N],F=t.position(z);if(F&&(F.row!==void 0||F.col!==void 0)){var I={row:F.row,col:F.col};if(I.col===void 0)for(I.col=0;_(I.row,I.col);)I.col++;else if(I.row===void 0)for(I.row=0;_(I.row,I.col);)I.row++;L[z.id()]=I,A(I.row,I.col)}}var B=function(K,j){var Q,X;if(K.locked()||K.isParent())return!1;var W=L[K.id()];if(W)Q=W.col*y+y/2+i.x1,X=W.row*b+b/2+i.y1;else{for(;_(D,P);)R();Q=P*y+y/2+i.x1,X=D*b+b/2+i.y1,A(D,P),R()}return{x:Q,y:X}};a.layoutPositions(this,t,B)}return this};var VI={ready:function(){},stop:function(){}};function ip(e){this.options=we({},VI,e)}ip.prototype.run=function(){var e=this.options,t=e.eles,r=this;return e.cy,r.emit("layoutstart"),t.nodes().positions(function(){return{x:0,y:0}}),r.one("layoutready",e.ready),r.emit("layoutready"),r.one("layoutstop",e.stop),r.emit("layoutstop"),this};ip.prototype.stop=function(){return this};var WI={positions:void 0,zoom:void 0,pan:void 0,fit:!0,padding:30,spacingFactor:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function mE(e){this.options=we({},WI,e)}mE.prototype.run=function(){var e=this.options,t=e.eles,r=t.nodes(),n=ft(e.positions);function a(i){if(e.positions==null)return XO(i.position());if(n)return e.positions(i);var o=e.positions[i._private.data.id];return o??null}return r.layoutPositions(this,e,function(i,o){var s=a(i);return i.locked()||s==null?!1:s}),this};var UI={fit:!0,padding:30,boundingBox:void 0,animate:!1,animationDuration:500,animationEasing:void 0,animateFilter:function(t,r){return!0},ready:void 0,stop:void 0,transform:function(t,r){return r}};function yE(e){this.options=we({},UI,e)}yE.prototype.run=function(){var e=this.options,t=e.cy,r=e.eles,n=lr(e.boundingBox?e.boundingBox:{x1:0,y1:0,w:t.width(),h:t.height()}),a=function(o,s){return{x:n.x1+Math.round(Math.random()*n.w),y:n.y1+Math.round(Math.random()*n.h)}};return r.nodes().layoutPositions(this,e,a),this};var HI=[{name:"breadthfirst",impl:dE},{name:"circle",impl:hE},{name:"concentric",impl:vE},{name:"cose",impl:Bc},{name:"grid",impl:pE},{name:"null",impl:ip},{name:"preset",impl:mE},{name:"random",impl:yE}];function bE(e){this.options=e,this.notifications=0}var Wy=function(){},Uy=function(){throw new Error("A headless instance can not render images")};bE.prototype={recalculateRenderedStyle:Wy,notify:function(){this.notifications++},init:Wy,isHeadless:function(){return!0},png:Uy,jpg:Uy};var op={};op.arrowShapeWidth=.3;op.registerArrowShapes=function(){var e=this.arrowShapes={},t=this,r=function(l,f,c,d,h,v,p){var g=h.x-c/2-p,m=h.x+c/2+p,y=h.y-c/2-p,b=h.y+c/2+p,w=g<=l&&l<=m&&y<=f&&f<=b;return w},n=function(l,f,c,d,h){var v=l*Math.cos(d)-f*Math.sin(d),p=l*Math.sin(d)+f*Math.cos(d),g=v*c,m=p*c,y=g+h.x,b=m+h.y;return{x:y,y:b}},a=function(l,f,c,d){for(var h=[],v=0;v<l.length;v+=2){var p=l[v],g=l[v+1];h.push(n(p,g,f,c,d))}return h},i=function(l){for(var f=[],c=0;c<l.length;c++){var d=l[c];f.push(d.x,d.y)}return f},o=function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").pfValue*2},s=function(l,f){ye(f)&&(f=e[f]),e[l]=we({name:l,points:[-.15,-.3,.15,-.3,.15,.3,-.15,.3],collide:function(d,h,v,p,g,m){var y=i(a(this.points,v+2*m,p,g)),b=ar(d,h,y);return b},roughCollide:r,draw:function(d,h,v,p){var g=a(this.points,h,v,p);t.arrowShapeImpl("polygon")(d,g)},spacing:function(d){return 0},gap:o},f)};s("none",{collide:_f,roughCollide:_f,draw:Ug,spacing:ty,gap:ty}),s("triangle",{points:[-.15,-.3,0,0,.15,-.3]}),s("arrow","triangle"),s("triangle-backcurve",{points:e.triangle.points,controlPoint:[0,-.15],roughCollide:r,draw:function(l,f,c,d,h){var v=a(this.points,f,c,d),p=this.controlPoint,g=n(p[0],p[1],f,c,d);t.arrowShapeImpl(this.name)(l,v,g)},gap:function(l){return o(l)*.8}}),s("triangle-tee",{points:[0,0,.15,-.3,-.15,-.3,0,0],pointsTee:[-.15,-.4,-.15,-.5,.15,-.5,.15,-.4],collide:function(l,f,c,d,h,v,p){var g=i(a(this.points,c+2*p,d,h)),m=i(a(this.pointsTee,c+2*p,d,h)),y=ar(l,f,g)||ar(l,f,m);return y},draw:function(l,f,c,d,h){var v=a(this.points,f,c,d),p=a(this.pointsTee,f,c,d);t.arrowShapeImpl(this.name)(l,v,p)}}),s("circle-triangle",{radius:.15,pointsTr:[0,-.15,.15,-.45,-.15,-.45,0,-.15],collide:function(l,f,c,d,h,v,p){var g=h,m=Math.pow(g.x-l,2)+Math.pow(g.y-f,2)<=Math.pow((c+2*p)*this.radius,2),y=i(a(this.points,c+2*p,d,h));return ar(l,f,y)||m},draw:function(l,f,c,d,h){var v=a(this.pointsTr,f,c,d);t.arrowShapeImpl(this.name)(l,v,d.x,d.y,this.radius*f)},spacing:function(l){return t.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("triangle-cross",{points:[0,0,.15,-.3,-.15,-.3,0,0],baseCrossLinePts:[-.15,-.4,-.15,-.4,.15,-.4,.15,-.4],crossLinePts:function(l,f){var c=this.baseCrossLinePts.slice(),d=f/l,h=3,v=5;return c[h]=c[h]-d,c[v]=c[v]-d,c},collide:function(l,f,c,d,h,v,p){var g=i(a(this.points,c+2*p,d,h)),m=i(a(this.crossLinePts(c,v),c+2*p,d,h)),y=ar(l,f,g)||ar(l,f,m);return y},draw:function(l,f,c,d,h){var v=a(this.points,f,c,d),p=a(this.crossLinePts(f,h),f,c,d);t.arrowShapeImpl(this.name)(l,v,p)}}),s("vee",{points:[-.15,-.3,0,0,.15,-.3,0,-.15],gap:function(l){return o(l)*.525}}),s("circle",{radius:.15,collide:function(l,f,c,d,h,v,p){var g=h,m=Math.pow(g.x-l,2)+Math.pow(g.y-f,2)<=Math.pow((c+2*p)*this.radius,2);return m},draw:function(l,f,c,d,h){t.arrowShapeImpl(this.name)(l,d.x,d.y,this.radius*f)},spacing:function(l){return t.getArrowWidth(l.pstyle("width").pfValue,l.pstyle("arrow-scale").value)*this.radius}}),s("tee",{points:[-.15,0,-.15,-.1,.15,-.1,.15,0],spacing:function(l){return 1},gap:function(l){return 1}}),s("square",{points:[-.15,0,.15,0,.15,-.3,-.15,-.3]}),s("diamond",{points:[-.15,-.15,0,-.3,.15,-.15,0,0],gap:function(l){return l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}}),s("chevron",{points:[0,0,-.15,-.15,-.1,-.2,0,-.1,.1,-.2,.15,-.15],gap:function(l){return .95*l.pstyle("width").pfValue*l.pstyle("arrow-scale").value}})};var Ai={};Ai.projectIntoViewport=function(e,t){var r=this.cy,n=this.findContainerClientCoords(),a=n[0],i=n[1],o=n[4],s=r.pan(),u=r.zoom(),l=((e-a)/o-s.x)/u,f=((t-i)/o-s.y)/u;return[l,f]};Ai.findContainerClientCoords=function(){if(this.containerBB)return this.containerBB;var e=this.container,t=e.getBoundingClientRect(),r=this.cy.window().getComputedStyle(e),n=function(m){return parseFloat(r.getPropertyValue(m))},a={left:n("padding-left"),right:n("padding-right"),top:n("padding-top"),bottom:n("padding-bottom")},i={left:n("border-left-width"),right:n("border-right-width"),top:n("border-top-width"),bottom:n("border-bottom-width")},o=e.clientWidth,s=e.clientHeight,u=a.left+a.right,l=a.top+a.bottom,f=i.left+i.right,c=t.width/(o+f),d=o-u,h=s-l,v=t.left+a.left+i.left,p=t.top+a.top+i.top;return this.containerBB=[v,p,d,h,c]};Ai.invalidateContainerClientCoordsCache=function(){this.containerBB=null};Ai.findNearestElement=function(e,t,r,n){return this.findNearestElements(e,t,r,n)[0]};Ai.findNearestElements=function(e,t,r,n){var a=this,i=this,o=i.getCachedZSortedEles(),s=[],u=i.cy.zoom(),l=i.cy.hasCompoundNodes(),f=(n?24:8)/u,c=(n?8:2)/u,d=(n?8:2)/u,h=1/0,v,p;r&&(o=o.interactive);function g(x,M){if(x.isNode()){if(p)return;p=x,s.push(x)}if(x.isEdge()&&(M==null||M<h))if(v){if(v.pstyle("z-compound-depth").value===x.pstyle("z-compound-depth").value&&v.pstyle("z-compound-depth").value===x.pstyle("z-compound-depth").value){for(var T=0;T<s.length;T++)if(s[T].isEdge()){s[T]=x,v=x,h=M??h;break}}}else s.push(x),v=x,h=M??h}function m(x){var M=x.outerWidth()+2*c,T=x.outerHeight()+2*c,C=M/2,k=T/2,_=x.position(),A=x.pstyle("corner-radius").value==="auto"?"auto":x.pstyle("corner-radius").pfValue,D=x._private.rscratch;if(_.x-C<=e&&e<=_.x+C&&_.y-k<=t&&t<=_.y+k){var P=i.nodeShapes[a.getNodeShape(x)];if(P.checkPoint(e,t,0,M,T,_.x,_.y,A,D))return g(x,0),!0}}function y(x){var M=x._private,T=M.rscratch,C=x.pstyle("width").pfValue,k=x.pstyle("arrow-scale").value,_=C/2+f,A=_*_,D=_*2,N=M.source,z=M.target,P;if(T.edgeType==="segments"||T.edgeType==="straight"||T.edgeType==="haystack"){for(var R=T.allpts,L=0;L+3<R.length;L+=2)if(sR(e,t,R[L],R[L+1],R[L+2],R[L+3],D)&&A>(P=dR(e,t,R[L],R[L+1],R[L+2],R[L+3])))return g(x,P),!0}else if(T.edgeType==="bezier"||T.edgeType==="multibezier"||T.edgeType==="self"||T.edgeType==="compound"){for(var R=T.allpts,L=0;L+5<T.allpts.length;L+=4)if(uR(e,t,R[L],R[L+1],R[L+2],R[L+3],R[L+4],R[L+5],D)&&A>(P=cR(e,t,R[L],R[L+1],R[L+2],R[L+3],R[L+4],R[L+5])))return g(x,P),!0}for(var N=N||M.source,z=z||M.target,F=a.getArrowWidth(C,k),I=[{name:"source",x:T.arrowStartX,y:T.arrowStartY,angle:T.srcArrowAngle},{name:"target",x:T.arrowEndX,y:T.arrowEndY,angle:T.tgtArrowAngle},{name:"mid-source",x:T.midX,y:T.midY,angle:T.midsrcArrowAngle},{name:"mid-target",x:T.midX,y:T.midY,angle:T.midtgtArrowAngle}],L=0;L<I.length;L++){var B=I[L],V=i.arrowShapes[x.pstyle(B.name+"-arrow-shape").value],K=x.pstyle("width").pfValue;if(V.roughCollide(e,t,F,B.angle,{x:B.x,y:B.y},K,f)&&V.collide(e,t,F,B.angle,{x:B.x,y:B.y},K,f))return g(x),!0}l&&s.length>0&&(m(N),m(z))}function b(x,M,T){return Yr(x,M,T)}function w(x,M){var T=x._private,C=d,k;M?k=M+"-":k="",x.boundingBox();var _=T.labelBounds[M||"main"],A=x.pstyle(k+"label").value,D=x.pstyle("text-events").strValue==="yes";if(!(!D||!A)){var P=b(T.rscratch,"labelX",M),R=b(T.rscratch,"labelY",M),L=b(T.rscratch,"labelAngle",M),N=x.pstyle(k+"text-margin-x").pfValue,z=x.pstyle(k+"text-margin-y").pfValue,F=_.x1-C-N,I=_.x2+C-N,B=_.y1-C-z,V=_.y2+C-z;if(L){var K=Math.cos(L),j=Math.sin(L),Q=function(ie,J){return ie=ie-P,J=J-R,{x:ie*K-J*j+P,y:ie*j+J*K+R}},X=Q(F,B),W=Q(F,V),$=Q(I,B),q=Q(I,V),U=[X.x+N,X.y+z,$.x+N,$.y+z,q.x+N,q.y+z,W.x+N,W.y+z];if(ar(e,t,U))return g(x),!0}else if(Co(_,e,t))return g(x),!0}}for(var E=o.length-1;E>=0;E--){var S=o[E];S.isNode()?m(S)||w(S):y(S)||w(S)||w(S,"source")||w(S,"target")}return s};Ai.getAllInBox=function(e,t,r,n){var a=this.getCachedZSortedEles().interactive,i=[],o=Math.min(e,r),s=Math.max(e,r),u=Math.min(t,n),l=Math.max(t,n);e=o,r=s,t=u,n=l;for(var f=lr({x1:e,y1:t,x2:r,y2:n}),c=0;c<a.length;c++){var d=a[c];if(d.isNode()){var h=d,v=h.boundingBox({includeNodes:!0,includeEdges:!1,includeLabels:!1});Xg(f,v)&&!D5(v,f)&&i.push(h)}else{var p=d,g=p._private,m=g.rscratch;if(m.startX!=null&&m.startY!=null&&!Co(f,m.startX,m.startY)||m.endX!=null&&m.endY!=null&&!Co(f,m.endX,m.endY))continue;if(m.edgeType==="bezier"||m.edgeType==="multibezier"||m.edgeType==="self"||m.edgeType==="compound"||m.edgeType==="segments"||m.edgeType==="haystack"){for(var y=g.rstyle.bezierPts||g.rstyle.linePts||g.rstyle.haystackPts,b=!0,w=0;w<y.length;w++)if(!oR(f,y[w])){b=!1;break}b&&i.push(p)}else(m.edgeType==="haystack"||m.edgeType==="straight")&&i.push(p)}}return i};var Nf={};Nf.calculateArrowAngles=function(e){var t=e._private.rscratch,r=t.edgeType==="haystack",n=t.edgeType==="bezier",a=t.edgeType==="multibezier",i=t.edgeType==="segments",o=t.edgeType==="compound",s=t.edgeType==="self",u,l,f,c,d,h,m,y;if(r?(f=t.haystackPts[0],c=t.haystackPts[1],d=t.haystackPts[2],h=t.haystackPts[3]):(f=t.arrowStartX,c=t.arrowStartY,d=t.arrowEndX,h=t.arrowEndY),m=t.midX,y=t.midY,i)u=f-t.segpts[0],l=c-t.segpts[1];else if(a||o||s||n){var v=t.allpts,p=Pt(v[0],v[2],v[4],.1),g=Pt(v[1],v[3],v[5],.1);u=f-p,l=c-g}else u=f-m,l=c-y;t.srcArrowAngle=hl(u,l);var m=t.midX,y=t.midY;if(r&&(m=(f+d)/2,y=(c+h)/2),u=d-f,l=h-c,i){var v=t.allpts;if(v.length/2%2===0){var b=v.length/2,w=b-2;u=v[b]-v[w],l=v[b+1]-v[w+1]}else if(t.isRound)u=t.midVector[1],l=-t.midVector[0];else{var b=v.length/2-1,w=b-2;u=v[b]-v[w],l=v[b+1]-v[w+1]}}else if(a||o||s){var v=t.allpts,E=t.ctrlpts,S,x,M,T;if(E.length/2%2===0){var C=v.length/2-1,k=C+2,_=k+2;S=Pt(v[C],v[k],v[_],0),x=Pt(v[C+1],v[k+1],v[_+1],0),M=Pt(v[C],v[k],v[_],1e-4),T=Pt(v[C+1],v[k+1],v[_+1],1e-4)}else{var k=v.length/2-1,C=k-2,_=k+2;S=Pt(v[C],v[k],v[_],.4999),x=Pt(v[C+1],v[k+1],v[_+1],.4999),M=Pt(v[C],v[k],v[_],.5),T=Pt(v[C+1],v[k+1],v[_+1],.5)}u=M-S,l=T-x}if(t.midtgtArrowAngle=hl(u,l),t.midDispX=u,t.midDispY=l,u*=-1,l*=-1,i){var v=t.allpts;if(v.length/2%2!==0){if(!t.isRound){var b=v.length/2-1,A=b+2;u=-(v[A]-v[b]),l=-(v[A+1]-v[b+1])}}}if(t.midsrcArrowAngle=hl(u,l),i)u=d-t.segpts[t.segpts.length-2],l=h-t.segpts[t.segpts.length-1];else if(a||o||s||n){var v=t.allpts,D=v.length,p=Pt(v[D-6],v[D-4],v[D-2],.9),g=Pt(v[D-5],v[D-3],v[D-1],.9);u=d-p,l=h-g}else u=d-m,l=h-y;t.tgtArrowAngle=hl(u,l)};Nf.getArrowWidth=Nf.getArrowHeight=function(e,t){var r=this.arrowWidthCache=this.arrowWidthCache||{},n=r[e+", "+t];return n||(n=Math.max(Math.pow(e*13.37,.9),29)*t,r[e+", "+t]=n,n)};var wv,xv,sn={},Er={},Hy,Gy,Qa,Fl,$n,Wa,Ka,on,Yi,Sl,wE,xE,Sv,Ev,Xy,Ky=function(t,r,n){n.x=r.x-t.x,n.y=r.y-t.y,n.len=Math.sqrt(n.x*n.x+n.y*n.y),n.nx=n.x/n.len,n.ny=n.y/n.len,n.ang=Math.atan2(n.ny,n.nx)},GI=function(t,r){r.x=t.x*-1,r.y=t.y*-1,r.nx=t.nx*-1,r.ny=t.ny*-1,r.ang=t.ang>0?-(Math.PI-t.ang):Math.PI+t.ang},XI=function(t,r,n,a,i){if(t!==Xy?Ky(r,t,sn):GI(Er,sn),Ky(r,n,Er),Hy=sn.nx*Er.ny-sn.ny*Er.nx,Gy=sn.nx*Er.nx-sn.ny*-Er.ny,$n=Math.asin(Math.max(-1,Math.min(1,Hy))),Math.abs($n)<1e-6){wv=r.x,xv=r.y,Ka=Yi=0;return}Qa=1,Fl=!1,Gy<0?$n<0?$n=Math.PI+$n:($n=Math.PI-$n,Qa=-1,Fl=!0):$n>0&&(Qa=-1,Fl=!0),r.radius!==void 0?Yi=r.radius:Yi=a,Wa=$n/2,Sl=Math.min(sn.len/2,Er.len/2),i?(on=Math.abs(Math.cos(Wa)*Yi/Math.sin(Wa)),on>Sl?(on=Sl,Ka=Math.abs(on*Math.sin(Wa)/Math.cos(Wa))):Ka=Yi):(on=Math.min(Sl,Yi),Ka=Math.abs(on*Math.sin(Wa)/Math.cos(Wa))),Sv=r.x+Er.nx*on,Ev=r.y+Er.ny*on,wv=Sv-Er.ny*Ka*Qa,xv=Ev+Er.nx*Ka*Qa,wE=r.x+sn.nx*on,xE=r.y+sn.ny*on,Xy=r};function SE(e,t){t.radius===0?e.lineTo(t.cx,t.cy):e.arc(t.cx,t.cy,t.radius,t.startAngle,t.endAngle,t.counterClockwise)}function sp(e,t,r,n){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0;return n===0||t.radius===0?{cx:t.x,cy:t.y,radius:0,startX:t.x,startY:t.y,stopX:t.x,stopY:t.y,startAngle:void 0,endAngle:void 0,counterClockwise:void 0}:(XI(e,t,r,n,a),{cx:wv,cy:xv,radius:Ka,startX:wE,startY:xE,stopX:Sv,stopY:Ev,startAngle:sn.ang+Math.PI/2*Qa,endAngle:Er.ang-Math.PI/2*Qa,counterClockwise:Fl})}var Kt={};Kt.findMidptPtsEtc=function(e,t){var r=t.posPts,n=t.intersectionPts,a=t.vectorNormInverse,i,o=e.pstyle("source-endpoint"),s=e.pstyle("target-endpoint"),u=o.units!=null&&s.units!=null,l=function(E,S,x,M){var T=M-S,C=x-E,k=Math.sqrt(C*C+T*T);return{x:-T/k,y:C/k}},f=e.pstyle("edge-distances").value;switch(f){case"node-position":i=r;break;case"intersection":i=n;break;case"endpoints":{if(u){var c=this.manualEndptToPx(e.source()[0],o),d=Fr(c,2),h=d[0],v=d[1],p=this.manualEndptToPx(e.target()[0],s),g=Fr(p,2),m=g[0],y=g[1],b={x1:h,y1:v,x2:m,y2:y};a=l(h,v,m,y),i=b}else Ke("Edge ".concat(e.id()," has edge-distances:endpoints specified without manual endpoints specified via source-endpoint and target-endpoint.  Falling back on edge-distances:intersection (default).")),i=n;break}}return{midptPts:i,vectorNormInverse:a}};Kt.findHaystackPoints=function(e){for(var t=0;t<e.length;t++){var r=e[t],n=r._private,a=n.rscratch;if(!a.haystack){var i=Math.random()*2*Math.PI;a.source={x:Math.cos(i),y:Math.sin(i)},i=Math.random()*2*Math.PI,a.target={x:Math.cos(i),y:Math.sin(i)}}var o=n.source,s=n.target,u=o.position(),l=s.position(),f=o.width(),c=s.width(),d=o.height(),h=s.height(),v=r.pstyle("haystack-radius").value,p=v/2;a.haystackPts=a.allpts=[a.source.x*f*p+u.x,a.source.y*d*p+u.y,a.target.x*c*p+l.x,a.target.y*h*p+l.y],a.midX=(a.allpts[0]+a.allpts[2])/2,a.midY=(a.allpts[1]+a.allpts[3])/2,a.edgeType="haystack",a.haystack=!0,this.storeEdgeProjections(r),this.calculateArrowAngles(r),this.recalculateEdgeLabelProjections(r),this.calculateLabelAngles(r)}};Kt.findSegmentsPoints=function(e,t){var r=e._private.rscratch,n=e.pstyle("segment-weights"),a=e.pstyle("segment-distances"),i=e.pstyle("segment-radii"),o=e.pstyle("radius-type"),s=Math.min(n.pfValue.length,a.pfValue.length),u=i.pfValue[i.pfValue.length-1],l=o.pfValue[o.pfValue.length-1];r.edgeType="segments",r.segpts=[],r.radii=[],r.isArcRadius=[];for(var f=0;f<s;f++){var c=n.pfValue[f],d=a.pfValue[f],h=1-c,v=c,p=this.findMidptPtsEtc(e,t),g=p.midptPts,m=p.vectorNormInverse,y={x:g.x1*h+g.x2*v,y:g.y1*h+g.y2*v};r.segpts.push(y.x+m.x*d,y.y+m.y*d),r.radii.push(i.pfValue[f]!==void 0?i.pfValue[f]:u),r.isArcRadius.push((o.pfValue[f]!==void 0?o.pfValue[f]:l)==="arc-radius")}};Kt.findLoopPoints=function(e,t,r,n){var a=e._private.rscratch,i=t.dirCounts,o=t.srcPos,s=e.pstyle("control-point-distances"),u=s?s.pfValue[0]:void 0,l=e.pstyle("loop-direction").pfValue,f=e.pstyle("loop-sweep").pfValue,c=e.pstyle("control-point-step-size").pfValue;a.edgeType="self";var d=r,h=c;n&&(d=0,h=u);var v=l-Math.PI/2,p=v-f/2,g=v+f/2,m=l+"_"+f;d=i[m]===void 0?i[m]=0:++i[m],a.ctrlpts=[o.x+Math.cos(p)*1.4*h*(d/3+1),o.y+Math.sin(p)*1.4*h*(d/3+1),o.x+Math.cos(g)*1.4*h*(d/3+1),o.y+Math.sin(g)*1.4*h*(d/3+1)]};Kt.findCompoundLoopPoints=function(e,t,r,n){var a=e._private.rscratch;a.edgeType="compound";var i=t.srcPos,o=t.tgtPos,s=t.srcW,u=t.srcH,l=t.tgtW,f=t.tgtH,c=e.pstyle("control-point-step-size").pfValue,d=e.pstyle("control-point-distances"),h=d?d.pfValue[0]:void 0,v=r,p=c;n&&(v=0,p=h);var g=50,m={x:i.x-s/2,y:i.y-u/2},y={x:o.x-l/2,y:o.y-f/2},b={x:Math.min(m.x,y.x),y:Math.min(m.y,y.y)},w=.5,E=Math.max(w,Math.log(s*.01)),S=Math.max(w,Math.log(l*.01));a.ctrlpts=[b.x,b.y-(1+Math.pow(g,1.12)/100)*p*(v/3+1)*E,b.x-(1+Math.pow(g,1.12)/100)*p*(v/3+1)*S,b.y]};Kt.findStraightEdgePoints=function(e){e._private.rscratch.edgeType="straight"};Kt.findBezierPoints=function(e,t,r,n,a){var i=e._private.rscratch,o=e.pstyle("control-point-step-size").pfValue,s=e.pstyle("control-point-distances"),u=e.pstyle("control-point-weights"),l=s&&u?Math.min(s.value.length,u.value.length):1,f=s?s.pfValue[0]:void 0,c=u.value[0],d=n;i.edgeType=d?"multibezier":"bezier",i.ctrlpts=[];for(var h=0;h<l;h++){var v=(.5-t.eles.length/2+r)*o*(a?-1:1),p=void 0,g=k5(v);d&&(f=s?s.pfValue[h]:o,c=u.value[h]),n?p=f:p=f!==void 0?g*f:void 0;var m=p!==void 0?p:v,y=1-c,b=c,w=this.findMidptPtsEtc(e,t),E=w.midptPts,S=w.vectorNormInverse,x={x:E.x1*y+E.x2*b,y:E.y1*y+E.y2*b};i.ctrlpts.push(x.x+S.x*m,x.y+S.y*m)}};Kt.findTaxiPoints=function(e,t){var r=e._private.rscratch;r.edgeType="segments";var n="vertical",a="horizontal",i="leftward",o="rightward",s="downward",u="upward",l="auto",f=t.posPts,c=t.srcW,d=t.srcH,h=t.tgtW,v=t.tgtH,p=e.pstyle("edge-distances").value,g=p!=="node-position",m=e.pstyle("taxi-direction").value,y=m,b=e.pstyle("taxi-turn"),w=b.units==="%",E=b.pfValue,S=E<0,x=e.pstyle("taxi-turn-min-distance").pfValue,M=g?(c+h)/2:0,T=g?(d+v)/2:0,C=f.x2-f.x1,k=f.y2-f.y1,_=function(te,se){return te>0?Math.max(te-se,0):Math.min(te+se,0)},A=_(C,M),D=_(k,T),P=!1;y===l?m=Math.abs(A)>Math.abs(D)?a:n:y===u||y===s?(m=n,P=!0):(y===i||y===o)&&(m=a,P=!0);var R=m===n,L=R?D:A,N=R?k:C,z=k5(N),F=!1;!(P&&(w||S))&&(y===s&&N<0||y===u&&N>0||y===i&&N>0||y===o&&N<0)&&(z*=-1,L=z*Math.abs(L),F=!0);var I;if(w){var B=E<0?1+E:E;I=B*L}else{var V=E<0?L:0;I=V+E*z}var K=function(te){return Math.abs(te)<x||Math.abs(te)>=Math.abs(L)},j=K(I),Q=K(Math.abs(L)-Math.abs(I)),X=j||Q;if(X&&!F)if(R){var W=Math.abs(N)<=d/2,$=Math.abs(C)<=h/2;if(W){var q=(f.x1+f.x2)/2,U=f.y1,Y=f.y2;r.segpts=[q,U,q,Y]}else if($){var ie=(f.y1+f.y2)/2,J=f.x1,re=f.x2;r.segpts=[J,ie,re,ie]}else r.segpts=[f.x1,f.y2]}else{var oe=Math.abs(N)<=c/2,ue=Math.abs(k)<=v/2;if(oe){var le=(f.y1+f.y2)/2,ge=f.x1,He=f.x2;r.segpts=[ge,le,He,le]}else if(ue){var Ne=(f.x1+f.x2)/2,ke=f.y1,Ge=f.y2;r.segpts=[Ne,ke,Ne,Ge]}else r.segpts=[f.x2,f.y1]}else if(R){var Pe=f.y1+I+(g?d/2*z:0),ze=f.x1,ne=f.x2;r.segpts=[ze,Pe,ne,Pe]}else{var O=f.x1+I+(g?c/2*z:0),G=f.y1,ee=f.y2;r.segpts=[O,G,O,ee]}if(r.isRound){var H=e.pstyle("taxi-radius").value,Z=e.pstyle("radius-type").value[0]==="arc-radius";r.radii=new Array(r.segpts.length/2).fill(H),r.isArcRadius=new Array(r.segpts.length/2).fill(Z)}};Kt.tryToCorrectInvalidPoints=function(e,t){var r=e._private.rscratch;if(r.edgeType==="bezier"){var n=t.srcPos,a=t.tgtPos,i=t.srcW,o=t.srcH,s=t.tgtW,u=t.tgtH,l=t.srcShape,f=t.tgtShape,c=t.srcCornerRadius,d=t.tgtCornerRadius,h=t.srcRs,v=t.tgtRs,p=!fe(r.startX)||!fe(r.startY),g=!fe(r.arrowStartX)||!fe(r.arrowStartY),m=!fe(r.endX)||!fe(r.endY),y=!fe(r.arrowEndX)||!fe(r.arrowEndY),b=3,w=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth,E=b*w,S=yi({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.startX,y:r.startY}),x=S<E,M=yi({x:r.ctrlpts[0],y:r.ctrlpts[1]},{x:r.endX,y:r.endY}),T=M<E,C=!1;if(p||g||x){C=!0;var k={x:r.ctrlpts[0]-n.x,y:r.ctrlpts[1]-n.y},_=Math.sqrt(k.x*k.x+k.y*k.y),A={x:k.x/_,y:k.y/_},D=Math.max(i,o),P={x:r.ctrlpts[0]+A.x*2*D,y:r.ctrlpts[1]+A.y*2*D},R=l.intersectLine(n.x,n.y,i,o,P.x,P.y,0,c,h);x?(r.ctrlpts[0]=r.ctrlpts[0]+A.x*(E-S),r.ctrlpts[1]=r.ctrlpts[1]+A.y*(E-S)):(r.ctrlpts[0]=R[0]+A.x*E,r.ctrlpts[1]=R[1]+A.y*E)}if(m||y||T){C=!0;var L={x:r.ctrlpts[0]-a.x,y:r.ctrlpts[1]-a.y},N=Math.sqrt(L.x*L.x+L.y*L.y),z={x:L.x/N,y:L.y/N},F=Math.max(i,o),I={x:r.ctrlpts[0]+z.x*2*F,y:r.ctrlpts[1]+z.y*2*F},B=f.intersectLine(a.x,a.y,s,u,I.x,I.y,0,d,v);T?(r.ctrlpts[0]=r.ctrlpts[0]+z.x*(E-M),r.ctrlpts[1]=r.ctrlpts[1]+z.y*(E-M)):(r.ctrlpts[0]=B[0]+z.x*E,r.ctrlpts[1]=B[1]+z.y*E)}C&&this.findEndpoints(e)}};Kt.storeAllpts=function(e){var t=e._private.rscratch;if(t.edgeType==="multibezier"||t.edgeType==="bezier"||t.edgeType==="self"||t.edgeType==="compound"){t.allpts=[],t.allpts.push(t.startX,t.startY);for(var r=0;r+1<t.ctrlpts.length;r+=2)t.allpts.push(t.ctrlpts[r],t.ctrlpts[r+1]),r+3<t.ctrlpts.length&&t.allpts.push((t.ctrlpts[r]+t.ctrlpts[r+2])/2,(t.ctrlpts[r+1]+t.ctrlpts[r+3])/2);t.allpts.push(t.endX,t.endY);var n,a;t.ctrlpts.length/2%2===0?(n=t.allpts.length/2-1,t.midX=t.allpts[n],t.midY=t.allpts[n+1]):(n=t.allpts.length/2-3,a=.5,t.midX=Pt(t.allpts[n],t.allpts[n+2],t.allpts[n+4],a),t.midY=Pt(t.allpts[n+1],t.allpts[n+3],t.allpts[n+5],a))}else if(t.edgeType==="straight")t.allpts=[t.startX,t.startY,t.endX,t.endY],t.midX=(t.startX+t.endX+t.arrowStartX+t.arrowEndX)/4,t.midY=(t.startY+t.endY+t.arrowStartY+t.arrowEndY)/4;else if(t.edgeType==="segments"){if(t.allpts=[],t.allpts.push(t.startX,t.startY),t.allpts.push.apply(t.allpts,t.segpts),t.allpts.push(t.endX,t.endY),t.isRound){t.roundCorners=[];for(var i=2;i+3<t.allpts.length;i+=2){var o=t.radii[i/2-1],s=t.isArcRadius[i/2-1];t.roundCorners.push(sp({x:t.allpts[i-2],y:t.allpts[i-1]},{x:t.allpts[i],y:t.allpts[i+1],radius:o},{x:t.allpts[i+2],y:t.allpts[i+3]},o,s))}}if(t.segpts.length%4===0){var u=t.segpts.length/2,l=u-2;t.midX=(t.segpts[l]+t.segpts[u])/2,t.midY=(t.segpts[l+1]+t.segpts[u+1])/2}else{var f=t.segpts.length/2-1;if(!t.isRound)t.midX=t.segpts[f],t.midY=t.segpts[f+1];else{var c={x:t.segpts[f],y:t.segpts[f+1]},d=t.roundCorners[f/2],h=[c.x-d.cx,c.y-d.cy],v=d.radius/Math.sqrt(Math.pow(h[0],2)+Math.pow(h[1],2));h=h.map(function(p){return p*v}),t.midX=d.cx+h[0],t.midY=d.cy+h[1],t.midVector=h}}}};Kt.checkForInvalidEdgeWarning=function(e){var t=e[0]._private.rscratch;t.nodesOverlap||fe(t.startX)&&fe(t.startY)&&fe(t.endX)&&fe(t.endY)?t.loggedErr=!1:t.loggedErr||(t.loggedErr=!0,Ke("Edge `"+e.id()+"` has invalid endpoints and so it is impossible to draw.  Adjust your edge style (e.g. control points) accordingly or use an alternative edge type.  This is expected behaviour when the source node and the target node overlap."))};Kt.findEdgeControlPoints=function(e){var t=this;if(!(!e||e.length===0)){for(var r=this,n=r.cy,a=n.hasCompoundNodes(),i={map:new gn,get:function(x){var M=this.map.get(x[0]);return M!=null?M.get(x[1]):null},set:function(x,M){var T=this.map.get(x[0]);T==null&&(T=new gn,this.map.set(x[0],T)),T.set(x[1],M)}},o=[],s=[],u=0;u<e.length;u++){var l=e[u],f=l._private,c=l.pstyle("curve-style").value;if(!(l.removed()||!l.takesUpSpace())){if(c==="haystack"){s.push(l);continue}var d=c==="unbundled-bezier"||c.endsWith("segments")||c==="straight"||c==="straight-triangle"||c.endsWith("taxi"),h=c==="unbundled-bezier"||c==="bezier",v=f.source,p=f.target,g=v.poolIndex(),m=p.poolIndex(),y=[g,m].sort(),b=i.get(y);b==null&&(b={eles:[]},i.set(y,b),o.push(y)),b.eles.push(l),d&&(b.hasUnbundled=!0),h&&(b.hasBezier=!0)}}for(var w=function(x){var M=o[x],T=i.get(M),C=void 0;if(!T.hasUnbundled){var k=T.eles[0].parallelEdges().filter(function(O){return O.isBundledBezier()});Hg(T.eles),k.forEach(function(O){return T.eles.push(O)}),T.eles.sort(function(O,G){return O.poolIndex()-G.poolIndex()})}var _=T.eles[0],A=_.source(),D=_.target();if(A.poolIndex()>D.poolIndex()){var P=A;A=D,D=P}var R=T.srcPos=A.position(),L=T.tgtPos=D.position(),N=T.srcW=A.outerWidth(),z=T.srcH=A.outerHeight(),F=T.tgtW=D.outerWidth(),I=T.tgtH=D.outerHeight(),B=T.srcShape=r.nodeShapes[t.getNodeShape(A)],V=T.tgtShape=r.nodeShapes[t.getNodeShape(D)],K=T.srcCornerRadius=A.pstyle("corner-radius").value==="auto"?"auto":A.pstyle("corner-radius").pfValue,j=T.tgtCornerRadius=D.pstyle("corner-radius").value==="auto"?"auto":D.pstyle("corner-radius").pfValue,Q=T.tgtRs=D._private.rscratch,X=T.srcRs=A._private.rscratch;T.dirCounts={north:0,west:0,south:0,east:0,northwest:0,southwest:0,northeast:0,southeast:0};for(var W=0;W<T.eles.length;W++){var $=T.eles[W],q=$[0]._private.rscratch,U=$.pstyle("curve-style").value,Y=U==="unbundled-bezier"||U.endsWith("segments")||U.endsWith("taxi"),ie=!A.same($.source());if(!T.calculatedIntersection&&A!==D&&(T.hasBezier||T.hasUnbundled)){T.calculatedIntersection=!0;var J=B.intersectLine(R.x,R.y,N,z,L.x,L.y,0,K,X),re=T.srcIntn=J,oe=V.intersectLine(L.x,L.y,F,I,R.x,R.y,0,j,Q),ue=T.tgtIntn=oe,le=T.intersectionPts={x1:J[0],x2:oe[0],y1:J[1],y2:oe[1]},ge=T.posPts={x1:R.x,x2:L.x,y1:R.y,y2:L.y},He=oe[1]-J[1],Ne=oe[0]-J[0],ke=Math.sqrt(Ne*Ne+He*He),Ge=T.vector={x:Ne,y:He},Pe=T.vectorNorm={x:Ge.x/ke,y:Ge.y/ke},ze={x:-Pe.y,y:Pe.x};T.nodesOverlap=!fe(ke)||V.checkPoint(J[0],J[1],0,F,I,L.x,L.y,j,Q)||B.checkPoint(oe[0],oe[1],0,N,z,R.x,R.y,K,X),T.vectorNormInverse=ze,C={nodesOverlap:T.nodesOverlap,dirCounts:T.dirCounts,calculatedIntersection:!0,hasBezier:T.hasBezier,hasUnbundled:T.hasUnbundled,eles:T.eles,srcPos:L,srcRs:Q,tgtPos:R,tgtRs:X,srcW:F,srcH:I,tgtW:N,tgtH:z,srcIntn:ue,tgtIntn:re,srcShape:V,tgtShape:B,posPts:{x1:ge.x2,y1:ge.y2,x2:ge.x1,y2:ge.y1},intersectionPts:{x1:le.x2,y1:le.y2,x2:le.x1,y2:le.y1},vector:{x:-Ge.x,y:-Ge.y},vectorNorm:{x:-Pe.x,y:-Pe.y},vectorNormInverse:{x:-ze.x,y:-ze.y}}}var ne=ie?C:T;q.nodesOverlap=ne.nodesOverlap,q.srcIntn=ne.srcIntn,q.tgtIntn=ne.tgtIntn,q.isRound=U.startsWith("round"),a&&(A.isParent()||A.isChild()||D.isParent()||D.isChild())&&(A.parents().anySame(D)||D.parents().anySame(A)||A.same(D)&&A.isParent())?t.findCompoundLoopPoints($,ne,W,Y):A===D?t.findLoopPoints($,ne,W,Y):U.endsWith("segments")?t.findSegmentsPoints($,ne):U.endsWith("taxi")?t.findTaxiPoints($,ne):U==="straight"||!Y&&T.eles.length%2===1&&W===Math.floor(T.eles.length/2)?t.findStraightEdgePoints($):t.findBezierPoints($,ne,W,Y,ie),t.findEndpoints($),t.tryToCorrectInvalidPoints($,ne),t.checkForInvalidEdgeWarning($),t.storeAllpts($),t.storeEdgeProjections($),t.calculateArrowAngles($),t.recalculateEdgeLabelProjections($),t.calculateLabelAngles($)}},E=0;E<o.length;E++)w(E);this.findHaystackPoints(s)}};function EE(e){var t=[];if(e!=null){for(var r=0;r<e.length;r+=2){var n=e[r],a=e[r+1];t.push({x:n,y:a})}return t}}Kt.getSegmentPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="segments")return EE(t.segpts)};Kt.getControlPoints=function(e){var t=e[0]._private.rscratch;this.recalculateRenderedStyle(e);var r=t.edgeType;if(r==="bezier"||r==="multibezier"||r==="self"||r==="compound")return EE(t.ctrlpts)};Kt.getEdgeMidpoint=function(e){var t=e[0]._private.rscratch;return this.recalculateRenderedStyle(e),{x:t.midX,y:t.midY}};var Nu={};Nu.manualEndptToPx=function(e,t){var r=this,n=e.position(),a=e.outerWidth(),i=e.outerHeight(),o=e._private.rscratch;if(t.value.length===2){var s=[t.pfValue[0],t.pfValue[1]];return t.units[0]==="%"&&(s[0]=s[0]*a),t.units[1]==="%"&&(s[1]=s[1]*i),s[0]+=n.x,s[1]+=n.y,s}else{var u=t.pfValue[0];u=-Math.PI/2+u;var l=2*Math.max(a,i),f=[n.x+Math.cos(u)*l,n.y+Math.sin(u)*l];return r.nodeShapes[this.getNodeShape(e)].intersectLine(n.x,n.y,a,i,f[0],f[1],0,e.pstyle("corner-radius").value==="auto"?"auto":e.pstyle("corner-radius").pfValue,o)}};Nu.findEndpoints=function(e){var t=this,r,n=e.source()[0],a=e.target()[0],i=n.position(),o=a.position(),s=e.pstyle("target-arrow-shape").value,u=e.pstyle("source-arrow-shape").value,l=e.pstyle("target-distance-from-node").pfValue,f=e.pstyle("source-distance-from-node").pfValue,c=n._private.rscratch,d=a._private.rscratch,h=e.pstyle("curve-style").value,v=e._private.rscratch,p=v.edgeType,g=h==="taxi",m=p==="self"||p==="compound",y=p==="bezier"||p==="multibezier"||m,b=p!=="bezier",w=p==="straight"||p==="segments",E=p==="segments",S=y||b||w,x=m||g,M=e.pstyle("source-endpoint"),T=x?"outside-to-node":M.value,C=n.pstyle("corner-radius").value==="auto"?"auto":n.pstyle("corner-radius").pfValue,k=e.pstyle("target-endpoint"),_=x?"outside-to-node":k.value,A=a.pstyle("corner-radius").value==="auto"?"auto":a.pstyle("corner-radius").pfValue;v.srcManEndpt=M,v.tgtManEndpt=k;var D,P,R,L;if(y){var N=[v.ctrlpts[0],v.ctrlpts[1]],z=b?[v.ctrlpts[v.ctrlpts.length-2],v.ctrlpts[v.ctrlpts.length-1]]:N;D=z,P=N}else if(w){var F=E?v.segpts.slice(0,2):[o.x,o.y],I=E?v.segpts.slice(v.segpts.length-2):[i.x,i.y];D=I,P=F}if(_==="inside-to-node")r=[o.x,o.y];else if(k.units)r=this.manualEndptToPx(a,k);else if(_==="outside-to-line")r=v.tgtIntn;else if(_==="outside-to-node"||_==="outside-to-node-or-label"?R=D:(_==="outside-to-line"||_==="outside-to-line-or-label")&&(R=[i.x,i.y]),r=t.nodeShapes[this.getNodeShape(a)].intersectLine(o.x,o.y,a.outerWidth(),a.outerHeight(),R[0],R[1],0,A,d),_==="outside-to-node-or-label"||_==="outside-to-line-or-label"){var B=a._private.rscratch,V=B.labelWidth,K=B.labelHeight,j=B.labelX,Q=B.labelY,X=V/2,W=K/2,$=a.pstyle("text-valign").value;$==="top"?Q-=W:$==="bottom"&&(Q+=W);var q=a.pstyle("text-halign").value;q==="left"?j-=X:q==="right"&&(j+=X);var U=Js(R[0],R[1],[j-X,Q-W,j+X,Q-W,j+X,Q+W,j-X,Q+W],o.x,o.y);if(U.length>0){var Y=i,ie=Ga(Y,Ki(r)),J=Ga(Y,Ki(U)),re=ie;if(J<ie&&(r=U,re=J),U.length>2){var oe=Ga(Y,{x:U[2],y:U[3]});oe<re&&(r=[U[2],U[3]])}}}var ue=vl(r,D,t.arrowShapes[s].spacing(e)+l),le=vl(r,D,t.arrowShapes[s].gap(e)+l);if(v.endX=le[0],v.endY=le[1],v.arrowEndX=ue[0],v.arrowEndY=ue[1],T==="inside-to-node")r=[i.x,i.y];else if(M.units)r=this.manualEndptToPx(n,M);else if(T==="outside-to-line")r=v.srcIntn;else if(T==="outside-to-node"||T==="outside-to-node-or-label"?L=P:(T==="outside-to-line"||T==="outside-to-line-or-label")&&(L=[o.x,o.y]),r=t.nodeShapes[this.getNodeShape(n)].intersectLine(i.x,i.y,n.outerWidth(),n.outerHeight(),L[0],L[1],0,C,c),T==="outside-to-node-or-label"||T==="outside-to-line-or-label"){var ge=n._private.rscratch,He=ge.labelWidth,Ne=ge.labelHeight,ke=ge.labelX,Ge=ge.labelY,Pe=He/2,ze=Ne/2,ne=n.pstyle("text-valign").value;ne==="top"?Ge-=ze:ne==="bottom"&&(Ge+=ze);var O=n.pstyle("text-halign").value;O==="left"?ke-=Pe:O==="right"&&(ke+=Pe);var G=Js(L[0],L[1],[ke-Pe,Ge-ze,ke+Pe,Ge-ze,ke+Pe,Ge+ze,ke-Pe,Ge+ze],i.x,i.y);if(G.length>0){var ee=o,H=Ga(ee,Ki(r)),Z=Ga(ee,Ki(G)),ce=H;if(Z<H&&(r=[G[0],G[1]],ce=Z),G.length>2){var te=Ga(ee,{x:G[2],y:G[3]});te<ce&&(r=[G[2],G[3]])}}}var se=vl(r,P,t.arrowShapes[u].spacing(e)+f),pe=vl(r,P,t.arrowShapes[u].gap(e)+f);v.startX=pe[0],v.startY=pe[1],v.arrowStartX=se[0],v.arrowStartY=se[1],S&&(!fe(v.startX)||!fe(v.startY)||!fe(v.endX)||!fe(v.endY)?v.badLine=!0:v.badLine=!1)};Nu.getSourceEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[0],y:t.haystackPts[1]};default:return{x:t.arrowStartX,y:t.arrowStartY}}};Nu.getTargetEndpoint=function(e){var t=e[0]._private.rscratch;switch(this.recalculateRenderedStyle(e),t.edgeType){case"haystack":return{x:t.haystackPts[2],y:t.haystackPts[3]};default:return{x:t.arrowEndX,y:t.arrowEndY}}};var up={};function KI(e,t,r){for(var n=function(l,f,c,d){return Pt(l,f,c,d)},a=t._private,i=a.rstyle.bezierPts,o=0;o<e.bezierProjPcts.length;o++){var s=e.bezierProjPcts[o];i.push({x:n(r[0],r[2],r[4],s),y:n(r[1],r[3],r[5],s)})}}up.storeEdgeProjections=function(e){var t=e._private,r=t.rscratch,n=r.edgeType;if(t.rstyle.bezierPts=null,t.rstyle.linePts=null,t.rstyle.haystackPts=null,n==="multibezier"||n==="bezier"||n==="self"||n==="compound"){t.rstyle.bezierPts=[];for(var a=0;a+5<r.allpts.length;a+=4)KI(this,e,r.allpts.slice(a,a+6))}else if(n==="segments")for(var i=t.rstyle.linePts=[],a=0;a+1<r.allpts.length;a+=2)i.push({x:r.allpts[a],y:r.allpts[a+1]});else if(n==="haystack"){var o=r.haystackPts;t.rstyle.haystackPts=[{x:o[0],y:o[1]},{x:o[2],y:o[3]}]}t.rstyle.arrowWidth=this.getArrowWidth(e.pstyle("width").pfValue,e.pstyle("arrow-scale").value)*this.arrowShapeWidth};up.recalculateEdgeProjections=function(e){this.findEdgeControlPoints(e)};var Mn={};Mn.recalculateNodeLabelProjection=function(e){var t=e.pstyle("label").strValue;if(!Aa(t)){var r,n,a=e._private,i=e.width(),o=e.height(),s=e.padding(),u=e.position(),l=e.pstyle("text-halign").strValue,f=e.pstyle("text-valign").strValue,c=a.rscratch,d=a.rstyle;switch(l){case"left":r=u.x-i/2-s;break;case"right":r=u.x+i/2+s;break;default:r=u.x}switch(f){case"top":n=u.y-o/2-s;break;case"bottom":n=u.y+o/2+s;break;default:n=u.y}c.labelX=r,c.labelY=n,d.labelX=r,d.labelY=n,this.calculateLabelAngles(e),this.applyLabelDimensions(e)}};var TE=function(t,r){var n=Math.atan(r/t);return t===0&&n<0&&(n=n*-1),n},ME=function(t,r){var n=r.x-t.x,a=r.y-t.y;return TE(n,a)},ZI=function(t,r,n,a){var i=js(0,a-.001,1),o=js(0,a+.001,1),s=no(t,r,n,i),u=no(t,r,n,o);return ME(s,u)};Mn.recalculateEdgeLabelProjections=function(e){var t,r=e._private,n=r.rscratch,a=this,i={mid:e.pstyle("label").strValue,source:e.pstyle("source-label").strValue,target:e.pstyle("target-label").strValue};if(i.mid||i.source||i.target){t={x:n.midX,y:n.midY};var o=function(c,d,h){pa(r.rscratch,c,d,h),pa(r.rstyle,c,d,h)};o("labelX",null,t.x),o("labelY",null,t.y);var s=TE(n.midDispX,n.midDispY);o("labelAutoAngle",null,s);var u=function f(){if(f.cache)return f.cache;for(var c=[],d=0;d+5<n.allpts.length;d+=4){var h={x:n.allpts[d],y:n.allpts[d+1]},v={x:n.allpts[d+2],y:n.allpts[d+3]},p={x:n.allpts[d+4],y:n.allpts[d+5]};c.push({p0:h,p1:v,p2:p,startDist:0,length:0,segments:[]})}var g=r.rstyle.bezierPts,m=a.bezierProjPcts.length;function y(x,M,T,C,k){var _=yi(M,T),A=x.segments[x.segments.length-1],D={p0:M,p1:T,t0:C,t1:k,startDist:A?A.startDist+A.length:0,length:_};x.segments.push(D),x.length+=_}for(var b=0;b<c.length;b++){var w=c[b],E=c[b-1];E&&(w.startDist=E.startDist+E.length),y(w,w.p0,g[b*m],0,a.bezierProjPcts[0]);for(var S=0;S<m-1;S++)y(w,g[b*m+S],g[b*m+S+1],a.bezierProjPcts[S],a.bezierProjPcts[S+1]);y(w,g[b*m+m-1],w.p2,a.bezierProjPcts[m-1],1)}return f.cache=c},l=function(c){var d,h=c==="source";if(i[c]){var v=e.pstyle(c+"-text-offset").pfValue;switch(n.edgeType){case"self":case"compound":case"bezier":case"multibezier":{for(var p=u(),g,m=0,y=0,b=0;b<p.length;b++){for(var w=p[h?b:p.length-1-b],E=0;E<w.segments.length;E++){var S=w.segments[h?E:w.segments.length-1-E],x=b===p.length-1&&E===w.segments.length-1;if(m=y,y+=S.length,y>=v||x){g={cp:w,segment:S};break}}if(g)break}var M=g.cp,T=g.segment,C=(v-m)/T.length,k=T.t1-T.t0,_=h?T.t0+k*C:T.t1-k*C;_=js(0,_,1),t=no(M.p0,M.p1,M.p2,_),d=ZI(M.p0,M.p1,M.p2,_);break}case"straight":case"segments":case"haystack":{for(var A=0,D,P,R,L,N=n.allpts.length,z=0;z+3<N&&(h?(R={x:n.allpts[z],y:n.allpts[z+1]},L={x:n.allpts[z+2],y:n.allpts[z+3]}):(R={x:n.allpts[N-2-z],y:n.allpts[N-1-z]},L={x:n.allpts[N-4-z],y:n.allpts[N-3-z]}),D=yi(R,L),P=A,A+=D,!(A>=v));z+=2);var F=v-P,I=F/D;I=js(0,I,1),t=tR(R,L,I),d=ME(R,L);break}}o("labelX",c,t.x),o("labelY",c,t.y),o("labelAutoAngle",c,d)}};l("source"),l("target"),this.applyLabelDimensions(e)}};Mn.applyLabelDimensions=function(e){this.applyPrefixedLabelDimensions(e),e.isEdge()&&(this.applyPrefixedLabelDimensions(e,"source"),this.applyPrefixedLabelDimensions(e,"target"))};Mn.applyPrefixedLabelDimensions=function(e,t){var r=e._private,n=this.getLabelText(e,t),a=this.calculateLabelDimensions(e,n),i=e.pstyle("line-height").pfValue,o=e.pstyle("text-wrap").strValue,s=Yr(r.rscratch,"labelWrapCachedLines",t)||[],u=o!=="wrap"?1:Math.max(s.length,1),l=a.height/u,f=l*i,c=a.width,d=a.height+(u-1)*(i-1)*l;pa(r.rstyle,"labelWidth",t,c),pa(r.rscratch,"labelWidth",t,c),pa(r.rstyle,"labelHeight",t,d),pa(r.rscratch,"labelHeight",t,d),pa(r.rscratch,"labelLineHeight",t,f)};Mn.getLabelText=function(e,t){var r=e._private,n=t?t+"-":"",a=e.pstyle(n+"label").strValue,i=e.pstyle("text-transform").value,o=function(V,K){return K?(pa(r.rscratch,V,t,K),K):Yr(r.rscratch,V,t)};if(!a)return"";i=="none"||(i=="uppercase"?a=a.toUpperCase():i=="lowercase"&&(a=a.toLowerCase()));var s=e.pstyle("text-wrap").value;if(s==="wrap"){var u=o("labelKey");if(u!=null&&o("labelWrapKey")===u)return o("labelWrapCachedText");for(var l="",f=a.split(`
`),c=e.pstyle("text-max-width").pfValue,d=e.pstyle("text-overflow-wrap").value,h=d==="anywhere",v=[],p=/[\s\u200b]+|$/g,g=0;g<f.length;g++){var m=f[g],y=this.calculateLabelDimensions(e,m),b=y.width;if(h){var w=m.split("").join(l);m=w}if(b>c){var E=m.matchAll(p),S="",x=0,M=s5(E),T;try{for(M.s();!(T=M.n()).done;){var C=T.value,k=C[0],_=m.substring(x,C.index);x=C.index+k.length;var A=S.length===0?_:S+_+k,D=this.calculateLabelDimensions(e,A),P=D.width;P<=c?S+=_+k:(S&&v.push(S),S=_+k)}}catch(B){M.e(B)}finally{M.f()}S.match(/^[\s\u200b]+$/)||v.push(S)}else v.push(m)}o("labelWrapCachedLines",v),a=o("labelWrapCachedText",v.join(`
`)),o("labelWrapKey",u)}else if(s==="ellipsis"){var R=e.pstyle("text-max-width").pfValue,L="",N="",z=!1;if(this.calculateLabelDimensions(e,a).width<R)return a;for(var F=0;F<a.length;F++){var I=this.calculateLabelDimensions(e,L+a[F]+N).width;if(I>R)break;L+=a[F],F===a.length-1&&(z=!0)}return z||(L+=N),L}return a};Mn.getLabelJustification=function(e){var t=e.pstyle("text-justification").strValue,r=e.pstyle("text-halign").strValue;if(t==="auto")if(e.isNode())switch(r){case"left":return"right";case"right":return"left";default:return"center"}else return"center";else return t};Mn.calculateLabelDimensions=function(e,t){var r=this,n=r.cy.window(),a=n.document,i=mi(t,e._private.labelDimsKey),o=r.labelDimCache||(r.labelDimCache=[]),s=o[i];if(s!=null)return s;var u=0,l=e.pstyle("font-style").strValue,f=e.pstyle("font-size").pfValue,c=e.pstyle("font-family").strValue,d=e.pstyle("font-weight").strValue,h=this.labelCalcCanvas,v=this.labelCalcCanvasContext;if(!h){h=this.labelCalcCanvas=a.createElement("canvas"),v=this.labelCalcCanvasContext=h.getContext("2d");var p=h.style;p.position="absolute",p.left="-9999px",p.top="-9999px",p.zIndex="-1",p.visibility="hidden",p.pointerEvents="none"}v.font="".concat(l," ").concat(d," ").concat(f,"px ").concat(c);for(var g=0,m=0,y=t.split(`
`),b=0;b<y.length;b++){var w=y[b],E=v.measureText(w),S=Math.ceil(E.width),x=f;g=Math.max(S,g),m+=x}return g+=u,m+=u,o[i]={width:g,height:m}};Mn.calculateLabelAngle=function(e,t){var r=e._private,n=r.rscratch,a=e.isEdge(),i=t?t+"-":"",o=e.pstyle(i+"text-rotation"),s=o.strValue;return s==="none"?0:a&&s==="autorotate"?n.labelAutoAngle:s==="autorotate"?0:o.pfValue};Mn.calculateLabelAngles=function(e){var t=this,r=e.isEdge(),n=e._private,a=n.rscratch;a.labelAngle=t.calculateLabelAngle(e),r&&(a.sourceLabelAngle=t.calculateLabelAngle(e,"source"),a.targetLabelAngle=t.calculateLabelAngle(e,"target"))};var kE={},Zy=28,Qy=!1;kE.getNodeShape=function(e){var t=this,r=e.pstyle("shape").value;if(r==="cutrectangle"&&(e.width()<Zy||e.height()<Zy))return Qy||(Ke("The `cutrectangle` node shape can not be used at small sizes so `rectangle` is used instead"),Qy=!0),"rectangle";if(e.isParent())return r==="rectangle"||r==="roundrectangle"||r==="round-rectangle"||r==="cutrectangle"||r==="cut-rectangle"||r==="barrel"?r:"rectangle";if(r==="polygon"){var n=e.pstyle("shape-polygon-points").value;return t.nodeShapes.makePolygon(n).name}return r};var Fc={};Fc.registerCalculationListeners=function(){var e=this.cy,t=e.collection(),r=this,n=function(o){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(t.merge(o),s)for(var u=0;u<o.length;u++){var l=o[u],f=l._private,c=f.rstyle;c.clean=!1,c.cleanConnected=!1}};r.binder(e).on("bounds.* dirty.*",function(o){var s=o.target;n(s)}).on("style.* background.*",function(o){var s=o.target;n(s,!1)});var a=function(o){if(o){var s=r.onUpdateEleCalcsFns;t.cleanStyle();for(var u=0;u<t.length;u++){var l=t[u],f=l._private.rstyle;l.isNode()&&!f.cleanConnected&&(n(l.connectedEdges()),f.cleanConnected=!0)}if(s)for(var c=0;c<s.length;c++){var d=s[c];d(o,t)}r.recalculateRenderedStyle(t),t=e.collection()}};r.flushRenderedStyleQueue=function(){a(!0)},r.beforeRender(a,r.beforeRenderPriorities.eleCalcs)};Fc.onUpdateEleCalcs=function(e){var t=this.onUpdateEleCalcsFns=this.onUpdateEleCalcsFns||[];t.push(e)};Fc.recalculateRenderedStyle=function(e,t){var r=function(w){return w._private.rstyle.cleanConnected},n=[],a=[];if(!this.destroyed){t===void 0&&(t=!0);for(var i=0;i<e.length;i++){var o=e[i],s=o._private,u=s.rstyle;o.isEdge()&&(!r(o.source())||!r(o.target()))&&(u.clean=!1),!(t&&u.clean||o.removed())&&o.pstyle("display").value!=="none"&&(s.group==="nodes"?a.push(o):n.push(o),u.clean=!0)}for(var l=0;l<a.length;l++){var f=a[l],c=f._private,d=c.rstyle,h=f.position();this.recalculateNodeLabelProjection(f),d.nodeX=h.x,d.nodeY=h.y,d.nodeW=f.pstyle("width").pfValue,d.nodeH=f.pstyle("height").pfValue}this.recalculateEdgeProjections(n);for(var v=0;v<n.length;v++){var p=n[v],g=p._private,m=g.rstyle,y=g.rscratch;m.srcX=y.arrowStartX,m.srcY=y.arrowStartY,m.tgtX=y.arrowEndX,m.tgtY=y.arrowEndY,m.midX=y.midX,m.midY=y.midY,m.labelAngle=y.labelAngle,m.sourceLabelAngle=y.sourceLabelAngle,m.targetLabelAngle=y.targetLabelAngle}}};var zc={};zc.updateCachedGrabbedEles=function(){var e=this.cachedZSortedEles;if(e){e.drag=[],e.nondrag=[];for(var t=[],r=0;r<e.length;r++){var n=e[r],a=n._private.rscratch;n.grabbed()&&!n.isParent()?t.push(n):a.inDragLayer?e.drag.push(n):e.nondrag.push(n)}for(var r=0;r<t.length;r++){var n=t[r];e.drag.push(n)}}};zc.invalidateCachedZSortedEles=function(){this.cachedZSortedEles=null};zc.getCachedZSortedEles=function(e){if(e||!this.cachedZSortedEles){var t=this.cy.mutableElements().toArray();t.sort(lE),t.interactive=t.filter(function(r){return r.interactive()}),this.cachedZSortedEles=t,this.updateCachedGrabbedEles()}else t=this.cachedZSortedEles;return t};var CE={};[Ai,Nf,Kt,Nu,up,Mn,kE,Fc,zc].forEach(function(e){we(CE,e)});var DE={};DE.getCachedImage=function(e,t,r){var n=this,a=n.imageCache=n.imageCache||{},i=a[e];if(i)return i.image.complete||i.image.addEventListener("load",r),i.image;i=a[e]=a[e]||{};var o=i.image=new Image;o.addEventListener("load",r),o.addEventListener("error",function(){o.error=!0});var s="data:",u=e.substring(0,s.length).toLowerCase()===s;return u||(t=t==="null"?null:t,o.crossOrigin=t),o.src=e,o};var Vo={};Vo.registerBinding=function(e,t,r,n){var a=Array.prototype.slice.apply(arguments,[1]);if(Array.isArray(e)){for(var i=[],o=0;o<e.length;o++){var s=e[o];if(s!==void 0){var u=this.binder(s);i.push(u.on.apply(u,a))}}return i}var u=this.binder(e);return u.on.apply(u,a)};Vo.binder=function(e){var t=this,r=t.cy.window(),n=e===r||e===r.document||e===r.document.body||xA(e);if(t.supportsPassiveEvents==null){var a=!1;try{var i=Object.defineProperty({},"passive",{get:function(){return a=!0,!0}});r.addEventListener("test",null,i)}catch{}t.supportsPassiveEvents=a}var o=function(u,l,f){var c=Array.prototype.slice.call(arguments);return n&&t.supportsPassiveEvents&&(c[2]={capture:f??!1,passive:!1,once:!1}),t.bindings.push({target:e,args:c}),(e.addEventListener||e.on).apply(e,c),this};return{on:o,addEventListener:o,addListener:o,bind:o}};Vo.nodeIsDraggable=function(e){return e&&e.isNode()&&!e.locked()&&e.grabbable()};Vo.nodeIsGrabbable=function(e){return this.nodeIsDraggable(e)&&e.interactive()};Vo.load=function(){var e=this,t=e.cy.window(),r=function(O){return O.selected()},n=function(O){var G=O.getRootNode();if(G&&G.nodeType===11&&G.host!==void 0)return G},a=function(O,G,ee,H){O==null&&(O=e.cy);for(var Z=0;Z<G.length;Z++){var ce=G[Z];O.emit({originalEvent:ee,type:ce,position:H})}},i=function(O){return O.shiftKey||O.metaKey||O.ctrlKey},o=function(O,G){var ee=!0;if(e.cy.hasCompoundNodes()&&O&&O.pannable())for(var H=0;G&&H<G.length;H++){var O=G[H];if(O.isNode()&&O.isParent()&&!O.pannable()){ee=!1;break}}else ee=!0;return ee},s=function(O){O[0]._private.grabbed=!0},u=function(O){O[0]._private.grabbed=!1},l=function(O){O[0]._private.rscratch.inDragLayer=!0},f=function(O){O[0]._private.rscratch.inDragLayer=!1},c=function(O){O[0]._private.rscratch.isGrabTarget=!0},d=function(O){O[0]._private.rscratch.isGrabTarget=!1},h=function(O,G){var ee=G.addToList,H=ee.has(O);!H&&O.grabbable()&&!O.locked()&&(ee.merge(O),s(O))},v=function(O,G){if(O.cy().hasCompoundNodes()&&!(G.inDragLayer==null&&G.addToList==null)){var ee=O.descendants();G.inDragLayer&&(ee.forEach(l),ee.connectedEdges().forEach(l)),G.addToList&&h(ee,G)}},p=function(O,G){G=G||{};var ee=O.cy().hasCompoundNodes();G.inDragLayer&&(O.forEach(l),O.neighborhood().stdFilter(function(H){return!ee||H.isEdge()}).forEach(l)),G.addToList&&O.forEach(function(H){h(H,G)}),v(O,G),y(O,{inDragLayer:G.inDragLayer}),e.updateCachedGrabbedEles()},g=p,m=function(O){O&&(e.getCachedZSortedEles().forEach(function(G){u(G),f(G),d(G)}),e.updateCachedGrabbedEles())},y=function(O,G){if(!(G.inDragLayer==null&&G.addToList==null)&&O.cy().hasCompoundNodes()){var ee=O.ancestors().orphans();if(!ee.same(O)){var H=ee.descendants().spawnSelf().merge(ee).unmerge(O).unmerge(O.descendants()),Z=H.connectedEdges();G.inDragLayer&&(Z.forEach(l),H.forEach(l)),G.addToList&&H.forEach(function(ce){h(ce,G)})}}},b=function(){document.activeElement!=null&&document.activeElement.blur!=null&&document.activeElement.blur()},w=typeof MutationObserver<"u",E=typeof ResizeObserver<"u";w?(e.removeObserver=new MutationObserver(function(ne){for(var O=0;O<ne.length;O++){var G=ne[O],ee=G.removedNodes;if(ee)for(var H=0;H<ee.length;H++){var Z=ee[H];if(Z===e.container){e.destroy();break}}}}),e.container.parentNode&&e.removeObserver.observe(e.container.parentNode,{childList:!0})):e.registerBinding(e.container,"DOMNodeRemoved",function(ne){e.destroy()});var S=Mc(function(){e.cy.resize()},100);w&&(e.styleObserver=new MutationObserver(S),e.styleObserver.observe(e.container,{attributes:!0})),e.registerBinding(t,"resize",S),E&&(e.resizeObserver=new ResizeObserver(S),e.resizeObserver.observe(e.container));var x=function(O,G){for(;O!=null;)G(O),O=O.parentNode},M=function(){e.invalidateContainerClientCoordsCache()};x(e.container,function(ne){e.registerBinding(ne,"transitionend",M),e.registerBinding(ne,"animationend",M),e.registerBinding(ne,"scroll",M)}),e.registerBinding(e.container,"contextmenu",function(ne){ne.preventDefault()});var T=function(){return e.selection[4]!==0},C=function(O){for(var G=e.findContainerClientCoords(),ee=G[0],H=G[1],Z=G[2],ce=G[3],te=O.touches?O.touches:[O],se=!1,pe=0;pe<te.length;pe++){var Se=te[pe];if(ee<=Se.clientX&&Se.clientX<=ee+Z&&H<=Se.clientY&&Se.clientY<=H+ce){se=!0;break}}if(!se)return!1;for(var me=e.container,Ee=O.target,Te=Ee.parentNode,xe=!1;Te;){if(Te===me){xe=!0;break}Te=Te.parentNode}return!!xe};e.registerBinding(e.container,"mousedown",function(O){if(C(O)&&!(e.hoverData.which===1&&O.which!==1)){O.preventDefault(),b(),e.hoverData.capture=!0,e.hoverData.which=O.which;var G=e.cy,ee=[O.clientX,O.clientY],H=e.projectIntoViewport(ee[0],ee[1]),Z=e.selection,ce=e.findNearestElements(H[0],H[1],!0,!1),te=ce[0],se=e.dragData.possibleDragElements;e.hoverData.mdownPos=H,e.hoverData.mdownGPos=ee;var pe=function(){e.hoverData.tapholdCancelled=!1,clearTimeout(e.hoverData.tapholdTimeout),e.hoverData.tapholdTimeout=setTimeout(function(){if(!e.hoverData.tapholdCancelled){var tt=e.hoverData.down;tt?tt.emit({originalEvent:O,type:"taphold",position:{x:H[0],y:H[1]}}):G.emit({originalEvent:O,type:"taphold",position:{x:H[0],y:H[1]}})}},e.tapholdDuration)};if(O.which==3){e.hoverData.cxtStarted=!0;var Se={originalEvent:O,type:"cxttapstart",position:{x:H[0],y:H[1]}};te?(te.activate(),te.emit(Se),e.hoverData.down=te):G.emit(Se),e.hoverData.downTime=new Date().getTime(),e.hoverData.cxtDragged=!1}else if(O.which==1){te&&te.activate();{if(te!=null&&e.nodeIsGrabbable(te)){var me=function(tt){return{originalEvent:O,type:tt,position:{x:H[0],y:H[1]}}},Ee=function(tt){tt.emit(me("grab"))};if(c(te),!te.selected())se=e.dragData.possibleDragElements=G.collection(),g(te,{addToList:se}),te.emit(me("grabon")).emit(me("grab"));else{se=e.dragData.possibleDragElements=G.collection();var Te=G.$(function(xe){return xe.isNode()&&xe.selected()&&e.nodeIsGrabbable(xe)});p(Te,{addToList:se}),te.emit(me("grabon")),Te.forEach(Ee)}e.redrawHint("eles",!0),e.redrawHint("drag",!0)}e.hoverData.down=te,e.hoverData.downs=ce,e.hoverData.downTime=new Date().getTime()}a(te,["mousedown","tapstart","vmousedown"],O,{x:H[0],y:H[1]}),te==null?(Z[4]=1,e.data.bgActivePosistion={x:H[0],y:H[1]},e.redrawHint("select",!0),e.redraw()):te.pannable()&&(Z[4]=1),pe()}Z[0]=Z[2]=H[0],Z[1]=Z[3]=H[1]}},!1);var k=n(e.container);e.registerBinding([t,k],"mousemove",function(O){var G=e.hoverData.capture;if(!(!G&&!C(O))){var ee=!1,H=e.cy,Z=H.zoom(),ce=[O.clientX,O.clientY],te=e.projectIntoViewport(ce[0],ce[1]),se=e.hoverData.mdownPos,pe=e.hoverData.mdownGPos,Se=e.selection,me=null;!e.hoverData.draggingEles&&!e.hoverData.dragging&&!e.hoverData.selecting&&(me=e.findNearestElement(te[0],te[1],!0,!1));var Ee=e.hoverData.last,Te=e.hoverData.down,xe=[te[0]-Se[2],te[1]-Se[3]],tt=e.dragData.possibleDragElements,lt;if(pe){var cr=ce[0]-pe[0],dr=cr*cr,yt=ce[1]-pe[1],kt=yt*yt,Ct=dr+kt;e.hoverData.isOverThresholdDrag=lt=Ct>=e.desktopTapThreshold2}var Zt=i(O);lt&&(e.hoverData.tapholdCancelled=!0);var Qt=function(){var an=e.hoverData.dragDelta=e.hoverData.dragDelta||[];an.length===0?(an.push(xe[0]),an.push(xe[1])):(an[0]+=xe[0],an[1]+=xe[1])};ee=!0,a(me,["mousemove","vmousemove","tapdrag"],O,{x:te[0],y:te[1]});var rn=function(){e.data.bgActivePosistion=void 0,e.hoverData.selecting||H.emit({originalEvent:O,type:"boxstart",position:{x:te[0],y:te[1]}}),Se[4]=1,e.hoverData.selecting=!0,e.redrawHint("select",!0),e.redraw()};if(e.hoverData.which===3){if(lt){var wr={originalEvent:O,type:"cxtdrag",position:{x:te[0],y:te[1]}};Te?Te.emit(wr):H.emit(wr),e.hoverData.cxtDragged=!0,(!e.hoverData.cxtOver||me!==e.hoverData.cxtOver)&&(e.hoverData.cxtOver&&e.hoverData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:te[0],y:te[1]}}),e.hoverData.cxtOver=me,me&&me.emit({originalEvent:O,type:"cxtdragover",position:{x:te[0],y:te[1]}}))}}else if(e.hoverData.dragging){if(ee=!0,H.panningEnabled()&&H.userPanningEnabled()){var nn;if(e.hoverData.justStartedPan){var _n=e.hoverData.mdownPos;nn={x:(te[0]-_n[0])*Z,y:(te[1]-_n[1])*Z},e.hoverData.justStartedPan=!1}else nn={x:xe[0]*Z,y:xe[1]*Z};H.panBy(nn),H.emit("dragpan"),e.hoverData.dragged=!0}te=e.projectIntoViewport(O.clientX,O.clientY)}else if(Se[4]==1&&(Te==null||Te.pannable())){if(lt){if(!e.hoverData.dragging&&H.boxSelectionEnabled()&&(Zt||!H.panningEnabled()||!H.userPanningEnabled()))rn();else if(!e.hoverData.selecting&&H.panningEnabled()&&H.userPanningEnabled()){var Pn=o(Te,e.hoverData.downs);Pn&&(e.hoverData.dragging=!0,e.hoverData.justStartedPan=!0,Se[4]=0,e.data.bgActivePosistion=Ki(se),e.redrawHint("select",!0),e.redraw())}Te&&Te.pannable()&&Te.active()&&Te.unactivate()}}else{if(Te&&Te.pannable()&&Te.active()&&Te.unactivate(),(!Te||!Te.grabbed())&&me!=Ee&&(Ee&&a(Ee,["mouseout","tapdragout"],O,{x:te[0],y:te[1]}),me&&a(me,["mouseover","tapdragover"],O,{x:te[0],y:te[1]}),e.hoverData.last=me),Te)if(lt){if(H.boxSelectionEnabled()&&Zt)Te&&Te.grabbed()&&(m(tt),Te.emit("freeon"),tt.emit("free"),e.dragData.didDrag&&(Te.emit("dragfreeon"),tt.emit("dragfree"))),rn();else if(Te&&Te.grabbed()&&e.nodeIsDraggable(Te)){var zt=!e.dragData.didDrag;zt&&e.redrawHint("eles",!0),e.dragData.didDrag=!0,e.hoverData.draggingEles||p(tt,{inDragLayer:!0});var Dt={x:0,y:0};if(fe(xe[0])&&fe(xe[1])&&(Dt.x+=xe[0],Dt.y+=xe[1],zt)){var rr=e.hoverData.dragDelta;rr&&fe(rr[0])&&fe(rr[1])&&(Dt.x+=rr[0],Dt.y+=rr[1])}e.hoverData.draggingEles=!0,tt.silentShift(Dt).emit("position drag"),e.redrawHint("drag",!0),e.redraw()}}else Qt();ee=!0}if(Se[2]=te[0],Se[3]=te[1],ee)return O.stopPropagation&&O.stopPropagation(),O.preventDefault&&O.preventDefault(),!1}},!1);var _,A,D;e.registerBinding(t,"mouseup",function(O){if(!(e.hoverData.which===1&&O.which!==1&&e.hoverData.capture)){var G=e.hoverData.capture;if(G){e.hoverData.capture=!1;var ee=e.cy,H=e.projectIntoViewport(O.clientX,O.clientY),Z=e.selection,ce=e.findNearestElement(H[0],H[1],!0,!1),te=e.dragData.possibleDragElements,se=e.hoverData.down,pe=i(O);if(e.data.bgActivePosistion&&(e.redrawHint("select",!0),e.redraw()),e.hoverData.tapholdCancelled=!0,e.data.bgActivePosistion=void 0,se&&se.unactivate(),e.hoverData.which===3){var Se={originalEvent:O,type:"cxttapend",position:{x:H[0],y:H[1]}};if(se?se.emit(Se):ee.emit(Se),!e.hoverData.cxtDragged){var me={originalEvent:O,type:"cxttap",position:{x:H[0],y:H[1]}};se?se.emit(me):ee.emit(me)}e.hoverData.cxtDragged=!1,e.hoverData.which=null}else if(e.hoverData.which===1){if(a(ce,["mouseup","tapend","vmouseup"],O,{x:H[0],y:H[1]}),!e.dragData.didDrag&&!e.hoverData.dragged&&!e.hoverData.selecting&&!e.hoverData.isOverThresholdDrag&&(a(se,["click","tap","vclick"],O,{x:H[0],y:H[1]}),A=!1,O.timeStamp-D<=ee.multiClickDebounceTime()?(_&&clearTimeout(_),A=!0,D=null,a(se,["dblclick","dbltap","vdblclick"],O,{x:H[0],y:H[1]})):(_=setTimeout(function(){A||a(se,["oneclick","onetap","voneclick"],O,{x:H[0],y:H[1]})},ee.multiClickDebounceTime()),D=O.timeStamp)),se==null&&!e.dragData.didDrag&&!e.hoverData.selecting&&!e.hoverData.dragged&&!i(O)&&(ee.$(r).unselect(["tapunselect"]),te.length>0&&e.redrawHint("eles",!0),e.dragData.possibleDragElements=te=ee.collection()),ce==se&&!e.dragData.didDrag&&!e.hoverData.selecting&&ce!=null&&ce._private.selectable&&(e.hoverData.dragging||(ee.selectionType()==="additive"||pe?ce.selected()?ce.unselect(["tapunselect"]):ce.select(["tapselect"]):pe||(ee.$(r).unmerge(ce).unselect(["tapunselect"]),ce.select(["tapselect"]))),e.redrawHint("eles",!0)),e.hoverData.selecting){var Ee=ee.collection(e.getAllInBox(Z[0],Z[1],Z[2],Z[3]));e.redrawHint("select",!0),Ee.length>0&&e.redrawHint("eles",!0),ee.emit({type:"boxend",originalEvent:O,position:{x:H[0],y:H[1]}});var Te=function(lt){return lt.selectable()&&!lt.selected()};ee.selectionType()==="additive"||pe||ee.$(r).unmerge(Ee).unselect(),Ee.emit("box").stdFilter(Te).select().emit("boxselect"),e.redraw()}if(e.hoverData.dragging&&(e.hoverData.dragging=!1,e.redrawHint("select",!0),e.redrawHint("eles",!0),e.redraw()),!Z[4]){e.redrawHint("drag",!0),e.redrawHint("eles",!0);var xe=se&&se.grabbed();m(te),xe&&(se.emit("freeon"),te.emit("free"),e.dragData.didDrag&&(se.emit("dragfreeon"),te.emit("dragfree")))}}Z[4]=0,e.hoverData.down=null,e.hoverData.cxtStarted=!1,e.hoverData.draggingEles=!1,e.hoverData.selecting=!1,e.hoverData.isOverThresholdDrag=!1,e.dragData.didDrag=!1,e.hoverData.dragged=!1,e.hoverData.dragDelta=[],e.hoverData.mdownPos=null,e.hoverData.mdownGPos=null,e.hoverData.which=null}}},!1);var P=function(O){if(!e.scrollingPage){var G=e.cy,ee=G.zoom(),H=G.pan(),Z=e.projectIntoViewport(O.clientX,O.clientY),ce=[Z[0]*ee+H.x,Z[1]*ee+H.y];if(e.hoverData.draggingEles||e.hoverData.dragging||e.hoverData.cxtStarted||T()){O.preventDefault();return}if(G.panningEnabled()&&G.userPanningEnabled()&&G.zoomingEnabled()&&G.userZoomingEnabled()){O.preventDefault(),e.data.wheelZooming=!0,clearTimeout(e.data.wheelTimeout),e.data.wheelTimeout=setTimeout(function(){e.data.wheelZooming=!1,e.redrawHint("eles",!0),e.redraw()},150);var te;O.deltaY!=null?te=O.deltaY/-250:O.wheelDeltaY!=null?te=O.wheelDeltaY/1e3:te=O.wheelDelta/1e3,te=te*e.wheelSensitivity;var se=O.deltaMode===1;se&&(te*=33);var pe=G.zoom()*Math.pow(10,te);O.type==="gesturechange"&&(pe=e.gestureStartZoom*O.scale),G.zoom({level:pe,renderedPosition:{x:ce[0],y:ce[1]}}),G.emit(O.type==="gesturechange"?"pinchzoom":"scrollzoom")}}};e.registerBinding(e.container,"wheel",P,!0),e.registerBinding(t,"scroll",function(O){e.scrollingPage=!0,clearTimeout(e.scrollingPageTimeout),e.scrollingPageTimeout=setTimeout(function(){e.scrollingPage=!1},250)},!0),e.registerBinding(e.container,"gesturestart",function(O){e.gestureStartZoom=e.cy.zoom(),e.hasTouchStarted||O.preventDefault()},!0),e.registerBinding(e.container,"gesturechange",function(ne){e.hasTouchStarted||P(ne)},!0),e.registerBinding(e.container,"mouseout",function(O){var G=e.projectIntoViewport(O.clientX,O.clientY);e.cy.emit({originalEvent:O,type:"mouseout",position:{x:G[0],y:G[1]}})},!1),e.registerBinding(e.container,"mouseover",function(O){var G=e.projectIntoViewport(O.clientX,O.clientY);e.cy.emit({originalEvent:O,type:"mouseover",position:{x:G[0],y:G[1]}})},!1);var R,L,N,z,F,I,B,V,K,j,Q,X,W,$=function(O,G,ee,H){return Math.sqrt((ee-O)*(ee-O)+(H-G)*(H-G))},q=function(O,G,ee,H){return(ee-O)*(ee-O)+(H-G)*(H-G)},U;e.registerBinding(e.container,"touchstart",U=function(O){if(e.hasTouchStarted=!0,!!C(O)){b(),e.touchData.capture=!0,e.data.bgActivePosistion=void 0;var G=e.cy,ee=e.touchData.now,H=e.touchData.earlier;if(O.touches[0]){var Z=e.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);ee[0]=Z[0],ee[1]=Z[1]}if(O.touches[1]){var Z=e.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);ee[2]=Z[0],ee[3]=Z[1]}if(O.touches[2]){var Z=e.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);ee[4]=Z[0],ee[5]=Z[1]}if(O.touches[1]){e.touchData.singleTouchMoved=!0,m(e.dragData.touchDragEles);var ce=e.findContainerClientCoords();K=ce[0],j=ce[1],Q=ce[2],X=ce[3],R=O.touches[0].clientX-K,L=O.touches[0].clientY-j,N=O.touches[1].clientX-K,z=O.touches[1].clientY-j,W=0<=R&&R<=Q&&0<=N&&N<=Q&&0<=L&&L<=X&&0<=z&&z<=X;var te=G.pan(),se=G.zoom();F=$(R,L,N,z),I=q(R,L,N,z),B=[(R+N)/2,(L+z)/2],V=[(B[0]-te.x)/se,(B[1]-te.y)/se];var pe=200,Se=pe*pe;if(I<Se&&!O.touches[2]){var me=e.findNearestElement(ee[0],ee[1],!0,!0),Ee=e.findNearestElement(ee[2],ee[3],!0,!0);me&&me.isNode()?(me.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:ee[0],y:ee[1]}}),e.touchData.start=me):Ee&&Ee.isNode()?(Ee.activate().emit({originalEvent:O,type:"cxttapstart",position:{x:ee[0],y:ee[1]}}),e.touchData.start=Ee):G.emit({originalEvent:O,type:"cxttapstart",position:{x:ee[0],y:ee[1]}}),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!0,e.touchData.cxtDragged=!1,e.data.bgActivePosistion=void 0,e.redraw();return}}if(O.touches[2])G.boxSelectionEnabled()&&O.preventDefault();else if(!O.touches[1]){if(O.touches[0]){var Te=e.findNearestElements(ee[0],ee[1],!0,!0),xe=Te[0];if(xe!=null&&(xe.activate(),e.touchData.start=xe,e.touchData.starts=Te,e.nodeIsGrabbable(xe))){var tt=e.dragData.touchDragEles=G.collection(),lt=null;e.redrawHint("eles",!0),e.redrawHint("drag",!0),xe.selected()?(lt=G.$(function(Ct){return Ct.selected()&&e.nodeIsGrabbable(Ct)}),p(lt,{addToList:tt})):g(xe,{addToList:tt}),c(xe);var cr=function(Zt){return{originalEvent:O,type:Zt,position:{x:ee[0],y:ee[1]}}};xe.emit(cr("grabon")),lt?lt.forEach(function(Ct){Ct.emit(cr("grab"))}):xe.emit(cr("grab"))}a(xe,["touchstart","tapstart","vmousedown"],O,{x:ee[0],y:ee[1]}),xe==null&&(e.data.bgActivePosistion={x:Z[0],y:Z[1]},e.redrawHint("select",!0),e.redraw()),e.touchData.singleTouchMoved=!1,e.touchData.singleTouchStartTime=+new Date,clearTimeout(e.touchData.tapholdTimeout),e.touchData.tapholdTimeout=setTimeout(function(){e.touchData.singleTouchMoved===!1&&!e.pinching&&!e.touchData.selecting&&a(e.touchData.start,["taphold"],O,{x:ee[0],y:ee[1]})},e.tapholdDuration)}}if(O.touches.length>=1){for(var dr=e.touchData.startPosition=[null,null,null,null,null,null],yt=0;yt<ee.length;yt++)dr[yt]=H[yt]=ee[yt];var kt=O.touches[0];e.touchData.startGPosition=[kt.clientX,kt.clientY]}}},!1);var Y;e.registerBinding(t,"touchmove",Y=function(O){var G=e.touchData.capture;if(!(!G&&!C(O))){var ee=e.selection,H=e.cy,Z=e.touchData.now,ce=e.touchData.earlier,te=H.zoom();if(O.touches[0]){var se=e.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);Z[0]=se[0],Z[1]=se[1]}if(O.touches[1]){var se=e.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);Z[2]=se[0],Z[3]=se[1]}if(O.touches[2]){var se=e.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);Z[4]=se[0],Z[5]=se[1]}var pe=e.touchData.startGPosition,Se;if(G&&O.touches[0]&&pe){for(var me=[],Ee=0;Ee<Z.length;Ee++)me[Ee]=Z[Ee]-ce[Ee];var Te=O.touches[0].clientX-pe[0],xe=Te*Te,tt=O.touches[0].clientY-pe[1],lt=tt*tt,cr=xe+lt;Se=cr>=e.touchTapThreshold2}if(G&&e.touchData.cxt){O.preventDefault();var dr=O.touches[0].clientX-K,yt=O.touches[0].clientY-j,kt=O.touches[1].clientX-K,Ct=O.touches[1].clientY-j,Zt=q(dr,yt,kt,Ct),Qt=Zt/I,rn=150,wr=rn*rn,nn=1.5,_n=nn*nn;if(Qt>=_n||Zt>=wr){e.touchData.cxt=!1,e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Pn={originalEvent:O,type:"cxttapend",position:{x:Z[0],y:Z[1]}};e.touchData.start?(e.touchData.start.unactivate().emit(Pn),e.touchData.start=null):H.emit(Pn)}}if(G&&e.touchData.cxt){var Pn={originalEvent:O,type:"cxtdrag",position:{x:Z[0],y:Z[1]}};e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.touchData.start?e.touchData.start.emit(Pn):H.emit(Pn),e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxtDragged=!0;var zt=e.findNearestElement(Z[0],Z[1],!0,!0);(!e.touchData.cxtOver||zt!==e.touchData.cxtOver)&&(e.touchData.cxtOver&&e.touchData.cxtOver.emit({originalEvent:O,type:"cxtdragout",position:{x:Z[0],y:Z[1]}}),e.touchData.cxtOver=zt,zt&&zt.emit({originalEvent:O,type:"cxtdragover",position:{x:Z[0],y:Z[1]}}))}else if(G&&O.touches[2]&&H.boxSelectionEnabled())O.preventDefault(),e.data.bgActivePosistion=void 0,this.lastThreeTouch=+new Date,e.touchData.selecting||H.emit({originalEvent:O,type:"boxstart",position:{x:Z[0],y:Z[1]}}),e.touchData.selecting=!0,e.touchData.didSelect=!0,ee[4]=1,!ee||ee.length===0||ee[0]===void 0?(ee[0]=(Z[0]+Z[2]+Z[4])/3,ee[1]=(Z[1]+Z[3]+Z[5])/3,ee[2]=(Z[0]+Z[2]+Z[4])/3+1,ee[3]=(Z[1]+Z[3]+Z[5])/3+1):(ee[2]=(Z[0]+Z[2]+Z[4])/3,ee[3]=(Z[1]+Z[3]+Z[5])/3),e.redrawHint("select",!0),e.redraw();else if(G&&O.touches[1]&&!e.touchData.didSelect&&H.zoomingEnabled()&&H.panningEnabled()&&H.userZoomingEnabled()&&H.userPanningEnabled()){O.preventDefault(),e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var Dt=e.dragData.touchDragEles;if(Dt){e.redrawHint("drag",!0);for(var rr=0;rr<Dt.length;rr++){var Vu=Dt[rr]._private;Vu.grabbed=!1,Vu.rscratch.inDragLayer=!1}}var an=e.touchData.start,dr=O.touches[0].clientX-K,yt=O.touches[0].clientY-j,kt=O.touches[1].clientX-K,Ct=O.touches[1].clientY-j,Rp=$(dr,yt,kt,Ct),NT=Rp/F;if(W){var IT=dr-R,BT=yt-L,FT=kt-N,zT=Ct-z,YT=(IT+FT)/2,qT=(BT+zT)/2,Ko=H.zoom(),jc=Ko*NT,Wu=H.pan(),Lp=V[0]*Ko+Wu.x,$p=V[1]*Ko+Wu.y,VT={x:-jc/Ko*(Lp-Wu.x-YT)+Lp,y:-jc/Ko*($p-Wu.y-qT)+$p};if(an&&an.active()){var Dt=e.dragData.touchDragEles;m(Dt),e.redrawHint("drag",!0),e.redrawHint("eles",!0),an.unactivate().emit("freeon"),Dt.emit("free"),e.dragData.didDrag&&(an.emit("dragfreeon"),Dt.emit("dragfree"))}H.viewport({zoom:jc,pan:VT,cancelOnFailedZoom:!0}),H.emit("pinchzoom"),F=Rp,R=dr,L=yt,N=kt,z=Ct,e.pinching=!0}if(O.touches[0]){var se=e.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);Z[0]=se[0],Z[1]=se[1]}if(O.touches[1]){var se=e.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);Z[2]=se[0],Z[3]=se[1]}if(O.touches[2]){var se=e.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);Z[4]=se[0],Z[5]=se[1]}}else if(O.touches[0]&&!e.touchData.didSelect){var Nr=e.touchData.start,Jc=e.touchData.last,zt;if(!e.hoverData.draggingEles&&!e.swipePanning&&(zt=e.findNearestElement(Z[0],Z[1],!0,!0)),G&&Nr!=null&&O.preventDefault(),G&&Nr!=null&&e.nodeIsDraggable(Nr))if(Se){var Dt=e.dragData.touchDragEles,Np=!e.dragData.didDrag;Np&&p(Dt,{inDragLayer:!0}),e.dragData.didDrag=!0;var Zo={x:0,y:0};if(fe(me[0])&&fe(me[1])&&(Zo.x+=me[0],Zo.y+=me[1],Np)){e.redrawHint("eles",!0);var Ir=e.touchData.dragDelta;Ir&&fe(Ir[0])&&fe(Ir[1])&&(Zo.x+=Ir[0],Zo.y+=Ir[1])}e.hoverData.draggingEles=!0,Dt.silentShift(Zo).emit("position drag"),e.redrawHint("drag",!0),e.touchData.startPosition[0]==ce[0]&&e.touchData.startPosition[1]==ce[1]&&e.redrawHint("eles",!0),e.redraw()}else{var Ir=e.touchData.dragDelta=e.touchData.dragDelta||[];Ir.length===0?(Ir.push(me[0]),Ir.push(me[1])):(Ir[0]+=me[0],Ir[1]+=me[1])}if(a(Nr||zt,["touchmove","tapdrag","vmousemove"],O,{x:Z[0],y:Z[1]}),(!Nr||!Nr.grabbed())&&zt!=Jc&&(Jc&&Jc.emit({originalEvent:O,type:"tapdragout",position:{x:Z[0],y:Z[1]}}),zt&&zt.emit({originalEvent:O,type:"tapdragover",position:{x:Z[0],y:Z[1]}})),e.touchData.last=zt,G)for(var rr=0;rr<Z.length;rr++)Z[rr]&&e.touchData.startPosition[rr]&&Se&&(e.touchData.singleTouchMoved=!0);if(G&&(Nr==null||Nr.pannable())&&H.panningEnabled()&&H.userPanningEnabled()){var WT=o(Nr,e.touchData.starts);WT&&(O.preventDefault(),e.data.bgActivePosistion||(e.data.bgActivePosistion=Ki(e.touchData.startPosition)),e.swipePanning?(H.panBy({x:me[0]*te,y:me[1]*te}),H.emit("dragpan")):Se&&(e.swipePanning=!0,H.panBy({x:Te*te,y:tt*te}),H.emit("dragpan"),Nr&&(Nr.unactivate(),e.redrawHint("select",!0),e.touchData.start=null)));var se=e.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);Z[0]=se[0],Z[1]=se[1]}}for(var Ee=0;Ee<Z.length;Ee++)ce[Ee]=Z[Ee];G&&O.touches.length>0&&!e.hoverData.draggingEles&&!e.swipePanning&&e.data.bgActivePosistion!=null&&(e.data.bgActivePosistion=void 0,e.redrawHint("select",!0),e.redraw())}},!1);var ie;e.registerBinding(t,"touchcancel",ie=function(O){var G=e.touchData.start;e.touchData.capture=!1,G&&G.unactivate()});var J,re,oe,ue;if(e.registerBinding(t,"touchend",J=function(O){var G=e.touchData.start,ee=e.touchData.capture;if(ee)O.touches.length===0&&(e.touchData.capture=!1),O.preventDefault();else return;var H=e.selection;e.swipePanning=!1,e.hoverData.draggingEles=!1;var Z=e.cy,ce=Z.zoom(),te=e.touchData.now,se=e.touchData.earlier;if(O.touches[0]){var pe=e.projectIntoViewport(O.touches[0].clientX,O.touches[0].clientY);te[0]=pe[0],te[1]=pe[1]}if(O.touches[1]){var pe=e.projectIntoViewport(O.touches[1].clientX,O.touches[1].clientY);te[2]=pe[0],te[3]=pe[1]}if(O.touches[2]){var pe=e.projectIntoViewport(O.touches[2].clientX,O.touches[2].clientY);te[4]=pe[0],te[5]=pe[1]}G&&G.unactivate();var Se;if(e.touchData.cxt){if(Se={originalEvent:O,type:"cxttapend",position:{x:te[0],y:te[1]}},G?G.emit(Se):Z.emit(Se),!e.touchData.cxtDragged){var me={originalEvent:O,type:"cxttap",position:{x:te[0],y:te[1]}};G?G.emit(me):Z.emit(me)}e.touchData.start&&(e.touchData.start._private.grabbed=!1),e.touchData.cxt=!1,e.touchData.start=null,e.redraw();return}if(!O.touches[2]&&Z.boxSelectionEnabled()&&e.touchData.selecting){e.touchData.selecting=!1;var Ee=Z.collection(e.getAllInBox(H[0],H[1],H[2],H[3]));H[0]=void 0,H[1]=void 0,H[2]=void 0,H[3]=void 0,H[4]=0,e.redrawHint("select",!0),Z.emit({type:"boxend",originalEvent:O,position:{x:te[0],y:te[1]}});var Te=function(wr){return wr.selectable()&&!wr.selected()};Ee.emit("box").stdFilter(Te).select().emit("boxselect"),Ee.nonempty()&&e.redrawHint("eles",!0),e.redraw()}if(G!=null&&G.unactivate(),O.touches[2])e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);else if(!O.touches[1]){if(!O.touches[0]){if(!O.touches[0]){e.data.bgActivePosistion=void 0,e.redrawHint("select",!0);var xe=e.dragData.touchDragEles;if(G!=null){var tt=G._private.grabbed;m(xe),e.redrawHint("drag",!0),e.redrawHint("eles",!0),tt&&(G.emit("freeon"),xe.emit("free"),e.dragData.didDrag&&(G.emit("dragfreeon"),xe.emit("dragfree"))),a(G,["touchend","tapend","vmouseup","tapdragout"],O,{x:te[0],y:te[1]}),G.unactivate(),e.touchData.start=null}else{var lt=e.findNearestElement(te[0],te[1],!0,!0);a(lt,["touchend","tapend","vmouseup","tapdragout"],O,{x:te[0],y:te[1]})}var cr=e.touchData.startPosition[0]-te[0],dr=cr*cr,yt=e.touchData.startPosition[1]-te[1],kt=yt*yt,Ct=dr+kt,Zt=Ct*ce*ce;e.touchData.singleTouchMoved||(G||Z.$(":selected").unselect(["tapunselect"]),a(G,["tap","vclick"],O,{x:te[0],y:te[1]}),re=!1,O.timeStamp-ue<=Z.multiClickDebounceTime()?(oe&&clearTimeout(oe),re=!0,ue=null,a(G,["dbltap","vdblclick"],O,{x:te[0],y:te[1]})):(oe=setTimeout(function(){re||a(G,["onetap","voneclick"],O,{x:te[0],y:te[1]})},Z.multiClickDebounceTime()),ue=O.timeStamp)),G!=null&&!e.dragData.didDrag&&G._private.selectable&&Zt<e.touchTapThreshold2&&!e.pinching&&(Z.selectionType()==="single"?(Z.$(r).unmerge(G).unselect(["tapunselect"]),G.select(["tapselect"])):G.selected()?G.unselect(["tapunselect"]):G.select(["tapselect"]),e.redrawHint("eles",!0)),e.touchData.singleTouchMoved=!0}}}for(var Qt=0;Qt<te.length;Qt++)se[Qt]=te[Qt];e.dragData.didDrag=!1,O.touches.length===0&&(e.touchData.dragDelta=[],e.touchData.startPosition=[null,null,null,null,null,null],e.touchData.startGPosition=null,e.touchData.didSelect=!1),O.touches.length<2&&(O.touches.length===1&&(e.touchData.startGPosition=[O.touches[0].clientX,O.touches[0].clientY]),e.pinching=!1,e.redrawHint("eles",!0),e.redraw())},!1),typeof TouchEvent>"u"){var le=[],ge=function(O){return{clientX:O.clientX,clientY:O.clientY,force:1,identifier:O.pointerId,pageX:O.pageX,pageY:O.pageY,radiusX:O.width/2,radiusY:O.height/2,screenX:O.screenX,screenY:O.screenY,target:O.target}},He=function(O){return{event:O,touch:ge(O)}},Ne=function(O){le.push(He(O))},ke=function(O){for(var G=0;G<le.length;G++){var ee=le[G];if(ee.event.pointerId===O.pointerId){le.splice(G,1);return}}},Ge=function(O){var G=le.filter(function(ee){return ee.event.pointerId===O.pointerId})[0];G.event=O,G.touch=ge(O)},Pe=function(O){O.touches=le.map(function(G){return G.touch})},ze=function(O){return O.pointerType==="mouse"||O.pointerType===4};e.registerBinding(e.container,"pointerdown",function(ne){ze(ne)||(ne.preventDefault(),Ne(ne),Pe(ne),U(ne))}),e.registerBinding(e.container,"pointerup",function(ne){ze(ne)||(ke(ne),Pe(ne),J(ne))}),e.registerBinding(e.container,"pointercancel",function(ne){ze(ne)||(ke(ne),Pe(ne),ie(ne))}),e.registerBinding(e.container,"pointermove",function(ne){ze(ne)||(ne.preventDefault(),Ge(ne),Pe(ne),Y(ne))})}};var la={};la.generatePolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,draw:function(n,a,i,o,s,u){this.renderer.nodeShapeImpl("polygon",n,a,i,o,s,this.points)},intersectLine:function(n,a,i,o,s,u,l,f){return Js(s,u,this.points,n,a,i/2,o/2,l)},checkPoint:function(n,a,i,o,s,u,l,f){return na(n,a,this.points,u,l,o,s,[0,-1],i)}}};la.generateEllipse=function(){return this.nodeShapes.ellipse={renderer:this,name:"ellipse",draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i)},intersectLine:function(t,r,n,a,i,o,s,u){return vR(i,o,t,r,n/2+s,a/2+s)},checkPoint:function(t,r,n,a,i,o,s,u){return Ja(t,r,a,i,o,s,n)}}};la.generateRoundPolygon=function(e,t){return this.nodeShapes[e]={renderer:this,name:e,points:t,getOrCreateCorners:function(n,a,i,o,s,u,l){if(u[l]!==void 0&&u[l+"-cx"]===n&&u[l+"-cy"]===a)return u[l];u[l]=new Array(t.length/2),u[l+"-cx"]=n,u[l+"-cy"]=a;var f=i/2,c=o/2;s=s==="auto"?A5(i,o):s;for(var d=new Array(t.length/2),h=0;h<t.length/2;h++)d[h]={x:n+f*t[h*2],y:a+c*t[h*2+1]};var v,p,g,m,y=d.length;for(p=d[y-1],v=0;v<y;v++)g=d[v%y],m=d[(v+1)%y],u[l][v]=sp(p,g,m,s),p=g,g=m;return u[l]},draw:function(n,a,i,o,s,u,l){this.renderer.nodeShapeImpl("round-polygon",n,a,i,o,s,this.points,this.getOrCreateCorners(a,i,o,s,u,l,"drawCorners"))},intersectLine:function(n,a,i,o,s,u,l,f,c){return gR(s,u,this.points,n,a,i,o,l,this.getOrCreateCorners(n,a,i,o,f,c,"corners"))},checkPoint:function(n,a,i,o,s,u,l,f,c){return hR(n,a,this.points,u,l,o,s,this.getOrCreateCorners(u,l,o,s,f,c,"corners"))}}};la.generateRoundRectangle=function(){return this.nodeShapes["round-rectangle"]=this.nodeShapes.roundrectangle={renderer:this,name:"round-rectangle",points:jt(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,this.points,o)},intersectLine:function(t,r,n,a,i,o,s,u){return _5(i,o,t,r,n,a,s,u)},checkPoint:function(t,r,n,a,i,o,s,u){var l=a/2,f=i/2;u=u==="auto"?bi(a,i):u,u=Math.min(l,f,u);var c=u*2;return!!(na(t,r,this.points,o,s,a,i-c,[0,-1],n)||na(t,r,this.points,o,s,a-c,i,[0,-1],n)||Ja(t,r,c,c,o-l+u,s-f+u,n)||Ja(t,r,c,c,o+l-u,s-f+u,n)||Ja(t,r,c,c,o+l-u,s+f-u,n)||Ja(t,r,c,c,o-l+u,s+f-u,n))}}};la.generateCutRectangle=function(){return this.nodeShapes["cut-rectangle"]=this.nodeShapes.cutrectangle={renderer:this,name:"cut-rectangle",cornerLength:Kg(),points:jt(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,null,o)},generateCutTrianglePts:function(t,r,n,a,i){var o=i==="auto"?this.cornerLength:i,s=r/2,u=t/2,l=n-u,f=n+u,c=a-s,d=a+s;return{topLeft:[l,c+o,l+o,c,l+o,c+o],topRight:[f-o,c,f,c+o,f-o,c+o],bottomRight:[f,d-o,f-o,d,f-o,d-o],bottomLeft:[l+o,d,l,d-o,l+o,d-o]}},intersectLine:function(t,r,n,a,i,o,s,u){var l=this.generateCutTrianglePts(n+2*s,a+2*s,t,r,u),f=[].concat.apply([],[l.topLeft.splice(0,4),l.topRight.splice(0,4),l.bottomRight.splice(0,4),l.bottomLeft.splice(0,4)]);return Js(i,o,f,t,r)},checkPoint:function(t,r,n,a,i,o,s,u){var l=u==="auto"?this.cornerLength:u;if(na(t,r,this.points,o,s,a,i-2*l,[0,-1],n)||na(t,r,this.points,o,s,a-2*l,i,[0,-1],n))return!0;var f=this.generateCutTrianglePts(a,i,o,s);return ar(t,r,f.topLeft)||ar(t,r,f.topRight)||ar(t,r,f.bottomRight)||ar(t,r,f.bottomLeft)}}};la.generateBarrel=function(){return this.nodeShapes.barrel={renderer:this,name:"barrel",points:jt(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i)},intersectLine:function(t,r,n,a,i,o,s,u){var l=.15,f=.5,c=.85,d=this.generateBarrelBezierPts(n+2*s,a+2*s,t,r),h=function(g){var m=no({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},l),y=no({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},f),b=no({x:g[0],y:g[1]},{x:g[2],y:g[3]},{x:g[4],y:g[5]},c);return[g[0],g[1],m.x,m.y,y.x,y.y,b.x,b.y,g[4],g[5]]},v=[].concat(h(d.topLeft),h(d.topRight),h(d.bottomRight),h(d.bottomLeft));return Js(i,o,v,t,r)},generateBarrelBezierPts:function(t,r,n,a){var i=r/2,o=t/2,s=n-o,u=n+o,l=a-i,f=a+i,c=hv(t,r),d=c.heightOffset,h=c.widthOffset,v=c.ctrlPtOffsetPct*t,p={topLeft:[s,l+d,s+v,l,s+h,l],topRight:[u-h,l,u-v,l,u,l+d],bottomRight:[u,f-d,u-v,f,u-h,f],bottomLeft:[s+h,f,s+v,f,s,f-d]};return p.topLeft.isTop=!0,p.topRight.isTop=!0,p.bottomLeft.isBottom=!0,p.bottomRight.isBottom=!0,p},checkPoint:function(t,r,n,a,i,o,s,u){var l=hv(a,i),f=l.heightOffset,c=l.widthOffset;if(na(t,r,this.points,o,s,a,i-2*f,[0,-1],n)||na(t,r,this.points,o,s,a-2*c,i,[0,-1],n))return!0;for(var d=this.generateBarrelBezierPts(a,i,o,s),h=function(M,T,C){var k=C[4],_=C[2],A=C[0],D=C[5],P=C[1],R=Math.min(k,A),L=Math.max(k,A),N=Math.min(D,P),z=Math.max(D,P);if(R<=M&&M<=L&&N<=T&&T<=z){var F=pR(k,_,A),I=lR(F[0],F[1],F[2],M),B=I.filter(function(V){return 0<=V&&V<=1});if(B.length>0)return B[0]}return null},v=Object.keys(d),p=0;p<v.length;p++){var g=v[p],m=d[g],y=h(t,r,m);if(y!=null){var b=m[5],w=m[3],E=m[1],S=Pt(b,w,E,y);if(m.isTop&&S<=r||m.isBottom&&r<=S)return!0}}return!1}}};la.generateBottomRoundrectangle=function(){return this.nodeShapes["bottom-round-rectangle"]=this.nodeShapes.bottomroundrectangle={renderer:this,name:"bottom-round-rectangle",points:jt(4,0),draw:function(t,r,n,a,i,o){this.renderer.nodeShapeImpl(this.name,t,r,n,a,i,this.points,o)},intersectLine:function(t,r,n,a,i,o,s,u){var l=t-(n/2+s),f=r-(a/2+s),c=f,d=t+(n/2+s),h=ba(i,o,t,r,l,f,d,c,!1);return h.length>0?h:_5(i,o,t,r,n,a,s,u)},checkPoint:function(t,r,n,a,i,o,s,u){u=u==="auto"?bi(a,i):u;var l=2*u;if(na(t,r,this.points,o,s,a,i-l,[0,-1],n)||na(t,r,this.points,o,s,a-l,i,[0,-1],n))return!0;var f=a/2+2*n,c=i/2+2*n,d=[o-f,s-c,o-f,s,o+f,s,o+f,s-c];return!!(ar(t,r,d)||Ja(t,r,l,l,o+a/2-u,s+i/2-u,n)||Ja(t,r,l,l,o-a/2+u,s+i/2-u,n))}}};la.registerNodeShapes=function(){var e=this.nodeShapes={},t=this;this.generateEllipse(),this.generatePolygon("triangle",jt(3,0)),this.generateRoundPolygon("round-triangle",jt(3,0)),this.generatePolygon("rectangle",jt(4,0)),e.square=e.rectangle,this.generateRoundRectangle(),this.generateCutRectangle(),this.generateBarrel(),this.generateBottomRoundrectangle();{var r=[0,1,1,0,0,-1,-1,0];this.generatePolygon("diamond",r),this.generateRoundPolygon("round-diamond",r)}this.generatePolygon("pentagon",jt(5,0)),this.generateRoundPolygon("round-pentagon",jt(5,0)),this.generatePolygon("hexagon",jt(6,0)),this.generateRoundPolygon("round-hexagon",jt(6,0)),this.generatePolygon("heptagon",jt(7,0)),this.generateRoundPolygon("round-heptagon",jt(7,0)),this.generatePolygon("octagon",jt(8,0)),this.generateRoundPolygon("round-octagon",jt(8,0));var n=new Array(20);{var a=dv(5,0),i=dv(5,Math.PI/5),o=.5*(3-Math.sqrt(5));o*=1.57;for(var s=0;s<i.length/2;s++)i[s*2]*=o,i[s*2+1]*=o;for(var s=0;s<20/4;s++)n[s*4]=a[s*2],n[s*4+1]=a[s*2+1],n[s*4+2]=i[s*2],n[s*4+3]=i[s*2+1]}n=P5(n),this.generatePolygon("star",n),this.generatePolygon("vee",[-1,-1,0,-.333,1,-1,0,1]),this.generatePolygon("rhomboid",[-1,-1,.333,-1,1,1,-.333,1]),this.generatePolygon("right-rhomboid",[-.333,-1,1,-1,.333,1,-1,1]),this.nodeShapes.concavehexagon=this.generatePolygon("concave-hexagon",[-1,-.95,-.75,0,-1,.95,1,.95,.75,0,1,-.95]);{var u=[-1,-1,.25,-1,1,0,.25,1,-1,1];this.generatePolygon("tag",u),this.generateRoundPolygon("round-tag",u)}e.makePolygon=function(l){var f=l.join("$"),c="polygon-"+f,d;return(d=this[c])?d:t.generatePolygon(c,l)}};var Iu={};Iu.timeToRender=function(){return this.redrawTotalTime/this.redrawCount};Iu.redraw=function(e){e=e||T5();var t=this;t.averageRedrawTime===void 0&&(t.averageRedrawTime=0),t.lastRedrawTime===void 0&&(t.lastRedrawTime=0),t.lastDrawTime===void 0&&(t.lastDrawTime=0),t.requestedFrame=!0,t.renderOptions=e};Iu.beforeRender=function(e,t){if(!this.destroyed){t==null&&vt("Priority is not optional for beforeRender");var r=this.beforeRenderCallbacks;r.push({fn:e,priority:t}),r.sort(function(n,a){return a.priority-n.priority})}};var jy=function(t,r,n){for(var a=t.beforeRenderCallbacks,i=0;i<a.length;i++)a[i].fn(r,n)};Iu.startRenderLoop=function(){var e=this,t=e.cy;if(!e.renderLoopStarted){e.renderLoopStarted=!0;var r=function n(a){if(!e.destroyed){if(!t.batching())if(e.requestedFrame&&!e.skipFrame){jy(e,!0,a);var i=ra();e.render(e.renderOptions);var o=e.lastDrawTime=ra();e.averageRedrawTime===void 0&&(e.averageRedrawTime=o-i),e.redrawCount===void 0&&(e.redrawCount=0),e.redrawCount++,e.redrawTotalTime===void 0&&(e.redrawTotalTime=0);var s=o-i;e.redrawTotalTime+=s,e.lastRedrawTime=s,e.averageRedrawTime=e.averageRedrawTime/2+s/2,e.requestedFrame=!1}else jy(e,!1,a);e.skipFrame=!1,Df(n)}};Df(r)}};var QI=function(t){this.init(t)},_E=QI,Wo=_E.prototype;Wo.clientFunctions=["redrawHint","render","renderTo","matchCanvasSize","nodeShapeImpl","arrowShapeImpl"];Wo.init=function(e){var t=this;t.options=e,t.cy=e.cy;var r=t.container=e.cy.container(),n=t.cy.window();if(n){var a=n.document,i=a.head,o="__________cytoscape_stylesheet",s="__________cytoscape_container",u=a.getElementById(o)!=null;if(r.className.indexOf(s)<0&&(r.className=(r.className||"")+" "+s),!u){var l=a.createElement("style");l.id=o,l.textContent="."+s+" { position: relative; }",i.insertBefore(l,i.children[0])}var f=n.getComputedStyle(r),c=f.getPropertyValue("position");c==="static"&&Ke("A Cytoscape container has style position:static and so can not use UI extensions properly")}t.selection=[void 0,void 0,void 0,void 0,0],t.bezierProjPcts=[.05,.225,.4,.5,.6,.775,.95],t.hoverData={down:null,last:null,downTime:null,triggerMode:null,dragging:!1,initialPan:[null,null],capture:!1},t.dragData={possibleDragElements:[]},t.touchData={start:null,capture:!1,startPosition:[null,null,null,null,null,null],singleTouchStartTime:null,singleTouchMoved:!0,now:[null,null,null,null,null,null],earlier:[null,null,null,null,null,null]},t.redraws=0,t.showFps=e.showFps,t.debug=e.debug,t.hideEdgesOnViewport=e.hideEdgesOnViewport,t.textureOnViewport=e.textureOnViewport,t.wheelSensitivity=e.wheelSensitivity,t.motionBlurEnabled=e.motionBlur,t.forcedPixelRatio=fe(e.pixelRatio)?e.pixelRatio:null,t.motionBlur=e.motionBlur,t.motionBlurOpacity=e.motionBlurOpacity,t.motionBlurTransparency=1-t.motionBlurOpacity,t.motionBlurPxRatio=1,t.mbPxRBlurry=1,t.minMbLowQualFrames=4,t.fullQualityMb=!1,t.clearedForMotionBlur=[],t.desktopTapThreshold=e.desktopTapThreshold,t.desktopTapThreshold2=e.desktopTapThreshold*e.desktopTapThreshold,t.touchTapThreshold=e.touchTapThreshold,t.touchTapThreshold2=e.touchTapThreshold*e.touchTapThreshold,t.tapholdDuration=500,t.bindings=[],t.beforeRenderCallbacks=[],t.beforeRenderPriorities={animations:400,eleCalcs:300,eleTxrDeq:200,lyrTxrDeq:150,lyrTxrSkip:100},t.registerNodeShapes(),t.registerArrowShapes(),t.registerCalculationListeners()};Wo.notify=function(e,t){var r=this,n=r.cy;if(!this.destroyed){if(e==="init"){r.load();return}if(e==="destroy"){r.destroy();return}(e==="add"||e==="remove"||e==="move"&&n.hasCompoundNodes()||e==="load"||e==="zorder"||e==="mount")&&r.invalidateCachedZSortedEles(),e==="viewport"&&r.redrawHint("select",!0),(e==="load"||e==="resize"||e==="mount")&&(r.invalidateContainerClientCoordsCache(),r.matchCanvasSize(r.container)),r.redrawHint("eles",!0),r.redrawHint("drag",!0),this.startRenderLoop(),this.redraw()}};Wo.destroy=function(){var e=this;e.destroyed=!0,e.cy.stopAnimationLoop();for(var t=0;t<e.bindings.length;t++){var r=e.bindings[t],n=r,a=n.target;(a.off||a.removeEventListener).apply(a,n.args)}if(e.bindings=[],e.beforeRenderCallbacks=[],e.onUpdateEleCalcsFns=[],e.removeObserver&&e.removeObserver.disconnect(),e.styleObserver&&e.styleObserver.disconnect(),e.resizeObserver&&e.resizeObserver.disconnect(),e.labelCalcDiv)try{document.body.removeChild(e.labelCalcDiv)}catch{}};Wo.isHeadless=function(){return!1};[op,CE,DE,Vo,la,Iu].forEach(function(e){we(Wo,e)});var ih=1e3/60,PE={setupDequeueing:function(t){return function(){var n=this,a=this.renderer;if(!n.dequeueingSetup){n.dequeueingSetup=!0;var i=Mc(function(){a.redrawHint("eles",!0),a.redrawHint("drag",!0),a.redraw()},t.deqRedrawThreshold),o=function(l,f){var c=ra(),d=a.averageRedrawTime,h=a.lastRedrawTime,v=[],p=a.cy.extent(),g=a.getPixelRatio();for(l||a.flushRenderedStyleQueue();;){var m=ra(),y=m-c,b=m-f;if(h<ih){var w=ih-(l?d:0);if(b>=t.deqFastCost*w)break}else if(l){if(y>=t.deqCost*h||y>=t.deqAvgCost*d)break}else if(b>=t.deqNoDrawCost*ih)break;var E=t.deq(n,g,p);if(E.length>0)for(var S=0;S<E.length;S++)v.push(E[S]);else break}v.length>0&&(t.onDeqd(n,v),!l&&t.shouldRedraw(n,v,g,p)&&i())},s=t.priority||Ug;a.beforeRender(o,s(n))}}}},jI=function(){function e(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:_f;zg(this,e),this.idsByKey=new gn,this.keyForId=new gn,this.cachesByLvl=new gn,this.lvls=[],this.getKey=t,this.doesEleInvalidateKey=r}return Yg(e,[{key:"getIdsFor",value:function(r){r==null&&vt("Can not get id list for null key");var n=this.idsByKey,a=this.idsByKey.get(r);return a||(a=new No,n.set(r,a)),a}},{key:"addIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).add(n)}},{key:"deleteIdForKey",value:function(r,n){r!=null&&this.getIdsFor(r).delete(n)}},{key:"getNumberOfIdsForKey",value:function(r){return r==null?0:this.getIdsFor(r).size}},{key:"updateKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);this.deleteIdForKey(a,n),this.addIdForKey(i,n),this.keyForId.set(n,i)}},{key:"deleteKeyMappingFor",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteIdForKey(a,n),this.keyForId.delete(n)}},{key:"keyHasChangedFor",value:function(r){var n=r.id(),a=this.keyForId.get(n),i=this.getKey(r);return a!==i}},{key:"isInvalid",value:function(r){return this.keyHasChangedFor(r)||this.doesEleInvalidateKey(r)}},{key:"getCachesAt",value:function(r){var n=this.cachesByLvl,a=this.lvls,i=n.get(r);return i||(i=new gn,n.set(r,i),a.push(r)),i}},{key:"getCache",value:function(r,n){return this.getCachesAt(n).get(r)}},{key:"get",value:function(r,n){var a=this.getKey(r),i=this.getCache(a,n);return i!=null&&this.updateKeyMappingFor(r),i}},{key:"getForCachedKey",value:function(r,n){var a=this.keyForId.get(r.id()),i=this.getCache(a,n);return i}},{key:"hasCache",value:function(r,n){return this.getCachesAt(n).has(r)}},{key:"has",value:function(r,n){var a=this.getKey(r);return this.hasCache(a,n)}},{key:"setCache",value:function(r,n,a){a.key=r,this.getCachesAt(n).set(r,a)}},{key:"set",value:function(r,n,a){var i=this.getKey(r);this.setCache(i,n,a),this.updateKeyMappingFor(r)}},{key:"deleteCache",value:function(r,n){this.getCachesAt(n).delete(r)}},{key:"delete",value:function(r,n){var a=this.getKey(r);this.deleteCache(a,n)}},{key:"invalidateKey",value:function(r){var n=this;this.lvls.forEach(function(a){return n.deleteCache(r,a)})}},{key:"invalidate",value:function(r){var n=r.id(),a=this.keyForId.get(n);this.deleteKeyMappingFor(r);var i=this.doesEleInvalidateKey(r);return i&&this.invalidateKey(a),i||this.getNumberOfIdsForKey(a)===0}}]),e}(),Jy=25,El=50,zl=-4,Tv=3,JI=7.99,eB=8,tB=1024,rB=1024,nB=1024,aB=.2,iB=.8,oB=10,sB=.15,uB=.1,lB=.9,fB=.9,cB=100,dB=1,Zi={dequeue:"dequeue",downscale:"downscale",highQuality:"highQuality"},hB=Bt({getKey:null,doesEleInvalidateKey:_f,drawElement:null,getBoundingBox:null,getRotationPoint:null,getRotationOffset:null,isVisible:x5,allowEdgeTxrCaching:!0,allowParentTxrCaching:!0}),Ms=function(t,r){var n=this;n.renderer=t,n.onDequeues=[];var a=hB(r);we(n,a),n.lookup=new jI(a.getKey,a.doesEleInvalidateKey),n.setupDequeueing()},Mt=Ms.prototype;Mt.reasons=Zi;Mt.getTextureQueue=function(e){var t=this;return t.eleImgCaches=t.eleImgCaches||{},t.eleImgCaches[e]=t.eleImgCaches[e]||[]};Mt.getRetiredTextureQueue=function(e){var t=this,r=t.eleImgCaches.retired=t.eleImgCaches.retired||{},n=r[e]=r[e]||[];return n};Mt.getElementQueue=function(){var e=this,t=e.eleCacheQueue=e.eleCacheQueue||new Ru(function(r,n){return n.reqs-r.reqs});return t};Mt.getElementKeyToQueue=function(){var e=this,t=e.eleKeyToCacheQueue=e.eleKeyToCacheQueue||{};return t};Mt.getElement=function(e,t,r,n,a){var i=this,o=this.renderer,s=o.cy.zoom(),u=this.lookup;if(!t||t.w===0||t.h===0||isNaN(t.w)||isNaN(t.h)||!e.visible()||e.removed()||!i.allowEdgeTxrCaching&&e.isEdge()||!i.allowParentTxrCaching&&e.isParent())return null;if(n==null&&(n=Math.ceil(Gg(s*r))),n<zl)n=zl;else if(s>=JI||n>Tv)return null;var l=Math.pow(2,n),f=t.h*l,c=t.w*l,d=o.eleTextBiggerThanMin(e,l);if(!this.isVisible(e,d))return null;var h=u.get(e,n);if(h&&h.invalidated&&(h.invalidated=!1,h.texture.invalidatedWidth-=h.width),h)return h;var v;if(f<=Jy?v=Jy:f<=El?v=El:v=Math.ceil(f/El)*El,f>nB||c>rB)return null;var p=i.getTextureQueue(v),g=p[p.length-2],m=function(){return i.recycleTexture(v,c)||i.addTexture(v,c)};g||(g=p[p.length-1]),g||(g=m()),g.width-g.usedWidth<c&&(g=m());for(var y=function(R){return R&&R.scaledLabelShown===d},b=a&&a===Zi.dequeue,w=a&&a===Zi.highQuality,E=a&&a===Zi.downscale,S,x=n+1;x<=Tv;x++){var M=u.get(e,x);if(M){S=M;break}}var T=S&&S.level===n+1?S:null,C=function(){g.context.drawImage(T.texture.canvas,T.x,0,T.width,T.height,g.usedWidth,0,c,f)};if(g.context.setTransform(1,0,0,1,0,0),g.context.clearRect(g.usedWidth,0,c,v),y(T))C();else if(y(S))if(w){for(var k=S.level;k>n;k--)T=i.getElement(e,t,r,k,Zi.downscale);C()}else return i.queueElement(e,S.level-1),S;else{var _;if(!b&&!w&&!E)for(var A=n-1;A>=zl;A--){var D=u.get(e,A);if(D){_=D;break}}if(y(_))return i.queueElement(e,n),_;g.context.translate(g.usedWidth,0),g.context.scale(l,l),this.drawElement(g.context,e,t,d,!1),g.context.scale(1/l,1/l),g.context.translate(-g.usedWidth,0)}return h={x:g.usedWidth,texture:g,level:n,scale:l,width:c,height:f,scaledLabelShown:d},g.usedWidth+=Math.ceil(c+eB),g.eleCaches.push(h),u.set(e,n,h),i.checkTextureFullness(g),h};Mt.invalidateElements=function(e){for(var t=0;t<e.length;t++)this.invalidateElement(e[t])};Mt.invalidateElement=function(e){var t=this,r=t.lookup,n=[],a=r.isInvalid(e);if(a){for(var i=zl;i<=Tv;i++){var o=r.getForCachedKey(e,i);o&&n.push(o)}var s=r.invalidate(e);if(s)for(var u=0;u<n.length;u++){var l=n[u],f=l.texture;f.invalidatedWidth+=l.width,l.invalidated=!0,t.checkTextureUtility(f)}t.removeFromQueue(e)}};Mt.checkTextureUtility=function(e){e.invalidatedWidth>=aB*e.width&&this.retireTexture(e)};Mt.checkTextureFullness=function(e){var t=this,r=t.getTextureQueue(e.height);e.usedWidth/e.width>iB&&e.fullnessChecks>=oB?Oa(r,e):e.fullnessChecks++};Mt.retireTexture=function(e){var t=this,r=e.height,n=t.getTextureQueue(r),a=this.lookup;Oa(n,e),e.retired=!0;for(var i=e.eleCaches,o=0;o<i.length;o++){var s=i[o];a.deleteCache(s.key,s.level)}Hg(i);var u=t.getRetiredTextureQueue(r);u.push(e)};Mt.addTexture=function(e,t){var r=this,n=r.getTextureQueue(e),a={};return n.push(a),a.eleCaches=[],a.height=e,a.width=Math.max(tB,t),a.usedWidth=0,a.invalidatedWidth=0,a.fullnessChecks=0,a.canvas=r.renderer.makeOffscreenCanvas(a.width,a.height),a.context=a.canvas.getContext("2d"),a};Mt.recycleTexture=function(e,t){for(var r=this,n=r.getTextureQueue(e),a=r.getRetiredTextureQueue(e),i=0;i<a.length;i++){var o=a[i];if(o.width>=t)return o.retired=!1,o.usedWidth=0,o.invalidatedWidth=0,o.fullnessChecks=0,Hg(o.eleCaches),o.context.setTransform(1,0,0,1,0,0),o.context.clearRect(0,0,o.width,o.height),Oa(a,o),n.push(o),o}};Mt.queueElement=function(e,t){var r=this,n=r.getElementQueue(),a=r.getElementKeyToQueue(),i=this.getKey(e),o=a[i];if(o)o.level=Math.max(o.level,t),o.eles.merge(e),o.reqs++,n.updateItem(o);else{var s={eles:e.spawn().merge(e),level:t,reqs:1,key:i};n.push(s),a[i]=s}};Mt.dequeue=function(e){for(var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),a=[],i=t.lookup,o=0;o<dB&&r.size()>0;o++){var s=r.pop(),u=s.key,l=s.eles[0],f=i.hasCache(l,s.level);if(n[u]=null,f)continue;a.push(s);var c=t.getBoundingBox(l);t.getElement(l,c,e,s.level,Zi.dequeue)}return a};Mt.removeFromQueue=function(e){var t=this,r=t.getElementQueue(),n=t.getElementKeyToQueue(),a=this.getKey(e),i=n[a];i!=null&&(i.eles.length===1?(i.reqs=Wg,r.updateItem(i),r.pop(),n[a]=null):i.eles.unmerge(e))};Mt.onDequeue=function(e){this.onDequeues.push(e)};Mt.offDequeue=function(e){Oa(this.onDequeues,e)};Mt.setupDequeueing=PE.setupDequeueing({deqRedrawThreshold:cB,deqCost:sB,deqAvgCost:uB,deqNoDrawCost:lB,deqFastCost:fB,deq:function(t,r,n){return t.dequeue(r,n)},onDeqd:function(t,r){for(var n=0;n<t.onDequeues.length;n++){var a=t.onDequeues[n];a(r)}},shouldRedraw:function(t,r,n,a){for(var i=0;i<r.length;i++)for(var o=r[i].eles,s=0;s<o.length;s++){var u=o[s].boundingBox();if(Xg(u,a))return!0}return!1},priority:function(t){return t.renderer.beforeRenderPriorities.eleTxrDeq}});var vB=1,As=-4,If=2,gB=3.99,pB=50,mB=50,yB=.15,bB=.1,wB=.9,xB=.9,SB=1,e1=250,EB=4e3*4e3,t1=32767,TB=!0,AE=function(t){var r=this,n=r.renderer=t,a=n.cy;r.layersByLevel={},r.firstGet=!0,r.lastInvalidationTime=ra()-2*e1,r.skipping=!1,r.eleTxrDeqs=a.collection(),r.scheduleElementRefinement=Mc(function(){r.refineElementTextures(r.eleTxrDeqs),r.eleTxrDeqs.unmerge(r.eleTxrDeqs)},mB),n.beforeRender(function(o,s){s-r.lastInvalidationTime<=e1?r.skipping=!0:r.skipping=!1},n.beforeRenderPriorities.lyrTxrSkip);var i=function(s,u){return u.reqs-s.reqs};r.layersQueue=new Ru(i),r.setupDequeueing()},Ft=AE.prototype,r1=0,MB=Math.pow(2,53)-1;Ft.makeLayer=function(e,t){var r=Math.pow(2,t),n=Math.ceil(e.w*r),a=Math.ceil(e.h*r),i=this.renderer.makeOffscreenCanvas(n,a),o={id:r1=++r1%MB,bb:e,level:t,width:n,height:a,canvas:i,context:i.getContext("2d"),eles:[],elesQueue:[],reqs:0},s=o.context,u=-o.bb.x1,l=-o.bb.y1;return s.scale(r,r),s.translate(u,l),o};Ft.getLayers=function(e,t,r){var n=this,a=n.renderer,i=a.cy,o=i.zoom(),s=n.firstGet;if(n.firstGet=!1,r==null){if(r=Math.ceil(Gg(o*t)),r<As)r=As;else if(o>=gB||r>If)return null}n.validateLayersElesOrdering(r,e);var u=n.layersByLevel,l=Math.pow(2,r),f=u[r]=u[r]||[],c,d=n.levelIsComplete(r,e),h,v=function(){var C=function(P){if(n.validateLayersElesOrdering(P,e),n.levelIsComplete(P,e))return h=u[P],!0},k=function(P){if(!h)for(var R=r+P;As<=R&&R<=If&&!C(R);R+=P);};k(1),k(-1);for(var _=f.length-1;_>=0;_--){var A=f[_];A.invalid&&Oa(f,A)}};if(!d)v();else return f;var p=function(){if(!c){c=lr();for(var C=0;C<e.length;C++)C5(c,e[C].boundingBox())}return c},g=function(C){C=C||{};var k=C.after;p();var _=Math.ceil(c.w*l),A=Math.ceil(c.h*l);if(_>t1||A>t1)return null;var D=_*A;if(D>EB)return null;var P=n.makeLayer(c,r);if(k!=null){var R=f.indexOf(k)+1;f.splice(R,0,P)}else(C.insert===void 0||C.insert)&&f.unshift(P);return P};if(n.skipping&&!s)return null;for(var m=null,y=e.length/vB,b=!s,w=0;w<e.length;w++){var E=e[w],S=E._private.rscratch,x=S.imgLayerCaches=S.imgLayerCaches||{},M=x[r];if(M){m=M;continue}if((!m||m.eles.length>=y||!D5(m.bb,E.boundingBox()))&&(m=g({insert:!0,after:m}),!m))return null;h||b?n.queueLayer(m,E):n.drawEleInLayer(m,E,r,t),m.eles.push(E),x[r]=m}return h||(b?null:f)};Ft.getEleLevelForLayerLevel=function(e,t){return e};Ft.drawEleInLayer=function(e,t,r,n){var a=this,i=this.renderer,o=e.context,s=t.boundingBox();s.w===0||s.h===0||!t.visible()||(r=a.getEleLevelForLayerLevel(r,n),i.setImgSmoothing(o,!1),i.drawCachedElement(o,t,null,null,r,TB),i.setImgSmoothing(o,!0))};Ft.levelIsComplete=function(e,t){var r=this,n=r.layersByLevel[e];if(!n||n.length===0)return!1;for(var a=0,i=0;i<n.length;i++){var o=n[i];if(o.reqs>0||o.invalid)return!1;a+=o.eles.length}return a===t.length};Ft.validateLayersElesOrdering=function(e,t){var r=this.layersByLevel[e];if(r)for(var n=0;n<r.length;n++){for(var a=r[n],i=-1,o=0;o<t.length;o++)if(a.eles[0]===t[o]){i=o;break}if(i<0){this.invalidateLayer(a);continue}for(var s=i,o=0;o<a.eles.length;o++)if(a.eles[o]!==t[s+o]){this.invalidateLayer(a);break}}};Ft.updateElementsInLayers=function(e,t){for(var r=this,n=Au(e[0]),a=0;a<e.length;a++)for(var i=n?null:e[a],o=n?e[a]:e[a].ele,s=o._private.rscratch,u=s.imgLayerCaches=s.imgLayerCaches||{},l=As;l<=If;l++){var f=u[l];f&&(i&&r.getEleLevelForLayerLevel(f.level)!==i.level||t(f,o,i))}};Ft.haveLayers=function(){for(var e=this,t=!1,r=As;r<=If;r++){var n=e.layersByLevel[r];if(n&&n.length>0){t=!0;break}}return t};Ft.invalidateElements=function(e){var t=this;e.length!==0&&(t.lastInvalidationTime=ra(),!(e.length===0||!t.haveLayers())&&t.updateElementsInLayers(e,function(n,a,i){t.invalidateLayer(n)}))};Ft.invalidateLayer=function(e){if(this.lastInvalidationTime=ra(),!e.invalid){var t=e.level,r=e.eles,n=this.layersByLevel[t];Oa(n,e),e.elesQueue=[],e.invalid=!0,e.replacement&&(e.replacement.invalid=!0);for(var a=0;a<r.length;a++){var i=r[a]._private.rscratch.imgLayerCaches;i&&(i[t]=null)}}};Ft.refineElementTextures=function(e){var t=this;t.updateElementsInLayers(e,function(n,a,i){var o=n.replacement;if(o||(o=n.replacement=t.makeLayer(n.bb,n.level),o.replaces=n,o.eles=n.eles),!o.reqs)for(var s=0;s<o.eles.length;s++)t.queueLayer(o,o.eles[s])})};Ft.enqueueElementRefinement=function(e){this.eleTxrDeqs.merge(e),this.scheduleElementRefinement()};Ft.queueLayer=function(e,t){var r=this,n=r.layersQueue,a=e.elesQueue,i=a.hasId=a.hasId||{};if(!e.replacement){if(t){if(i[t.id()])return;a.push(t),i[t.id()]=!0}e.reqs?(e.reqs++,n.updateItem(e)):(e.reqs=1,n.push(e))}};Ft.dequeue=function(e){for(var t=this,r=t.layersQueue,n=[],a=0;a<SB&&r.size()!==0;){var i=r.peek();if(i.replacement){r.pop();continue}if(i.replaces&&i!==i.replaces.replacement){r.pop();continue}if(i.invalid){r.pop();continue}var o=i.elesQueue.shift();o&&(t.drawEleInLayer(i,o,i.level,e),a++),n.length===0&&n.push(!0),i.elesQueue.length===0&&(r.pop(),i.reqs=0,i.replaces&&t.applyLayerReplacement(i),t.requestRedraw())}return n};Ft.applyLayerReplacement=function(e){var t=this,r=t.layersByLevel[e.level],n=e.replaces,a=r.indexOf(n);if(!(a<0||n.invalid)){r[a]=e;for(var i=0;i<e.eles.length;i++){var o=e.eles[i]._private,s=o.imgLayerCaches=o.imgLayerCaches||{};s&&(s[e.level]=e)}t.requestRedraw()}};Ft.requestRedraw=Mc(function(){var e=this.renderer;e.redrawHint("eles",!0),e.redrawHint("drag",!0),e.redraw()},100);Ft.setupDequeueing=PE.setupDequeueing({deqRedrawThreshold:pB,deqCost:yB,deqAvgCost:bB,deqNoDrawCost:wB,deqFastCost:xB,deq:function(t,r){return t.dequeue(r)},onDeqd:Ug,shouldRedraw:x5,priority:function(t){return t.renderer.beforeRenderPriorities.lyrTxrDeq}});var OE={},n1;function kB(e,t){for(var r=0;r<t.length;r++){var n=t[r];e.lineTo(n.x,n.y)}}function CB(e,t,r){for(var n,a=0;a<t.length;a++){var i=t[a];a===0&&(n=i),e.lineTo(i.x,i.y)}e.quadraticCurveTo(r.x,r.y,n.x,n.y)}function a1(e,t,r){e.beginPath&&e.beginPath();for(var n=t,a=0;a<n.length;a++){var i=n[a];e.lineTo(i.x,i.y)}var o=r,s=r[0];e.moveTo(s.x,s.y);for(var a=1;a<o.length;a++){var i=o[a];e.lineTo(i.x,i.y)}e.closePath&&e.closePath()}function DB(e,t,r,n,a){e.beginPath&&e.beginPath(),e.arc(r,n,a,0,Math.PI*2,!1);var i=t,o=i[0];e.moveTo(o.x,o.y);for(var s=0;s<i.length;s++){var u=i[s];e.lineTo(u.x,u.y)}e.closePath&&e.closePath()}function _B(e,t,r,n){e.arc(t,r,n,0,Math.PI*2,!1)}OE.arrowShapeImpl=function(e){return(n1||(n1={polygon:kB,"triangle-backcurve":CB,"triangle-tee":a1,"circle-triangle":DB,"triangle-cross":a1,circle:_B}))[e]};var kn={};kn.drawElement=function(e,t,r,n,a,i){var o=this;t.isNode()?o.drawNode(e,t,r,n,a,i):o.drawEdge(e,t,r,n,a,i)};kn.drawElementOverlay=function(e,t){var r=this;t.isNode()?r.drawNodeOverlay(e,t):r.drawEdgeOverlay(e,t)};kn.drawElementUnderlay=function(e,t){var r=this;t.isNode()?r.drawNodeUnderlay(e,t):r.drawEdgeUnderlay(e,t)};kn.drawCachedElementPortion=function(e,t,r,n,a,i,o,s){var u=this,l=r.getBoundingBox(t);if(!(l.w===0||l.h===0)){var f=r.getElement(t,l,n,a,i);if(f!=null){var c=s(u,t);if(c===0)return;var d=o(u,t),h=l.x1,v=l.y1,p=l.w,g=l.h,m,y,b,w,E;if(d!==0){var S=r.getRotationPoint(t);b=S.x,w=S.y,e.translate(b,w),e.rotate(d),E=u.getImgSmoothing(e),E||u.setImgSmoothing(e,!0);var x=r.getRotationOffset(t);m=x.x,y=x.y}else m=h,y=v;var M;c!==1&&(M=e.globalAlpha,e.globalAlpha=M*c),e.drawImage(f.texture.canvas,f.x,0,f.width,f.height,m,y,p,g),c!==1&&(e.globalAlpha=M),d!==0&&(e.rotate(-d),e.translate(-b,-w),E||u.setImgSmoothing(e,!1))}else r.drawElement(e,t)}};var PB=function(){return 0},AB=function(t,r){return t.getTextAngle(r,null)},OB=function(t,r){return t.getTextAngle(r,"source")},RB=function(t,r){return t.getTextAngle(r,"target")},LB=function(t,r){return r.effectiveOpacity()},oh=function(t,r){return r.pstyle("text-opacity").pfValue*r.effectiveOpacity()};kn.drawCachedElement=function(e,t,r,n,a,i){var o=this,s=o.data,u=s.eleTxrCache,l=s.lblTxrCache,f=s.slbTxrCache,c=s.tlbTxrCache,d=t.boundingBox(),h=i===!0?u.reasons.highQuality:null;if(!(d.w===0||d.h===0||!t.visible())&&(!n||Xg(d,n))){var v=t.isEdge(),p=t.element()._private.rscratch.badLine;o.drawElementUnderlay(e,t),o.drawCachedElementPortion(e,t,u,r,a,h,PB,LB),(!v||!p)&&o.drawCachedElementPortion(e,t,l,r,a,h,AB,oh),v&&!p&&(o.drawCachedElementPortion(e,t,f,r,a,h,OB,oh),o.drawCachedElementPortion(e,t,c,r,a,h,RB,oh)),o.drawElementOverlay(e,t)}};kn.drawElements=function(e,t){for(var r=this,n=0;n<t.length;n++){var a=t[n];r.drawElement(e,a)}};kn.drawCachedElements=function(e,t,r,n){for(var a=this,i=0;i<t.length;i++){var o=t[i];a.drawCachedElement(e,o,r,n)}};kn.drawCachedNodes=function(e,t,r,n){for(var a=this,i=0;i<t.length;i++){var o=t[i];o.isNode()&&a.drawCachedElement(e,o,r,n)}};kn.drawLayeredElements=function(e,t,r,n){var a=this,i=a.data.lyrTxrCache.getLayers(t,r);if(i)for(var o=0;o<i.length;o++){var s=i[o],u=s.bb;u.w===0||u.h===0||e.drawImage(s.canvas,u.x1,u.y1,u.w,u.h)}else a.drawCachedElements(e,t,r,n)};var fa={};fa.drawEdge=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s=t._private.rscratch;if(!(i&&!t.visible())&&!(s.badLine||s.allpts==null||isNaN(s.allpts[0]))){var u;r&&(u=r,e.translate(-u.x1,-u.y1));var l=i?t.pstyle("opacity").value:1,f=i?t.pstyle("line-opacity").value:1,c=t.pstyle("curve-style").value,d=t.pstyle("line-style").value,h=t.pstyle("width").pfValue,v=t.pstyle("line-cap").value,p=t.pstyle("line-outline-width").value,g=t.pstyle("line-outline-color").value,m=l*f,y=l*f,b=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;c==="straight-triangle"?(o.eleStrokeStyle(e,t,P),o.drawEdgeTrianglePath(t,e,s.allpts)):(e.lineWidth=h,e.lineCap=v,o.eleStrokeStyle(e,t,P),o.drawEdgePath(t,e,s.allpts,d),e.lineCap="butt")},w=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:m;if(e.lineWidth=h+p,e.lineCap=v,p>0)o.colorStrokeStyle(e,g[0],g[1],g[2],P);else{e.lineCap="butt";return}c==="straight-triangle"?o.drawEdgeTrianglePath(t,e,s.allpts):(o.drawEdgePath(t,e,s.allpts,d),e.lineCap="butt")},E=function(){a&&o.drawEdgeOverlay(e,t)},S=function(){a&&o.drawEdgeUnderlay(e,t)},x=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:y;o.drawArrowheads(e,t,P)},M=function(){o.drawElementText(e,t,null,n)};e.lineJoin="round";var T=t.pstyle("ghost").value==="yes";if(T){var C=t.pstyle("ghost-offset-x").pfValue,k=t.pstyle("ghost-offset-y").pfValue,_=t.pstyle("ghost-opacity").value,A=m*_;e.translate(C,k),b(A),x(A),e.translate(-C,-k)}else w();S(),b(),x(),E(),M(),r&&e.translate(u.x1,u.y1)}};var RE=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n){if(n.visible()){var a=n.pstyle("".concat(t,"-opacity")).value;if(a!==0){var i=this,o=i.usePaths(),s=n._private.rscratch,u=n.pstyle("".concat(t,"-padding")).pfValue,l=2*u,f=n.pstyle("".concat(t,"-color")).value;r.lineWidth=l,s.edgeType==="self"&&!o?r.lineCap="butt":r.lineCap="round",i.colorStrokeStyle(r,f[0],f[1],f[2],a),i.drawEdgePath(n,r,s.allpts,"solid")}}}};fa.drawEdgeOverlay=RE("overlay");fa.drawEdgeUnderlay=RE("underlay");fa.drawEdgePath=function(e,t,r,n){var a=e._private.rscratch,i=t,o,s=!1,u=this.usePaths(),l=e.pstyle("line-dash-pattern").pfValue,f=e.pstyle("line-dash-offset").pfValue;if(u){var c=r.join("$"),d=a.pathCacheKey&&a.pathCacheKey===c;d?(o=t=a.pathCache,s=!0):(o=t=new Path2D,a.pathCacheKey=c,a.pathCache=o)}if(i.setLineDash)switch(n){case"dotted":i.setLineDash([1,1]);break;case"dashed":i.setLineDash(l),i.lineDashOffset=f;break;case"solid":i.setLineDash([]);break}if(!s&&!a.badLine)switch(t.beginPath&&t.beginPath(),t.moveTo(r[0],r[1]),a.edgeType){case"bezier":case"self":case"compound":case"multibezier":for(var h=2;h+3<r.length;h+=4)t.quadraticCurveTo(r[h],r[h+1],r[h+2],r[h+3]);break;case"straight":case"haystack":for(var v=2;v+1<r.length;v+=2)t.lineTo(r[v],r[v+1]);break;case"segments":if(a.isRound){var p=s5(a.roundCorners),g;try{for(p.s();!(g=p.n()).done;){var m=g.value;SE(t,m)}}catch(b){p.e(b)}finally{p.f()}t.lineTo(r[r.length-2],r[r.length-1])}else for(var y=2;y+1<r.length;y+=2)t.lineTo(r[y],r[y+1]);break}t=i,u?t.stroke(o):t.stroke(),t.setLineDash&&t.setLineDash([])};fa.drawEdgeTrianglePath=function(e,t,r){t.fillStyle=t.strokeStyle;for(var n=e.pstyle("width").pfValue,a=0;a+1<r.length;a+=2){var i=[r[a+2]-r[a],r[a+3]-r[a+1]],o=Math.sqrt(i[0]*i[0]+i[1]*i[1]),s=[i[1]/o,-i[0]/o],u=[s[0]*n/2,s[1]*n/2];t.beginPath(),t.moveTo(r[a]-u[0],r[a+1]-u[1]),t.lineTo(r[a]+u[0],r[a+1]+u[1]),t.lineTo(r[a+2],r[a+3]),t.closePath(),t.fill()}};fa.drawArrowheads=function(e,t,r){var n=t._private.rscratch,a=n.edgeType==="haystack";a||this.drawArrowhead(e,t,"source",n.arrowStartX,n.arrowStartY,n.srcArrowAngle,r),this.drawArrowhead(e,t,"mid-target",n.midX,n.midY,n.midtgtArrowAngle,r),this.drawArrowhead(e,t,"mid-source",n.midX,n.midY,n.midsrcArrowAngle,r),a||this.drawArrowhead(e,t,"target",n.arrowEndX,n.arrowEndY,n.tgtArrowAngle,r)};fa.drawArrowhead=function(e,t,r,n,a,i,o){if(!(isNaN(n)||n==null||isNaN(a)||a==null||isNaN(i)||i==null)){var s=this,u=t.pstyle(r+"-arrow-shape").value;if(u!=="none"){var l=t.pstyle(r+"-arrow-fill").value==="hollow"?"both":"filled",f=t.pstyle(r+"-arrow-fill").value,c=t.pstyle("width").pfValue,d=t.pstyle(r+"-arrow-width"),h=d.value==="match-line"?c:d.pfValue;d.units==="%"&&(h*=c);var v=t.pstyle("opacity").value;o===void 0&&(o=v);var p=e.globalCompositeOperation;(o!==1||f==="hollow")&&(e.globalCompositeOperation="destination-out",s.colorFillStyle(e,255,255,255,1),s.colorStrokeStyle(e,255,255,255,1),s.drawArrowShape(t,e,l,c,u,h,n,a,i),e.globalCompositeOperation=p);var g=t.pstyle(r+"-arrow-color").value;s.colorFillStyle(e,g[0],g[1],g[2],o),s.colorStrokeStyle(e,g[0],g[1],g[2],o),s.drawArrowShape(t,e,f,c,u,h,n,a,i)}}};fa.drawArrowShape=function(e,t,r,n,a,i,o,s,u){var l=this,f=this.usePaths()&&a!=="triangle-cross",c=!1,d,h=t,v={x:o,y:s},p=e.pstyle("arrow-scale").value,g=this.getArrowWidth(n,p),m=l.arrowShapes[a];if(f){var y=l.arrowPathCache=l.arrowPathCache||[],b=mi(a),w=y[b];w!=null?(d=t=w,c=!0):(d=t=new Path2D,y[b]=d)}c||(t.beginPath&&t.beginPath(),f?m.draw(t,1,0,{x:0,y:0},1):m.draw(t,g,u,v,n),t.closePath&&t.closePath()),t=h,f&&(t.translate(o,s),t.rotate(u),t.scale(g,g)),(r==="filled"||r==="both")&&(f?t.fill(d):t.fill()),(r==="hollow"||r==="both")&&(t.lineWidth=i/(f?g:1),t.lineJoin="miter",f?t.stroke(d):t.stroke()),f&&(t.scale(1/g,1/g),t.rotate(-u),t.translate(-o,-s))};var lp={};lp.safeDrawImage=function(e,t,r,n,a,i,o,s,u,l){if(!(a<=0||i<=0||u<=0||l<=0))try{e.drawImage(t,r,n,a,i,o,s,u,l)}catch(f){Ke(f)}};lp.drawInscribedImage=function(e,t,r,n,a){var i=this,o=r.position(),s=o.x,u=o.y,l=r.cy().style(),f=l.getIndexedStyle.bind(l),c=f(r,"background-fit","value",n),d=f(r,"background-repeat","value",n),h=r.width(),v=r.height(),p=r.padding()*2,g=h+(f(r,"background-width-relative-to","value",n)==="inner"?0:p),m=v+(f(r,"background-height-relative-to","value",n)==="inner"?0:p),y=r._private.rscratch,b=f(r,"background-clip","value",n),w=b==="node",E=f(r,"background-image-opacity","value",n)*a,S=f(r,"background-image-smoothing","value",n),x=r.pstyle("corner-radius").value;x!=="auto"&&(x=r.pstyle("corner-radius").pfValue);var M=t.width||t.cachedW,T=t.height||t.cachedH;(M==null||T==null)&&(document.body.appendChild(t),M=t.cachedW=t.width||t.offsetWidth,T=t.cachedH=t.height||t.offsetHeight,document.body.removeChild(t));var C=M,k=T;if(f(r,"background-width","value",n)!=="auto"&&(f(r,"background-width","units",n)==="%"?C=f(r,"background-width","pfValue",n)*g:C=f(r,"background-width","pfValue",n)),f(r,"background-height","value",n)!=="auto"&&(f(r,"background-height","units",n)==="%"?k=f(r,"background-height","pfValue",n)*m:k=f(r,"background-height","pfValue",n)),!(C===0||k===0)){if(c==="contain"){var _=Math.min(g/C,m/k);C*=_,k*=_}else if(c==="cover"){var _=Math.max(g/C,m/k);C*=_,k*=_}var A=s-g/2,D=f(r,"background-position-x","units",n),P=f(r,"background-position-x","pfValue",n);D==="%"?A+=(g-C)*P:A+=P;var R=f(r,"background-offset-x","units",n),L=f(r,"background-offset-x","pfValue",n);R==="%"?A+=(g-C)*L:A+=L;var N=u-m/2,z=f(r,"background-position-y","units",n),F=f(r,"background-position-y","pfValue",n);z==="%"?N+=(m-k)*F:N+=F;var I=f(r,"background-offset-y","units",n),B=f(r,"background-offset-y","pfValue",n);I==="%"?N+=(m-k)*B:N+=B,y.pathCache&&(A-=s,N-=u,s=0,u=0);var V=e.globalAlpha;e.globalAlpha=E;var K=i.getImgSmoothing(e),j=!1;if(S==="no"&&K?(i.setImgSmoothing(e,!1),j=!0):S==="yes"&&!K&&(i.setImgSmoothing(e,!0),j=!0),d==="no-repeat")w&&(e.save(),y.pathCache?e.clip(y.pathCache):(i.nodeShapes[i.getNodeShape(r)].draw(e,s,u,g,m,x,y),e.clip())),i.safeDrawImage(e,t,0,0,M,T,A,N,C,k),w&&e.restore();else{var Q=e.createPattern(t,d);e.fillStyle=Q,i.nodeShapes[i.getNodeShape(r)].draw(e,s,u,g,m,x,y),e.translate(A,N),e.fill(),e.translate(-A,-N)}e.globalAlpha=V,j&&i.setImgSmoothing(e,K)}};var Oi={};Oi.eleTextBiggerThanMin=function(e,t){if(!t){var r=e.cy().zoom(),n=this.getPixelRatio(),a=Math.ceil(Gg(r*n));t=Math.pow(2,a)}var i=e.pstyle("font-size").pfValue*t,o=e.pstyle("min-zoomed-font-size").pfValue;return!(i<o)};Oi.drawElementText=function(e,t,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this;if(n==null){if(i&&!o.eleTextBiggerThanMin(t))return}else if(n===!1)return;if(t.isNode()){var s=t.pstyle("label");if(!s||!s.value)return;var u=o.getLabelJustification(t);e.textAlign=u,e.textBaseline="bottom"}else{var l=t.element()._private.rscratch.badLine,f=t.pstyle("label"),c=t.pstyle("source-label"),d=t.pstyle("target-label");if(l||(!f||!f.value)&&(!c||!c.value)&&(!d||!d.value))return;e.textAlign="center",e.textBaseline="bottom"}var h=!r,v;r&&(v=r,e.translate(-v.x1,-v.y1)),a==null?(o.drawText(e,t,null,h,i),t.isEdge()&&(o.drawText(e,t,"source",h,i),o.drawText(e,t,"target",h,i))):o.drawText(e,t,a,h,i),r&&e.translate(v.x1,v.y1)};Oi.getFontCache=function(e){var t;this.fontCaches=this.fontCaches||[];for(var r=0;r<this.fontCaches.length;r++)if(t=this.fontCaches[r],t.context===e)return t;return t={context:e},this.fontCaches.push(t),t};Oi.setupTextStyle=function(e,t){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,n=t.pstyle("font-style").strValue,a=t.pstyle("font-size").pfValue+"px",i=t.pstyle("font-family").strValue,o=t.pstyle("font-weight").strValue,s=r?t.effectiveOpacity()*t.pstyle("text-opacity").value:1,u=t.pstyle("text-outline-opacity").value*s,l=t.pstyle("color").value,f=t.pstyle("text-outline-color").value;e.font=n+" "+o+" "+a+" "+i,e.lineJoin="round",this.colorFillStyle(e,l[0],l[1],l[2],s),this.colorStrokeStyle(e,f[0],f[1],f[2],u)};function sh(e,t,r,n,a){var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:5,o=arguments.length>6?arguments[6]:void 0;e.beginPath(),e.moveTo(t+i,r),e.lineTo(t+n-i,r),e.quadraticCurveTo(t+n,r,t+n,r+i),e.lineTo(t+n,r+a-i),e.quadraticCurveTo(t+n,r+a,t+n-i,r+a),e.lineTo(t+i,r+a),e.quadraticCurveTo(t,r+a,t,r+a-i),e.lineTo(t,r+i),e.quadraticCurveTo(t,r,t+i,r),e.closePath(),o?e.stroke():e.fill()}Oi.getTextAngle=function(e,t){var r,n=e._private,a=n.rscratch,i=t?t+"-":"",o=e.pstyle(i+"text-rotation"),s=Yr(a,"labelAngle",t);return o.strValue==="autorotate"?r=e.isEdge()?s:0:o.strValue==="none"?r=0:r=o.pfValue,r};Oi.drawText=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=t._private,o=i.rscratch,s=a?t.effectiveOpacity():1;if(!(a&&(s===0||t.pstyle("text-opacity").value===0))){r==="main"&&(r=null);var u=Yr(o,"labelX",r),l=Yr(o,"labelY",r),f,c,d=this.getLabelText(t,r);if(d!=null&&d!==""&&!isNaN(u)&&!isNaN(l)){this.setupTextStyle(e,t,a);var h=r?r+"-":"",v=Yr(o,"labelWidth",r),p=Yr(o,"labelHeight",r),g=t.pstyle(h+"text-margin-x").pfValue,m=t.pstyle(h+"text-margin-y").pfValue,y=t.isEdge(),b=t.pstyle("text-halign").value,w=t.pstyle("text-valign").value;y&&(b="center",w="center"),u+=g,l+=m;var E;switch(n?E=this.getTextAngle(t,r):E=0,E!==0&&(f=u,c=l,e.translate(f,c),e.rotate(E),u=0,l=0),w){case"top":break;case"center":l+=p/2;break;case"bottom":l+=p;break}var S=t.pstyle("text-background-opacity").value,x=t.pstyle("text-border-opacity").value,M=t.pstyle("text-border-width").pfValue,T=t.pstyle("text-background-padding").pfValue,C=t.pstyle("text-background-shape").strValue,k=C.indexOf("round")===0,_=2;if(S>0||M>0&&x>0){var A=u-T;switch(b){case"left":A-=v;break;case"center":A-=v/2;break}var D=l-p-T,P=v+2*T,R=p+2*T;if(S>0){var L=e.fillStyle,N=t.pstyle("text-background-color").value;e.fillStyle="rgba("+N[0]+","+N[1]+","+N[2]+","+S*s+")",k?sh(e,A,D,P,R,_):e.fillRect(A,D,P,R),e.fillStyle=L}if(M>0&&x>0){var z=e.strokeStyle,F=e.lineWidth,I=t.pstyle("text-border-color").value,B=t.pstyle("text-border-style").value;if(e.strokeStyle="rgba("+I[0]+","+I[1]+","+I[2]+","+x*s+")",e.lineWidth=M,e.setLineDash)switch(B){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"double":e.lineWidth=M/4,e.setLineDash([]);break;case"solid":e.setLineDash([]);break}if(k?sh(e,A,D,P,R,_,"stroke"):e.strokeRect(A,D,P,R),B==="double"){var V=M/2;k?sh(e,A+V,D+V,P-V*2,R-V*2,_,"stroke"):e.strokeRect(A+V,D+V,P-V*2,R-V*2)}e.setLineDash&&e.setLineDash([]),e.lineWidth=F,e.strokeStyle=z}}var K=2*t.pstyle("text-outline-width").pfValue;if(K>0&&(e.lineWidth=K),t.pstyle("text-wrap").value==="wrap"){var j=Yr(o,"labelWrapCachedLines",r),Q=Yr(o,"labelLineHeight",r),X=v/2,W=this.getLabelJustification(t);switch(W==="auto"||(b==="left"?W==="left"?u+=-v:W==="center"&&(u+=-X):b==="center"?W==="left"?u+=-X:W==="right"&&(u+=X):b==="right"&&(W==="center"?u+=X:W==="right"&&(u+=v))),w){case"top":l-=(j.length-1)*Q;break;case"center":case"bottom":l-=(j.length-1)*Q;break}for(var $=0;$<j.length;$++)K>0&&e.strokeText(j[$],u,l),e.fillText(j[$],u,l),l+=Q}else K>0&&e.strokeText(d,u,l),e.fillText(d,u,l);E!==0&&(e.rotate(-E),e.translate(-f,-c))}}};var Uo={};Uo.drawNode=function(e,t,r){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0,a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!0,i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:!0,o=this,s,u,l=t._private,f=l.rscratch,c=t.position();if(!(!fe(c.x)||!fe(c.y))&&!(i&&!t.visible())){var d=i?t.effectiveOpacity():1,h=o.usePaths(),v,p=!1,g=t.padding();s=t.width()+2*g,u=t.height()+2*g;var m;r&&(m=r,e.translate(-m.x1,-m.y1));for(var y=t.pstyle("background-image"),b=y.value,w=new Array(b.length),E=new Array(b.length),S=0,x=0;x<b.length;x++){var M=b[x],T=w[x]=M!=null&&M!=="none";if(T){var C=t.cy().style().getIndexedStyle(t,"background-image-crossorigin","value",x);S++,E[x]=o.getCachedImage(M,C,function(){l.backgroundTimestamp=Date.now(),t.emitAndNotify("background")})}}var k=t.pstyle("background-blacken").value,_=t.pstyle("border-width").pfValue,A=t.pstyle("background-opacity").value*d,D=t.pstyle("border-color").value,P=t.pstyle("border-style").value,R=t.pstyle("border-join").value,L=t.pstyle("border-cap").value,N=t.pstyle("border-position").value,z=t.pstyle("border-dash-pattern").pfValue,F=t.pstyle("border-dash-offset").pfValue,I=t.pstyle("border-opacity").value*d,B=t.pstyle("outline-width").pfValue,V=t.pstyle("outline-color").value,K=t.pstyle("outline-style").value,j=t.pstyle("outline-opacity").value*d,Q=t.pstyle("outline-offset").value,X=t.pstyle("corner-radius").value;X!=="auto"&&(X=t.pstyle("corner-radius").pfValue);var W=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:A;o.eleFillStyle(e,t,H)},$=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:I;o.colorStrokeStyle(e,D[0],D[1],D[2],H)},q=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:j;o.colorStrokeStyle(e,V[0],V[1],V[2],H)},U=function(H,Z,ce,te){var se=o.nodePathCache=o.nodePathCache||[],pe=w5(ce==="polygon"?ce+","+te.join(","):ce,""+Z,""+H,""+X),Se=se[pe],me,Ee=!1;return Se!=null?(me=Se,Ee=!0,f.pathCache=me):(me=new Path2D,se[pe]=f.pathCache=me),{path:me,cacheHit:Ee}},Y=t.pstyle("shape").strValue,ie=t.pstyle("shape-polygon-points").pfValue;if(h){e.translate(c.x,c.y);var J=U(s,u,Y,ie);v=J.path,p=J.cacheHit}var re=function(){if(!p){var H=c;h&&(H={x:0,y:0}),o.nodeShapes[o.getNodeShape(t)].draw(v||e,H.x,H.y,s,u,X,f)}h?e.fill(v):e.fill()},oe=function(){for(var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,ce=l.backgrounding,te=0,se=0;se<E.length;se++){var pe=t.cy().style().getIndexedStyle(t,"background-image-containment","value",se);if(Z&&pe==="over"||!Z&&pe==="inside"){te++;continue}w[se]&&E[se].complete&&!E[se].error&&(te++,o.drawInscribedImage(e,E[se],t,se,H))}l.backgrounding=te!==S,ce!==l.backgrounding&&t.updateStyle(!1)},ue=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,Z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:d;o.hasPie(t)&&(o.drawPie(e,t,Z),H&&(h||o.nodeShapes[o.getNodeShape(t)].draw(e,c.x,c.y,s,u,X,f)))},le=function(){var H=arguments.length>0&&arguments[0]!==void 0?arguments[0]:d,Z=(k>0?k:-k)*H,ce=k>0?0:255;k!==0&&(o.colorFillStyle(e,ce,ce,ce,Z),h?e.fill(v):e.fill())},ge=function(){if(_>0){if(e.lineWidth=_,e.lineCap=L,e.lineJoin=R,e.setLineDash)switch(P){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash(z),e.lineDashOffset=F;break;case"solid":case"double":e.setLineDash([]);break}if(N!=="center"){if(e.save(),e.lineWidth*=2,N==="inside")h?e.clip(v):e.clip();else{var H=new Path2D;H.rect(-s/2-_,-u/2-_,s+2*_,u+2*_),H.addPath(v),e.clip(H,"evenodd")}h?e.stroke(v):e.stroke(),e.restore()}else h?e.stroke(v):e.stroke();if(P==="double"){e.lineWidth=_/3;var Z=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",h?e.stroke(v):e.stroke(),e.globalCompositeOperation=Z}e.setLineDash&&e.setLineDash([])}},He=function(){if(B>0){if(e.lineWidth=B,e.lineCap="butt",e.setLineDash)switch(K){case"dotted":e.setLineDash([1,1]);break;case"dashed":e.setLineDash([4,2]);break;case"solid":case"double":e.setLineDash([]);break}var H=c;h&&(H={x:0,y:0});var Z=o.getNodeShape(t),ce=_;N==="inside"&&(ce=0),N==="outside"&&(ce*=2);var te=(s+ce+(B+Q))/s,se=(u+ce+(B+Q))/u,pe=s*te,Se=u*se,me=o.nodeShapes[Z].points,Ee;if(h){var Te=U(pe,Se,Z,me);Ee=Te.path}if(Z==="ellipse")o.drawEllipsePath(Ee||e,H.x,H.y,pe,Se);else if(["round-diamond","round-heptagon","round-hexagon","round-octagon","round-pentagon","round-polygon","round-triangle","round-tag"].includes(Z)){var xe=0,tt=0,lt=0;Z==="round-diamond"?xe=(ce+Q+B)*1.4:Z==="round-heptagon"?(xe=(ce+Q+B)*1.075,lt=-(ce/2+Q+B)/35):Z==="round-hexagon"?xe=(ce+Q+B)*1.12:Z==="round-pentagon"?(xe=(ce+Q+B)*1.13,lt=-(ce/2+Q+B)/15):Z==="round-tag"?(xe=(ce+Q+B)*1.12,tt=(ce/2+B+Q)*.07):Z==="round-triangle"&&(xe=(ce+Q+B)*(Math.PI/2),lt=-(ce+Q/2+B)/Math.PI),xe!==0&&(te=(s+xe)/s,pe=s*te,["round-hexagon","round-tag"].includes(Z)||(se=(u+xe)/u,Se=u*se)),X=X==="auto"?A5(pe,Se):X;for(var cr=pe/2,dr=Se/2,yt=X+(ce+B+Q)/2,kt=new Array(me.length/2),Ct=new Array(me.length/2),Zt=0;Zt<me.length/2;Zt++)kt[Zt]={x:H.x+tt+cr*me[Zt*2],y:H.y+lt+dr*me[Zt*2+1]};var Qt,rn,wr,nn,_n=kt.length;for(rn=kt[_n-1],Qt=0;Qt<_n;Qt++)wr=kt[Qt%_n],nn=kt[(Qt+1)%_n],Ct[Qt]=sp(rn,wr,nn,yt),rn=wr,wr=nn;o.drawRoundPolygonPath(Ee||e,H.x+tt,H.y+lt,s*te,u*se,me,Ct)}else if(["roundrectangle","round-rectangle"].includes(Z))X=X==="auto"?bi(pe,Se):X,o.drawRoundRectanglePath(Ee||e,H.x,H.y,pe,Se,X+(ce+B+Q)/2);else if(["cutrectangle","cut-rectangle"].includes(Z))X=X==="auto"?Kg():X,o.drawCutRectanglePath(Ee||e,H.x,H.y,pe,Se,null,X+(ce+B+Q)/4);else if(["bottomroundrectangle","bottom-round-rectangle"].includes(Z))X=X==="auto"?bi(pe,Se):X,o.drawBottomRoundRectanglePath(Ee||e,H.x,H.y,pe,Se,X+(ce+B+Q)/2);else if(Z==="barrel")o.drawBarrelPath(Ee||e,H.x,H.y,pe,Se);else if(Z.startsWith("polygon")||["rhomboid","right-rhomboid","round-tag","tag","vee"].includes(Z)){var Pn=(ce+B+Q)/s;me=Pf(Af(me,Pn)),o.drawPolygonPath(Ee||e,H.x,H.y,s,u,me)}else{var zt=(ce+B+Q)/s;me=Pf(Af(me,-zt)),o.drawPolygonPath(Ee||e,H.x,H.y,s,u,me)}if(h?e.stroke(Ee):e.stroke(),K==="double"){e.lineWidth=ce/3;var Dt=e.globalCompositeOperation;e.globalCompositeOperation="destination-out",h?e.stroke(Ee):e.stroke(),e.globalCompositeOperation=Dt}e.setLineDash&&e.setLineDash([])}},Ne=function(){a&&o.drawNodeOverlay(e,t,c,s,u)},ke=function(){a&&o.drawNodeUnderlay(e,t,c,s,u)},Ge=function(){o.drawElementText(e,t,null,n)},Pe=t.pstyle("ghost").value==="yes";if(Pe){var ze=t.pstyle("ghost-offset-x").pfValue,ne=t.pstyle("ghost-offset-y").pfValue,O=t.pstyle("ghost-opacity").value,G=O*d;e.translate(ze,ne),q(),He(),W(O*A),re(),oe(G,!0),$(O*I),ge(),ue(k!==0||_!==0),oe(G,!1),le(G),e.translate(-ze,-ne)}h&&e.translate(-c.x,-c.y),ke(),h&&e.translate(c.x,c.y),q(),He(),W(),re(),oe(d,!0),$(),ge(),ue(k!==0||_!==0),oe(d,!1),le(),h&&e.translate(-c.x,-c.y),Ge(),Ne(),r&&e.translate(m.x1,m.y1)}};var LE=function(t){if(!["overlay","underlay"].includes(t))throw new Error("Invalid state");return function(r,n,a,i,o){var s=this;if(n.visible()){var u=n.pstyle("".concat(t,"-padding")).pfValue,l=n.pstyle("".concat(t,"-opacity")).value,f=n.pstyle("".concat(t,"-color")).value,c=n.pstyle("".concat(t,"-shape")).value,d=n.pstyle("".concat(t,"-corner-radius")).value;if(l>0){if(a=a||n.position(),i==null||o==null){var h=n.padding();i=n.width()+2*h,o=n.height()+2*h}s.colorFillStyle(r,f[0],f[1],f[2],l),s.nodeShapes[c].draw(r,a.x,a.y,i+u*2,o+u*2,d),r.fill()}}}};Uo.drawNodeOverlay=LE("overlay");Uo.drawNodeUnderlay=LE("underlay");Uo.hasPie=function(e){return e=e[0],e._private.hasPie};Uo.drawPie=function(e,t,r,n){t=t[0],n=n||t.position();var a=t.cy().style(),i=t.pstyle("pie-size"),o=n.x,s=n.y,u=t.width(),l=t.height(),f=Math.min(u,l)/2,c=0,d=this.usePaths();d&&(o=0,s=0),i.units==="%"?f=f*i.pfValue:i.pfValue!==void 0&&(f=i.pfValue/2);for(var h=1;h<=a.pieBackgroundN;h++){var v=t.pstyle("pie-"+h+"-background-size").value,p=t.pstyle("pie-"+h+"-background-color").value,g=t.pstyle("pie-"+h+"-background-opacity").value*r,m=v/100;m+c>1&&(m=1-c);var y=1.5*Math.PI+2*Math.PI*c,b=2*Math.PI*m,w=y+b;v===0||c>=1||c+m>1||(e.beginPath(),e.moveTo(o,s),e.arc(o,s,f,y,w),e.closePath(),this.colorFillStyle(e,p[0],p[1],p[2],g),e.fill(),c+=m)}};var yr={},$B=100;yr.getPixelRatio=function(){var e=this.data.contexts[0];if(this.forcedPixelRatio!=null)return this.forcedPixelRatio;var t=this.cy.window(),r=e.backingStorePixelRatio||e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return(t.devicePixelRatio||1)/r};yr.paintCache=function(e){for(var t=this.paintCaches=this.paintCaches||[],r=!0,n,a=0;a<t.length;a++)if(n=t[a],n.context===e){r=!1;break}return r&&(n={context:e},t.push(n)),n};yr.createGradientStyleFor=function(e,t,r,n,a){var i,o=this.usePaths(),s=r.pstyle(t+"-gradient-stop-colors").value,u=r.pstyle(t+"-gradient-stop-positions").pfValue;if(n==="radial-gradient")if(r.isEdge()){var l=r.sourceEndpoint(),f=r.targetEndpoint(),c=r.midpoint(),d=yi(l,c),h=yi(f,c);i=e.createRadialGradient(c.x,c.y,0,c.x,c.y,Math.max(d,h))}else{var v=o?{x:0,y:0}:r.position(),p=r.paddedWidth(),g=r.paddedHeight();i=e.createRadialGradient(v.x,v.y,0,v.x,v.y,Math.max(p,g))}else if(r.isEdge()){var m=r.sourceEndpoint(),y=r.targetEndpoint();i=e.createLinearGradient(m.x,m.y,y.x,y.y)}else{var b=o?{x:0,y:0}:r.position(),w=r.paddedWidth(),E=r.paddedHeight(),S=w/2,x=E/2,M=r.pstyle("background-gradient-direction").value;switch(M){case"to-bottom":i=e.createLinearGradient(b.x,b.y-x,b.x,b.y+x);break;case"to-top":i=e.createLinearGradient(b.x,b.y+x,b.x,b.y-x);break;case"to-left":i=e.createLinearGradient(b.x+S,b.y,b.x-S,b.y);break;case"to-right":i=e.createLinearGradient(b.x-S,b.y,b.x+S,b.y);break;case"to-bottom-right":case"to-right-bottom":i=e.createLinearGradient(b.x-S,b.y-x,b.x+S,b.y+x);break;case"to-top-right":case"to-right-top":i=e.createLinearGradient(b.x-S,b.y+x,b.x+S,b.y-x);break;case"to-bottom-left":case"to-left-bottom":i=e.createLinearGradient(b.x+S,b.y-x,b.x-S,b.y+x);break;case"to-top-left":case"to-left-top":i=e.createLinearGradient(b.x+S,b.y+x,b.x-S,b.y-x);break}}if(!i)return null;for(var T=u.length===s.length,C=s.length,k=0;k<C;k++)i.addColorStop(T?u[k]:k/(C-1),"rgba("+s[k][0]+","+s[k][1]+","+s[k][2]+","+a+")");return i};yr.gradientFillStyle=function(e,t,r,n){var a=this.createGradientStyleFor(e,"background",t,r,n);if(!a)return null;e.fillStyle=a};yr.colorFillStyle=function(e,t,r,n,a){e.fillStyle="rgba("+t+","+r+","+n+","+a+")"};yr.eleFillStyle=function(e,t,r){var n=t.pstyle("background-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientFillStyle(e,t,n,r);else{var a=t.pstyle("background-color").value;this.colorFillStyle(e,a[0],a[1],a[2],r)}};yr.gradientStrokeStyle=function(e,t,r,n){var a=this.createGradientStyleFor(e,"line",t,r,n);if(!a)return null;e.strokeStyle=a};yr.colorStrokeStyle=function(e,t,r,n,a){e.strokeStyle="rgba("+t+","+r+","+n+","+a+")"};yr.eleStrokeStyle=function(e,t,r){var n=t.pstyle("line-fill").value;if(n==="linear-gradient"||n==="radial-gradient")this.gradientStrokeStyle(e,t,n,r);else{var a=t.pstyle("line-color").value;this.colorStrokeStyle(e,a[0],a[1],a[2],r)}};yr.matchCanvasSize=function(e){var t=this,r=t.data,n=t.findContainerClientCoords(),a=n[2],i=n[3],o=t.getPixelRatio(),s=t.motionBlurPxRatio;(e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_NODE]||e===t.data.bufferCanvases[t.MOTIONBLUR_BUFFER_DRAG])&&(o=s);var u=a*o,l=i*o,f;if(!(u===t.canvasWidth&&l===t.canvasHeight)){t.fontCaches=null;var c=r.canvasContainer;c.style.width=a+"px",c.style.height=i+"px";for(var d=0;d<t.CANVAS_LAYERS;d++)f=r.canvases[d],f.width=u,f.height=l,f.style.width=a+"px",f.style.height=i+"px";for(var d=0;d<t.BUFFER_COUNT;d++)f=r.bufferCanvases[d],f.width=u,f.height=l,f.style.width=a+"px",f.style.height=i+"px";t.textureMult=1,o<=1&&(f=r.bufferCanvases[t.TEXTURE_BUFFER],t.textureMult=2,f.width=u*t.textureMult,f.height=l*t.textureMult),t.canvasWidth=u,t.canvasHeight=l}};yr.renderTo=function(e,t,r,n){this.render({forcedContext:e,forcedZoom:t,forcedPan:r,drawAllLayers:!0,forcedPxRatio:n})};yr.render=function(e){e=e||T5();var t=e.forcedContext,r=e.drawAllLayers,n=e.drawOnlyNodeLayer,a=e.forcedZoom,i=e.forcedPan,o=this,s=e.forcedPxRatio===void 0?this.getPixelRatio():e.forcedPxRatio,u=o.cy,l=o.data,f=l.canvasNeedsRedraw,c=o.textureOnViewport&&!t&&(o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming),d=e.motionBlur!==void 0?e.motionBlur:o.motionBlur,h=o.motionBlurPxRatio,v=u.hasCompoundNodes(),p=o.hoverData.draggingEles,g=!!(o.hoverData.selecting||o.touchData.selecting);d=d&&!t&&o.motionBlurEnabled&&!g;var m=d;t||(o.prevPxRatio!==s&&(o.invalidateContainerClientCoordsCache(),o.matchCanvasSize(o.container),o.redrawHint("eles",!0),o.redrawHint("drag",!0)),o.prevPxRatio=s),!t&&o.motionBlurTimeout&&clearTimeout(o.motionBlurTimeout),d&&(o.mbFrames==null&&(o.mbFrames=0),o.mbFrames++,o.mbFrames<3&&(m=!1),o.mbFrames>o.minMbLowQualFrames&&(o.motionBlurPxRatio=o.mbPxRBlurry)),o.clearingMotionBlur&&(o.motionBlurPxRatio=1),o.textureDrawLastFrame&&!c&&(f[o.NODE]=!0,f[o.SELECT_BOX]=!0);var y=u.style(),b=u.zoom(),w=a!==void 0?a:b,E=u.pan(),S={x:E.x,y:E.y},x={zoom:b,pan:{x:E.x,y:E.y}},M=o.prevViewport,T=M===void 0||x.zoom!==M.zoom||x.pan.x!==M.pan.x||x.pan.y!==M.pan.y;!T&&!(p&&!v)&&(o.motionBlurPxRatio=1),i&&(S=i),w*=s,S.x*=s,S.y*=s;var C=o.getCachedZSortedEles();function k(J,re,oe,ue,le){var ge=J.globalCompositeOperation;J.globalCompositeOperation="destination-out",o.colorFillStyle(J,255,255,255,o.motionBlurTransparency),J.fillRect(re,oe,ue,le),J.globalCompositeOperation=ge}function _(J,re){var oe,ue,le,ge;!o.clearingMotionBlur&&(J===l.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]||J===l.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG])?(oe={x:E.x*h,y:E.y*h},ue=b*h,le=o.canvasWidth*h,ge=o.canvasHeight*h):(oe=S,ue=w,le=o.canvasWidth,ge=o.canvasHeight),J.setTransform(1,0,0,1,0,0),re==="motionBlur"?k(J,0,0,le,ge):!t&&(re===void 0||re)&&J.clearRect(0,0,le,ge),r||(J.translate(oe.x,oe.y),J.scale(ue,ue)),i&&J.translate(i.x,i.y),a&&J.scale(a,a)}if(c||(o.textureDrawLastFrame=!1),c){if(o.textureDrawLastFrame=!0,!o.textureCache){o.textureCache={},o.textureCache.bb=u.mutableElements().boundingBox(),o.textureCache.texture=o.data.bufferCanvases[o.TEXTURE_BUFFER];var A=o.data.bufferContexts[o.TEXTURE_BUFFER];A.setTransform(1,0,0,1,0,0),A.clearRect(0,0,o.canvasWidth*o.textureMult,o.canvasHeight*o.textureMult),o.render({forcedContext:A,drawOnlyNodeLayer:!0,forcedPxRatio:s*o.textureMult});var x=o.textureCache.viewport={zoom:u.zoom(),pan:u.pan(),width:o.canvasWidth,height:o.canvasHeight};x.mpan={x:(0-x.pan.x)/x.zoom,y:(0-x.pan.y)/x.zoom}}f[o.DRAG]=!1,f[o.NODE]=!1;var D=l.contexts[o.NODE],P=o.textureCache.texture,x=o.textureCache.viewport;D.setTransform(1,0,0,1,0,0),d?k(D,0,0,x.width,x.height):D.clearRect(0,0,x.width,x.height);var R=y.core("outside-texture-bg-color").value,L=y.core("outside-texture-bg-opacity").value;o.colorFillStyle(D,R[0],R[1],R[2],L),D.fillRect(0,0,x.width,x.height);var b=u.zoom();_(D,!1),D.clearRect(x.mpan.x,x.mpan.y,x.width/x.zoom/s,x.height/x.zoom/s),D.drawImage(P,x.mpan.x,x.mpan.y,x.width/x.zoom/s,x.height/x.zoom/s)}else o.textureOnViewport&&!t&&(o.textureCache=null);var N=u.extent(),z=o.pinching||o.hoverData.dragging||o.swipePanning||o.data.wheelZooming||o.hoverData.draggingEles||o.cy.animated(),F=o.hideEdgesOnViewport&&z,I=[];if(I[o.NODE]=!f[o.NODE]&&d&&!o.clearedForMotionBlur[o.NODE]||o.clearingMotionBlur,I[o.NODE]&&(o.clearedForMotionBlur[o.NODE]=!0),I[o.DRAG]=!f[o.DRAG]&&d&&!o.clearedForMotionBlur[o.DRAG]||o.clearingMotionBlur,I[o.DRAG]&&(o.clearedForMotionBlur[o.DRAG]=!0),f[o.NODE]||r||n||I[o.NODE]){var B=d&&!I[o.NODE]&&h!==1,D=t||(B?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_NODE]:l.contexts[o.NODE]),V=d&&!B?"motionBlur":void 0;_(D,V),F?o.drawCachedNodes(D,C.nondrag,s,N):o.drawLayeredElements(D,C.nondrag,s,N),o.debug&&o.drawDebugPoints(D,C.nondrag),!r&&!d&&(f[o.NODE]=!1)}if(!n&&(f[o.DRAG]||r||I[o.DRAG])){var B=d&&!I[o.DRAG]&&h!==1,D=t||(B?o.data.bufferContexts[o.MOTIONBLUR_BUFFER_DRAG]:l.contexts[o.DRAG]);_(D,d&&!B?"motionBlur":void 0),F?o.drawCachedNodes(D,C.drag,s,N):o.drawCachedElements(D,C.drag,s,N),o.debug&&o.drawDebugPoints(D,C.drag),!r&&!d&&(f[o.DRAG]=!1)}if(o.showFps||!n&&f[o.SELECT_BOX]&&!r){var D=t||l.contexts[o.SELECT_BOX];if(_(D),o.selection[4]==1&&(o.hoverData.selecting||o.touchData.selecting)){var b=o.cy.zoom(),K=y.core("selection-box-border-width").value/b;D.lineWidth=K,D.fillStyle="rgba("+y.core("selection-box-color").value[0]+","+y.core("selection-box-color").value[1]+","+y.core("selection-box-color").value[2]+","+y.core("selection-box-opacity").value+")",D.fillRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]),K>0&&(D.strokeStyle="rgba("+y.core("selection-box-border-color").value[0]+","+y.core("selection-box-border-color").value[1]+","+y.core("selection-box-border-color").value[2]+","+y.core("selection-box-opacity").value+")",D.strokeRect(o.selection[0],o.selection[1],o.selection[2]-o.selection[0],o.selection[3]-o.selection[1]))}if(l.bgActivePosistion&&!o.hoverData.selecting){var b=o.cy.zoom(),j=l.bgActivePosistion;D.fillStyle="rgba("+y.core("active-bg-color").value[0]+","+y.core("active-bg-color").value[1]+","+y.core("active-bg-color").value[2]+","+y.core("active-bg-opacity").value+")",D.beginPath(),D.arc(j.x,j.y,y.core("active-bg-size").pfValue/b,0,2*Math.PI),D.fill()}var Q=o.lastRedrawTime;if(o.showFps&&Q){Q=Math.round(Q);var X=Math.round(1e3/Q);D.setTransform(1,0,0,1,0,0),D.fillStyle="rgba(255, 0, 0, 0.75)",D.strokeStyle="rgba(255, 0, 0, 0.75)",D.lineWidth=1,D.fillText("1 frame = "+Q+" ms = "+X+" fps",0,20);var W=60;D.strokeRect(0,30,250,20),D.fillRect(0,30,250*Math.min(X/W,1),20)}r||(f[o.SELECT_BOX]=!1)}if(d&&h!==1){var $=l.contexts[o.NODE],q=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_NODE],U=l.contexts[o.DRAG],Y=o.data.bufferCanvases[o.MOTIONBLUR_BUFFER_DRAG],ie=function(re,oe,ue){re.setTransform(1,0,0,1,0,0),ue||!m?re.clearRect(0,0,o.canvasWidth,o.canvasHeight):k(re,0,0,o.canvasWidth,o.canvasHeight);var le=h;re.drawImage(oe,0,0,o.canvasWidth*le,o.canvasHeight*le,0,0,o.canvasWidth,o.canvasHeight)};(f[o.NODE]||I[o.NODE])&&(ie($,q,I[o.NODE]),f[o.NODE]=!1),(f[o.DRAG]||I[o.DRAG])&&(ie(U,Y,I[o.DRAG]),f[o.DRAG]=!1)}o.prevViewport=x,o.clearingMotionBlur&&(o.clearingMotionBlur=!1,o.motionBlurCleared=!0,o.motionBlur=!0),d&&(o.motionBlurTimeout=setTimeout(function(){o.motionBlurTimeout=null,o.clearedForMotionBlur[o.NODE]=!1,o.clearedForMotionBlur[o.DRAG]=!1,o.motionBlur=!1,o.clearingMotionBlur=!c,o.mbFrames=0,f[o.NODE]=!0,f[o.DRAG]=!0,o.redraw()},$B)),t||u.emit("render")};var Va={};Va.drawPolygonPath=function(e,t,r,n,a,i){var o=n/2,s=a/2;e.beginPath&&e.beginPath(),e.moveTo(t+o*i[0],r+s*i[1]);for(var u=1;u<i.length/2;u++)e.lineTo(t+o*i[u*2],r+s*i[u*2+1]);e.closePath()};Va.drawRoundPolygonPath=function(e,t,r,n,a,i,o){o.forEach(function(s){return SE(e,s)}),e.closePath()};Va.drawRoundRectanglePath=function(e,t,r,n,a,i){var o=n/2,s=a/2,u=i==="auto"?bi(n,a):Math.min(i,s,o);e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.arcTo(t+o,r-s,t+o,r,u),e.arcTo(t+o,r+s,t,r+s,u),e.arcTo(t-o,r+s,t-o,r,u),e.arcTo(t-o,r-s,t,r-s,u),e.lineTo(t,r-s),e.closePath()};Va.drawBottomRoundRectanglePath=function(e,t,r,n,a,i){var o=n/2,s=a/2,u=i==="auto"?bi(n,a):i;e.beginPath&&e.beginPath(),e.moveTo(t,r-s),e.lineTo(t+o,r-s),e.lineTo(t+o,r),e.arcTo(t+o,r+s,t,r+s,u),e.arcTo(t-o,r+s,t-o,r,u),e.lineTo(t-o,r-s),e.lineTo(t,r-s),e.closePath()};Va.drawCutRectanglePath=function(e,t,r,n,a,i,o){var s=n/2,u=a/2,l=o==="auto"?Kg():o;e.beginPath&&e.beginPath(),e.moveTo(t-s+l,r-u),e.lineTo(t+s-l,r-u),e.lineTo(t+s,r-u+l),e.lineTo(t+s,r+u-l),e.lineTo(t+s-l,r+u),e.lineTo(t-s+l,r+u),e.lineTo(t-s,r+u-l),e.lineTo(t-s,r-u+l),e.closePath()};Va.drawBarrelPath=function(e,t,r,n,a){var i=n/2,o=a/2,s=t-i,u=t+i,l=r-o,f=r+o,c=hv(n,a),d=c.widthOffset,h=c.heightOffset,v=c.ctrlPtOffsetPct*d;e.beginPath&&e.beginPath(),e.moveTo(s,l+h),e.lineTo(s,f-h),e.quadraticCurveTo(s+v,f,s+d,f),e.lineTo(u-d,f),e.quadraticCurveTo(u-v,f,u,f-h),e.lineTo(u,l+h),e.quadraticCurveTo(u-v,l,u-d,l),e.lineTo(s+d,l),e.quadraticCurveTo(s+v,l,s,l+h),e.closePath()};var i1=Math.sin(0),o1=Math.cos(0),Mv={},kv={},$E=Math.PI/40;for(var qi=0*Math.PI;qi<2*Math.PI;qi+=$E)Mv[qi]=Math.sin(qi),kv[qi]=Math.cos(qi);Va.drawEllipsePath=function(e,t,r,n,a){if(e.beginPath&&e.beginPath(),e.ellipse)e.ellipse(t,r,n/2,a/2,0,0,2*Math.PI);else for(var i,o,s=n/2,u=a/2,l=0*Math.PI;l<2*Math.PI;l+=$E)i=t-s*Mv[l]*i1+s*kv[l]*o1,o=r+u*kv[l]*i1+u*Mv[l]*o1,l===0?e.moveTo(i,o):e.lineTo(i,o);e.closePath()};var Bu={};Bu.createBuffer=function(e,t){var r=document.createElement("canvas");return r.width=e,r.height=t,[r,r.getContext("2d")]};Bu.bufferCanvasImage=function(e){var t=this.cy,r=t.mutableElements(),n=r.boundingBox(),a=this.findContainerClientCoords(),i=e.full?Math.ceil(n.w):a[2],o=e.full?Math.ceil(n.h):a[3],s=fe(e.maxWidth)||fe(e.maxHeight),u=this.getPixelRatio(),l=1;if(e.scale!==void 0)i*=e.scale,o*=e.scale,l=e.scale;else if(s){var f=1/0,c=1/0;fe(e.maxWidth)&&(f=l*e.maxWidth/i),fe(e.maxHeight)&&(c=l*e.maxHeight/o),l=Math.min(f,c),i*=l,o*=l}s||(i*=u,o*=u,l*=u);var d=document.createElement("canvas");d.width=i,d.height=o,d.style.width=i+"px",d.style.height=o+"px";var h=d.getContext("2d");if(i>0&&o>0){h.clearRect(0,0,i,o),h.globalCompositeOperation="source-over";var v=this.getCachedZSortedEles();if(e.full)h.translate(-n.x1*l,-n.y1*l),h.scale(l,l),this.drawElements(h,v),h.scale(1/l,1/l),h.translate(n.x1*l,n.y1*l);else{var p=t.pan(),g={x:p.x*l,y:p.y*l};l*=t.zoom(),h.translate(g.x,g.y),h.scale(l,l),this.drawElements(h,v),h.scale(1/l,1/l),h.translate(-g.x,-g.y)}e.bg&&(h.globalCompositeOperation="destination-over",h.fillStyle=e.bg,h.rect(0,0,i,o),h.fill())}return d};function NB(e,t){for(var r=atob(e),n=new ArrayBuffer(r.length),a=new Uint8Array(n),i=0;i<r.length;i++)a[i]=r.charCodeAt(i);return new Blob([n],{type:t})}function s1(e){var t=e.indexOf(",");return e.substr(t+1)}function NE(e,t,r){var n=function(){return t.toDataURL(r,e.quality)};switch(e.output){case"blob-promise":return new Io(function(a,i){try{t.toBlob(function(o){o!=null?a(o):i(new Error("`canvas.toBlob()` sent a null value in its callback"))},r,e.quality)}catch(o){i(o)}});case"blob":return NB(s1(n()),r);case"base64":return s1(n());case"base64uri":default:return n()}}Bu.png=function(e){return NE(e,this.bufferCanvasImage(e),"image/png")};Bu.jpg=function(e){return NE(e,this.bufferCanvasImage(e),"image/jpeg")};var IE={};IE.nodeShapeImpl=function(e,t,r,n,a,i,o,s){switch(e){case"ellipse":return this.drawEllipsePath(t,r,n,a,i);case"polygon":return this.drawPolygonPath(t,r,n,a,i,o);case"round-polygon":return this.drawRoundPolygonPath(t,r,n,a,i,o,s);case"roundrectangle":case"round-rectangle":return this.drawRoundRectanglePath(t,r,n,a,i,s);case"cutrectangle":case"cut-rectangle":return this.drawCutRectanglePath(t,r,n,a,i,o,s);case"bottomroundrectangle":case"bottom-round-rectangle":return this.drawBottomRoundRectanglePath(t,r,n,a,i,s);case"barrel":return this.drawBarrelPath(t,r,n,a,i)}};var IB=BE,Ye=BE.prototype;Ye.CANVAS_LAYERS=3;Ye.SELECT_BOX=0;Ye.DRAG=1;Ye.NODE=2;Ye.BUFFER_COUNT=3;Ye.TEXTURE_BUFFER=0;Ye.MOTIONBLUR_BUFFER_NODE=1;Ye.MOTIONBLUR_BUFFER_DRAG=2;function BE(e){var t=this,r=t.cy.window(),n=r.document;t.data={canvases:new Array(Ye.CANVAS_LAYERS),contexts:new Array(Ye.CANVAS_LAYERS),canvasNeedsRedraw:new Array(Ye.CANVAS_LAYERS),bufferCanvases:new Array(Ye.BUFFER_COUNT),bufferContexts:new Array(Ye.CANVAS_LAYERS)};var a="-webkit-tap-highlight-color",i="rgba(0,0,0,0)";t.data.canvasContainer=n.createElement("div");var o=t.data.canvasContainer.style;t.data.canvasContainer.style[a]=i,o.position="relative",o.zIndex="0",o.overflow="hidden";var s=e.cy.container();s.appendChild(t.data.canvasContainer),s.style[a]=i;var u={"-webkit-user-select":"none","-moz-user-select":"-moz-none","user-select":"none","-webkit-tap-highlight-color":"rgba(0,0,0,0)","outline-style":"none"};TA()&&(u["-ms-touch-action"]="none",u["touch-action"]="none");for(var l=0;l<Ye.CANVAS_LAYERS;l++){var f=t.data.canvases[l]=n.createElement("canvas");t.data.contexts[l]=f.getContext("2d"),Object.keys(u).forEach(function(W){f.style[W]=u[W]}),f.style.position="absolute",f.setAttribute("data-id","layer"+l),f.style.zIndex=String(Ye.CANVAS_LAYERS-l),t.data.canvasContainer.appendChild(f),t.data.canvasNeedsRedraw[l]=!1}t.data.topCanvas=t.data.canvases[0],t.data.canvases[Ye.NODE].setAttribute("data-id","layer"+Ye.NODE+"-node"),t.data.canvases[Ye.SELECT_BOX].setAttribute("data-id","layer"+Ye.SELECT_BOX+"-selectbox"),t.data.canvases[Ye.DRAG].setAttribute("data-id","layer"+Ye.DRAG+"-drag");for(var l=0;l<Ye.BUFFER_COUNT;l++)t.data.bufferCanvases[l]=n.createElement("canvas"),t.data.bufferContexts[l]=t.data.bufferCanvases[l].getContext("2d"),t.data.bufferCanvases[l].style.position="absolute",t.data.bufferCanvases[l].setAttribute("data-id","buffer"+l),t.data.bufferCanvases[l].style.zIndex=String(-l-1),t.data.bufferCanvases[l].style.visibility="hidden";t.pathsEnabled=!0;var c=lr(),d=function($){return{x:($.x1+$.x2)/2,y:($.y1+$.y2)/2}},h=function($){return{x:-$.w/2,y:-$.h/2}},v=function($){var q=$[0]._private,U=q.oldBackgroundTimestamp===q.backgroundTimestamp;return!U},p=function($){return $[0]._private.nodeKey},g=function($){return $[0]._private.labelStyleKey},m=function($){return $[0]._private.sourceLabelStyleKey},y=function($){return $[0]._private.targetLabelStyleKey},b=function($,q,U,Y,ie){return t.drawElement($,q,U,!1,!1,ie)},w=function($,q,U,Y,ie){return t.drawElementText($,q,U,Y,"main",ie)},E=function($,q,U,Y,ie){return t.drawElementText($,q,U,Y,"source",ie)},S=function($,q,U,Y,ie){return t.drawElementText($,q,U,Y,"target",ie)},x=function($){return $.boundingBox(),$[0]._private.bodyBounds},M=function($){return $.boundingBox(),$[0]._private.labelBounds.main||c},T=function($){return $.boundingBox(),$[0]._private.labelBounds.source||c},C=function($){return $.boundingBox(),$[0]._private.labelBounds.target||c},k=function($,q){return q},_=function($){return d(x($))},A=function($,q,U){var Y=$?$+"-":"";return{x:q.x+U.pstyle(Y+"text-margin-x").pfValue,y:q.y+U.pstyle(Y+"text-margin-y").pfValue}},D=function($,q,U){var Y=$[0]._private.rscratch;return{x:Y[q],y:Y[U]}},P=function($){return A("",D($,"labelX","labelY"),$)},R=function($){return A("source",D($,"sourceLabelX","sourceLabelY"),$)},L=function($){return A("target",D($,"targetLabelX","targetLabelY"),$)},N=function($){return h(x($))},z=function($){return h(T($))},F=function($){return h(C($))},I=function($){var q=M($),U=h(M($));if($.isNode()){switch($.pstyle("text-halign").value){case"left":U.x=-q.w-(q.leftPad||0);break;case"right":U.x=-(q.rightPad||0);break}switch($.pstyle("text-valign").value){case"top":U.y=-q.h-(q.topPad||0);break;case"bottom":U.y=-(q.botPad||0);break}}return U},B=t.data.eleTxrCache=new Ms(t,{getKey:p,doesEleInvalidateKey:v,drawElement:b,getBoundingBox:x,getRotationPoint:_,getRotationOffset:N,allowEdgeTxrCaching:!1,allowParentTxrCaching:!1}),V=t.data.lblTxrCache=new Ms(t,{getKey:g,drawElement:w,getBoundingBox:M,getRotationPoint:P,getRotationOffset:I,isVisible:k}),K=t.data.slbTxrCache=new Ms(t,{getKey:m,drawElement:E,getBoundingBox:T,getRotationPoint:R,getRotationOffset:z,isVisible:k}),j=t.data.tlbTxrCache=new Ms(t,{getKey:y,drawElement:S,getBoundingBox:C,getRotationPoint:L,getRotationOffset:F,isVisible:k}),Q=t.data.lyrTxrCache=new AE(t);t.onUpdateEleCalcs(function($,q){B.invalidateElements(q),V.invalidateElements(q),K.invalidateElements(q),j.invalidateElements(q),Q.invalidateElements(q);for(var U=0;U<q.length;U++){var Y=q[U]._private;Y.oldBackgroundTimestamp=Y.backgroundTimestamp}});var X=function($){for(var q=0;q<$.length;q++)Q.enqueueElementRefinement($[q].ele)};B.onDequeue(X),V.onDequeue(X),K.onDequeue(X),j.onDequeue(X)}Ye.redrawHint=function(e,t){var r=this;switch(e){case"eles":r.data.canvasNeedsRedraw[Ye.NODE]=t;break;case"drag":r.data.canvasNeedsRedraw[Ye.DRAG]=t;break;case"select":r.data.canvasNeedsRedraw[Ye.SELECT_BOX]=t;break}};var BB=typeof Path2D<"u";Ye.path2dEnabled=function(e){if(e===void 0)return this.pathsEnabled;this.pathsEnabled=!!e};Ye.usePaths=function(){return BB&&this.pathsEnabled};Ye.setImgSmoothing=function(e,t){e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled=t:(e.webkitImageSmoothingEnabled=t,e.mozImageSmoothingEnabled=t,e.msImageSmoothingEnabled=t)};Ye.getImgSmoothing=function(e){return e.imageSmoothingEnabled!=null?e.imageSmoothingEnabled:e.webkitImageSmoothingEnabled||e.mozImageSmoothingEnabled||e.msImageSmoothingEnabled};Ye.makeOffscreenCanvas=function(e,t){var r;if((typeof OffscreenCanvas>"u"?"undefined":St(OffscreenCanvas))!=="undefined")r=new OffscreenCanvas(e,t);else{var n=this.cy.window(),a=n.document;r=a.createElement("canvas"),r.width=e,r.height=t}return r};[OE,kn,fa,lp,Oi,Uo,yr,Va,Bu,IE].forEach(function(e){we(Ye,e)});var FB=[{name:"null",impl:bE},{name:"base",impl:_E},{name:"canvas",impl:IB}],zB=[{type:"layout",extensions:HI},{type:"renderer",extensions:FB}],FE={},zE={};function YE(e,t,r){var n=r,a=function(M){Ke("Can not register `"+t+"` for `"+e+"` since `"+M+"` already exists in the prototype and can not be overridden")};if(e==="core"){if(au.prototype[t])return a(t);au.prototype[t]=r}else if(e==="collection"){if(It.prototype[t])return a(t);It.prototype[t]=r}else if(e==="layout"){for(var i=function(M){this.options=M,r.call(this,M),Fe(this._private)||(this._private={}),this._private.cy=M.cy,this._private.listeners=[],this.createEmitter()},o=i.prototype=Object.create(r.prototype),s=[],u=0;u<s.length;u++){var l=s[u];o[l]=o[l]||function(){return this}}o.start&&!o.run?o.run=function(){return this.start(),this}:!o.start&&o.run&&(o.start=function(){return this.run(),this});var f=r.prototype.stop;o.stop=function(){var x=this.options;if(x&&x.animate){var M=this.animations;if(M)for(var T=0;T<M.length;T++)M[T].stop()}return f?f.call(this):this.emit("layoutstop"),this},o.destroy||(o.destroy=function(){return this}),o.cy=function(){return this._private.cy};var c=function(M){return M._private.cy},d={addEventFields:function(M,T){T.layout=M,T.cy=c(M),T.target=M},bubble:function(){return!0},parent:function(M){return c(M)}};we(o,{createEmitter:function(){return this._private.emitter=new Rc(d,this),this},emitter:function(){return this._private.emitter},on:function(M,T){return this.emitter().on(M,T),this},one:function(M,T){return this.emitter().one(M,T),this},once:function(M,T){return this.emitter().one(M,T),this},removeListener:function(M,T){return this.emitter().removeListener(M,T),this},removeAllListeners:function(){return this.emitter().removeAllListeners(),this},emit:function(M,T){return this.emitter().emit(M,T),this}}),Xe.eventAliasesOn(o),n=i}else if(e==="renderer"&&t!=="null"&&t!=="base"){var h=qE("renderer","base"),v=h.prototype,p=r,g=r.prototype,m=function(){h.apply(this,arguments),p.apply(this,arguments)},y=m.prototype;for(var b in v){var w=v[b],E=g[b]!=null;if(E)return a(b);y[b]=w}for(var S in g)y[S]=g[S];v.clientFunctions.forEach(function(x){y[x]=y[x]||function(){vt("Renderer does not implement `renderer."+x+"()` on its prototype")}}),n=m}else if(e==="__proto__"||e==="constructor"||e==="prototype")return vt(e+" is an illegal type to be registered, possibly lead to prototype pollutions");return h5({map:FE,keys:[e,t],value:n})}function qE(e,t){return v5({map:FE,keys:[e,t]})}function YB(e,t,r,n,a){return h5({map:zE,keys:[e,t,r,n],value:a})}function qB(e,t,r,n){return v5({map:zE,keys:[e,t,r,n]})}var Cv=function(){if(arguments.length===2)return qE.apply(null,arguments);if(arguments.length===3)return YE.apply(null,arguments);if(arguments.length===4)return qB.apply(null,arguments);if(arguments.length===5)return YB.apply(null,arguments);vt("Invalid extension access syntax")};au.prototype.extension=Cv;zB.forEach(function(e){e.extensions.forEach(function(t){YE(e.type,t.name,t.impl)})});var VE=function e(){if(!(this instanceof e))return new e;this.length=0},Si=VE.prototype;Si.instanceString=function(){return"stylesheet"};Si.selector=function(e){var t=this.length++;return this[t]={selector:e,properties:[]},this};Si.css=function(e,t){var r=this.length-1;if(ye(e))this[r].properties.push({name:e,value:t});else if(Fe(e))for(var n=e,a=Object.keys(n),i=0;i<a.length;i++){var o=a[i],s=n[o];if(s!=null){var u=Wt.properties[o]||Wt.properties[Ec(o)];if(u!=null){var l=u.name,f=s;this[r].properties.push({name:l,value:f})}}}return this};Si.style=Si.css;Si.generateStyle=function(e){var t=new Wt(e);return this.appendToStyle(t)};Si.appendToStyle=function(e){for(var t=0;t<this.length;t++){var r=this[t],n=r.selector,a=r.properties;e.selector(n);for(var i=0;i<a.length;i++){var o=a[i];e.css(o.name,o.value)}}return e};var VB="3.30.4",ia=function(t){if(t===void 0&&(t={}),Fe(t))return new au(t);if(ye(t))return Cv.apply(Cv,arguments)};ia.use=function(e){var t=Array.prototype.slice.call(arguments,1);return t.unshift(ia),e.apply(null,t),this};ia.warnings=function(e){return S5(e)};ia.version=VB;ia.stylesheet=ia.Stylesheet=VE;var Yl={exports:{}},WB=Yl.exports,u1;function UB(){return u1||(u1=1,function(e,t){(function(n,a){e.exports=a()})(WB,function(){return function(r){var n={};function a(i){if(n[i])return n[i].exports;var o=n[i]={i,l:!1,exports:{}};return r[i].call(o.exports,o,o.exports,a),o.l=!0,o.exports}return a.m=r,a.c=n,a.i=function(i){return i},a.d=function(i,o,s){a.o(i,o)||Object.defineProperty(i,o,{configurable:!1,enumerable:!0,get:s})},a.n=function(i){var o=i&&i.__esModule?function(){return i.default}:function(){return i};return a.d(o,"a",o),o},a.o=function(i,o){return Object.prototype.hasOwnProperty.call(i,o)},a.p="",a(a.s=1)}([function(r,n){r.exports=function(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=a.maxPaths,o=i===void 0?-1:i,s=a.rootIds,u=s===void 0?[]:s,l=this,f=this.cy(),c=[];u.length===0?c=l.roots():c=u.map(function(g){return f.$id(g)}).filter(function(g){return g.length>0});var d=[];c.forEach(function(g){h(g,[g])});function h(g,m){if(!(o>=0&&d.length>=o)){if(!g){d.push(m);return}var y=v(g);y.length===0?d.push(m):y.forEach(function(b){m.find(function(w){return w.id()===b[1].id()})?h(null,m.concat(b)):h(b[1],m.concat(b))})}}function v(g){var m=g.outgoers(),y=[],b=[];return m.forEach(function(w,E){E%2==0?(b=[],b.push(w)):(b.push(w),y.push(b))}),y}var p=[];return d.forEach(function(g){var m=f.collection(g);p.push(m)}),p}},function(r,n,a){var i=a(0),o=function(u){u&&u("collection","cytoscapeAllPaths",i)};typeof cytoscape<"u"&&o(cytoscape),r.exports=o}])})}(Yl)),Yl.exports}var HB=UB();const GB=p1(HB);class Bf{constructor(t,r,n){Me(this,"lowY");Me(this,"index");Me(this,"nxt");this.lowY=t,this.index=r,this.nxt=n}static updateIYL(t,r,n){for(;n!=null&&t>=n.lowY;)n=n.nxt;return new Bf(t,r,n)}}class l1{constructor(t,r,n,a,i=!1){Me(this,"isExtra");Me(this,"w");Me(this,"h");Me(this,"x");Me(this,"y");Me(this,"c");Me(this,"prelim",0);Me(this,"mod",0);Me(this,"shift",0);Me(this,"change",0);Me(this,"tl");Me(this,"tr");Me(this,"el");Me(this,"er");Me(this,"msel");Me(this,"mser");this.w=t,this.h=r,this.y=n,this.c=a,this.isExtra=i}layout(){this.firstWalk(),this.secondWalk(0)}firstWalk(){if(this.c.length==0){this.setExtremes();return}this.c[0].firstWalk();let t=Bf.updateIYL(this.c[0].el.bottom(),0,void 0);for(let r=1;r<this.c.length;r++){this.c[r].firstWalk();const n=this.c[r].er.bottom();this.separate(r,t),t=Bf.updateIYL(n,r,t)}this.positionRoot(),this.setExtremes()}setExtremes(){this.c.length==0?(this.el=this,this.er=this,this.msel=this.mser=0):(this.el=this.c[0].el,this.msel=this.c[0].msel,this.er=this.c[this.c.length-1].er,this.mser=this.c[this.c.length-1].mser)}separate(t,r){let n=this.c[t-1],a=n.mod,i=this.c[t],o=i.mod,s=!0;for(;n!==void 0&&i!==void 0;){n.bottom()>r.lowY&&(r=r.nxt);const u=a+n.prelim+n.w-(o+i.prelim);(u>0||s&&u<=0)&&(o+=u,this.moveSubtree(t,r.index,u)),s=!1;const l=n.bottom(),f=i.bottom();l<=f&&(n=n.nextRightContour(),n!==void 0&&(a+=n.mod)),l>=f&&(i=i.nextLeftContour(),i!==void 0&&(o+=i.mod))}n==null&&i!=null?this.setLeftThread(t,i,o):n!=null&&i==null&&this.setRightThread(t,n,a)}moveSubtree(t,r,n){this.c[t].mod+=n,this.c[t].msel+=n,this.c[t].mser+=n,this.distributeExtra(t,r,n)}nextLeftContour(){return this.c.length==0?this.tl:this.c[0]}nextRightContour(){return this.c.length==0?this.tr:this.c[this.c.length-1]}bottom(){return this.y+this.h}setLeftThread(t,r,n){const a=this.c[0].el;a.tl=r;const i=n-r.mod-this.c[0].msel;a.mod+=i,a.prelim-=i,this.c[0].el=this.c[t].el,this.c[0].msel=this.c[t].msel}setRightThread(t,r,n){const a=this.c[t].er;a.tr=r;const i=n-r.mod-this.c[t].mser;a.mod+=i,a.prelim-=i,this.c[t].er=this.c[t-1].er,this.c[t].mser=this.c[t-1].mser}positionRoot(){this.prelim=(this.c[0].prelim+this.c[0].mod+this.c[this.c.length-1].mod+this.c[this.c.length-1].prelim+this.c[this.c.length-1].w)/2-this.w/2}secondWalk(t){t+=this.mod,this.x=this.prelim+t,this.addChildSpacing();for(const r of this.c)r.secondWalk(t)}distributeExtra(t,r,n){if(r!=t-1){const a=t-r;this.c[r+1].shift+=n/a,this.c[t].shift-=n/a,this.c[t].change-=n-n/a}}addChildSpacing(){let t=0,r=0;for(const n of this.c)t+=n.shift,r+=t+n.change,n.mod+=r}}class XB{constructor(t){Me(this,"options");this.options={horizontalSpacing:10,verticalSpacing:20,lineWidth:3,layerHeight:void 0,...t}}run(t){const r=this.makeTree(t,t.customY);return r.layout(),this.setLayoutResult(t,r),r}makeTree(t,r=0){const n=t.w+this.options.horizontalSpacing;let a=t.h+this.options.verticalSpacing,i=t.extraVerticalSpacing??0;const o=this.options.layerHeight;o!==void 0&&(a=Math.ceil(a/o)*o,i=Math.round(i/o)*o),t.customY!==void 0&&(i=t.customY-r,t.y=r+i),t.y=r+i;const s=new l1(n,a,t.y,t.children.map(u=>this.makeTree(u,t.y+a)));return i<0&&console.warn("Node has negative extra space, ignoring",t),i>0?new l1(this.options.lineWidth,i,r,[s],!0):s}setLayoutResult(t,r){r.isExtra&&(r=r.c[0]),t.x=r.x+this.options.horizontalSpacing/2,t.children.forEach((n,a)=>this.setLayoutResult(n,r.c[a]))}}class KB{constructor(){Me(this,"name","tidytree");Me(this,"dataOnly",!1);Me(this,"horizontalSpacing",20);Me(this,"verticalSpacing",40);Me(this,"direction","TB");Me(this,"extraVerticalSpacings",{});Me(this,"customYs",{});Me(this,"lineWidth",5);Me(this,"layerHeight");Me(this,"edgeComparator");Me(this,"sizeGetter",()=>({}));Me(this,"fit",!0);Me(this,"padding",30);Me(this,"pan");Me(this,"zoom");Me(this,"spacingFactor",1);Me(this,"transform",(t,r)=>r);Me(this,"animate",!1);Me(this,"animationDuration",500);Me(this,"animationEasing");Me(this,"animateFilter",()=>!0);Me(this,"ready");Me(this,"stop");Me(this,"nodeDimensionsIncludeLabels",!0)}}function fp(e){this.options={...new KB,...e}}fp.prototype.createTreeData=function(){const e=this.options.nodeDimensionsIncludeLabels??!0,t=this.options.eles,r=this.options.customYs,n=this.options.extraVerticalSpacings,a=new Set;for(const u of t.nodes()){const l={...u.layoutDimensions({nodeDimensionsIncludeLabels:e}),...this.options.sizeGetter(u)};(this.options.direction==="LR"||this.options.direction==="RL")&&([l.w,l.h]=[l.h,l.w]);const f={id:u.id(),w:l.w,h:l.h,children:[],extraVerticalSpacing:n[u.id()],customY:r[u.id()]===void 0?void 0:r[u.id()]-l.h/2};u.scratch("tidytree",f),a.add(f)}const i=this.options.edgeComparator,o=i===void 0?t.edges():t.edges().sort(i);for(const u of o){const l=u.source().scratch("tidytree"),f=u.target().scratch("tidytree");a.has(f)&&(l.children.push(f),a.delete(f))}if(a.size===0){const u=t.nodes().first(),l=u.scratch("tidytree");a.add(l);for(const f of u.incomers("node")){const c=f.scratch("tidytree"),d=c.children.indexOf(l);d!==-1&&c.children.splice(d,1)}}return{w:0,h:0,children:Array.from(a),customY:Math.min(-this.options.verticalSpacing,-(this.options.layerHeight??0))}};fp.prototype.run=function(){const e=this.createTreeData(),t=new XB(this.options).run(e),r=this.options.eles.nodes();return this.options.dataOnly||r.layoutPositions(this,this.options,n=>{const a=n.scratch("tidytree"),i={x:a.x+a.w/2,y:a.y+a.h/2};return(this.options.direction==="LR"||this.options.direction==="RL")&&([i.x,i.y]=[i.y,i.x]),this.options.direction==="BT"&&(i.y=-i.y),this.options.direction==="RL"&&(i.x=-i.x),i}),{treeData:e,tree:t}};function WE(e){e("layout","tidytree",fp)}typeof window.cytoscape<"u"&&WE(window.cytoscape);const ZB={nodes:[{data:{id:"0",name:"start"}},{data:{id:"1",name:"job 1"}},{data:{id:"2",name:"job 2"}},{data:{id:"3",name:"job 3",selected:!0}}],edges:[{data:{source:"0",target:"1"}},{data:{source:"1",target:"2"}},{data:{source:"1",target:"3"}}]},ls={primary:Hu.violet[700],primaryDark:Hu.violet[800],secondary:Hu.amber[400],text:Hu.stone[300]},QB=[{selector:"node",style:{"background-color":ls.primary,label:"data(name)",color:ls.text}},{selector:"node[selected]",style:{"background-color":ls.secondary}},{selector:"edge",style:{width:3,"line-color":ls.primaryDark,"target-arrow-color":ls.primaryDark,"target-arrow-shape":"triangle","curve-style":"round-taxi"}}];ia.use(WE);ia.use(GB);const jB={elements:ZB,style:QB,layout:{name:"tidytree",direction:"LR"}};function JB(){const e=ln.useRef(null),[,t]=ln.useState();return ln.useEffect(()=>{if(e.current){const r=ia({container:e.current,...jB});return t(r),()=>r.destroy()}},[e]),ii.jsx("div",{ref:e,className:"h-full w-full cursor-grab"})}JB.__docgenInfo={description:"",methods:[],displayName:"ScenarioGraph"};function eF(){return ii.jsx("div",{className:"flex h-40 w-full items-center justify-center border border-black",children:"Timeline Scrubber"})}eF.__docgenInfo={description:"",methods:[],displayName:"TimelineScrubber"};//! moment.js
//! version : 2.30.1
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var UE;function de(){return UE.apply(null,arguments)}function tF(e){UE=e}function Qr(e){return e instanceof Array||Object.prototype.toString.call(e)==="[object Array]"}function ai(e){return e!=null&&Object.prototype.toString.call(e)==="[object Object]"}function Ve(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function cp(e){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(e).length===0;var t;for(t in e)if(Ve(e,t))return!1;return!0}function nr(e){return e===void 0}function oa(e){return typeof e=="number"||Object.prototype.toString.call(e)==="[object Number]"}function Fu(e){return e instanceof Date||Object.prototype.toString.call(e)==="[object Date]"}function HE(e,t){var r=[],n,a=e.length;for(n=0;n<a;++n)r.push(t(e[n],n));return r}function wa(e,t){for(var r in t)Ve(t,r)&&(e[r]=t[r]);return Ve(t,"toString")&&(e.toString=t.toString),Ve(t,"valueOf")&&(e.valueOf=t.valueOf),e}function Cn(e,t,r,n){return gT(e,t,r,n,!0).utc()}function rF(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function Ae(e){return e._pf==null&&(e._pf=rF()),e._pf}var Dv;Array.prototype.some?Dv=Array.prototype.some:Dv=function(e){var t=Object(this),r=t.length>>>0,n;for(n=0;n<r;n++)if(n in t&&e.call(this,t[n],n,t))return!0;return!1};function dp(e){var t=null,r=!1,n=e._d&&!isNaN(e._d.getTime());if(n&&(t=Ae(e),r=Dv.call(t.parsedDateParts,function(a){return a!=null}),n=t.overflow<0&&!t.empty&&!t.invalidEra&&!t.invalidMonth&&!t.invalidWeekday&&!t.weekdayMismatch&&!t.nullInput&&!t.invalidFormat&&!t.userInvalidated&&(!t.meridiem||t.meridiem&&r),e._strict&&(n=n&&t.charsLeftOver===0&&t.unusedTokens.length===0&&t.bigHour===void 0)),Object.isFrozen==null||!Object.isFrozen(e))e._isValid=n;else return n;return e._isValid}function Yc(e){var t=Cn(NaN);return e!=null?wa(Ae(t),e):Ae(t).userInvalidated=!0,t}var f1=de.momentProperties=[],uh=!1;function hp(e,t){var r,n,a,i=f1.length;if(nr(t._isAMomentObject)||(e._isAMomentObject=t._isAMomentObject),nr(t._i)||(e._i=t._i),nr(t._f)||(e._f=t._f),nr(t._l)||(e._l=t._l),nr(t._strict)||(e._strict=t._strict),nr(t._tzm)||(e._tzm=t._tzm),nr(t._isUTC)||(e._isUTC=t._isUTC),nr(t._offset)||(e._offset=t._offset),nr(t._pf)||(e._pf=Ae(t)),nr(t._locale)||(e._locale=t._locale),i>0)for(r=0;r<i;r++)n=f1[r],a=t[n],nr(a)||(e[n]=a);return e}function zu(e){hp(this,e),this._d=new Date(e._d!=null?e._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),uh===!1&&(uh=!0,de.updateOffset(this),uh=!1)}function jr(e){return e instanceof zu||e!=null&&e._isAMomentObject!=null}function GE(e){de.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+e)}function Lr(e,t){var r=!0;return wa(function(){if(de.deprecationHandler!=null&&de.deprecationHandler(null,e),r){var n=[],a,i,o,s=arguments.length;for(i=0;i<s;i++){if(a="",typeof arguments[i]=="object"){a+=`
[`+i+"] ";for(o in arguments[0])Ve(arguments[0],o)&&(a+=o+": "+arguments[0][o]+", ");a=a.slice(0,-2)}else a=arguments[i];n.push(a)}GE(e+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),r=!1}return t.apply(this,arguments)},t)}var c1={};function XE(e,t){de.deprecationHandler!=null&&de.deprecationHandler(e,t),c1[e]||(GE(t),c1[e]=!0)}de.suppressDeprecationWarnings=!1;de.deprecationHandler=null;function Dn(e){return typeof Function<"u"&&e instanceof Function||Object.prototype.toString.call(e)==="[object Function]"}function nF(e){var t,r;for(r in e)Ve(e,r)&&(t=e[r],Dn(t)?this[r]=t:this["_"+r]=t);this._config=e,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function _v(e,t){var r=wa({},e),n;for(n in t)Ve(t,n)&&(ai(e[n])&&ai(t[n])?(r[n]={},wa(r[n],e[n]),wa(r[n],t[n])):t[n]!=null?r[n]=t[n]:delete r[n]);for(n in e)Ve(e,n)&&!Ve(t,n)&&ai(e[n])&&(r[n]=wa({},r[n]));return r}function vp(e){e!=null&&this.set(e)}var Pv;Object.keys?Pv=Object.keys:Pv=function(e){var t,r=[];for(t in e)Ve(e,t)&&r.push(t);return r};var aF={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function iF(e,t,r){var n=this._calendar[e]||this._calendar.sameElse;return Dn(n)?n.call(t,r):n}function xn(e,t,r){var n=""+Math.abs(e),a=t-n.length,i=e>=0;return(i?r?"+":"":"-")+Math.pow(10,Math.max(0,a)).toString().substr(1)+n}var gp=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Tl=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,lh={},so={};function be(e,t,r,n){var a=n;typeof n=="string"&&(a=function(){return this[n]()}),e&&(so[e]=a),t&&(so[t[0]]=function(){return xn(a.apply(this,arguments),t[1],t[2])}),r&&(so[r]=function(){return this.localeData().ordinal(a.apply(this,arguments),e)})}function oF(e){return e.match(/\[[\s\S]/)?e.replace(/^\[|\]$/g,""):e.replace(/\\/g,"")}function sF(e){var t=e.match(gp),r,n;for(r=0,n=t.length;r<n;r++)so[t[r]]?t[r]=so[t[r]]:t[r]=oF(t[r]);return function(a){var i="",o;for(o=0;o<n;o++)i+=Dn(t[o])?t[o].call(a,e):t[o];return i}}function ql(e,t){return e.isValid()?(t=KE(t,e.localeData()),lh[t]=lh[t]||sF(t),lh[t](e)):e.localeData().invalidDate()}function KE(e,t){var r=5;function n(a){return t.longDateFormat(a)||a}for(Tl.lastIndex=0;r>=0&&Tl.test(e);)e=e.replace(Tl,n),Tl.lastIndex=0,r-=1;return e}var uF={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function lF(e){var t=this._longDateFormat[e],r=this._longDateFormat[e.toUpperCase()];return t||!r?t:(this._longDateFormat[e]=r.match(gp).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[e])}var fF="Invalid date";function cF(){return this._invalidDate}var dF="%d",hF=/\d{1,2}/;function vF(e){return this._ordinal.replace("%d",e)}var gF={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function pF(e,t,r,n){var a=this._relativeTime[r];return Dn(a)?a(e,t,r,n):a.replace(/%d/i,e)}function mF(e,t){var r=this._relativeTime[e>0?"future":"past"];return Dn(r)?r(t):r.replace(/%s/i,t)}var d1={D:"date",dates:"date",date:"date",d:"day",days:"day",day:"day",e:"weekday",weekdays:"weekday",weekday:"weekday",E:"isoWeekday",isoweekdays:"isoWeekday",isoweekday:"isoWeekday",DDD:"dayOfYear",dayofyears:"dayOfYear",dayofyear:"dayOfYear",h:"hour",hours:"hour",hour:"hour",ms:"millisecond",milliseconds:"millisecond",millisecond:"millisecond",m:"minute",minutes:"minute",minute:"minute",M:"month",months:"month",month:"month",Q:"quarter",quarters:"quarter",quarter:"quarter",s:"second",seconds:"second",second:"second",gg:"weekYear",weekyears:"weekYear",weekyear:"weekYear",GG:"isoWeekYear",isoweekyears:"isoWeekYear",isoweekyear:"isoWeekYear",w:"week",weeks:"week",week:"week",W:"isoWeek",isoweeks:"isoWeek",isoweek:"isoWeek",y:"year",years:"year",year:"year"};function $r(e){return typeof e=="string"?d1[e]||d1[e.toLowerCase()]:void 0}function pp(e){var t={},r,n;for(n in e)Ve(e,n)&&(r=$r(n),r&&(t[r]=e[n]));return t}var yF={date:9,day:11,weekday:11,isoWeekday:11,dayOfYear:4,hour:13,millisecond:16,minute:14,month:8,quarter:7,second:15,weekYear:1,isoWeekYear:1,week:5,isoWeek:5,year:1};function bF(e){var t=[],r;for(r in e)Ve(e,r)&&t.push({unit:r,priority:yF[r]});return t.sort(function(n,a){return n.priority-a.priority}),t}var ZE=/\d/,br=/\d\d/,QE=/\d{3}/,mp=/\d{4}/,qc=/[+-]?\d{6}/,st=/\d\d?/,jE=/\d\d\d\d?/,JE=/\d\d\d\d\d\d?/,Vc=/\d{1,3}/,yp=/\d{1,4}/,Wc=/[+-]?\d{1,6}/,Ho=/\d+/,Uc=/[+-]?\d+/,wF=/Z|[+-]\d\d:?\d\d/gi,Hc=/Z|[+-]\d\d(?::?\d\d)?/gi,xF=/[+-]?\d+(\.\d{1,3})?/,Yu=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Go=/^[1-9]\d?/,bp=/^([1-9]\d|\d)/,Ff;Ff={};function he(e,t,r){Ff[e]=Dn(t)?t:function(n,a){return n&&r?r:t}}function SF(e,t){return Ve(Ff,e)?Ff[e](t._strict,t._locale):new RegExp(EF(e))}function EF(e){return Kn(e.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,r,n,a,i){return r||n||a||i}))}function Kn(e){return e.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function Mr(e){return e<0?Math.ceil(e)||0:Math.floor(e)}function $e(e){var t=+e,r=0;return t!==0&&isFinite(t)&&(r=Mr(t)),r}var Av={};function je(e,t){var r,n=t,a;for(typeof e=="string"&&(e=[e]),oa(t)&&(n=function(i,o){o[t]=$e(i)}),a=e.length,r=0;r<a;r++)Av[e[r]]=n}function qu(e,t){je(e,function(r,n,a,i){a._w=a._w||{},t(r,a._w,a,i)})}function TF(e,t,r){t!=null&&Ve(Av,e)&&Av[e](t,r._a,r,e)}function Gc(e){return e%4===0&&e%100!==0||e%400===0}var Ut=0,Gn=1,dn=2,xt=3,Wr=4,Xn=5,ei=6,MF=7,kF=8;be("Y",0,0,function(){var e=this.year();return e<=9999?xn(e,4):"+"+e});be(0,["YY",2],0,function(){return this.year()%100});be(0,["YYYY",4],0,"year");be(0,["YYYYY",5],0,"year");be(0,["YYYYYY",6,!0],0,"year");he("Y",Uc);he("YY",st,br);he("YYYY",yp,mp);he("YYYYY",Wc,qc);he("YYYYYY",Wc,qc);je(["YYYYY","YYYYYY"],Ut);je("YYYY",function(e,t){t[Ut]=e.length===2?de.parseTwoDigitYear(e):$e(e)});je("YY",function(e,t){t[Ut]=de.parseTwoDigitYear(e)});je("Y",function(e,t){t[Ut]=parseInt(e,10)});function Os(e){return Gc(e)?366:365}de.parseTwoDigitYear=function(e){return $e(e)+($e(e)>68?1900:2e3)};var eT=Xo("FullYear",!0);function CF(){return Gc(this.year())}function Xo(e,t){return function(r){return r!=null?(tT(this,e,r),de.updateOffset(this,t),this):iu(this,e)}}function iu(e,t){if(!e.isValid())return NaN;var r=e._d,n=e._isUTC;switch(t){case"Milliseconds":return n?r.getUTCMilliseconds():r.getMilliseconds();case"Seconds":return n?r.getUTCSeconds():r.getSeconds();case"Minutes":return n?r.getUTCMinutes():r.getMinutes();case"Hours":return n?r.getUTCHours():r.getHours();case"Date":return n?r.getUTCDate():r.getDate();case"Day":return n?r.getUTCDay():r.getDay();case"Month":return n?r.getUTCMonth():r.getMonth();case"FullYear":return n?r.getUTCFullYear():r.getFullYear();default:return NaN}}function tT(e,t,r){var n,a,i,o,s;if(!(!e.isValid()||isNaN(r))){switch(n=e._d,a=e._isUTC,t){case"Milliseconds":return void(a?n.setUTCMilliseconds(r):n.setMilliseconds(r));case"Seconds":return void(a?n.setUTCSeconds(r):n.setSeconds(r));case"Minutes":return void(a?n.setUTCMinutes(r):n.setMinutes(r));case"Hours":return void(a?n.setUTCHours(r):n.setHours(r));case"Date":return void(a?n.setUTCDate(r):n.setDate(r));case"FullYear":break;default:return}i=r,o=e.month(),s=e.date(),s=s===29&&o===1&&!Gc(i)?28:s,a?n.setUTCFullYear(i,o,s):n.setFullYear(i,o,s)}}function DF(e){return e=$r(e),Dn(this[e])?this[e]():this}function _F(e,t){if(typeof e=="object"){e=pp(e);var r=bF(e),n,a=r.length;for(n=0;n<a;n++)this[r[n].unit](e[r[n].unit])}else if(e=$r(e),Dn(this[e]))return this[e](t);return this}function PF(e,t){return(e%t+t)%t}var pt;Array.prototype.indexOf?pt=Array.prototype.indexOf:pt=function(e){var t;for(t=0;t<this.length;++t)if(this[t]===e)return t;return-1};function wp(e,t){if(isNaN(e)||isNaN(t))return NaN;var r=PF(t,12);return e+=(t-r)/12,r===1?Gc(e)?29:28:31-r%7%2}be("M",["MM",2],"Mo",function(){return this.month()+1});be("MMM",0,0,function(e){return this.localeData().monthsShort(this,e)});be("MMMM",0,0,function(e){return this.localeData().months(this,e)});he("M",st,Go);he("MM",st,br);he("MMM",function(e,t){return t.monthsShortRegex(e)});he("MMMM",function(e,t){return t.monthsRegex(e)});je(["M","MM"],function(e,t){t[Gn]=$e(e)-1});je(["MMM","MMMM"],function(e,t,r,n){var a=r._locale.monthsParse(e,n,r._strict);a!=null?t[Gn]=a:Ae(r).invalidMonth=e});var AF="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),rT="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nT=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,OF=Yu,RF=Yu;function LF(e,t){return e?Qr(this._months)?this._months[e.month()]:this._months[(this._months.isFormat||nT).test(t)?"format":"standalone"][e.month()]:Qr(this._months)?this._months:this._months.standalone}function $F(e,t){return e?Qr(this._monthsShort)?this._monthsShort[e.month()]:this._monthsShort[nT.test(t)?"format":"standalone"][e.month()]:Qr(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function NF(e,t,r){var n,a,i,o=e.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=Cn([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return r?t==="MMM"?(a=pt.call(this._shortMonthsParse,o),a!==-1?a:null):(a=pt.call(this._longMonthsParse,o),a!==-1?a:null):t==="MMM"?(a=pt.call(this._shortMonthsParse,o),a!==-1?a:(a=pt.call(this._longMonthsParse,o),a!==-1?a:null)):(a=pt.call(this._longMonthsParse,o),a!==-1?a:(a=pt.call(this._shortMonthsParse,o),a!==-1?a:null))}function IF(e,t,r){var n,a,i;if(this._monthsParseExact)return NF.call(this,e,t,r);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(a=Cn([2e3,n]),r&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(a,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(a,"").replace(".","")+"$","i")),!r&&!this._monthsParse[n]&&(i="^"+this.months(a,"")+"|^"+this.monthsShort(a,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),r&&t==="MMMM"&&this._longMonthsParse[n].test(e))return n;if(r&&t==="MMM"&&this._shortMonthsParse[n].test(e))return n;if(!r&&this._monthsParse[n].test(e))return n}}function aT(e,t){if(!e.isValid())return e;if(typeof t=="string"){if(/^\d+$/.test(t))t=$e(t);else if(t=e.localeData().monthsParse(t),!oa(t))return e}var r=t,n=e.date();return n=n<29?n:Math.min(n,wp(e.year(),r)),e._isUTC?e._d.setUTCMonth(r,n):e._d.setMonth(r,n),e}function iT(e){return e!=null?(aT(this,e),de.updateOffset(this,!0),this):iu(this,"Month")}function BF(){return wp(this.year(),this.month())}function FF(e){return this._monthsParseExact?(Ve(this,"_monthsRegex")||oT.call(this),e?this._monthsShortStrictRegex:this._monthsShortRegex):(Ve(this,"_monthsShortRegex")||(this._monthsShortRegex=OF),this._monthsShortStrictRegex&&e?this._monthsShortStrictRegex:this._monthsShortRegex)}function zF(e){return this._monthsParseExact?(Ve(this,"_monthsRegex")||oT.call(this),e?this._monthsStrictRegex:this._monthsRegex):(Ve(this,"_monthsRegex")||(this._monthsRegex=RF),this._monthsStrictRegex&&e?this._monthsStrictRegex:this._monthsRegex)}function oT(){function e(u,l){return l.length-u.length}var t=[],r=[],n=[],a,i,o,s;for(a=0;a<12;a++)i=Cn([2e3,a]),o=Kn(this.monthsShort(i,"")),s=Kn(this.months(i,"")),t.push(o),r.push(s),n.push(s),n.push(o);t.sort(e),r.sort(e),n.sort(e),this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+t.join("|")+")","i")}function YF(e,t,r,n,a,i,o){var s;return e<100&&e>=0?(s=new Date(e+400,t,r,n,a,i,o),isFinite(s.getFullYear())&&s.setFullYear(e)):s=new Date(e,t,r,n,a,i,o),s}function ou(e){var t,r;return e<100&&e>=0?(r=Array.prototype.slice.call(arguments),r[0]=e+400,t=new Date(Date.UTC.apply(null,r)),isFinite(t.getUTCFullYear())&&t.setUTCFullYear(e)):t=new Date(Date.UTC.apply(null,arguments)),t}function zf(e,t,r){var n=7+t-r,a=(7+ou(e,0,n).getUTCDay()-t)%7;return-a+n-1}function sT(e,t,r,n,a){var i=(7+r-n)%7,o=zf(e,n,a),s=1+7*(t-1)+i+o,u,l;return s<=0?(u=e-1,l=Os(u)+s):s>Os(e)?(u=e+1,l=s-Os(e)):(u=e,l=s),{year:u,dayOfYear:l}}function su(e,t,r){var n=zf(e.year(),t,r),a=Math.floor((e.dayOfYear()-n-1)/7)+1,i,o;return a<1?(o=e.year()-1,i=a+Zn(o,t,r)):a>Zn(e.year(),t,r)?(i=a-Zn(e.year(),t,r),o=e.year()+1):(o=e.year(),i=a),{week:i,year:o}}function Zn(e,t,r){var n=zf(e,t,r),a=zf(e+1,t,r);return(Os(e)-n+a)/7}be("w",["ww",2],"wo","week");be("W",["WW",2],"Wo","isoWeek");he("w",st,Go);he("ww",st,br);he("W",st,Go);he("WW",st,br);qu(["w","ww","W","WW"],function(e,t,r,n){t[n.substr(0,1)]=$e(e)});function qF(e){return su(e,this._week.dow,this._week.doy).week}var VF={dow:0,doy:6};function WF(){return this._week.dow}function UF(){return this._week.doy}function HF(e){var t=this.localeData().week(this);return e==null?t:this.add((e-t)*7,"d")}function GF(e){var t=su(this,1,4).week;return e==null?t:this.add((e-t)*7,"d")}be("d",0,"do","day");be("dd",0,0,function(e){return this.localeData().weekdaysMin(this,e)});be("ddd",0,0,function(e){return this.localeData().weekdaysShort(this,e)});be("dddd",0,0,function(e){return this.localeData().weekdays(this,e)});be("e",0,0,"weekday");be("E",0,0,"isoWeekday");he("d",st);he("e",st);he("E",st);he("dd",function(e,t){return t.weekdaysMinRegex(e)});he("ddd",function(e,t){return t.weekdaysShortRegex(e)});he("dddd",function(e,t){return t.weekdaysRegex(e)});qu(["dd","ddd","dddd"],function(e,t,r,n){var a=r._locale.weekdaysParse(e,n,r._strict);a!=null?t.d=a:Ae(r).invalidWeekday=e});qu(["d","e","E"],function(e,t,r,n){t[n]=$e(e)});function XF(e,t){return typeof e!="string"?e:isNaN(e)?(e=t.weekdaysParse(e),typeof e=="number"?e:null):parseInt(e,10)}function KF(e,t){return typeof e=="string"?t.weekdaysParse(e)%7||7:isNaN(e)?null:e}function xp(e,t){return e.slice(t,7).concat(e.slice(0,t))}var ZF="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),uT="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),QF="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),jF=Yu,JF=Yu,ez=Yu;function tz(e,t){var r=Qr(this._weekdays)?this._weekdays:this._weekdays[e&&e!==!0&&this._weekdays.isFormat.test(t)?"format":"standalone"];return e===!0?xp(r,this._week.dow):e?r[e.day()]:r}function rz(e){return e===!0?xp(this._weekdaysShort,this._week.dow):e?this._weekdaysShort[e.day()]:this._weekdaysShort}function nz(e){return e===!0?xp(this._weekdaysMin,this._week.dow):e?this._weekdaysMin[e.day()]:this._weekdaysMin}function az(e,t,r){var n,a,i,o=e.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=Cn([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return r?t==="dddd"?(a=pt.call(this._weekdaysParse,o),a!==-1?a:null):t==="ddd"?(a=pt.call(this._shortWeekdaysParse,o),a!==-1?a:null):(a=pt.call(this._minWeekdaysParse,o),a!==-1?a:null):t==="dddd"?(a=pt.call(this._weekdaysParse,o),a!==-1||(a=pt.call(this._shortWeekdaysParse,o),a!==-1)?a:(a=pt.call(this._minWeekdaysParse,o),a!==-1?a:null)):t==="ddd"?(a=pt.call(this._shortWeekdaysParse,o),a!==-1||(a=pt.call(this._weekdaysParse,o),a!==-1)?a:(a=pt.call(this._minWeekdaysParse,o),a!==-1?a:null)):(a=pt.call(this._minWeekdaysParse,o),a!==-1||(a=pt.call(this._weekdaysParse,o),a!==-1)?a:(a=pt.call(this._shortWeekdaysParse,o),a!==-1?a:null))}function iz(e,t,r){var n,a,i;if(this._weekdaysParseExact)return az.call(this,e,t,r);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(a=Cn([2e3,1]).day(n),r&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(a,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(a,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(a,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(a,"")+"|^"+this.weekdaysShort(a,"")+"|^"+this.weekdaysMin(a,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),r&&t==="dddd"&&this._fullWeekdaysParse[n].test(e))return n;if(r&&t==="ddd"&&this._shortWeekdaysParse[n].test(e))return n;if(r&&t==="dd"&&this._minWeekdaysParse[n].test(e))return n;if(!r&&this._weekdaysParse[n].test(e))return n}}function oz(e){if(!this.isValid())return e!=null?this:NaN;var t=iu(this,"Day");return e!=null?(e=XF(e,this.localeData()),this.add(e-t,"d")):t}function sz(e){if(!this.isValid())return e!=null?this:NaN;var t=(this.day()+7-this.localeData()._week.dow)%7;return e==null?t:this.add(e-t,"d")}function uz(e){if(!this.isValid())return e!=null?this:NaN;if(e!=null){var t=KF(e,this.localeData());return this.day(this.day()%7?t:t-7)}else return this.day()||7}function lz(e){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||Sp.call(this),e?this._weekdaysStrictRegex:this._weekdaysRegex):(Ve(this,"_weekdaysRegex")||(this._weekdaysRegex=jF),this._weekdaysStrictRegex&&e?this._weekdaysStrictRegex:this._weekdaysRegex)}function fz(e){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||Sp.call(this),e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(Ve(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=JF),this._weekdaysShortStrictRegex&&e?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function cz(e){return this._weekdaysParseExact?(Ve(this,"_weekdaysRegex")||Sp.call(this),e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(Ve(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=ez),this._weekdaysMinStrictRegex&&e?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Sp(){function e(f,c){return c.length-f.length}var t=[],r=[],n=[],a=[],i,o,s,u,l;for(i=0;i<7;i++)o=Cn([2e3,1]).day(i),s=Kn(this.weekdaysMin(o,"")),u=Kn(this.weekdaysShort(o,"")),l=Kn(this.weekdays(o,"")),t.push(s),r.push(u),n.push(l),a.push(s),a.push(u),a.push(l);t.sort(e),r.sort(e),n.sort(e),a.sort(e),this._weekdaysRegex=new RegExp("^("+a.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+t.join("|")+")","i")}function Ep(){return this.hours()%12||12}function dz(){return this.hours()||24}be("H",["HH",2],0,"hour");be("h",["hh",2],0,Ep);be("k",["kk",2],0,dz);be("hmm",0,0,function(){return""+Ep.apply(this)+xn(this.minutes(),2)});be("hmmss",0,0,function(){return""+Ep.apply(this)+xn(this.minutes(),2)+xn(this.seconds(),2)});be("Hmm",0,0,function(){return""+this.hours()+xn(this.minutes(),2)});be("Hmmss",0,0,function(){return""+this.hours()+xn(this.minutes(),2)+xn(this.seconds(),2)});function lT(e,t){be(e,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),t)})}lT("a",!0);lT("A",!1);function fT(e,t){return t._meridiemParse}he("a",fT);he("A",fT);he("H",st,bp);he("h",st,Go);he("k",st,Go);he("HH",st,br);he("hh",st,br);he("kk",st,br);he("hmm",jE);he("hmmss",JE);he("Hmm",jE);he("Hmmss",JE);je(["H","HH"],xt);je(["k","kk"],function(e,t,r){var n=$e(e);t[xt]=n===24?0:n});je(["a","A"],function(e,t,r){r._isPm=r._locale.isPM(e),r._meridiem=e});je(["h","hh"],function(e,t,r){t[xt]=$e(e),Ae(r).bigHour=!0});je("hmm",function(e,t,r){var n=e.length-2;t[xt]=$e(e.substr(0,n)),t[Wr]=$e(e.substr(n)),Ae(r).bigHour=!0});je("hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[xt]=$e(e.substr(0,n)),t[Wr]=$e(e.substr(n,2)),t[Xn]=$e(e.substr(a)),Ae(r).bigHour=!0});je("Hmm",function(e,t,r){var n=e.length-2;t[xt]=$e(e.substr(0,n)),t[Wr]=$e(e.substr(n))});je("Hmmss",function(e,t,r){var n=e.length-4,a=e.length-2;t[xt]=$e(e.substr(0,n)),t[Wr]=$e(e.substr(n,2)),t[Xn]=$e(e.substr(a))});function hz(e){return(e+"").toLowerCase().charAt(0)==="p"}var vz=/[ap]\.?m?\.?/i,gz=Xo("Hours",!0);function pz(e,t,r){return e>11?r?"pm":"PM":r?"am":"AM"}var cT={calendar:aF,longDateFormat:uF,invalidDate:fF,ordinal:dF,dayOfMonthOrdinalParse:hF,relativeTime:gF,months:AF,monthsShort:rT,week:VF,weekdays:ZF,weekdaysMin:QF,weekdaysShort:uT,meridiemParse:vz},ut={},fs={},uu;function mz(e,t){var r,n=Math.min(e.length,t.length);for(r=0;r<n;r+=1)if(e[r]!==t[r])return r;return n}function h1(e){return e&&e.toLowerCase().replace("_","-")}function yz(e){for(var t=0,r,n,a,i;t<e.length;){for(i=h1(e[t]).split("-"),r=i.length,n=h1(e[t+1]),n=n?n.split("-"):null;r>0;){if(a=Xc(i.slice(0,r).join("-")),a)return a;if(n&&n.length>=r&&mz(i,n)>=r-1)break;r--}t++}return uu}function bz(e){return!!(e&&e.match("^[^/\\\\]*$"))}function Xc(e){var t=null,r;if(ut[e]===void 0&&typeof module<"u"&&module&&module.exports&&bz(e))try{t=uu._abbr,r=require,r("./locale/"+e),Ma(t)}catch{ut[e]=null}return ut[e]}function Ma(e,t){var r;return e&&(nr(t)?r=ca(e):r=Tp(e,t),r?uu=r:typeof console<"u"&&console.warn&&console.warn("Locale "+e+" not found. Did you forget to load it?")),uu._abbr}function Tp(e,t){if(t!==null){var r,n=cT;if(t.abbr=e,ut[e]!=null)XE("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=ut[e]._config;else if(t.parentLocale!=null)if(ut[t.parentLocale]!=null)n=ut[t.parentLocale]._config;else if(r=Xc(t.parentLocale),r!=null)n=r._config;else return fs[t.parentLocale]||(fs[t.parentLocale]=[]),fs[t.parentLocale].push({name:e,config:t}),null;return ut[e]=new vp(_v(n,t)),fs[e]&&fs[e].forEach(function(a){Tp(a.name,a.config)}),Ma(e),ut[e]}else return delete ut[e],null}function wz(e,t){if(t!=null){var r,n,a=cT;ut[e]!=null&&ut[e].parentLocale!=null?ut[e].set(_v(ut[e]._config,t)):(n=Xc(e),n!=null&&(a=n._config),t=_v(a,t),n==null&&(t.abbr=e),r=new vp(t),r.parentLocale=ut[e],ut[e]=r),Ma(e)}else ut[e]!=null&&(ut[e].parentLocale!=null?(ut[e]=ut[e].parentLocale,e===Ma()&&Ma(e)):ut[e]!=null&&delete ut[e]);return ut[e]}function ca(e){var t;if(e&&e._locale&&e._locale._abbr&&(e=e._locale._abbr),!e)return uu;if(!Qr(e)){if(t=Xc(e),t)return t;e=[e]}return yz(e)}function xz(){return Pv(ut)}function Mp(e){var t,r=e._a;return r&&Ae(e).overflow===-2&&(t=r[Gn]<0||r[Gn]>11?Gn:r[dn]<1||r[dn]>wp(r[Ut],r[Gn])?dn:r[xt]<0||r[xt]>24||r[xt]===24&&(r[Wr]!==0||r[Xn]!==0||r[ei]!==0)?xt:r[Wr]<0||r[Wr]>59?Wr:r[Xn]<0||r[Xn]>59?Xn:r[ei]<0||r[ei]>999?ei:-1,Ae(e)._overflowDayOfYear&&(t<Ut||t>dn)&&(t=dn),Ae(e)._overflowWeeks&&t===-1&&(t=MF),Ae(e)._overflowWeekday&&t===-1&&(t=kF),Ae(e).overflow=t),e}var Sz=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ez=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Tz=/Z|[+-]\d\d(?::?\d\d)?/,Ml=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],fh=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Mz=/^\/?Date\((-?\d+)/i,kz=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Cz={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function dT(e){var t,r,n=e._i,a=Sz.exec(n)||Ez.exec(n),i,o,s,u,l=Ml.length,f=fh.length;if(a){for(Ae(e).iso=!0,t=0,r=l;t<r;t++)if(Ml[t][1].exec(a[1])){o=Ml[t][0],i=Ml[t][2]!==!1;break}if(o==null){e._isValid=!1;return}if(a[3]){for(t=0,r=f;t<r;t++)if(fh[t][1].exec(a[3])){s=(a[2]||" ")+fh[t][0];break}if(s==null){e._isValid=!1;return}}if(!i&&s!=null){e._isValid=!1;return}if(a[4])if(Tz.exec(a[4]))u="Z";else{e._isValid=!1;return}e._f=o+(s||"")+(u||""),Cp(e)}else e._isValid=!1}function Dz(e,t,r,n,a,i){var o=[_z(e),rT.indexOf(t),parseInt(r,10),parseInt(n,10),parseInt(a,10)];return i&&o.push(parseInt(i,10)),o}function _z(e){var t=parseInt(e,10);return t<=49?2e3+t:t<=999?1900+t:t}function Pz(e){return e.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function Az(e,t,r){if(e){var n=uT.indexOf(e),a=new Date(t[0],t[1],t[2]).getDay();if(n!==a)return Ae(r).weekdayMismatch=!0,r._isValid=!1,!1}return!0}function Oz(e,t,r){if(e)return Cz[e];if(t)return 0;var n=parseInt(r,10),a=n%100,i=(n-a)/100;return i*60+a}function hT(e){var t=kz.exec(Pz(e._i)),r;if(t){if(r=Dz(t[4],t[3],t[2],t[5],t[6],t[7]),!Az(t[1],r,e))return;e._a=r,e._tzm=Oz(t[8],t[9],t[10]),e._d=ou.apply(null,e._a),e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),Ae(e).rfc2822=!0}else e._isValid=!1}function Rz(e){var t=Mz.exec(e._i);if(t!==null){e._d=new Date(+t[1]);return}if(dT(e),e._isValid===!1)delete e._isValid;else return;if(hT(e),e._isValid===!1)delete e._isValid;else return;e._strict?e._isValid=!1:de.createFromInputFallback(e)}de.createFromInputFallback=Lr("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(e){e._d=new Date(e._i+(e._useUTC?" UTC":""))});function Wi(e,t,r){return e??t??r}function Lz(e){var t=new Date(de.now());return e._useUTC?[t.getUTCFullYear(),t.getUTCMonth(),t.getUTCDate()]:[t.getFullYear(),t.getMonth(),t.getDate()]}function kp(e){var t,r,n=[],a,i,o;if(!e._d){for(a=Lz(e),e._w&&e._a[dn]==null&&e._a[Gn]==null&&$z(e),e._dayOfYear!=null&&(o=Wi(e._a[Ut],a[Ut]),(e._dayOfYear>Os(o)||e._dayOfYear===0)&&(Ae(e)._overflowDayOfYear=!0),r=ou(o,0,e._dayOfYear),e._a[Gn]=r.getUTCMonth(),e._a[dn]=r.getUTCDate()),t=0;t<3&&e._a[t]==null;++t)e._a[t]=n[t]=a[t];for(;t<7;t++)e._a[t]=n[t]=e._a[t]==null?t===2?1:0:e._a[t];e._a[xt]===24&&e._a[Wr]===0&&e._a[Xn]===0&&e._a[ei]===0&&(e._nextDay=!0,e._a[xt]=0),e._d=(e._useUTC?ou:YF).apply(null,n),i=e._useUTC?e._d.getUTCDay():e._d.getDay(),e._tzm!=null&&e._d.setUTCMinutes(e._d.getUTCMinutes()-e._tzm),e._nextDay&&(e._a[xt]=24),e._w&&typeof e._w.d<"u"&&e._w.d!==i&&(Ae(e).weekdayMismatch=!0)}}function $z(e){var t,r,n,a,i,o,s,u,l;t=e._w,t.GG!=null||t.W!=null||t.E!=null?(i=1,o=4,r=Wi(t.GG,e._a[Ut],su(ot(),1,4).year),n=Wi(t.W,1),a=Wi(t.E,1),(a<1||a>7)&&(u=!0)):(i=e._locale._week.dow,o=e._locale._week.doy,l=su(ot(),i,o),r=Wi(t.gg,e._a[Ut],l.year),n=Wi(t.w,l.week),t.d!=null?(a=t.d,(a<0||a>6)&&(u=!0)):t.e!=null?(a=t.e+i,(t.e<0||t.e>6)&&(u=!0)):a=i),n<1||n>Zn(r,i,o)?Ae(e)._overflowWeeks=!0:u!=null?Ae(e)._overflowWeekday=!0:(s=sT(r,n,a,i,o),e._a[Ut]=s.year,e._dayOfYear=s.dayOfYear)}de.ISO_8601=function(){};de.RFC_2822=function(){};function Cp(e){if(e._f===de.ISO_8601){dT(e);return}if(e._f===de.RFC_2822){hT(e);return}e._a=[],Ae(e).empty=!0;var t=""+e._i,r,n,a,i,o,s=t.length,u=0,l,f;for(a=KE(e._f,e._locale).match(gp)||[],f=a.length,r=0;r<f;r++)i=a[r],n=(t.match(SF(i,e))||[])[0],n&&(o=t.substr(0,t.indexOf(n)),o.length>0&&Ae(e).unusedInput.push(o),t=t.slice(t.indexOf(n)+n.length),u+=n.length),so[i]?(n?Ae(e).empty=!1:Ae(e).unusedTokens.push(i),TF(i,n,e)):e._strict&&!n&&Ae(e).unusedTokens.push(i);Ae(e).charsLeftOver=s-u,t.length>0&&Ae(e).unusedInput.push(t),e._a[xt]<=12&&Ae(e).bigHour===!0&&e._a[xt]>0&&(Ae(e).bigHour=void 0),Ae(e).parsedDateParts=e._a.slice(0),Ae(e).meridiem=e._meridiem,e._a[xt]=Nz(e._locale,e._a[xt],e._meridiem),l=Ae(e).era,l!==null&&(e._a[Ut]=e._locale.erasConvertYear(l,e._a[Ut])),kp(e),Mp(e)}function Nz(e,t,r){var n;return r==null?t:e.meridiemHour!=null?e.meridiemHour(t,r):(e.isPM!=null&&(n=e.isPM(r),n&&t<12&&(t+=12),!n&&t===12&&(t=0)),t)}function Iz(e){var t,r,n,a,i,o,s=!1,u=e._f.length;if(u===0){Ae(e).invalidFormat=!0,e._d=new Date(NaN);return}for(a=0;a<u;a++)i=0,o=!1,t=hp({},e),e._useUTC!=null&&(t._useUTC=e._useUTC),t._f=e._f[a],Cp(t),dp(t)&&(o=!0),i+=Ae(t).charsLeftOver,i+=Ae(t).unusedTokens.length*10,Ae(t).score=i,s?i<n&&(n=i,r=t):(n==null||i<n||o)&&(n=i,r=t,o&&(s=!0));wa(e,r||t)}function Bz(e){if(!e._d){var t=pp(e._i),r=t.day===void 0?t.date:t.day;e._a=HE([t.year,t.month,r,t.hour,t.minute,t.second,t.millisecond],function(n){return n&&parseInt(n,10)}),kp(e)}}function Fz(e){var t=new zu(Mp(vT(e)));return t._nextDay&&(t.add(1,"d"),t._nextDay=void 0),t}function vT(e){var t=e._i,r=e._f;return e._locale=e._locale||ca(e._l),t===null||r===void 0&&t===""?Yc({nullInput:!0}):(typeof t=="string"&&(e._i=t=e._locale.preparse(t)),jr(t)?new zu(Mp(t)):(Fu(t)?e._d=t:Qr(r)?Iz(e):r?Cp(e):zz(e),dp(e)||(e._d=null),e))}function zz(e){var t=e._i;nr(t)?e._d=new Date(de.now()):Fu(t)?e._d=new Date(t.valueOf()):typeof t=="string"?Rz(e):Qr(t)?(e._a=HE(t.slice(0),function(r){return parseInt(r,10)}),kp(e)):ai(t)?Bz(e):oa(t)?e._d=new Date(t):de.createFromInputFallback(e)}function gT(e,t,r,n,a){var i={};return(t===!0||t===!1)&&(n=t,t=void 0),(r===!0||r===!1)&&(n=r,r=void 0),(ai(e)&&cp(e)||Qr(e)&&e.length===0)&&(e=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=a,i._l=r,i._i=e,i._f=t,i._strict=n,Fz(i)}function ot(e,t,r,n){return gT(e,t,r,n,!1)}var Yz=Lr("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ot.apply(null,arguments);return this.isValid()&&e.isValid()?e<this?this:e:Yc()}),qz=Lr("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var e=ot.apply(null,arguments);return this.isValid()&&e.isValid()?e>this?this:e:Yc()});function pT(e,t){var r,n;if(t.length===1&&Qr(t[0])&&(t=t[0]),!t.length)return ot();for(r=t[0],n=1;n<t.length;++n)(!t[n].isValid()||t[n][e](r))&&(r=t[n]);return r}function Vz(){var e=[].slice.call(arguments,0);return pT("isBefore",e)}function Wz(){var e=[].slice.call(arguments,0);return pT("isAfter",e)}var Uz=function(){return Date.now?Date.now():+new Date},cs=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Hz(e){var t,r=!1,n,a=cs.length;for(t in e)if(Ve(e,t)&&!(pt.call(cs,t)!==-1&&(e[t]==null||!isNaN(e[t]))))return!1;for(n=0;n<a;++n)if(e[cs[n]]){if(r)return!1;parseFloat(e[cs[n]])!==$e(e[cs[n]])&&(r=!0)}return!0}function Gz(){return this._isValid}function Xz(){return tn(NaN)}function Kc(e){var t=pp(e),r=t.year||0,n=t.quarter||0,a=t.month||0,i=t.week||t.isoWeek||0,o=t.day||0,s=t.hour||0,u=t.minute||0,l=t.second||0,f=t.millisecond||0;this._isValid=Hz(t),this._milliseconds=+f+l*1e3+u*6e4+s*1e3*60*60,this._days=+o+i*7,this._months=+a+n*3+r*12,this._data={},this._locale=ca(),this._bubble()}function Vl(e){return e instanceof Kc}function Ov(e){return e<0?Math.round(-1*e)*-1:Math.round(e)}function Kz(e,t,r){var n=Math.min(e.length,t.length),a=Math.abs(e.length-t.length),i=0,o;for(o=0;o<n;o++)$e(e[o])!==$e(t[o])&&i++;return i+a}function mT(e,t){be(e,0,0,function(){var r=this.utcOffset(),n="+";return r<0&&(r=-r,n="-"),n+xn(~~(r/60),2)+t+xn(~~r%60,2)})}mT("Z",":");mT("ZZ","");he("Z",Hc);he("ZZ",Hc);je(["Z","ZZ"],function(e,t,r){r._useUTC=!0,r._tzm=Dp(Hc,e)});var Zz=/([\+\-]|\d\d)/gi;function Dp(e,t){var r=(t||"").match(e),n,a,i;return r===null?null:(n=r[r.length-1]||[],a=(n+"").match(Zz)||["-",0,0],i=+(a[1]*60)+$e(a[2]),i===0?0:a[0]==="+"?i:-i)}function _p(e,t){var r,n;return t._isUTC?(r=t.clone(),n=(jr(e)||Fu(e)?e.valueOf():ot(e).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+n),de.updateOffset(r,!1),r):ot(e).local()}function Rv(e){return-Math.round(e._d.getTimezoneOffset())}de.updateOffset=function(){};function Qz(e,t,r){var n=this._offset||0,a;if(!this.isValid())return e!=null?this:NaN;if(e!=null){if(typeof e=="string"){if(e=Dp(Hc,e),e===null)return this}else Math.abs(e)<16&&!r&&(e=e*60);return!this._isUTC&&t&&(a=Rv(this)),this._offset=e,this._isUTC=!0,a!=null&&this.add(a,"m"),n!==e&&(!t||this._changeInProgress?wT(this,tn(e-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,de.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:Rv(this)}function jz(e,t){return e!=null?(typeof e!="string"&&(e=-e),this.utcOffset(e,t),this):-this.utcOffset()}function Jz(e){return this.utcOffset(0,e)}function eY(e){return this._isUTC&&(this.utcOffset(0,e),this._isUTC=!1,e&&this.subtract(Rv(this),"m")),this}function tY(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var e=Dp(wF,this._i);e!=null?this.utcOffset(e):this.utcOffset(0,!0)}return this}function rY(e){return this.isValid()?(e=e?ot(e).utcOffset():0,(this.utcOffset()-e)%60===0):!1}function nY(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function aY(){if(!nr(this._isDSTShifted))return this._isDSTShifted;var e={},t;return hp(e,this),e=vT(e),e._a?(t=e._isUTC?Cn(e._a):ot(e._a),this._isDSTShifted=this.isValid()&&Kz(e._a,t.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function iY(){return this.isValid()?!this._isUTC:!1}function oY(){return this.isValid()?this._isUTC:!1}function yT(){return this.isValid()?this._isUTC&&this._offset===0:!1}var sY=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,uY=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function tn(e,t){var r=e,n=null,a,i,o;return Vl(e)?r={ms:e._milliseconds,d:e._days,M:e._months}:oa(e)||!isNaN(+e)?(r={},t?r[t]=+e:r.milliseconds=+e):(n=sY.exec(e))?(a=n[1]==="-"?-1:1,r={y:0,d:$e(n[dn])*a,h:$e(n[xt])*a,m:$e(n[Wr])*a,s:$e(n[Xn])*a,ms:$e(Ov(n[ei]*1e3))*a}):(n=uY.exec(e))?(a=n[1]==="-"?-1:1,r={y:Ua(n[2],a),M:Ua(n[3],a),w:Ua(n[4],a),d:Ua(n[5],a),h:Ua(n[6],a),m:Ua(n[7],a),s:Ua(n[8],a)}):r==null?r={}:typeof r=="object"&&("from"in r||"to"in r)&&(o=lY(ot(r.from),ot(r.to)),r={},r.ms=o.milliseconds,r.M=o.months),i=new Kc(r),Vl(e)&&Ve(e,"_locale")&&(i._locale=e._locale),Vl(e)&&Ve(e,"_isValid")&&(i._isValid=e._isValid),i}tn.fn=Kc.prototype;tn.invalid=Xz;function Ua(e,t){var r=e&&parseFloat(e.replace(",","."));return(isNaN(r)?0:r)*t}function v1(e,t){var r={};return r.months=t.month()-e.month()+(t.year()-e.year())*12,e.clone().add(r.months,"M").isAfter(t)&&--r.months,r.milliseconds=+t-+e.clone().add(r.months,"M"),r}function lY(e,t){var r;return e.isValid()&&t.isValid()?(t=_p(t,e),e.isBefore(t)?r=v1(e,t):(r=v1(t,e),r.milliseconds=-r.milliseconds,r.months=-r.months),r):{milliseconds:0,months:0}}function bT(e,t){return function(r,n){var a,i;return n!==null&&!isNaN(+n)&&(XE(t,"moment()."+t+"(period, number) is deprecated. Please use moment()."+t+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=r,r=n,n=i),a=tn(r,n),wT(this,a,e),this}}function wT(e,t,r,n){var a=t._milliseconds,i=Ov(t._days),o=Ov(t._months);e.isValid()&&(n=n??!0,o&&aT(e,iu(e,"Month")+o*r),i&&tT(e,"Date",iu(e,"Date")+i*r),a&&e._d.setTime(e._d.valueOf()+a*r),n&&de.updateOffset(e,i||o))}var fY=bT(1,"add"),cY=bT(-1,"subtract");function xT(e){return typeof e=="string"||e instanceof String}function dY(e){return jr(e)||Fu(e)||xT(e)||oa(e)||vY(e)||hY(e)||e===null||e===void 0}function hY(e){var t=ai(e)&&!cp(e),r=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],a,i,o=n.length;for(a=0;a<o;a+=1)i=n[a],r=r||Ve(e,i);return t&&r}function vY(e){var t=Qr(e),r=!1;return t&&(r=e.filter(function(n){return!oa(n)&&xT(e)}).length===0),t&&r}function gY(e){var t=ai(e)&&!cp(e),r=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],a,i;for(a=0;a<n.length;a+=1)i=n[a],r=r||Ve(e,i);return t&&r}function pY(e,t){var r=e.diff(t,"days",!0);return r<-6?"sameElse":r<-1?"lastWeek":r<0?"lastDay":r<1?"sameDay":r<2?"nextDay":r<7?"nextWeek":"sameElse"}function mY(e,t){arguments.length===1&&(arguments[0]?dY(arguments[0])?(e=arguments[0],t=void 0):gY(arguments[0])&&(t=arguments[0],e=void 0):(e=void 0,t=void 0));var r=e||ot(),n=_p(r,this).startOf("day"),a=de.calendarFormat(this,n)||"sameElse",i=t&&(Dn(t[a])?t[a].call(this,r):t[a]);return this.format(i||this.localeData().calendar(a,this,ot(r)))}function yY(){return new zu(this)}function bY(e,t){var r=jr(e)?e:ot(e);return this.isValid()&&r.isValid()?(t=$r(t)||"millisecond",t==="millisecond"?this.valueOf()>r.valueOf():r.valueOf()<this.clone().startOf(t).valueOf()):!1}function wY(e,t){var r=jr(e)?e:ot(e);return this.isValid()&&r.isValid()?(t=$r(t)||"millisecond",t==="millisecond"?this.valueOf()<r.valueOf():this.clone().endOf(t).valueOf()<r.valueOf()):!1}function xY(e,t,r,n){var a=jr(e)?e:ot(e),i=jr(t)?t:ot(t);return this.isValid()&&a.isValid()&&i.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(a,r):!this.isBefore(a,r))&&(n[1]===")"?this.isBefore(i,r):!this.isAfter(i,r))):!1}function SY(e,t){var r=jr(e)?e:ot(e),n;return this.isValid()&&r.isValid()?(t=$r(t)||"millisecond",t==="millisecond"?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(t).valueOf()<=n&&n<=this.clone().endOf(t).valueOf())):!1}function EY(e,t){return this.isSame(e,t)||this.isAfter(e,t)}function TY(e,t){return this.isSame(e,t)||this.isBefore(e,t)}function MY(e,t,r){var n,a,i;if(!this.isValid())return NaN;if(n=_p(e,this),!n.isValid())return NaN;switch(a=(n.utcOffset()-this.utcOffset())*6e4,t=$r(t),t){case"year":i=Wl(this,n)/12;break;case"month":i=Wl(this,n);break;case"quarter":i=Wl(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-a)/864e5;break;case"week":i=(this-n-a)/6048e5;break;default:i=this-n}return r?i:Mr(i)}function Wl(e,t){if(e.date()<t.date())return-Wl(t,e);var r=(t.year()-e.year())*12+(t.month()-e.month()),n=e.clone().add(r,"months"),a,i;return t-n<0?(a=e.clone().add(r-1,"months"),i=(t-n)/(n-a)):(a=e.clone().add(r+1,"months"),i=(t-n)/(a-n)),-(r+i)||0}de.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";de.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function kY(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function CY(e){if(!this.isValid())return null;var t=e!==!0,r=t?this.clone().utc():this;return r.year()<0||r.year()>9999?ql(r,t?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):Dn(Date.prototype.toISOString)?t?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",ql(r,"Z")):ql(r,t?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function DY(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var e="moment",t="",r,n,a,i;return this.isLocal()||(e=this.utcOffset()===0?"moment.utc":"moment.parseZone",t="Z"),r="["+e+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",a="-MM-DD[T]HH:mm:ss.SSS",i=t+'[")]',this.format(r+n+a+i)}function _Y(e){e||(e=this.isUtc()?de.defaultFormatUtc:de.defaultFormat);var t=ql(this,e);return this.localeData().postformat(t)}function PY(e,t){return this.isValid()&&(jr(e)&&e.isValid()||ot(e).isValid())?tn({to:this,from:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function AY(e){return this.from(ot(),e)}function OY(e,t){return this.isValid()&&(jr(e)&&e.isValid()||ot(e).isValid())?tn({from:this,to:e}).locale(this.locale()).humanize(!t):this.localeData().invalidDate()}function RY(e){return this.to(ot(),e)}function ST(e){var t;return e===void 0?this._locale._abbr:(t=ca(e),t!=null&&(this._locale=t),this)}var ET=Lr("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(e){return e===void 0?this.localeData():this.locale(e)});function TT(){return this._locale}var Yf=1e3,uo=60*Yf,qf=60*uo,MT=(365*400+97)*24*qf;function lo(e,t){return(e%t+t)%t}function kT(e,t,r){return e<100&&e>=0?new Date(e+400,t,r)-MT:new Date(e,t,r).valueOf()}function CT(e,t,r){return e<100&&e>=0?Date.UTC(e+400,t,r)-MT:Date.UTC(e,t,r)}function LY(e){var t,r;if(e=$r(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?CT:kT,e){case"year":t=r(this.year(),0,1);break;case"quarter":t=r(this.year(),this.month()-this.month()%3,1);break;case"month":t=r(this.year(),this.month(),1);break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":t=r(this.year(),this.month(),this.date());break;case"hour":t=this._d.valueOf(),t-=lo(t+(this._isUTC?0:this.utcOffset()*uo),qf);break;case"minute":t=this._d.valueOf(),t-=lo(t,uo);break;case"second":t=this._d.valueOf(),t-=lo(t,Yf);break}return this._d.setTime(t),de.updateOffset(this,!0),this}function $Y(e){var t,r;if(e=$r(e),e===void 0||e==="millisecond"||!this.isValid())return this;switch(r=this._isUTC?CT:kT,e){case"year":t=r(this.year()+1,0,1)-1;break;case"quarter":t=r(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":t=r(this.year(),this.month()+1,1)-1;break;case"week":t=r(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":t=r(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":t=r(this.year(),this.month(),this.date()+1)-1;break;case"hour":t=this._d.valueOf(),t+=qf-lo(t+(this._isUTC?0:this.utcOffset()*uo),qf)-1;break;case"minute":t=this._d.valueOf(),t+=uo-lo(t,uo)-1;break;case"second":t=this._d.valueOf(),t+=Yf-lo(t,Yf)-1;break}return this._d.setTime(t),de.updateOffset(this,!0),this}function NY(){return this._d.valueOf()-(this._offset||0)*6e4}function IY(){return Math.floor(this.valueOf()/1e3)}function BY(){return new Date(this.valueOf())}function FY(){var e=this;return[e.year(),e.month(),e.date(),e.hour(),e.minute(),e.second(),e.millisecond()]}function zY(){var e=this;return{years:e.year(),months:e.month(),date:e.date(),hours:e.hours(),minutes:e.minutes(),seconds:e.seconds(),milliseconds:e.milliseconds()}}function YY(){return this.isValid()?this.toISOString():null}function qY(){return dp(this)}function VY(){return wa({},Ae(this))}function WY(){return Ae(this).overflow}function UY(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}be("N",0,0,"eraAbbr");be("NN",0,0,"eraAbbr");be("NNN",0,0,"eraAbbr");be("NNNN",0,0,"eraName");be("NNNNN",0,0,"eraNarrow");be("y",["y",1],"yo","eraYear");be("y",["yy",2],0,"eraYear");be("y",["yyy",3],0,"eraYear");be("y",["yyyy",4],0,"eraYear");he("N",Pp);he("NN",Pp);he("NNN",Pp);he("NNNN",rq);he("NNNNN",nq);je(["N","NN","NNN","NNNN","NNNNN"],function(e,t,r,n){var a=r._locale.erasParse(e,n,r._strict);a?Ae(r).era=a:Ae(r).invalidEra=e});he("y",Ho);he("yy",Ho);he("yyy",Ho);he("yyyy",Ho);he("yo",aq);je(["y","yy","yyy","yyyy"],Ut);je(["yo"],function(e,t,r,n){var a;r._locale._eraYearOrdinalRegex&&(a=e.match(r._locale._eraYearOrdinalRegex)),r._locale.eraYearOrdinalParse?t[Ut]=r._locale.eraYearOrdinalParse(e,a):t[Ut]=parseInt(e,10)});function HY(e,t){var r,n,a,i=this._eras||ca("en")._eras;for(r=0,n=i.length;r<n;++r){switch(typeof i[r].since){case"string":a=de(i[r].since).startOf("day"),i[r].since=a.valueOf();break}switch(typeof i[r].until){case"undefined":i[r].until=1/0;break;case"string":a=de(i[r].until).startOf("day").valueOf(),i[r].until=a.valueOf();break}}return i}function GY(e,t,r){var n,a,i=this.eras(),o,s,u;for(e=e.toUpperCase(),n=0,a=i.length;n<a;++n)if(o=i[n].name.toUpperCase(),s=i[n].abbr.toUpperCase(),u=i[n].narrow.toUpperCase(),r)switch(t){case"N":case"NN":case"NNN":if(s===e)return i[n];break;case"NNNN":if(o===e)return i[n];break;case"NNNNN":if(u===e)return i[n];break}else if([o,s,u].indexOf(e)>=0)return i[n]}function XY(e,t){var r=e.since<=e.until?1:-1;return t===void 0?de(e.since).year():de(e.since).year()+(t-e.offset)*r}function KY(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].name;return""}function ZY(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].narrow;return""}function QY(){var e,t,r,n=this.localeData().eras();for(e=0,t=n.length;e<t;++e)if(r=this.clone().startOf("day").valueOf(),n[e].since<=r&&r<=n[e].until||n[e].until<=r&&r<=n[e].since)return n[e].abbr;return""}function jY(){var e,t,r,n,a=this.localeData().eras();for(e=0,t=a.length;e<t;++e)if(r=a[e].since<=a[e].until?1:-1,n=this.clone().startOf("day").valueOf(),a[e].since<=n&&n<=a[e].until||a[e].until<=n&&n<=a[e].since)return(this.year()-de(a[e].since).year())*r+a[e].offset;return this.year()}function JY(e){return Ve(this,"_erasNameRegex")||Ap.call(this),e?this._erasNameRegex:this._erasRegex}function eq(e){return Ve(this,"_erasAbbrRegex")||Ap.call(this),e?this._erasAbbrRegex:this._erasRegex}function tq(e){return Ve(this,"_erasNarrowRegex")||Ap.call(this),e?this._erasNarrowRegex:this._erasRegex}function Pp(e,t){return t.erasAbbrRegex(e)}function rq(e,t){return t.erasNameRegex(e)}function nq(e,t){return t.erasNarrowRegex(e)}function aq(e,t){return t._eraYearOrdinalRegex||Ho}function Ap(){var e=[],t=[],r=[],n=[],a,i,o,s,u,l=this.eras();for(a=0,i=l.length;a<i;++a)o=Kn(l[a].name),s=Kn(l[a].abbr),u=Kn(l[a].narrow),t.push(o),e.push(s),r.push(u),n.push(o),n.push(s),n.push(u);this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+t.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+e.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+r.join("|")+")","i")}be(0,["gg",2],0,function(){return this.weekYear()%100});be(0,["GG",2],0,function(){return this.isoWeekYear()%100});function Zc(e,t){be(0,[e,e.length],0,t)}Zc("gggg","weekYear");Zc("ggggg","weekYear");Zc("GGGG","isoWeekYear");Zc("GGGGG","isoWeekYear");he("G",Uc);he("g",Uc);he("GG",st,br);he("gg",st,br);he("GGGG",yp,mp);he("gggg",yp,mp);he("GGGGG",Wc,qc);he("ggggg",Wc,qc);qu(["gggg","ggggg","GGGG","GGGGG"],function(e,t,r,n){t[n.substr(0,2)]=$e(e)});qu(["gg","GG"],function(e,t,r,n){t[n]=de.parseTwoDigitYear(e)});function iq(e){return DT.call(this,e,this.week(),this.weekday()+this.localeData()._week.dow,this.localeData()._week.dow,this.localeData()._week.doy)}function oq(e){return DT.call(this,e,this.isoWeek(),this.isoWeekday(),1,4)}function sq(){return Zn(this.year(),1,4)}function uq(){return Zn(this.isoWeekYear(),1,4)}function lq(){var e=this.localeData()._week;return Zn(this.year(),e.dow,e.doy)}function fq(){var e=this.localeData()._week;return Zn(this.weekYear(),e.dow,e.doy)}function DT(e,t,r,n,a){var i;return e==null?su(this,n,a).year:(i=Zn(e,n,a),t>i&&(t=i),cq.call(this,e,t,r,n,a))}function cq(e,t,r,n,a){var i=sT(e,t,r,n,a),o=ou(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}be("Q",0,"Qo","quarter");he("Q",ZE);je("Q",function(e,t){t[Gn]=($e(e)-1)*3});function dq(e){return e==null?Math.ceil((this.month()+1)/3):this.month((e-1)*3+this.month()%3)}be("D",["DD",2],"Do","date");he("D",st,Go);he("DD",st,br);he("Do",function(e,t){return e?t._dayOfMonthOrdinalParse||t._ordinalParse:t._dayOfMonthOrdinalParseLenient});je(["D","DD"],dn);je("Do",function(e,t){t[dn]=$e(e.match(st)[0])});var _T=Xo("Date",!0);be("DDD",["DDDD",3],"DDDo","dayOfYear");he("DDD",Vc);he("DDDD",QE);je(["DDD","DDDD"],function(e,t,r){r._dayOfYear=$e(e)});function hq(e){var t=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return e==null?t:this.add(e-t,"d")}be("m",["mm",2],0,"minute");he("m",st,bp);he("mm",st,br);je(["m","mm"],Wr);var vq=Xo("Minutes",!1);be("s",["ss",2],0,"second");he("s",st,bp);he("ss",st,br);je(["s","ss"],Xn);var gq=Xo("Seconds",!1);be("S",0,0,function(){return~~(this.millisecond()/100)});be(0,["SS",2],0,function(){return~~(this.millisecond()/10)});be(0,["SSS",3],0,"millisecond");be(0,["SSSS",4],0,function(){return this.millisecond()*10});be(0,["SSSSS",5],0,function(){return this.millisecond()*100});be(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});be(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});be(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});be(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});he("S",Vc,ZE);he("SS",Vc,br);he("SSS",Vc,QE);var xa,PT;for(xa="SSSS";xa.length<=9;xa+="S")he(xa,Ho);function pq(e,t){t[ei]=$e(("0."+e)*1e3)}for(xa="S";xa.length<=9;xa+="S")je(xa,pq);PT=Xo("Milliseconds",!1);be("z",0,0,"zoneAbbr");be("zz",0,0,"zoneName");function mq(){return this._isUTC?"UTC":""}function yq(){return this._isUTC?"Coordinated Universal Time":""}var ae=zu.prototype;ae.add=fY;ae.calendar=mY;ae.clone=yY;ae.diff=MY;ae.endOf=$Y;ae.format=_Y;ae.from=PY;ae.fromNow=AY;ae.to=OY;ae.toNow=RY;ae.get=DF;ae.invalidAt=WY;ae.isAfter=bY;ae.isBefore=wY;ae.isBetween=xY;ae.isSame=SY;ae.isSameOrAfter=EY;ae.isSameOrBefore=TY;ae.isValid=qY;ae.lang=ET;ae.locale=ST;ae.localeData=TT;ae.max=qz;ae.min=Yz;ae.parsingFlags=VY;ae.set=_F;ae.startOf=LY;ae.subtract=cY;ae.toArray=FY;ae.toObject=zY;ae.toDate=BY;ae.toISOString=CY;ae.inspect=DY;typeof Symbol<"u"&&Symbol.for!=null&&(ae[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});ae.toJSON=YY;ae.toString=kY;ae.unix=IY;ae.valueOf=NY;ae.creationData=UY;ae.eraName=KY;ae.eraNarrow=ZY;ae.eraAbbr=QY;ae.eraYear=jY;ae.year=eT;ae.isLeapYear=CF;ae.weekYear=iq;ae.isoWeekYear=oq;ae.quarter=ae.quarters=dq;ae.month=iT;ae.daysInMonth=BF;ae.week=ae.weeks=HF;ae.isoWeek=ae.isoWeeks=GF;ae.weeksInYear=lq;ae.weeksInWeekYear=fq;ae.isoWeeksInYear=sq;ae.isoWeeksInISOWeekYear=uq;ae.date=_T;ae.day=ae.days=oz;ae.weekday=sz;ae.isoWeekday=uz;ae.dayOfYear=hq;ae.hour=ae.hours=gz;ae.minute=ae.minutes=vq;ae.second=ae.seconds=gq;ae.millisecond=ae.milliseconds=PT;ae.utcOffset=Qz;ae.utc=Jz;ae.local=eY;ae.parseZone=tY;ae.hasAlignedHourOffset=rY;ae.isDST=nY;ae.isLocal=iY;ae.isUtcOffset=oY;ae.isUtc=yT;ae.isUTC=yT;ae.zoneAbbr=mq;ae.zoneName=yq;ae.dates=Lr("dates accessor is deprecated. Use date instead.",_T);ae.months=Lr("months accessor is deprecated. Use month instead",iT);ae.years=Lr("years accessor is deprecated. Use year instead",eT);ae.zone=Lr("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",jz);ae.isDSTShifted=Lr("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",aY);function bq(e){return ot(e*1e3)}function wq(){return ot.apply(null,arguments).parseZone()}function AT(e){return e}var Ue=vp.prototype;Ue.calendar=iF;Ue.longDateFormat=lF;Ue.invalidDate=cF;Ue.ordinal=vF;Ue.preparse=AT;Ue.postformat=AT;Ue.relativeTime=pF;Ue.pastFuture=mF;Ue.set=nF;Ue.eras=HY;Ue.erasParse=GY;Ue.erasConvertYear=XY;Ue.erasAbbrRegex=eq;Ue.erasNameRegex=JY;Ue.erasNarrowRegex=tq;Ue.months=LF;Ue.monthsShort=$F;Ue.monthsParse=IF;Ue.monthsRegex=zF;Ue.monthsShortRegex=FF;Ue.week=qF;Ue.firstDayOfYear=UF;Ue.firstDayOfWeek=WF;Ue.weekdays=tz;Ue.weekdaysMin=nz;Ue.weekdaysShort=rz;Ue.weekdaysParse=iz;Ue.weekdaysRegex=lz;Ue.weekdaysShortRegex=fz;Ue.weekdaysMinRegex=cz;Ue.isPM=hz;Ue.meridiem=pz;function Vf(e,t,r,n){var a=ca(),i=Cn().set(n,t);return a[r](i,e)}function OT(e,t,r){if(oa(e)&&(t=e,e=void 0),e=e||"",t!=null)return Vf(e,t,r,"month");var n,a=[];for(n=0;n<12;n++)a[n]=Vf(e,n,r,"month");return a}function Op(e,t,r,n){typeof e=="boolean"?(oa(t)&&(r=t,t=void 0),t=t||""):(t=e,r=t,e=!1,oa(t)&&(r=t,t=void 0),t=t||"");var a=ca(),i=e?a._week.dow:0,o,s=[];if(r!=null)return Vf(t,(r+i)%7,n,"day");for(o=0;o<7;o++)s[o]=Vf(t,(o+i)%7,n,"day");return s}function xq(e,t){return OT(e,t,"months")}function Sq(e,t){return OT(e,t,"monthsShort")}function Eq(e,t,r){return Op(e,t,r,"weekdays")}function Tq(e,t,r){return Op(e,t,r,"weekdaysShort")}function Mq(e,t,r){return Op(e,t,r,"weekdaysMin")}Ma("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(e){var t=e%10,r=$e(e%100/10)===1?"th":t===1?"st":t===2?"nd":t===3?"rd":"th";return e+r}});de.lang=Lr("moment.lang is deprecated. Use moment.locale instead.",Ma);de.langData=Lr("moment.langData is deprecated. Use moment.localeData instead.",ca);var Nn=Math.abs;function kq(){var e=this._data;return this._milliseconds=Nn(this._milliseconds),this._days=Nn(this._days),this._months=Nn(this._months),e.milliseconds=Nn(e.milliseconds),e.seconds=Nn(e.seconds),e.minutes=Nn(e.minutes),e.hours=Nn(e.hours),e.months=Nn(e.months),e.years=Nn(e.years),this}function RT(e,t,r,n){var a=tn(t,r);return e._milliseconds+=n*a._milliseconds,e._days+=n*a._days,e._months+=n*a._months,e._bubble()}function Cq(e,t){return RT(this,e,t,1)}function Dq(e,t){return RT(this,e,t,-1)}function g1(e){return e<0?Math.floor(e):Math.ceil(e)}function _q(){var e=this._milliseconds,t=this._days,r=this._months,n=this._data,a,i,o,s,u;return e>=0&&t>=0&&r>=0||e<=0&&t<=0&&r<=0||(e+=g1(Lv(r)+t)*864e5,t=0,r=0),n.milliseconds=e%1e3,a=Mr(e/1e3),n.seconds=a%60,i=Mr(a/60),n.minutes=i%60,o=Mr(i/60),n.hours=o%24,t+=Mr(o/24),u=Mr(LT(t)),r+=u,t-=g1(Lv(u)),s=Mr(r/12),r%=12,n.days=t,n.months=r,n.years=s,this}function LT(e){return e*4800/146097}function Lv(e){return e*146097/4800}function Pq(e){if(!this.isValid())return NaN;var t,r,n=this._milliseconds;if(e=$r(e),e==="month"||e==="quarter"||e==="year")switch(t=this._days+n/864e5,r=this._months+LT(t),e){case"month":return r;case"quarter":return r/3;case"year":return r/12}else switch(t=this._days+Math.round(Lv(this._months)),e){case"week":return t/7+n/6048e5;case"day":return t+n/864e5;case"hour":return t*24+n/36e5;case"minute":return t*1440+n/6e4;case"second":return t*86400+n/1e3;case"millisecond":return Math.floor(t*864e5)+n;default:throw new Error("Unknown unit "+e)}}function da(e){return function(){return this.as(e)}}var $T=da("ms"),Aq=da("s"),Oq=da("m"),Rq=da("h"),Lq=da("d"),$q=da("w"),Nq=da("M"),Iq=da("Q"),Bq=da("y"),Fq=$T;function zq(){return tn(this)}function Yq(e){return e=$r(e),this.isValid()?this[e+"s"]():NaN}function Ri(e){return function(){return this.isValid()?this._data[e]:NaN}}var qq=Ri("milliseconds"),Vq=Ri("seconds"),Wq=Ri("minutes"),Uq=Ri("hours"),Hq=Ri("days"),Gq=Ri("months"),Xq=Ri("years");function Kq(){return Mr(this.days()/7)}var Fn=Math.round,Qi={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function Zq(e,t,r,n,a){return a.relativeTime(t||1,!!r,e,n)}function Qq(e,t,r,n){var a=tn(e).abs(),i=Fn(a.as("s")),o=Fn(a.as("m")),s=Fn(a.as("h")),u=Fn(a.as("d")),l=Fn(a.as("M")),f=Fn(a.as("w")),c=Fn(a.as("y")),d=i<=r.ss&&["s",i]||i<r.s&&["ss",i]||o<=1&&["m"]||o<r.m&&["mm",o]||s<=1&&["h"]||s<r.h&&["hh",s]||u<=1&&["d"]||u<r.d&&["dd",u];return r.w!=null&&(d=d||f<=1&&["w"]||f<r.w&&["ww",f]),d=d||l<=1&&["M"]||l<r.M&&["MM",l]||c<=1&&["y"]||["yy",c],d[2]=t,d[3]=+e>0,d[4]=n,Zq.apply(null,d)}function jq(e){return e===void 0?Fn:typeof e=="function"?(Fn=e,!0):!1}function Jq(e,t){return Qi[e]===void 0?!1:t===void 0?Qi[e]:(Qi[e]=t,e==="s"&&(Qi.ss=t-1),!0)}function eV(e,t){if(!this.isValid())return this.localeData().invalidDate();var r=!1,n=Qi,a,i;return typeof e=="object"&&(t=e,e=!1),typeof e=="boolean"&&(r=e),typeof t=="object"&&(n=Object.assign({},Qi,t),t.s!=null&&t.ss==null&&(n.ss=t.s-1)),a=this.localeData(),i=Qq(this,!r,n,a),r&&(i=a.pastFuture(+this,i)),a.postformat(i)}var ch=Math.abs;function Vi(e){return(e>0)-(e<0)||+e}function Qc(){if(!this.isValid())return this.localeData().invalidDate();var e=ch(this._milliseconds)/1e3,t=ch(this._days),r=ch(this._months),n,a,i,o,s=this.asSeconds(),u,l,f,c;return s?(n=Mr(e/60),a=Mr(n/60),e%=60,n%=60,i=Mr(r/12),r%=12,o=e?e.toFixed(3).replace(/\.?0+$/,""):"",u=s<0?"-":"",l=Vi(this._months)!==Vi(s)?"-":"",f=Vi(this._days)!==Vi(s)?"-":"",c=Vi(this._milliseconds)!==Vi(s)?"-":"",u+"P"+(i?l+i+"Y":"")+(r?l+r+"M":"")+(t?f+t+"D":"")+(a||n||e?"T":"")+(a?c+a+"H":"")+(n?c+n+"M":"")+(e?c+o+"S":"")):"P0D"}var Ie=Kc.prototype;Ie.isValid=Gz;Ie.abs=kq;Ie.add=Cq;Ie.subtract=Dq;Ie.as=Pq;Ie.asMilliseconds=$T;Ie.asSeconds=Aq;Ie.asMinutes=Oq;Ie.asHours=Rq;Ie.asDays=Lq;Ie.asWeeks=$q;Ie.asMonths=Nq;Ie.asQuarters=Iq;Ie.asYears=Bq;Ie.valueOf=Fq;Ie._bubble=_q;Ie.clone=zq;Ie.get=Yq;Ie.milliseconds=qq;Ie.seconds=Vq;Ie.minutes=Wq;Ie.hours=Uq;Ie.days=Hq;Ie.weeks=Kq;Ie.months=Gq;Ie.years=Xq;Ie.humanize=eV;Ie.toISOString=Qc;Ie.toString=Qc;Ie.toJSON=Qc;Ie.locale=ST;Ie.localeData=TT;Ie.toIsoString=Lr("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Qc);Ie.lang=ET;be("X",0,0,"unix");be("x",0,0,"valueOf");he("x",Uc);he("X",xF);je("X",function(e,t,r){r._d=new Date(parseFloat(e)*1e3)});je("x",function(e,t,r){r._d=new Date($e(e))});//! moment.js
de.version="2.30.1";tF(ot);de.fn=ae;de.min=Vz;de.max=Wz;de.now=Uz;de.utc=Cn;de.unix=bq;de.months=xq;de.isDate=Fu;de.locale=Ma;de.invalid=Yc;de.duration=tn;de.isMoment=jr;de.weekdays=Eq;de.parseZone=wq;de.localeData=ca;de.isDuration=Vl;de.monthsShort=Sq;de.weekdaysMin=Mq;de.defineLocale=Tp;de.updateLocale=wz;de.locales=xz;de.weekdaysShort=Tq;de.normalizeUnits=$r;de.relativeTimeRounding=jq;de.relativeTimeThreshold=Jq;de.calendarFormat=pY;de.prototype=ae;de.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};export{GT as B,Tn as M,wD as P,w1 as R,fA as S,eF as T,JB as a,rS as b,tr as c,_i as d,iV as e,Pi as f,sV as g,de as h,Pa as i,oV as j,uV as k,Qv as l,_8 as m,Sf as n,fx as o,jS as p,bP as q,cS as r,GP as s};
