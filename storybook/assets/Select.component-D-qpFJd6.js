import{j as t}from"./jsx-runtime-CLpGMVip.js";import{r as e}from"./index-BBGmM4Ve.js";import{u as M,a as _,o as E,f as A,d as D,e as U,q as V,c as z,b as B,g as G,F as H,i as J,v as K,m as Q}from"./floating-ui.react-40E8SCbq.js";import{c as y}from"./moment-CGDQJbyj.js";const R=e.createContext({});function W({labelClassName:u,listClassName:i,children:p,onChange:c,value:m=null}){const[r,d]=e.useState(!1),[n,a]=e.useState(null),[s,f]=e.useState(null),[g,N]=e.useState(m),{refs:b,floatingStyles:j,context:l}=M({placement:"bottom-end",open:r,onOpenChange:d,whileElementsMounted:_,middleware:[E(5),A()]}),I=e.useRef([]),x=e.useRef([]),h=e.useCallback(o=>{if(f(o),d(!1),o!==null){const v=x.current[o];N(v),c&&v&&c(v)}},[c]);function C(o){r?a(o):h(o)}const F=D(l,{listRef:I,activeIndex:n,selectedIndex:s,onNavigate:a}),T=U(l,{listRef:x,activeIndex:n,selectedIndex:s,onMatch:C}),q=V(l),L=z(l),w=B(l,{role:"listbox"}),{getReferenceProps:O,getFloatingProps:P,getItemProps:S}=G([F,T,q,L,w]),k=e.useMemo(()=>({activeIndex:n,selectedIndex:s,selectedLabel:g,getItemProps:S,handleSelect:h}),[n,s,g,S,h]);return t.jsxs(t.Fragment,{children:[t.jsx("div",{tabIndex:0,ref:b.setReference,"aria-labelledby":"select-label","aria-autocomplete":"none",className:y("inline-block select-none outline-none",u),...O(),children:g??"Select..."}),t.jsx(R.Provider,{value:k,children:r&&t.jsx(H,{children:t.jsx(J,{context:l,modal:!1,children:t.jsx("div",{ref:b.setFloating,className:y("flex flex-col outline-none",i),style:j,...P(),children:t.jsx(K,{elementsRef:I,labelsRef:x,children:p})})})})})]})}function X({className:u,label:i}){const{activeIndex:p,selectedIndex:c,selectedLabel:m,getItemProps:r,handleSelect:d}=e.useContext(R),{ref:n,index:a}=Q({label:i}),s=p===a,f=m===i||c===a;return t.jsx("button",{ref:n,role:"option",className:y("outline-none",u),"aria-selected":f,"aria-active":s,tabIndex:s?0:-1,...r({onClick:()=>d(a)}),children:i})}W.__docgenInfo={description:"",methods:[],displayName:"Select",props:{labelClassName:{required:!1,tsType:{name:"string"},description:""},listClassName:{required:!1,tsType:{name:"string"},description:""},children:{required:!0,tsType:{name:"ReactReactNode",raw:"React.ReactNode"},description:""},value:{required:!1,tsType:{name:"union",raw:"string | null",elements:[{name:"string"},{name:"null"}]},description:"",defaultValue:{value:"null",computed:!1}},onChange:{required:!1,tsType:{name:"signature",type:"function",raw:"(value: string) => void",signature:{arguments:[{type:{name:"string"},name:"value"}],return:{name:"void"}}},description:""}}};X.__docgenInfo={description:"",methods:[],displayName:"Option",props:{className:{required:!1,tsType:{name:"string"},description:""},label:{required:!0,tsType:{name:"string"},description:""}}};export{X as O,W as S};
